---
title: "需要予測の設定"
description: "このトピックでは、需要予測の準備として実行する必要のある設定タスクについて説明します。"
author: roxanadiaconu
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
ms.search.form: ReqDemPlanDefaultAlgorithmParameters, ReqDemPlanForecastParameters
audience: Application User
ms.reviewer: yuyus
ms.search.scope: Core, AX 7.0.0, Operations, UnifiedOperations
ms.custom: 72653
ms.assetid: c5fa4b09-512d-4349-ac51-cc13da69a160
ms.search.region: global
ms.search.industry: Manufacturing
ms.author: roxanad
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: Human Translation
ms.sourcegitcommit: 663da58ef01b705c0c984fbfd3fce8bc31be04c6
ms.openlocfilehash: 905794e39933c9788a7ff5247807baf0ebb807d8
ms.contentlocale: ja-jp
ms.lasthandoff: 08/29/2017

---

# <a name="demand-forecasting-setup"></a><span data-ttu-id="d7c36-103">需要予測の設定</span><span class="sxs-lookup"><span data-stu-id="d7c36-103">Demand forecasting setup</span></span>

[!include[banner](../includes/banner.md)]


<span data-ttu-id="d7c36-104">このトピックでは、需要予測の準備として実行する必要のある設定タスクについて説明します。</span><span class="sxs-lookup"><span data-stu-id="d7c36-104">This topic describes the setup tasks that you must perform to prepare for demand forecasting.</span></span>  

<span data-ttu-id="d7c36-105">これらの設定作業には、次のデータとパラメーターの設定が含まれています。</span><span class="sxs-lookup"><span data-stu-id="d7c36-105">The setup tasks include setting up the following data and parameters.</span></span>

## <a name="item-allocation-key"></a><span data-ttu-id="d7c36-106">品目配賦キー</span><span class="sxs-lookup"><span data-stu-id="d7c36-106">Item allocation key</span></span>
<span data-ttu-id="d7c36-107">需要予測は、品目が品目配賦キーの一部である場合にのみ品目と分析コードで計算されます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-107">A demand forecast is calculated for an item and its dimensions only if the item is part of an item allocation key.</span></span> <span data-ttu-id="d7c36-108">このルールは、大量の品目をグループ化するために適用され、需要予測を迅速に作成できるようにします。</span><span class="sxs-lookup"><span data-stu-id="d7c36-108">This rule is enforced to group large numbers of items, so that demand forecasts can be created more quickly.</span></span> <span data-ttu-id="d7c36-109">品目配賦キーの割合は需要予測が生成されたときは無視されます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-109">The item allocation key percentage is ignored when demand forecasts are generated.</span></span> <span data-ttu-id="d7c36-110">予測は、履歴データのみに基づいて作成されます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-110">Forecasts are created based on historical data only.</span></span> 

<span data-ttu-id="d7c36-111">品目配賦キーが予測の作成時に使用される場合、品目および分析コードは、一つの品目配賦キーのみの一部である必要があります。</span><span class="sxs-lookup"><span data-stu-id="d7c36-111">An item and its dimensions must be part of only one item allocation key if the item allocation key is used during forecast creation.</span></span> 

<span data-ttu-id="d7c36-112">品目配賦キーに最小在庫管理単位 (SKU) を追加するには、[**マスター プラン**] &gt; [**設定**] &gt; [**需要予測**] &gt; [**品目配賦キー**] に移動します。</span><span class="sxs-lookup"><span data-stu-id="d7c36-112">To add a stock keeping unit (SKU) to an item allocation key, go to **Master planning** &gt; **Setup** &gt; **Demand forecasting** &gt; **Item allocation keys**.</span></span> <span data-ttu-id="d7c36-113">[**品目の割り当て**] ページを使用して、品目を配賦キーに割り当てます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-113">Use the **Assign items** page to assign an item to an allocation key.</span></span>

## <a name="intercompany-planning-groups"></a><span data-ttu-id="d7c36-114">会社間計画グループ</span><span class="sxs-lookup"><span data-stu-id="d7c36-114">Intercompany planning groups</span></span>
<span data-ttu-id="d7c36-115">需要予測は会社間予測を生成します。</span><span class="sxs-lookup"><span data-stu-id="d7c36-115">Demand forecasting generates cross-company forecasts.</span></span> <span data-ttu-id="d7c36-116">Microsoft Dynamics 365 for Finance and Operations では、まとめて計画された会社は 1 つの会社間計画グループにグループ化されます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-116">In Microsoft Dynamics 365 for Finance and Operations, companies that are planned together are grouped into one intercompany planning group.</span></span> <span data-ttu-id="d7c36-117">需要予測と見なされる品目配賦キーを会社ごとに指定するには、[**マスター プラン**] &gt; [**設定**] &gt; [**会社間計画グループ**] の順に移動して、品目配賦キーを会社間計画グループのメンバーに関連付けます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-117">To specify, per company, which item allocation keys should be considered for demand forecasting, associate an item allocation key with the intercompany planning group member by going to **Master planning** &gt; **Setup** &gt; **Intercompany planning groups**.</span></span> 

<span data-ttu-id="d7c36-118">既定では、品目配賦キーが会社間計画グループのメンバーに割り当てられない場合、需要予測は、すべての Finance and Operations 会社からのすべての品目配賦キーに割り当てられたすべての品目について計算されます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-118">By default, if no item allocation keys are assigned to intercompany planning group members, a demand forecast is calculated for all items that are assigned to all item allocation keys from all Finance and Operations companies.</span></span> <span data-ttu-id="d7c36-119">会社および品目配賦キーの追加のフィルタ処理オプションは、[**統計ベースライン予測の生成**] ページで使用できます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-119">Additional filtering options for companies and item allocation keys are available on the **Generate statistical baseline forecast** page.</span></span> 

<span data-ttu-id="d7c36-120">予測される品目の数を確認してください。</span><span class="sxs-lookup"><span data-stu-id="d7c36-120">Review the number of items that are forecasted.</span></span> <span data-ttu-id="d7c36-121">Microsoft Azure Machine Learning を使用する場合、不要な品目によって原価が上昇する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d7c36-121">Unnecessary items might cause increased costs when you use Microsoft Azure Machine Learning.</span></span>

## <a name="demand-forecasting-parameters"></a><span data-ttu-id="d7c36-122">需要予測パラメーター</span><span class="sxs-lookup"><span data-stu-id="d7c36-122">Demand forecasting parameters</span></span>
<span data-ttu-id="d7c36-123">需要予測のパラメーターを設定するには、[**マスター プラン**] &gt; [**設定**] &gt; [**需要予測のパラメーター**] の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="d7c36-123">To set up demand forecasting parameters, go to **Master planning** &gt; **Setup** &gt; **Demand forecasting parameters**.</span></span> <span data-ttu-id="d7c36-124">需要予測が会社間で実行されるため、設定はグローバルです。</span><span class="sxs-lookup"><span data-stu-id="d7c36-124">Because demand forecasting runs cross-company, the setup is global.</span></span> <span data-ttu-id="d7c36-125">つまり、設定はすべての会社に適用されます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-125">In other words, the setup applies to all companies.</span></span> 

<span data-ttu-id="d7c36-126">需要予測は予測数量を生成します。</span><span class="sxs-lookup"><span data-stu-id="d7c36-126">Demand forecasting generates the forecast in quantities.</span></span> <span data-ttu-id="d7c36-127">そのため、数量が表す測定単位は [**需要予測の単位**] フィールドで指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d7c36-127">Therefore, the unit of measure that the quantity should be expressed in must be specified in the **Demand forecast unit** field.</span></span> <span data-ttu-id="d7c36-128">集約およびパーセント配分が意味をなすものであることを保証するために、測定単位は一意である必要があります。</span><span class="sxs-lookup"><span data-stu-id="d7c36-128">The unit of measure must be unique, to help guarantee that the aggregation and percentage distribution make sense.</span></span> <span data-ttu-id="d7c36-129">集計およびパーセント配分の詳細については、「[ベースライン予測に対して手動調整を行う](manual-adjustments-baseline-forecast.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d7c36-129">For more information about aggregation and percentage distribution, see [Make manual adjustments to the baseline forecast](manual-adjustments-baseline-forecast.md).</span></span> <span data-ttu-id="d7c36-130">需要予測に含まれる SKU で使用されるすべての測定単位については、測定単位および一般的な予測の測定単位の変換ルールがあることを確認します。</span><span class="sxs-lookup"><span data-stu-id="d7c36-130">For every unit of measure that is used for SKUs that are included in demand forecasting, make sure that there is a conversion rule for the unit of measure and the general forecasting unit of measure.</span></span> <span data-ttu-id="d7c36-131">予測の生成が実行されると、測定単位換算がない品目の一覧が記録されるので、簡単に設定を修正できます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-131">When forecast generation is run, the list of items that don't have a unit of measure conversion is logged, so that you can easily correct the setup.</span></span> 

<span data-ttu-id="d7c36-132">需要予測は、依存要求と独立要求の両方を予測する場合に使用できます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-132">Demand forecasting can be used to forecast both dependent and independent demand.</span></span> <span data-ttu-id="d7c36-133">たとえば、[**販売注文**] チェック ボックスがオンになっていて、需要予測の対象と見なされるすべての品目が販売される品目である場合にのみ、システムは独立した要求を計算します。</span><span class="sxs-lookup"><span data-stu-id="d7c36-133">For example, if only the **Sales order** check box is selected, and if all the items that are considered for demand forecasting are items that are sold, the system calculates independent demand.</span></span> <span data-ttu-id="d7c36-134">ただし、重要なサブコンポーネントは品目配賦キーに追加および需要予測に含めることができます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-134">However, critical subcomponents can be added to item allocation keys and included in demand forecasting.</span></span> <span data-ttu-id="d7c36-135">この場合、[**生産明細**] チェック ボックスがオンであるなら、依存予測が計算されます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-135">In this case, if the **Production line** check box is selected, a dependent forecast is calculated.</span></span> 

<span data-ttu-id="d7c36-136">Finance and Operations で予測されるベースラインを作成するための 2 つの方法があります。</span><span class="sxs-lookup"><span data-stu-id="d7c36-136">There are two methods for creating a baseline forecast in Finance and Operations.</span></span> <span data-ttu-id="d7c36-137">履歴データの先頭に予測モデルを使用または履歴データを予測にコピーできます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-137">You can use forecasting models on top of historical data, or you can just copy over the historical data to the forecast.</span></span> <span data-ttu-id="d7c36-138">[**予測生成戦略**] フィールドでは、これら 2 つの方法を選択することができます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-138">The **Forecast generation strategy** field lets you select between these two methods.</span></span> <span data-ttu-id="d7c36-139">予測モデルを使用するには、[**Azure Machine Learning**] を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7c36-139">To use forecast models, select **Azure Machine Learning**.</span></span> 

<span data-ttu-id="d7c36-140">**需要予測のパラメーター**ページの左ウィンドウにある [**予測分析コード**] をクリックして、需要予測を生成するときに使用する予測分析コードのセットを選択することもできます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-140">By clicking **Forecast dimensions** in the left pane of the **Demand forecasting parameters** page, you can also select the set of forecast dimensions to use when the demand forecast is generated.</span></span> <span data-ttu-id="d7c36-141">予測分析コードは、予測が定義される詳細レベルを示します。</span><span class="sxs-lookup"><span data-stu-id="d7c36-141">A forecast dimension indicates the level of detail that the forecast is defined for.</span></span> <span data-ttu-id="d7c36-142">会社、サイト、品目配賦キーは必須の予測分析コードですが、倉庫、在庫状態、顧客グループ、顧客 ID、国/地域、都道府県、およびすべての品目分析コードのレベルで予測を生成することもできます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-142">Company, site, and item allocation key are mandatory forecast dimensions, but you can also generate forecasts at the warehouse, inventory status, customer group, customer account, country/region, state, and item plus all item dimension levels.</span></span> 

<span data-ttu-id="d7c36-143">予測の分析コードを、需要予測に使用される分析コードの一覧にいつでも追加できます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-143">At any point, you can add forecast dimensions to the list of dimensions that are used for demand forecasting.</span></span> <span data-ttu-id="d7c36-144">予測分析コードを一覧から削除することもできます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-144">You can also remove forecast dimensions from the list.</span></span> <span data-ttu-id="d7c36-145">ただし、手動調整は、予測分析コードを追加、または削除すると失われます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-145">However, manual adjustments are lost if you add or remove a forecast dimension.</span></span> 

<span data-ttu-id="d7c36-146">需要予測の観点からみてすべての品目は同じ方法で動作しません。</span><span class="sxs-lookup"><span data-stu-id="d7c36-146">Not all items behave in the same manner from a demand forecasting perspective.</span></span> <span data-ttu-id="d7c36-147">同様の品目は、一つの品目配賦キーおよびトランザクション タイプなどのパラメーターにグループ化でき、予測方法の設定は品目配賦キーごとに設定できます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-147">Similar items can be grouped in one item allocation key, and parameters such as transaction types and forecast method settings can be set per item allocation key.</span></span> <span data-ttu-id="d7c36-148">[**需要予測パラメーター**] ページの左ウィンドウにある [**品目配賦キー**] をクリックします。</span><span class="sxs-lookup"><span data-stu-id="d7c36-148">Click **Item allocation keys** in the left pane of the **Demand forecasting parameters** page.</span></span> 

<span data-ttu-id="d7c36-149">予測を生成する場合、Finance and Operations では、Machine Learning Web サービスを使用します。</span><span class="sxs-lookup"><span data-stu-id="d7c36-149">To generate the forecast, Finance and Operations uses a Machine Learning web service.</span></span> <span data-ttu-id="d7c36-150">サービスに接続する場合、Microsoft Azure Machine Learning Studio にサインインしたら、Finance and Operations に次の情報を提供する必要があります:</span><span class="sxs-lookup"><span data-stu-id="d7c36-150">To connect to the service, you must provide Finance and Operations the following information if you sign in to Microsoft Azure Machine Learning Studio:</span></span>

-   <span data-ttu-id="d7c36-151">Web サービス アプリケーション プログラミング インターフェイス (API) キー</span><span class="sxs-lookup"><span data-stu-id="d7c36-151">Web service application programming interface (API) key</span></span>
-   <span data-ttu-id="d7c36-152">Web サービス エンドポイント URL</span><span class="sxs-lookup"><span data-stu-id="d7c36-152">Web service endpoint URL</span></span>
-   <span data-ttu-id="d7c36-153">Azure ストレージ アカウント名</span><span class="sxs-lookup"><span data-stu-id="d7c36-153">Azure storage account name</span></span>
-   <span data-ttu-id="d7c36-154">Azure ストレージ アカウント キー</span><span class="sxs-lookup"><span data-stu-id="d7c36-154">Azure storage account key</span></span>

<span data-ttu-id="d7c36-155">**注:** カスタム ストレージ アカウントを使用している場合にのみ、Azure ストレージ アカウントの名前とキーが必要です。</span><span class="sxs-lookup"><span data-stu-id="d7c36-155">**Note:** The Azure storage account name and key are required only if you use a custom storage account.</span></span> <span data-ttu-id="d7c36-156">オンプレミス バージョンを展開する場合、Machine Learning サービスを履歴データにアクセスできるようにするため、Azure のカスタム ストレージ アカウントが必要です。</span><span class="sxs-lookup"><span data-stu-id="d7c36-156">If you deploy the on-premises version, you must have a custom storage account on Azure, so that the Machine Learning service can access the historical data.</span></span> 

<span data-ttu-id="d7c36-157">要求予測を作成する場合、Machine Learning Studio または Finance and Operations の需要予測実験を使用して自分のサービスを配置できます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-157">To create demand predictions, you can deploy your own service by using Machine Learning Studio or the Finance and Operations demand forecasting experiments.</span></span> <span data-ttu-id="d7c36-158">Finance and Operations の需要予測実験を Web サービスとして展開するための手順は、Finance and Operations で入手可能です。</span><span class="sxs-lookup"><span data-stu-id="d7c36-158">Instructions for deploying the Finance and Operations demand forecasting experiments as a web service are available Finance and Operations.</span></span> <span data-ttu-id="d7c36-159">[**需要予測パラメーター**] ページで、[**Azure Machine Learning**] タブをクリックします。</span><span class="sxs-lookup"><span data-stu-id="d7c36-159">On the **Demand forecasting parameters** page, click the **Azure Machine Learning** tab.</span></span>

## <a name="settings-for-the-finance-and-operations-demand-forecasting-machine-learning-service"></a><span data-ttu-id="d7c36-160">Finance and Operations の需要予測 Machine Learning サービスの設定</span><span class="sxs-lookup"><span data-stu-id="d7c36-160">Settings for the Finance and Operations demand forecasting machine learning service</span></span>
<span data-ttu-id="d7c36-161">Finance and Operations の需要予測サービスでコンフィギュレーションできるパラメーターを表示するには、[**マスター プラン**] &gt; [**設定**] &gt; [**需要予測**] &gt; [**予測アルゴリズム パラメーター**] の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="d7c36-161">To view the parameters that can be configured for the Finance and Operations demand forecasting service, go to **Master Planning** &gt; **Setup** &gt; **Demand forecasting** &gt; **Forecasting algorithm parameters**.</span></span> <span data-ttu-id="d7c36-162">[**予測アルゴリズム パラメーター**] ページでは、パラメーターの既定値を示します。</span><span class="sxs-lookup"><span data-stu-id="d7c36-162">The **Forecasting algorithm parameters** page shows the default values for the parameters.</span></span> <span data-ttu-id="d7c36-163">これらのパラメーターを [**需要予測パラメーター**] ページで上書きできます。</span><span class="sxs-lookup"><span data-stu-id="d7c36-163">You can overwrite these parameters on the **Demand forecasting parameters** page.</span></span> <span data-ttu-id="d7c36-164">[**一般**] タブを使用してパラメーターをグローバルに上書きするか、[**品目配賦キー**] タブを使用して品目配賦キーごとにパラメーターを上書きします。</span><span class="sxs-lookup"><span data-stu-id="d7c36-164">Use the **General** tab to overwrite the parameters globally, or use the **Item allocation keys** tab to overwrite the parameters per item allocation key.</span></span> <span data-ttu-id="d7c36-165">品目配賦キーで上書きされるパラメーターの影響を受けるのは、その品目配賦キーによって関連付けられる品目の予測のみです。</span><span class="sxs-lookup"><span data-stu-id="d7c36-165">Parameters that are overwritten for an item allocation key affect only the forecast of items that are associated with that item allocation key.</span></span>

<a name="see-also"></a><span data-ttu-id="d7c36-166">参照</span><span class="sxs-lookup"><span data-stu-id="d7c36-166">See also</span></span>
--------

[<span data-ttu-id="d7c36-167">需要予測の概要</span><span class="sxs-lookup"><span data-stu-id="d7c36-167">Introduction to demand forecasting</span></span>](introduction-demand-forecasting.md)

[<span data-ttu-id="d7c36-168">統計ベースライン予測の生成</span><span class="sxs-lookup"><span data-stu-id="d7c36-168">Generating a statistical baseline forecast</span></span>](generate-statistical-baseline-forecast.md)

[<span data-ttu-id="d7c36-169">ベースライン予測の手動調整の実施</span><span class="sxs-lookup"><span data-stu-id="d7c36-169">Making manual adjustments to the baseline forecast</span></span>](manual-adjustments-baseline-forecast.md)





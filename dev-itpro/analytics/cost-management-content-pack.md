---
title: "原価管理 Power BI コンテンツ"
description: "このトピックでは、原価管理 Power BI コンテンツの内容について説明します。 Power BI レポートにアクセスする方法を説明し、コンテンツを作成するために使用するデータ モデルおよびエンティティについての情報を提供します。"
author: YuyuScheller
manager: AnnBe
ms.date: 04/04/2017
ms.topic: article
ms.prod: 
ms.service: Dynamics365Operations
ms.technology: 
audience: Application User, IT Pro
ms.search.scope: AX 7.0.0, Operations
ms.custom: 270314
ms.assetid: 9680d977-43c8-47a7-966d-2280ba21402a
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: yuyus
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: Human Translation
ms.sourcegitcommit: fd3392eba3a394bd4b92112093c1f1f9b894426d
ms.openlocfilehash: 50889ffbbbc44d966081d60e5d631bd17476b6df
ms.contentlocale: ja-jp
ms.lasthandoff: 04/25/2017


---

# <a name="cost-management-power-bi-content"></a>原価管理 Power BI コンテンツ

[!include[banner](../includes/banner.md)]


このトピックでは、原価管理 Power BI コンテンツの内容について説明します。 Power BI レポートにアクセスする方法を説明し、コンテンツを作成するために使用するデータ モデルおよびエンティティについての情報を提供します。

# <a name="overview"></a>概要

**原価管理** Microsoft Power BI コンテンツは、在庫経理担当者または組織内で在庫を担当する人物を対象としています。 **原価管理** Power BI コンテンツでは、在庫および仕掛品 (WIP) 在庫の管理上の情報、および時間経過に伴ってカテゴリごとに原価がどのように流れているかを示します。 この情報は、財務諸表の詳細な補足情報として使用できます。

## <a name="key-measures"></a>主なメジャー

+ 期首残高
+ 期末残高
+ 差分変更
+ 差分変更 (%)
+ エイジング

## <a name="key-performance-indicators"></a>主要業績評価指標
+ 在庫回転
+ 在庫の正確性

CostAggregatedCostStatementEntryEntity のプライマリ データ ソースは CostStatementCache テーブルです。 この表は、データ セット キャッシュ フレームワークで管理されます。 既定では、テーブルは 24 時間ごとに更新されますが、データ キャッシュのコンフィギュレーションで手動更新を有効にできます。 [**原価管理**] または [**コスト分析**] ワークスペースで手動更新を行うことができます。 CostStatementCache の更新の実行後、サイトで更新されたデータを表示するには Power BI.com の OData 接続を更新する必要があります。 この Power BI コンテンツの差異 (購買、製造) のメジャーは標準原価在庫方式によって評価される品目にのみ関連します。 製造差異は有効な原価と実現原価の差額として計算されます。 製造差異は、製造オーダーに [**終了**] のステータスがあるときに計算されます。 製造差異タイプおよび各タイプの計算方法の詳細については、「[完了した製造オーダーの差異の分析について](https://technet.microsoft.com/en-us/library/gg242850.aspx)」を参照してください。

## <a name="accessing-the-power-bi-content"></a>Power BI コンテンツへのアクセス
**原価管理** Power BI コンテンツは PowerBI.com から使用できます。 Microsoft Dynamics 365 for Operations データの接続および読み込む方法の詳細については、「[PowerBI.com からの Power BI コンテンツへのアクセス](power-bi-home-page.md)」を参照してください。

## <a name="metrics-that-are-included-in-the-power-bi-content"></a>Power BI コンテンツに含まれるメトリックス
コンテンツには、レポートのページ一式が含まれます。 各ページは、グラフ、タイル、テーブルとして視覚化される一連のメトリックスで構成されています。 次の表に、**原価管理** Power BI コンテンツの表示の概要を示します。

| レポート ページ | グラフ | タイトル |
|---|---|---|
|在庫全体 (現在の期間で既定) |正確性 |在庫メジャー:<br>在庫期末残高<br>在庫差分変更<br>在庫差分変更 %<br>|
| |在庫回転 | |
| |リソース グループごとの在庫期末残高 | |
| |カテゴリ名レベル 1、カテゴリ名レベル 2 での在庫差分変更| |
| |リソース グループとカテゴリ名レベル 3 での購買差異 | |
|サイトごとの在庫 (現在の期間で既定) |サイト名およびリソース グループでの在庫期末残高 | |
| |サイト名およびリソース グループでの在庫回転 | |
| |市町村およびリソース グループでの在庫期末残高 | |
|リソース グループごとの在庫 (現在の期間で既定) |在庫メジャー | |
| |リソース グループごとの金額による在庫の正確性 | |
| |リソース グループごとの金額による在庫回転 | |
|在庫 YOY (既定は今年度対前年度) |在庫メジャー | |
| |在庫 KPI:<br>在庫回転<br>在庫の正確性 | |
| |年度およびリソース グループでの在庫期末残高 | |
| |年度とカテゴリ名レベル 3 での購買差異 | |
|在庫エイジング (今年度で既定) |四半期およびリソース グループでの在庫エイジング | |
| |四半期およびサイト名での在庫エイジング | |
|仕掛品全体 (現在の期間で既定) |カテゴリ名レベル 1、カテゴリ名レベル 2 での仕掛品差分変更 |仕掛品メジャー:<br>仕掛品期末残高<br>仕掛品差分変更<br>仕掛品差分変更 %<br> |
| |リソース グループとカテゴリ名レベル 3 での製造差異 | |
| |リソース グループごとの仕掛品差分変更 | |
|サイトごとの仕掛品 (現在の期間で既定) |仕掛品メジャー | |
| |サイト名とカテゴリ名レベル 2 での仕掛品差分変更 | |
| |サイト名とカテゴリ名レベル 3 での製造差異 | |

## <a name="understanding-the-data-model-and-entities"></a>データ モデルおよびエンティティの理解
Dynamics 365 for Operations データは、**原価管理** Power BI コンテンツのレポート ページに入力するために使用されます。 このデータは、分析用に最適化された Microsoft SQL データベースであるエンティティ格納でステージ完了である集計の測定として表されます。 詳細については、「[エンティティ ストアとの Power BI の統合](power-bi-integration-entity-store.md)」を参照してください。 以下のキー集計の測定は、コンテンツの基準として使用されます。

| エンティティ            | キー集計の測定 | Dynamics 365 for Operations のデータ ソース | フィールド             | 説明                       |
|-------------------|---------------------------|---------------------------------------------|-------------------|-----------------------------------|
| 明細書エントリ | 差分変更                | CostAggregatedCostStatementEntryEntity      | sum(\[金額\])   | 会計通貨での金額 |
| 明細書エントリ | 差分変更数量       | CostAggregatedCostStatementEntryEntity      | sum(\[数量\]) |                                   |

次の表は、コンテンツのデータセットで複数の計算メジャーを作成するためのキー集計の測定の使用方法を示します。

| 基準                                 | 測定の計算方法                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|-----------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 期首残高                       | \[期末残高\]-\[差分変更\]                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 期首残高数量              | \[期末残高数量\]-\[差分変更数量\]                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 期末残高                          | CALCULATE(SUM(\[金額\]), FILTER(ALLEXCEPT('会計カレンダー', '会計カレンダー'\[LedgerRecId\], 'エントリ'\[ID\], 'エントリ'\[名前 \], '元帳'\[通貨\], '元帳'\[説明\], '元帳'\[名前\]), '会計カレンダー'\[日付\] &lt;= MAX('会計カレンダー'\[日付\])))                                                                                                                                                                                           |
| 期末残高数量                 | CALCULATE(SUM(\[数量\]), FILTER(ALLEXCEPT('会計カレンダー', '会計カレンダー'\[LedgerRecId\], 'エントリ'\[ID\], 'エントリ'\[名前 \], '元帳'\[通貨\], '元帳'\[説明\], '元帳'\[名前\]), '会計カレンダー'\[日付\] &lt;= MAX('会計カレンダー'\[日付\])))                                                                                                                                                                                         |
| 在庫期首残高             | CALCULATE(\[期首残高\], '明細書エントリ'\[明細書タイプ\] = "Inventory")                                                                                                                                                                                                                                                                                                                                                                                      |
| 在庫期末残高                | CALCULATE(\[期末残高\], '明細書エントリ'\[明細書タイプ\] = "Inventory")                                                                                                                                                                                                                                                                                                                                                                                         |
| 在庫差分変更                    | CALCULATE(\[差分変更\], '明細書エントリ'\[明細書タイプ\] = "Inventory")                                                                                                                                                                                                                                                                                                                                                                                             |
| 在庫差分変更数量           | CALCULATE(\[差分変更数量\], '明細書エントリ'\[明細書タイプ\] = "Inventory")                                                                                                                                                                                                                                                                                                                                                                                    |
| 在庫差分変更 %                  | IF(\[在庫期末残高\] = 0, 0, \[在庫差分変更\] / \[在庫期末残高\])                                                                                                                                                                                                                                                                                                                                                                           |
| 金額ごとの在庫回転                | if(OR(\[在庫平均残高\] &lt;= 0, \[販売在庫または消費の払出\] &gt;= 0), 0, ABS(\[販売在庫または消費の払出\])/\[在庫平均残高\])                                                                                                                                                                                                                                                                                                  |
| 在庫平均残高               | (\[在庫期末残高\] + \[在庫期首残高\]) / 2                                                                                                                                                                                                                                                                                                                                                                                                       |
| 販売在庫または消費の払出       | \[販売在庫\] + \[在庫消費材料原価\]                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 在庫消費材料原価        | CALCULATE(\[在庫差分変更\], '明細書エントリ'\[カテゴリ名 - レベル 2\_\] = "ConsumedMaterialsCost")                                                                                                                                                                                                                                                                                                                                                            |
| 販売在庫                          | CALCULATE(\[在庫差分変更\], '明細書エントリ'\[カテゴリ名 - レベル 2\_\] = "Sold")                                                                                                                                                                                                                                                                                                                                                                             |
| 金額ごとの在庫の正確性            | IF(\[在庫期末残高\] &lt;= 0, IF(OR(\[在庫棚卸金額\] &lt;&gt; 0, \[在庫期末残高\] &lt; 0), 0, 1), MAX(0, (\[在庫期末残高\] - ABS(\[在庫棚卸金額\]))/\[在庫期末残高\]))                                                                                                                                                                                                                              |
| 在庫棚卸金額                | CALCULATE(\[在庫差分変更\], '明細書エントリ'\[カテゴリ名 - レベル 3\_\] = "Counting")                                                                                                                                                                                                                                                                                                                                                                         |
| 在庫エイジング                         | if(ISBLANK(max('会計カレンダー'\[日付\])), blank(), MAX(0, MIN(\[在庫エイジング受入数量\], \[在庫エイジング期末残高数量\] - \[今後の在庫エイジング受入数量\]))) \* \[在庫平均単位原価\]                                                                                                                                                                                                                                |
| 在庫エイジング受入数量       | IF(\[minDate\] = \[minDateAllSelected\], CALCULATE(\[在庫差分変更数量\], '明細書エントリ'\[数量\] &gt; 0, FILTER(ALLEXCEPT('会計カレンダー', '会計カレンダー'\[LedgerRecId\], 'エントリ'\[ID\], 'エントリ'\[名前\], '元帳'\[通貨\], '元帳'\[説明\], '元帳'\[名前\]), '会計カレンダー'\[日付\] &lt;= MAX('会計カレンダー'\[日付\]))), CALCULATE(\[在庫差分変更数量\], '明細書エントリ'\[数量\] &gt; 0)) |
| 在庫エイジング期末残高数量 | \[在庫期末残高数量\] + CALCULATE(\[在庫差分変更数量\], FILTER(ALLEXCEPT('会計カレンダー', '会計カレンダー'\[LedgerRecId\], 'エントリ'\[ID\], 'エントリ'\[名前\], '元帳'\[通貨\], '元帳'\[説明\], '元帳'\[名前\]), '会計カレンダー'\[日付\] &gt; max('会計カレンダー'\[日付\]) ))                                                                                                                                 |
| 今後の在庫エイジング受入  | CALCULATE(\[在庫差分変更\], '明細書エントリ'\[金額\] &gt; 0, FILTER(ALLEXCEPT('会計カレンダー', '会計カレンダー'\[LedgerRecId\], 'エントリ'\[ID\], 'エントリ'\[名前\], '元帳'\[通貨\], '元帳'\[説明\], '元帳'\[名前\]), '会計カレンダー'\[日付\] &gt; MAX('会計カレンダー'\[日付\])))                                                                                                                                             |
| 在庫平均単位原価                 | CALCULATE(\[在庫期末残高\] / \[在庫期末残高数量\],ALLEXCEPT('会計カレンダー', '会計カレンダー'\[LedgerRecId\], 'エントリ'\[ID\], 'エントリ'\[名前\], '元帳'\[通貨\], '元帳'\[説明\], '元帳'\[名前\]))                                                                                                                                                                                                                 |
| 購買差異                      | CALCULATE(SUM(\[金額\]), '明細書エントリ'\[カテゴリ名 - レベル 2\_\] = "Procured", '明細書エントリ'\[明細書タイプ\] = "Variance")                                                                                                                                                                                                                                                                                                                              |
| 仕掛品期首残高                   | CALCULATE(\[期首残高\], '明細書エントリ'\[明細書タイプ\] = "WIP")                                                                                                                                                                                                                                                                                                                                                                                            |
| 仕掛品期末残高                      | CALCULATE(\[期末残高\], '明細書エントリ'\[明細書タイプ\] = "WIP")                                                                                                                                                                                                                                                                                                                                                                                               |
| 仕掛品差分変更                          | CALCULATE(\[差分変更\], '明細書エントリ'\[明細書タイプ\] = "WIP")                                                                                                                                                                                                                                                                                                                                                                                                   |
| 仕掛品差分変更 %                        | IF(\[仕掛品期末残高\] = 0, 0, \[仕掛品差分変更\] / \[仕掛品期末残高\])                                                                                                                                                                                                                                                                                                                                                                                             |
| 製造差異                    | CALCULATE(SUM(\[金額\]), '明細書エントリ'\[カテゴリ名 - レベル 2\_\] = "ManufacturedCost", '明細書エントリ'\[明細書タイプ\] = "Variance")                                                                                                                                                                                                                                                                                                                      |
| カテゴリ名 - レベル 1                 | switch(\[カテゴリ名 - レベル 1\_\], "None", "なし", "NetSourcing", "正味調達", "NetUsage", "正味使用量", "NetConversionCost", "正味換算原価", "NetCostOfGoodsManufactured", "製造品の正味原価", "BeginningBalance", "期首残高")                                                                                                                                                                                                         |
| カテゴリ名 - レベル 2                 | switch(\[カテゴリ名 - レベル 2\_\], "None", "なし", "Procured", "調達済み", "Disposed", "処分済み", "Transferred", "転送済み", "Sold", "売却済み", "ConsumedMaterialsCost", "消費材料原価", "ConsumedManufacturingCost", "消費された製造原価", "ConsumedOutsourcingCost", "消費された外注費", "ConsumedIndirectCost", "消費された間接原価", "ManufacturedCost", "製造原価", "Variances", "差異")                            |
| カテゴリ名 - レベル 3                 | switch(\[カテゴリ名 - レベル 3\_\], "None", "なし", "Counting", "なし", "ProductionPriceVariance", "生産価格", "QuantityVariance", "数量", "SubstitutionVariance", "代替", "ScrapVariance", "仕損", "LotSizeVariance", "ロット サイズ", "RevaluationVariance", "再評価", "PurchasePriceVariance", "購買価格", "CostChangeVariance", "原価変更", "RoundingVariance", "差異を丸める")                                                   |

以下のキー分析コードは、より高い粒度や深い分析洞察を達成するために集計の測定をスライスするフィルターとして使用されます。

| エンティティ           | 属性の例                       |
|------------------|----------------------------------------------|
| エンティティ         | ID、名前                                     |
| 会計カレンダー | カレンダー、月、期間、四半期、年       |
| KPI 目標        | 在庫の正確性の目標、在庫回転の目標 |
| 元帳          | 通貨、名前、説明                  |
| サイト            | ID、名前、国、市町村                      |

## <a name="additional-resources"></a>追加リソース
エンティティと建物 Power BI の内容に関連する役立つリンクを次に示します:

-   [データ エンティティ](..\data-entities\data-entities.md)
-   [組織のコンテンツ パックの作成](https://powerbi.microsoft.com/en-us/documentation/powerbi-service-organizational-content-packs-introduction/)
-   [Power BI を使用したデータのモデル化](https://powerbi.microsoft.com/en-us/guided-learning/powerbi-learning-2-1-intro-modeling-data)
-   [Power BI タイルをワークスペースへ追加する](configure-power-bi-integration.md)






--- 
title: "電子申告 (ER) のモデル マッピングの構成を管理する"
description: "次のステップでは、「システム管理者」または「電子レポート開発者」ロールに割り当てられたユーザーが、個別の ER コンフィギュレーションの電子申告 (ER) モデル マッピングを管理する方法を説明します。"
author: NickSelin
manager: AnnBe
ms.date: 06/19/2017
ms.topic: business-process
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
audience: Application User
ms.reviewer: kfend
ms.search.scope: Operations
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: f01d88149074b37517d00f03d8f55e1199a5198f
ms.openlocfilehash: 65db27e59ce5f9234eeb486efeb9bb6e9dad40f7
ms.contentlocale: ja-jp
ms.lasthandoff: 07/27/2017

---
# <a name="manage-model-mapping-configurations-for-electronic-reporting-er"></a>電子申告 (ER) のモデル マッピングの構成を管理する

[!include[task guide banner](../../includes/task-guide-banner.md)]

次のステップでは、「システム管理者」または「電子レポート開発者」ロールに割り当てられたユーザーが、個別の ER コンフィギュレーションの電子申告 (ER) モデル マッピングを管理する方法を説明します。 このタスク ガイドでは、サンプル会社 Litware, Inc. 用に、必要な ER コンフィギュレーションを作成します。このタスク ガイドを完了するには、まずタスク ガイド「ER コンフィギュレーション プロバイダーの作成および有効なプロバイダーとしてのマーク付け」にあるステップを完了する必要があります。 

ER コンフィギュレーションは会社間で共有されるので、選択した会社のデータ セットを使用してこのタスク ガイドを完了できます。 このタスク ガイドの機能は、次の修正プログラムのうち 1 つをインストールした場合に使用可能です。Dynamics AX バージョン 7.0 の https://fix.lcs.dynamics.com/Issue/Resolved?kb=4012872 または Dynamics 365 for Operations バージョンの https://fix.lcs.dynamics.com/Issue/Resolved?kb=4012871。

1. [組織管理] > [ワークスペース] > [電子申告] の順に移動します。
    * サンプル会社 Litware, Inc. のコンフィギュレーション プロバイダーが使用可能であり、アクティブとしてマークされていることを確認します。 このコンフィギュレーション プロバイダーが表示されない場合は、タスク ガイド「コンフィギュレーション プロバイダーの作成および有効なプロバイダーとしてのマーク付け」のステップをまず完了する必要があります。   

## <a name="add-a-new-er-model-configuration"></a>新しい ER モデル コンフィギュレーションの追加
1. [コンフィギュレーションをレポートする] をクリックします。
    * 新しいモデル コンフィギュレーションを追加します。 名前は、コンフィギュレーション ツリーで一意である必要があります。  
2. [コンフィギュレーションの作成] をクリックすると、ドロップ ダイアログが開きます。
3. [名前] フィールドに、「サンプル データ モデル」と入力します。
    * サンプルのデータ モデル  
4. [コンフィギュレーションの作成] をクリックします。
5. [デザイナー] をクリックします。
6. [新規] をクリックすると、ドロップ ダイアログが開きます。
7. [名称] のフィールドに、「Root」を入力します。
    * ルート  
8. [追加] をクリックします。
9. [新規] をクリックすると、ドロップ ダイアログが開きます。
10. [名前] フィールドに、「Company」と入力します。
    * 法人  
11. [追加] をクリックします。
12. [説明] フィールドに、「実行時にユーザーがログインした法人または会社の説明」というテキストを入力します。 
    * 実行時にユーザーがログインした法人または会社の説明。  
13. [ルート参照] をクリックします。
14. [OK] をクリックします。
15. [保存] をクリックします。
16. ページを閉じます。
17. [状態の変更] をクリックします。
18. [完了] をクリックします。
19. [OK] をクリックします。

## <a name="add-a-new-er-model-mapping-configuration"></a>新しい ER モデル マッピング コンフィギュレーションを追加する
1. [コンフィギュレーションの作成] をクリックすると、ドロップ ダイアログが開きます。
2. [新規] フィールドで、「データ モデル サンプルのデータ モデルに基づいたモデル マッピング」と入力します。
3. [名前] フィールドで、「サンプルのマッピング」と入力します。
    * サンプルのマッピング  
4. [コンフィギュレーションの作成] をクリックします。
5. [前提条件] セクションを展開します。
    * 実装の前提条件グループが自動的に追加されていることに注意してください。 このグループには、親データ モデル コンフィギュレーションを参照し「実装」としてマークされている、前提条件コンポーネントが含まれています。 つまり、この「サンプル マッピング モデル」マッピング コンフィギュレーションが、「サンプル データ モデル」データ モデルの実装と見なされます。 したがって、「サンプル データ モデル」モデル コンフィギュレーションがダウンロードされるときに、このコンポーネントは強制的に ER に ER リポジトリから「サンプル マッピング」モデル マッピング コンフィギュレーションをダウンロードさせます。   
6. [デザイナー] をクリックします。
    * 作成されたモデル マッピング コンフィギュレーションには、作成されたコンフィギュレーションと同じ名前の新しい空白のマッピングが含まれていることに注意してください。 選択した親モデル コンフィギュレーションにモデル マッピングが含まれている場合、それは新しいモデル マッピング コンフィギュレーションにコピーされるので注意してください。   
7. [デザイナー] をクリックします。
8. ツリーで、[Dynamics 365 for Operations\Table] を選択します。
9. [ルートの追加] をクリックします。
10. [名前] フィールドに、「Company」と入力します。
    * 法人  
11. [テーブル] フィールドに「CompanyInfo」と入力します。
    * CompanyInfo  
12. [OK] をクリックします。
13. ツリーで、「会社」を展開します。
14. ツリーで、「会社\find()」を展開します。
15. ツリーで、「会社\find()\名前」を選択します。
16. [バインド] をクリックします。
17. [保存] をクリックします。
18. ページを閉じます。
19. ページを閉じます。
20. アクション ウィンドウで、[設定] をクリックします。
21. [ユーザー パラメーター] をクリックします。
22. [設定の実行] フィールドで、[はい] を選択します。
23. [OK] をクリックします。
24. [編集] をクリックします。
25. [ドラフトの実行] フィールドで、[はい] を選択します。

## <a name="add-a-new-er-format-configuration"></a>新しい ER 形式コンフィギュレーションを追加する
1. ツリーで、「サンプルのデータ モデル」を選択します。
2. [コンフィギュレーションの作成] をクリックすると、ドロップ ダイアログが開きます。
3. [新規] フィールドで、「データ モデル サンプルのデータ モデルに基づいた形式」と入力します。
4. [名前] フィールドで、「サンプルの形式」と入力します。
    * サンプルの形式  
5. [コンフィギュレーションの作成] をクリックします。
6. [デザイナー] をクリックします。
7. [ルートの追加] をクリックして、ドロップ ダイアログを開きます。
8. ツリーで、[Text\String] を選択します。
9. [OK] をクリックします。
10. [マッピング] タブをクリックします。
11. ツリーで、「model」を展開します。
12. ツリーで、「モデル\会社」を選択します。
13. [バインド] をクリックします。
14. [保存] をクリックします。
15. ページを閉じます。
    * テスト目的で、作成された形式のドラフト バージョンを実行します。  
16. [実行] をクリックします。
    * [バージョン] クイック タブで、[実行] をクリックします。  
17. [OK] をクリックします。
    * この形式コンフィギュレーションを実行中のユーザーがログインしている会社の名前を含む出力を確認します。 必要なモデル マッピングを含む使用可能なコンフィギュレーションが 1 つしかないので、作成されたモデル マッピング コンフィギュレーションがこの形式コンフィギュレーションによって使用されることに注意してください。   

## <a name="add-alternative-er-model-mapping-configuration"></a>代替 ER モデル マッピング コンフィギュレーションを追加する
1. ツリーで、「サンプルのデータ モデル」を選択します。
2. [コンフィギュレーションの作成] をクリックすると、ドロップ ダイアログが開きます。
3. [新規] フィールドで、「データ モデル サンプルのデータ モデルに基づいたモデル マッピング」と入力します。
4. [名前] フィールドに、「サンプルのマッピング (代替)」と入力します。
    * サンプルのマッピング (代替)  
5. [コンフィギュレーションの作成] をクリックします。
6. [デザイナー] をクリックします。
7. [デザイナー] をクリックします。
8. ツリーで、[Dynamics 365 for Operations\Table] を選択します。
9. [ルートの追加] をクリックします。
10. [名前] フィールドに、「Company」と入力します。
    * 法人  
11. [テーブル] フィールドに「CompanyInfo」と入力します。
    * CompanyInfo  
12. [OK] をクリックします。
13. [編集] をクリックします。
14. ツリーで、[String\CONCATENATE] を選択します。
15. [機能の追加] をクリックします。
16. ツリーで、「会社」を展開します。
17. ツリーで、「会社\find()」を展開します。
18. ツリーで、「会社\find()\名前」を選択します。
19. [データ ソースの追加] をクリックします。
20. [フォーミュラ] フィールドに値を入力します。
    * CONCATENATE(Company.'find()'.Name, ";",  
21. ツリーで、「会社\find()\会社 (DataArea)」を選択します。
22. [データ ソースの追加] をクリックします。
23. [フォーミュラ] フィールドに値を入力します。
    * CONCATENATE(Company.'find()'.Name, ";", Company.'find()'.DataArea)  
24. [保存] をクリックします。
25. ページを閉じます。
26. [保存] をクリックします。
27. ページを閉じます。
28. ページを閉じます。
29. [ドラフトの実行] フィールドで、[はい] を選択します。

## <a name="use-an-existing-er-model-mapping-configuration"></a>既存の ER モデル マッピング コンフィギュレーションを使用する
1. ツリーで、「サンプルのデータ モデル\サンプルの形式」を選択します。
2. [実行] をクリックします。
    * 実行中の ER 形式のデータのソースとして選択された未定義のデータ モデルに使用できる 1 つ以上のモデル マッピング コンフィギュレーションがあるので、ER 形式コンフィギュレーションの選択したドラフト バージョンは実行できないことに注意してください。   
    * 次に、代替モデル マッピング コンフィギュレーションを、そこから ER 形式を実行するためデータ ソースとしてモデル マッピングを使用するコンフィギュレーションとして定義します。   
3. ツリーで、「サンプルのデータ モデル\サンプルのマッピング (代替)」を選択します。
4. [モデル マッピング] フィールドの既定値で [はい] を選択します。
5. ツリーで、「サンプルのデータ モデル\サンプルの形式」を選択します。
6. [実行] をクリックします。
7. [OK] をクリックします。
    * 既定のモデル マッピング コンフィギュレーションが、電子ドキュメントを生成するためにこの形式コンフィギュレーションによって使用されている (作成した出力に会社コードが含まれている) ことに注意してください。  



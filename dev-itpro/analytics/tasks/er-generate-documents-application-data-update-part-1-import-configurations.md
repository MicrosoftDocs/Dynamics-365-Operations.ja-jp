--- 
title: "電子申告 (ER) のアプリケーション データ更新と共にドキュメントを生成するためのコンフィギュレーションのインポート"
description: "この手順にあるステップを完了するには、まず「ER コンフィギュレーション プロバイダーの作成および有効なプロバイダーとしてのマーク付け」にある手順を完了する必要があります。"
author: NickSelin
manager: AnnBe
ms.date: 06/19/2017
ms.topic: business-process
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
audience: Application User
ms.reviewer: kfend
ms.search.scope: Operations
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: f01d88149074b37517d00f03d8f55e1199a5198f
ms.openlocfilehash: 7085e92b85a5003334c19598de632fcaf08da49e
ms.contentlocale: ja-jp
ms.lasthandoff: 07/27/2017

---
# <a name="import-configurations-to-generate-documents-with-application-data-update-for-electronic-reporting-er"></a>電子申告 (ER) のアプリケーション データ更新と共にドキュメントを生成するためのコンフィギュレーションのインポート

[!include[task guide banner](../../includes/task-guide-banner.md)]

この手順にあるステップを完了するには、まず「ER コンフィギュレーション プロバイダーの作成および有効なプロバイダーとしてのマーク付け」にある手順を完了する必要があります。

この手順のステップでは、電子ドキュメントを生成するために電子申告 (ER) コンフィギュレーションを設計する方法について説明します。 この手順では、サンプル会社 Litware, Inc. 用に作成した必要な ER コンフィギュレーションをインポートし、それを使用して電子ドキュメントを生成します。 この手順は、「システム管理者」または「電子レポート開発者」ロールが割り当てられているユーザー用に作成されています。 これらのステップは、DEMF データ セットを使用して完了することができます。 始める前に、ヘルプ トピック「電子申告ツールを使用して電子ドキュメントを生成し、アプリケーション データを更新」 (https://docs.microsoft.com/en-us/dynamics365/unified-operations/dev-itpro/analytics/generate-electronic-documents-update-application-data/) に一覧表示されたファイルをダウンロードして保存します。 ファイルは、イントラスタット (モデル) .xml、イントラスタット (マッピング) .xml、およびイントラスタット (形式) .xml です。

1. [組織管理] > [ワークスペース] > [電子申告] の順に移動します。
    * サンプル会社 Litware, Inc. のコンフィギュレーション プロバイダーが使用可能であり、アクティブとしてマークされていることを確認します。 このコンフィギュレーション プロバイダーが表示されない場合は、「コンフィギュレーション プロバイダーの作成および有効なプロバイダーとしてのマーク付け」という手順のステップを完了する必要があります。  
    * この手順のステップでは、ER 機能を使用してアプリケーション データの更新を完了する方法、およびイントラスタット レポートを生成する方法を示します。 レポート処理の詳細は、アプリケーション テーブルにアーカイブされます。 現時点では、[イントラスタット] フォームからイントラスタット レポート処理が有効化されると、既存のソース コードでプログラムされたロジックに基づいてアーカイブがなされます。 この手順では、ER フレームワークのみを使用して、類似しているものの簡略化されたアプリケーション データのロジックを構成します。 ソース コードには、変更は行われません。   

## <a name="import-er-configurations"></a>ER コンフィギュレーションをインポートする
1. [コンフィギュレーションをレポートする] をクリックします。
2. [交換] をクリックします。
3. [XML ファイルから読み込む] をクリックします。
    * イントラスタット レポートを生成するためにデータ ソースとして使用するように設計されたデータ モデルを含む、ER モデル コンフィギュレーションをインポートします。 後で、このデータ モデルの定義を拡張して、アプリケーション データ更新がイントラスタット レポート処理の詳細をアーカイブするのに使用します。   
    * [参照] をクリックして、イントラスタット (モデル) .xml ファイルを選択します。  
4. [OK] をクリックします。
5. ツリーで、「イントラスタット (モデル)」を選択します。
6. [デザイナー] をクリックします。
7. ツリーで、「送信ドキュメント用」を展開します。
8. ツリーで、「送信ドキュメント用\トランザクション」を展開します。
    * インポートされたデータ モデルの構造を確認します。 「送信ドキュメント用」ルート項目が、アプリケーションからデータを取得し、それをデータ ソースとして使用してイントラスタット レポートを生成するためのデータ フローを指定するよう定義されていることに注意してください。 「トランザクション (レコード リスト)」を使用して、レポートする必要のあるイントラスタット トランザクションの一覧を表示します。 レポートされた商品コードをアーカイブするため、このデータ フローには単一の商品コードの一意の識別子「商品 rec id (Int64)」が必要です。   
9. ページを閉じます。
10. [交換] をクリックします。
11. [XML ファイルから読み込む] をクリックします。
    * アプリケーションからデータを取得し、その後それを使用してイントラスタット レポートを生成するためのデータ フローを指定する、ER マッピング コンフィギュレーションをインポートします。 後で、このモデル マッピングの定義を拡張してイントラスタット レポートからデータを取得し、それをアプリケーション データの更新に使用してイントラスタット レポート プロセスの詳細をアーカイブします。   
    * [参照] をクリックして、イントラスタット (マッピング) .xml ファイルを選択します。  
12. [OK] をクリックします。
13. ツリーで、「イントラスタット (モデル)」を展開します。
14. ツリーで、「イントラスタット (モデル)\イントラスタット (マッピング)」を選択します。
15. [デザイナー] をクリックします。
    * 現在のモデル マッピングには、[方向] フィールドに「モデルへ」という値が含まれていることに注意してください。 つまり、このモデル マッピングは、アプリケーションからデータを取得してデータ モデルに保存するために設計されています。  
16. [デザイナー] をクリックします。
17. ツリーで、「リスト」を展開します。
18. ツリーで、「トランザクション = リスト」を展開します。
    * 「送信ドキュメント用」というルート項目に基づいてフィルター処理されたデータ モデルを使用するモデル マッピングの構造を確認します。 「リスト」という追加されたデータ ソースは、イントラスタット テーブルからのレコードのリストである必要なアプリケーション データへのアクセス許可を提供することに注意してください。  
19. ページを閉じます。
20. ページを閉じます。
21. [交換] をクリックします。
22. [XML ファイルから読み込む] をクリックします。
    * イントラスタット レポートのレイアウトおよびレポートへのデータ登録のプロセスを指定する ER 形式コンフィギュレーションをインポートします。 後で、この形式の定義を拡張してイントラスタット レポートのデータをデータ モデルに格納し、アプリケーション データを更新してイントラスタット レポート プロセスの詳細をアーカイブするために使用します。   
    * [参照] をクリックして、イントラスタット (形式) .xml ファイルを選択します。  
23. [OK] をクリックします。
24. ツリーで、「イントラスタット (モデル)\イントラスタット (形式)」を選択します。
25. [デザイナー] をクリックします。
26. [展開] / [折りたたみ] をクリックします。
27. ツリーで、「ファイル\申告」を選択します。
28. [マッピング] タブをクリックします。
29. ツリーで、「ファイル」を選択します。
    * イントラスタット レポートを生成するために使用されている形式の構造を確認します。 「送信ドキュメント用」というルート項目に基づいたデータ モデルからデータを設定することによって XML ファイルを生成するよう設計されていることに注意してください。 生成されたファイルの名前が、ユーザー ダイアログ フォームで定義されていることを確認します (「fn」データ ソースがそのために使用されます)。   
30. ページを閉じます。



---
title: "Retail POSの現代の画像を設定および管理します。"
description: "この記事では、Retail POSの現代 (MPOS) に表示されるさまざまなエンティティの設定および管理の画像に関連する手順を説明します。"
author: MargoC
manager: AnnBe
ms.date: 04/04/2017
ms.topic: article
ms.prod: 
ms.service: Dynamics365Operations
ms.technology: 
audience: Application User
ms.search.scope: AX 7.0.0, Operations, Core
ms.custom: 52851
ms.assetid: 5c21385e-64e0-4091-98fa-6a662eb33010
ms.search.region: global
ms.search.industry: Retail
ms.author: athinesh
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
translationtype: Human Translation
ms.sourcegitcommit: 0c6a7bdc4ba82dd57ab3e395e6dfb0ae4de31fc4
ms.openlocfilehash: dbcf6d2ca3a6009c1631636309ff55cebb0551e6
ms.lasthandoff: 03/31/2017


---

# <a name="set-up-and-manage-images-for-retail-modern-pos"></a>Retail POSの現代の画像を設定および管理します。

この記事では、Retail POSの現代 (MPOS) に表示されるさまざまなエンティティの設定および管理の画像に関連する手順を説明します。

<a name="setting-up-the-media-base-url-and-defining-media-templates-to-configure-the-format-for-image-urls"></a>画像 URL 形式をコンフィギュレーションするメディア ベースの URL およびメディアのテンプレートの定義を設定します
-------------------------------------------------------------------------------------------------

Retail POSの現代 (MPOS) に表示されるイメージは、[Retailの外部のMicrosoft Dynamics 365外部に催されなければがあります。 通常は、コンテンツ管理システム、コンテンツ配信ネットワーク (CDN)、またはメディア サーバーでホストされます。 製品およびカタログなど、適切なエンティティの画像は、MPOS がターゲット URL にアクセスし、フェッチして表示されます。 MPOS が、これらの外部でホストされている画像をフェッチするには、画像の正しい URL 形式が必要です。 チャンネル プロファイルの**メディア基準 URL**の値を設定、および各エンティティの**メディア テンプレートの定義**機能の設定により、画像の URL 形式をコンフィギュレーションできます。 また、エンティティのサブセットに対して標準 URL 形式を **Excel で編集**機能を使用して上書きできます。 **代替: **工程では、Dynamics 365 for Operationsの現在のバージョン エンティティの**既定**属性グループでMPOSに**画像**属性XMLを使用して、URLの形式を設定することはできません。 Microsoft Dynamics AX 2012 R3を使い慣れて、工程に今原動力365の現在のバージョンを使用する場合は、画像を設定している場合でも、新しい**メディアのテンプレートを定義します。**機能を常に使用することを確認します。 製品を含む、エンティティ グループの**既定**属性で、**画像**属性を使用、または変更しないでください。 画像グループの**既定**属性での直接の変更は反映されません。 このオプションは、将来のリリースでは無効になります。 次の手順では、例として画像はカタログ エンティティに設定されます。 これらの手順で、正しい画像先のパスが共通のパスを使用するすべてのカタログ画像に対して暗黙的に設定されていることを保証するのに役立ちます。 たとえば、外部のメディアサーバーあるいは CDN を設定し、特定の店舗の MPOS に表示する画像を必要とする場合は、**メディア テンプレートの定義**機能が、MPOS が検索したり、画像を取得できるパスを設定するのに役立ちます。 **メモ:** このデモ データの例では、メディア サーバーは、Retail サーバーに配置されます。 ただし、工程の手順でで365 for Operations、できます。

### <a name="set-up-the-media-base-url-for-a-channel"></a>チャンネルにメディアベース URL を設定します。

1.  工程HQ Dynamics AX 365 for Operationsを開きます。
2.  [** [小売りとコマース** &gt; **チャンネル**設定 &gt; **チャンネルのプロファイル**。 [![チャンネルprofile1] (。/media/channel-profile1.png) ] (。/media/channel-profile1.png) 
3.  店舗で MPOS に使用するチャンネル プロファイルで、メディアサーバーあるいは CDN の基準 URLの**メディア基準 URL** フィールドを更新します。 基準URLは別のエンティティのすべての画像のフォルダに関して共有する、URLの最初の部分です。[![チャンネルprofile2] (。/media/channel-profile2.png) ] (。/media/channel-profile2.png) 

### <a name="define-the-media-template-for-an-entity"></a>エンティティのメディアのテンプレートを定義します。

1.  [** [小売りとコマース** &gt; **カタログ管理** &gt; **カタログの画像**。
2.  **カタログ画像**ページの、アクション ウィンドウで、**メディア テンプレートの定義**をクリックします。 **エンティティ**フィールドの、**メディア テンプレートの定義**ダイアログボックスで、**カタログ**が既定でオンになっている必要があります。
3.  **メディア パス**クイック タブで、画像の場所の残りのパスを入力します。 メディア パスは、**LanguageID** を変数としてサポートします。 たとえば、デモ データについては、メディアサーバーのメディア基準 URL 以下のすべてのカタログ画像に**カタログ**フォルダを作成できます (https://testax3ret.cloud.test.dynamics.com/RetailServer/MediaServer)。 各言語のフォルダが、en-US または fr-FR などである場合、各フォルダで適切な画像をコピーします。 さまざまな言語のための、さまざまな画像を所有していない場合、フォルダ構造から **LanguageID** 変数を省略でき、カタログ画像を含むカタログフォルダを直接設定できます。 **メモ:** Dynamics AX の現在のバージョンでは、カタログ、製品、およびカテゴリ エンティティの **{LanguageId}** トークンがサポートされます。 (**{LanguageID}** トークンは、Microsoft Dynamics AX 6.x. 以降有効な既存の標準に従って、顧客および作業者の場合はサポートされません)
4.  画像では、ファイル名の形式は、カタログ名にハードコーディングされ、変更することはできません。 従って、MPOS がそれらを正しく処理できるようにするため、適切なカタログ名となるように画像の名前を変更します。
5.  **ファイル拡張子**フィールドで、画像のタイプに基いて必要なファイル拡張子を選択します。 たとえば、デモ データに対しては、カタログの画像に .jpg の拡張子が設定されます。 (画像ファイルは、カタログ名を持つように名前を変更されます)。
6.  Click **OK**.
7.  画像のメディアのテンプレートが、**カタログ画像**ページで、適切に保存されていることを確認するには、**メディア テンプレートの定義**をもう一度クリックします。 **メディア テンプレートの定義**ダイアログ ボックスを閉めないでテンプレートを検証するには、**Excel 用の画像 URL の生成**クイック タブを使用できます。 画像 URL の外観を確認し、URL が上記のテンプレートの標準に準拠していることを確認します。 **メディア テンプレートの定義**ダイアログ ボックスにより、この URL 共通のパスを使用するすべてのカタログ画像に画像のパスが暗黙的に配置されます。 上書きされない場合、この URL パスは、すべてのカタログ画像に適用されます。 画像のパスの最初の部分は、チャンネルのプロファイルで定義したメディアの基準 URL から取得されます。 パスに関する残りの部分は、メディアのテンプレートで定義したパスから取得されます。 画像の場所の URL 全体を提供するために 2 つの部分が連結されます。 たとえば、デモ データのカタログでは、Fabrikam の基本カタログが表示されます。 したがって、テンプレートでコンフィギュレーションされているカタログ名、および .jpg ファイル名拡張子を使用するため、画像の名前は Catalog.jpg Fabrikam である必要があります。 この場合、URL は連結の後に、https://testax3ret.cloud.test.dynamics.com/RetailServer/MediaServer/Catalogs/en-US/Fabrikam Base Catalog.jpg. となります。
8.  イメージにアクセスする場合に MPOS がテンプレートを使用するように、チャンネルのデータベースに新しいテンプレートをプッシュするため、同期ジョブを実行します。
9.  チャンネルの側のカタログの画像のメディアのテンプレートを更新するには、**ジョブ1150を一覧表示します。** **小売IT ** **配分のスケジューリングで、実行 &gt; される場合は、それぞれの**にしてください。[![] catalog1 (。/media/catalog1.png) ] (。/media/catalog1.png) 

## <a name="previewing-an-image-from-the-entity-level"></a>エンティティ レベルからの画像のプレビュー
1.  HQ のエンティティの品目のページで、メディアのテンプレートから派生した画像 URL を使用する画像をプレビューできます。 [この例の場合、アクション ウィンドウで、[**メディア適切なカタログに** ** &gt; 画像**)。 チャンネルのさまざまなプロファイルがある異なる店舗を選択する場合でも、ドロップダウン リストを使用します。
2.  暗黙的なメディア テンプレートを編集、または削除するには、**カタログ画像**ページの**メディア テンプレートの定義**ダイアログ ボックスに戻る必要があります。
3.  暗黙的なテンプレートに基づき、特定の画像に使用されるパスを手動で変更するために、**追加**および**削除**ボタンを使用できます。 詳細については、この項目で後述する「エンティティ品目のメディア テンプレートの上書き」を参照してください。
4.  画像をプレビュー、必要な変更を加えることが完了したら、適切な店舗のMPOSインスタンスを起動し、カタログの画像を表示するかどうかを表示します。[![] catalog4 (。/media/catalog4.png) ] (。/media/catalog4.png) 

**注記:** サポートされている 5 つのエンティティ、作業者、顧客、カタログ、カテゴリ、および製品で同じ手順を使用できます。 「カタログ製品」 (カタログ レベルで設定された製品) および「チャンネル製品」 (チャンネル レベルで設定された製品) は、製品 エンティティで設定されたメディア テンプレートを使用します。 製品のメディア テンプレートでは、製品ごとに表示する製品画像の数を選択できます。 また、特定の製品に既定の画像を設定できます。 これにより、MPOS の空白の画像をなくしたり、画像を製品品目の既定の画像として使用するかどうかを制御できます。 次の例では、各製品に 5 つの画像があり、最初の画像は、既定の画像として設定されます。 バリアント製品はマスターの製品と同じ方法で処理されます。 イメージ ファイルのファイル名は製品番号に基づく必要があります。 ファイル名の生成中、一部の文字がエスケープします。 したがって、**Excel 用の画像 URL の生成**セクションを使用してファイル名を確認することをお勧めします。 [![ (Prod)。/media/prods.png) ] (。/media/prods.png)   

## <a name="synchronization-jobs-to-send-a-media-template-to-the-channel-side"></a>チャンネル側にメディアのテンプレートを送信するジョブを同期
すべての5に画像を設定する**小売IT ** **配分のスケジューリングからカタログ ジョブ (1150) が**実行の**メディアのテンプレートを定義します。**ダイアログを更新するたびに、事業体 (ため、顧客、カタログ、カテゴリ、および &gt; 製品) をサポートしてください。 このジョブは、チャンネルに同期された更新されたメディア テンプレートを有効にし、MPOS で使用されます。 次のような変更を行った後、カタログジョブ (1150) を実行します:

-   カタログの画像のメディアのテンプレートに基づく**カタログの画像** ** &gt; 定義するメディアのテンプレートを**更新します。
-   従業員の画像のメディアのテンプレートに基づく**従業員の画像** ** &gt; 定義するメディアのテンプレートを**更新します。
-   顧客の画像のメディアのテンプレートに基づく**顧客の画像** ** &gt; 定義するメディアのテンプレートを**更新します。
-   製品画像のメディアのテンプレートに基づく**製品画像** ** &gt; 定義するメディアのテンプレートを**更新します。
-   カテゴリの画像のメディアのテンプレートに基づく**カテゴリの画像** ** &gt; 定義するメディアのテンプレートを**更新します。 また、チャンネルを公開する必要があります。

## <a name="overwriting-the-media-template-for-entity-items"></a>エンティティ品目のメディア テンプレートを上書きします。
前のセクションで学んだように、特定のエンティティのメディア テンプレートは、一つの共通のパスのみサポートします。 このパスは、コンフィギュレーションされた基準 URL、および定義されたメディアのパスに基づきます。 ただし、多くの場合、小売業者はエンティティの品目のサブセットに対してさまざまなソースから画像が使用できることを希望します。 たとえば、店舗は、自己ホストのメディア サーバーを 1 つのセットのカタログ画像に使用しますが、別のセットには CDN の URL を使用します。 エンティティ レベルのエンティティ 画像のメディア テンプレートに基づく画像 URL を上書きするには、**プレビュー**ページの Excel および手動で編集機能を使用できます。

### <a name="overwrite-by-using-edit-in-excel"></a>Excel で編集を使用して上書き

1.  [** [小売りとコマース** &gt; **カタログ管理** &gt; **カタログの画像**。
2.  **カタログ画像**ページで、**メディア テンプレートの定義**をクリックします。 **エンティティ**フィールドの、**メディア テンプレートの定義**ダイアログボックスで、**カタログ**がオンになっている必要があります。
3.  **メディア パス**クイック タブで、画像の場所を通知します。
4.  **Excel 用の画像 URL の生成**クイック タブで、**生成**をクリックします。 **重要:** メディア テンプレートが変更された場合、Excel で編集機能を使用する前に、**生成**をクリックする必要があります。 [![] excel1 (。/media/excel1.jpg) ] (。/media/excel1.jpg)、最後の保存されたメディアのテンプレートに基づいて生成されたイメージのURLをプレビュー表示されます。 [![] excel2 (。/media/excel2.png) ] (。/media/excel2.png) **注記: ** Excelの使用に対して定義されているメディアのテンプレートの既定の規則生成されたURL。 これらの方式には、ファイル名の方式も含まれます。 Dynamics AX の外部で現物画像を設定することが期待されており、画像は、先に定義したメディア テンプレートから派生する URL から取得することができます。 Excel で編集の機能を使用すると、これらの派生 URL を上書きできます。
5.  **Excel で編集**をクリックします。
6.  Microsoft Excel ワークシートを開き、メッセージが表示されたら、**編集の有効化**をクリックします。
7.  メッセージが表示されたら、**このアドインを信頼します**を右ウィンドウでクリックし、インストールを完了するためにアドインを待機します。 [![信頼この展開] (。/media/excel4.jpg) ] (。/media/excel4.jpg) 
8.  サインインするメッセージが表示されると、HQ のサインインに使用する資格情報を入力します。 [![サインインのスタッフ] (。/media/excel5.png) ] (。/media/excel5.png) 
9.  サインインした後、さまざまなカタログ エントリについて画像 URL の一覧を確認できます。
10. さまざまなエンティティ品目の画像 URL を編集、追加、および削除します。
11. 製品を除くすべてのエンティティに、画像 URL を上書きできます。 画像の新しい配送先 URL を使用し、ファイル名を画像ファイルの新しいファイル名に更新するために、既存の画像 URL を変更します。 レコードが一意であることを保証するために、ファイル名は一意である必要があります。 [![上書きExcelの画像のURL] (。/media/excel6.jpg) ] (。/media/excel6.jpg) **注記: ** Excelの機能またはエンティティ品目ページの編集を使用することで、製品のエンティティの画像のURLを上書きする場合は、MPOSが上書きされている画像のURLとともにすべてのメディアのテンプレートの画像のURLを常に示します。
12. 変更を加えることを完了した後、**Excel で公開**をクリックすると、新しい明示的 アソシエーション エントリが作成されます。
13. HQ に戻り、**OK**をクリックします。
14. エンティティの適切な同期ジョブを実行し、エンティティ ページ、あるいは MPOS のプレビューを確認します。

#### <a name="creating-new-records"></a>新しい記録の作成

Excel の新しいレコードを作成できます。 ただし、正しい情報を入力したことを確認します。 たとえば、カタログの新しいエントリを作成する場合、カタログ ID、およびカタログの名前が正しいことを確認し、一意のファイル名を入力してください。 固有のファイル名は、Excel のレコードの独自性が発行中に検証されるために非常に重要です。 最初に、新しいレコードを作成するカタログから詳細をコピーし、レコードをコピーします。 他の情報が同じであるため、ファイル名、URL を更新する必要があります。 製品エンティティの品目に新しいレコードを作成するには、同じ基本的な手順を使用します。 Excel ワークシートから、新しいレコードを作成する製品に既存のレコードをコピーし、画像 URL およびファイル名を置き換えます。 ファイル名は一意であることを確認します。

#### <a name="deleting-an-existing-record"></a>既存のレコードの削除

上書きした画像 URL のレコードのみ削除できます。 画像が削除され、同期が完了した後、画像は**プレビュー**ページ、または MPOS に表示されなくなります。 毎回これらのレコードはメディア テンプレートから常に派生するため、メディア テンプレートから派生した画像 URL レコードは削除できません。

### <a name="overwrite-from-the-entity-level-preview-page"></a>エンティティ レベル プレビュー ページを上書き

製品を除くすべてのエンティティは、**プレビュー**ページからのエンティティ レベルで、一部のエンティティ品目の画像 URL を上書きできます。 製品については、「カタログ製品」エンティティ ページを使用します。 この例では、カタログ画像を上書きする方法を示します。

1.  [**カタログ** &gt; **メディア** &gt; **画像**更新するには、カタログの画像を選択します。
2.  **追加**をクリックし、メディア テンプレート URL に上書きする画像 URL を入力します。
3.  この画像を MPOS でカタログに表示する場合、既定の画像として設定できます。
4.  [**OK**] をクリックします 画像 URL は、このカタログ画像に更新され、プレビューが表示されます。 [![] preview3 (。/media/preview3.png) ] (。/media/preview3.png) 
5.  すべてを上書きした画像 URL は、画像のプレビューを**カタログ画像**ギャラリー ページで表示できます。

** [![]は4 (。/media/preview-4.png) ] (。/media/preview-4.png) 注記: **現在、ギャラリー、メディアのテンプレートの画像のURLの画像はは参照されません。 カタログ、作業者、顧客、およびカテゴリエンティティに、ユーザーがこのページで明示的に URL を指定すると、Retail サーバーのクライアントがカタログ、顧客、作業者、およびカテゴリごとに一つの画像のみを参照するため、既定の画像を指定することをお勧めします。 ユーザーが既定の画像を指定しないと、システムは既定の画像を確認し、小売サービスの呼び出し元に送信します (MPOS または e コマース)。

### <a name="overwrite-the-image-url-for-catalog-product-images-from-the-preview-page"></a>プレビュー ページからカタログ製品画像の画像 URL を上書きします。

カタログ製品画像の画像 URL を上書きするために、**プレビュー**ページを使用する必要があります。 Excel で編集の機能を使用できません。

1.  カタログのレベルで製品画像を上書きするには、カタログを選択し、画像を上書きする製品を選択します。
2.  **属性**をクリックします。
3.  次のページで、**画像**を選択し、**編集**をクリックします。 **プレビュー** ページがスライダーのダイアログ ボックスとして開きます。
4.  **追加**をクリックし、画像 URL を新しい URL で上書きします。
5.  [**OK**] をクリックします これで、新しい画像をプレビュー表示し、既定の画像として設定できます。

** [![] cat3 (。/media/cat3.png) ] (。/media/cat3.png) 注記: **カテゴリの画像)、後で、チャンネルを発行、チャンネルのデータベースへの変更が公開されていることを保証するチャンネルをジョブを実行する必要があります。

## <a name="setting-up-images-to-appear-in-offline-mode-for-mpos"></a>MPOS のオフライン モードで表示されるイメージの設定
MPOS はオンライン モード (MPOS が Retail サーバーに接続される時)、またはオフライン モード (Retail サーバー、またはネットワーク接続がない、およびトランザクションがローカル オフライン データベースに保存されている時) で実行できます。 MPOS をオフライン モードで実行すると、Retail サーバー接続が失われるため、外部ファイル サーバーから、Retail サーバーからの表示のための画像を取得することはできません。 ただし、MPOS がオフライン モードの実行時に表示するように、まだ画像を設定できます。

### <a name="set-up-product-images-to-appear-in-offline-mode-for-mpos"></a>MPOS のオフライン モードで表示される製品画像の設定

オフライン モードで使用する製品画像は、基本製品画像に必要な現物画像をアップロードすることで設定できます。

1.  [**製品情報管理** &gt; **製品** &gt; **製品**。
2.  オフライン画像に設定する製品を選択します。
3.  **編集**をクリックし、右ウィンドウを表示するために角の右矢印をクリックします。
4.  **製品画像**クイック タブで、**イメージの変更**をクリックし、オフライン モードで選択した製品に使用する、現物画像をアップロードします。
5.  ページを保存して閉じる。
6.  MPOS がオンライン モードの間に、データがオフライン データベースに 1 回以上の送信を行うかどうか確認するため、HQ でカタログジョブを実行します。
7.  オフライン モードに MPOS を挿入します。 HQ の特定の製品にアップロードする画像を確認する必要があります。 [![] offline1 (。/media/offline1.png) ] (。/media/offline1.png) 

 

### <a name="set-up-catalog-category-employee-and-customer-images-to-appear-in-offline-mode-for-mpos"></a>MPOS のオフライン モードで表示するカタログ、カテゴリ、従業員、および顧客の画像を設定します。

オフライン モードで使用するカタログ、カテゴリ、従業員、および顧客の画像は、必要な画像のリンク先をギャラリーに追加し、選択したエンティティの既定の画像として画像を設定することで設定できます。

1.  次に、アクション ウィンドウで、[**メディア カタログに** ** &gt; 画像**)。
2.  外部 URL 画像を追加するには、"**エンティティ レベル プレビュー ページを上書き**" セクションの手順に従います。
3.  チェック ボックスをオンにして、グリッドに表示する画像に対し、この画像をカタログの既定の画像としてマークします。
4.  カタログジョブを実行します。 この画像は MPOS でカタログのオフラインの画像としてすぐに使用されます。
5.  カテゴリ、従業員、および顧客など、他のエンティティの類似したプロセスに従います。

[![] offline2 (。/media/offline2.png) ] (。/media/offline2.png)     



---
title: マスタ データ ルックアップ用の税構成のカスタマイズ
description: このトピックでは、マスターデータの検索機能を拡張するために、税の構成をカスタマイズする方法について説明します。
author: kai-cloud
ms.date: 10/28/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application user
ms.reviewer: kfend
ms.custom: ''
ms.search.region: Global
ms.author: pashao
ms.search.validFrom: 2021-04-01
ms.dyn365.ops.version: 10.0.18
ms.openlocfilehash: 69541316ad4c6c4bb404ea142844ce596b5502b9
ms.sourcegitcommit: a58dfb892e43921157014f0784bd411f5c40e454
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/04/2022
ms.locfileid: "8689131"
---
# <a name="customize-tax-configurations-for-master-data-lookup"></a>マスタ データ ルックアップ用の税構成のカスタマイズ

[!include [banner](../includes/banner.md)]

このトピックでは、税の設定をカスタマイズしてマスターデータの検索機能を拡張する手順について説明します。

## <a name="import-a-tax-configuration-provided-by-microsoft"></a>マイクロソフトが提供する税構成のインポート

1. Regulatory Configuration Service (RCS) の、**電子レポート** ワークスペースで、**マイクロソフト** 構成プロバイダーを選択します。
2. **リポジトリ** を選択します。
3. **グローバル** を選択し、 **開く** を選択します。
4. **税計算構成** などの税構成を選択し、**バージョン** タブでバージョンを選択します。
5. **インポート** を選択します。

> [!NOTE]
> 既定では、Dataverse モデル マッピングがインポートされます。 構成のインポート プロセス中に警告メッセージが表示される場合は、Dataverse で仮想エンティティを有効にしてください。 詳細については、[Dataverse 仮想エンティティの有効化](../../fin-ops-core/dev-itpro/power-platform/enable-virtual-entities.md) を参照してください。

## <a name="create-a-customized-data-model-configuration"></a>カスタマイズされたデータモデル構成の作成

1. **電子レポート** ワークスペースで、**税の構成** を選択し、拡張するデータ モデルの構成を選択します。 たとえば、**税金計算データ モデル** を選択します。
2. **構成の作成** を選択します。
3. **名前から派生した課税対象ドキュメント モデル: 税計算データ モデル、マイクロソフト** を選択します。
4. **名前** フィールドに、**カスタマイズ データ モデル** と入力します。
5. **構成の作成** を選択します。

## <a name="create-customized-reference-models"></a>カスタマイズされた参照モデルの作成

1. **税金の構成** ページで、**カスタマイズデータ モデル** を選択し、**デザイナー** を選択します。
2. モジュールの省略記号ボタン (**...**) を選択し、**参照モデル** ビューを選択します。

    [![参照モデル。](./media/pic2.png)](./media/pic2.png)

3. カスタマイズされた参照モデルを作成します。 カスタマイズされたモデルはルート モデルです。 カスタマイズされたエンティティはレコード リストです。 カスタマイズされたフィールドは、ルックアップに使用する文字列フィールドです。 必要に応じて、これらのフィールドを追加することができます。
4. モジュールの省略記号ボタン (**...**) を選択し、**課税対象ドキュメント** ビューを選択します。
5. カスタマイズされた参照モデルにバインドする属性を選択します。 たとえば、**カスタマイズした属性** を選択し、次の手順に従います:

    1. **参照モデルの選択** を選択します。
    2. **カスタマイズされたモデル** を選択して、**OK** を選択します。 参照モデル名は、**ナチュラル キー** フィールドの値に更新されます。

        [![参照モデルのダイアログ ボックスを選択します。](./media/pic5.png)](./media/pic5.png)

    3. **保存** を選択し、**完了** を選択します。

## <a name="create-a-customized-model-mapping-configuration"></a>カスタマイズされたモデル マッピング構成の作成

1. **電子レポート** ワークスペースで、**税の構成** を選択し、**Dataverse モデル マッピング** の構成を選択します。
2. **既定のモデル マッピング** フィールドで、**いいえ** を選択します。
3. **構成の作成** を選択します。
4. **名前から派生した課税対象ドキュメント モデルのマッピング: Dataverse モデル マッピング、マイクロソフト** を選択します。
5. **名前** フィールドに、**カスタマイズ モデル マッピング** と入力します。
6. **ターゲット モデル** フィールドで、**カスタマイズ データ モデル** データ モデルを選択します。
7. **構成の作成** を選択します。

    [![構成の作成ドロップダウン ダイアログ ボックス。](./media/pic6.png)](./media/pic6.png)

8. **カスタマイズ モデル のマッピング** を選択し、**接続されているアプリケーション** フィールドに、[マスターデータ検索のための環境を設定する](tax-service-set-up-environment-master-data-lookup.md)に記載の手順 8 で作成した接続を設定します。
9. **モデル マッピングの既定値** フィールドを **はい** に設定します。

## <a name="create-customized-model-mappings"></a>カスタマイズされたモデル マッピングの作成

1. **税の構成** ページ で、**カスタマイズ モデル のマッピング** を選択します。
2. **デザイナー** を選択して、**カスタマイズ モデル** を選択します。

    [![カスタマイズ モデル](./media/pic8.png)](./media/pic8.png)

## <a name="map-a-model-mapping-to-a-dataverse-entity"></a>モデル マッピングを Dataverse エンティティにマッピングする

1. **モデル マッピング デザイナー** ページで、**カスタマイズ モデル** を選択し、**デザイナー** を選択します。
2. **データ ソース タイプ** ツリーで、**Dataverse テーブル** を選択します。
3. **データ ソース** タブで、**ルートの追加** を選択します。
4. **名前** フィールドに、**カスタマイズされた Dataverse** を入力します。
5. 2 つ目の **名前** フィールドで、エンティティを選択します。
6. **OK** を選択します。

    [![ テーブルのデータ ソース プロパティ ダイアログ ボックス。](./media/pic9.png)](./media/pic9.png)

7. **カスタマイズされた Dataverse** と **カスタマイズされたエンティティ** を選択し、**バインド** を選択します。

    [![カスタマイズされて Dataverse と、カスタマイズされたエンティティのバインド。](./media/pic10.png)](./media/pic10.png)

8. **カスタマイズされた Dataverse** と **カスタマイズされたフィールド** の配下でフィールドを選択し、**バインド** を選択します。

    [![カスタマイズされた Dataverse と、カスタマイズされたフィールドのバインド。](./media/pic11.png)](./media/pic11.png)

9. **保存** を選択し、**完了** を選択します。

## <a name="create-a-customized-tax-configuration"></a>カスタマイズされた税構成の作成

1. **電子レポート** ワークスペースで、**税の構成** を選択し、**税算出の構成** を選択します。
2. **構成の作成** を選択します。
3. **名前から派生した税サービスの構成: 税計算の構成、マイクロソフト** を選択します。
4. **名前** フィールドに、**カスタマイズ構成** と入力します。
5. **構成の作成** を選択します。
6. **カスタマイズ構成** を選択して、**デザイナー** を選択します。
7. **データ モデル** フィールドで、**カスタマイズ データモデル** を選択します。
8. **データ モデル バージョン** フィールドで、対応するデータモデルのバージョンを選択します。

    [![ プロパティ セクション。](./media/pic13.png)](./media/pic13.png)

9. **完了** を選択します。

[!INCLUDE[footer-include](../../includes/footer-banner.md)]

---
title: 収益認識の設定
description: このトピックでは、収益認識の設定オプションとその意味について説明します。
author: kweekley
ms.date: 04/28/2022
ms.topic: index-page
ms.prod: ''
ms.technology: ''
ms.search.form: Customer
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2018-08-30
ms.dyn365.ops.version: 8.0.4
ms.openlocfilehash: 86690af303eb87335c980bd7dae3ae34ce06a2a0
ms.sourcegitcommit: 631d2cea52590af15f208e9af584446e85540fcf
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2022
ms.locfileid: "8725514"
---
# <a name="revenue-recognition-setup"></a>収益認識の設定
[!include [banner](../includes/banner.md)]

必要なすべての設定のメニュー品目を含む新しい **収益認識** モジュールが追加されました。 このトピックでは、設定オプションとその意味について説明します。

> [!NOTE]
> 収益認識機能は、機能管理によって既定で有効化されます。 この機能を組織が使用しない場合は、**機能管理** ワークスペースからオフに設定できます。
>
> Commerce チャネル (eコマース、POS、コール センター) は、バンドル機能を含む収益認識に対応していません。 収益認識に対して構成した品目は、Commerce チャネルで作成した注文やトランザクションに追加できません。

**収益認識** モジュールには、次の設定オプションがあります。

- 収益認識仕訳帳
- 収益認識のパラメーター
- 収益スケジュール 
- 在庫の設定

    - 品目グループおよびリリースされた製品
    - 収益スケジュールの定義
    - 収益額の定義
    - 在庫の設定

        - 収益スケジュールの定義
        - 収益額の定義

    - 転記プロファイル
    - バンドル

        - コンポーネントのバンドル
        - 品目のバンドル

- プロジェクトの設定

## <a name="revenue-recognition-journals"></a>収益認識仕訳帳

収益認識のために新しい仕訳帳タイプが導入されています。 仕訳帳は必須であり、2 つのシナリオで使用されます。

最初のシナリオは、契約上のすべての責務が満たされた後で、収益スケジュールの詳細に基づく収益認識仕訳帳を作成することによって、繰延収益が認識された場合に発生します。 この仕訳帳には、繰延収益上の勘定科目から収益勘定科目に残高を移動する簿記入力が含まれます。

2 番目のシナリオは、再配賦が発生した後に仕訳帳が作成された場合に発生します。 再配賦は、以前に請求された販売注文に販売注文ラインが追加されるか、元の契約の一部である明細行を含む新しい販売注文が作成されるときに発生します。 新しい販売注文明細行が追加される前に請求書が転記された場合は、転記済の顧客請求書に対して修正勘定品目を作成する必要があります。

仕訳帳は、**仕訳帳名** ページ (**収益認識 \> 設定 \> 仕訳帳名**) で設定されます。 仕訳帳タイプは **収益認識** に設定する必要があります。 

## <a name="parameters-for-revenue-recognition"></a>収益認識のパラメーター

収益認識の設定は、**一般会計パラメーター** ページの **収益認識** タブで構成します (**収益認識 \> 設定 \> 一般会計パラメーター**)。 次の設定を実行できます。

- **収益認識の仕訳帳名** - 収益認識に対して作成された仕訳帳を選択します。 収益スケジュールから収益が認識されたとき、または既に請求済の販売注文に対して再配賦を実行したときに、仕訳帳が必要になります。
- **割引配賦メソッドを有効にする** - : 各リリース製品の収益額で定義されている公正な市場金額の配賦を通じて収益額を決定するには、このオプションを **はい** に設定します。 この配賦には、品目間のすべての行割引の配賦が含まれます。 このオプションを **いいえ** に設定すると、各リリース製品の収益額で定義されている価格の中央値が使用されます。 このオプションが **いいえ** に設定されていても、製品の価格がリリース製品に対して設定されていない場合は、収益額の配賦は行われません。
- **ヘッダー割引を含める** - 製品間にヘッダー割引を割り当てることによって収益額を決定するには、このオプションを **はい** に設定します。 このオプションを **いいえ** に設定すると、ヘッダー割引は収益額の配賦に含まれません。
- **契約条件を無効にする** - 製品の契約の開始日および終了日が定義されていない場合でも、**契約の事後サポート** の収益の種類がリリースできる場合は、このオプションを **はい** に設定します。 通常、契約の開始日と終了日は、**契約の事後サポート** の収益タイプの品目に必要です。 契約の開始日および終了日が定義されていない場合、転記における収益スケジュールの詳細は、発生回数と請求日を使用して計算されます。
- **再配賦時に売掛金勘定への請求訂正を転記する** - 転記済の請求書の再配賦を行うときに、転記された請求書の勘定品目を修正する必要があります。 このオプションを使用して、修正の実行方法を指定します。

    - 修正トランザクションのを一般会計への転記を制限する場合は、このオプションを **いいえ** に設定します。 このオプションを **いいえ** に設定すると、売掛金勘定では、内部会計修正で追加の伝票は作成されません。 請求書の支払時に、決済プロセスは古い勘定品目を使用して現金割引、実現利益、または損失を転記します。
    - このオプションを **はい** に設定すると、売掛金勘定の修正トランザクションに対して、逆仕訳伝票と新しい請求書が自動的に作成されます。 この修正は内部会計修正であるため、新しい伝票は顧客に送信されません。 逆仕訳伝票は元の請求書に対して決済され、新しい訂正済請求書は顧客によって支払われます。 顧客明細書などの 3 つの伝票がすべてレポートに表示されることに注意してください。

[![設定情報。](./media/revenue-recognition-setup-info.png)](./media/revenue-recognition-setup-info.png)

## <a name="revenue-schedules"></a>収益スケジュール

収益を繰延できるすべての発生に対して、収益スケジュールを作成する必要があります。 たとえば、組織で 6 か月、12 か月、18 か月、および 24 か月を超えるサポートが提供されている場合は、期間ごとに収益スケジュールを作成する必要があります。 収益スケジュールの設定により、収益額を選択した期間の数にわたってどのように配賦するかが決まります。 また、請求書の転記時に作成される収益スケジュールに対して入力される既定の日付も決定されます。

マイルストーンごとの収益を把握している場合は、認識日付に関係なくマイルストーン数の収益認識のスケジュールを作成することをお勧めします。 スケジュールを作成した後、予定されたマイルストーン日付を反映するように編集できます。 これらのレコードは、マイルストーンが達成されたことを示すメッセージが表示され収益を認識できるようになるまで、保留状態にすることができます。

収益スケジュールは、**収益スケジュール** ページ (**収益認識 \> 設定 \> 収益スケジュール**) で作成されます。

[![収益スケジュール。](./media/revenue-recognition-revenue-schedules.png)](./media/revenue-recognition-revenue-schedules.png)

**収益スケジュール** および **説明** のフィールドに値を入力します。 次の追加設定は、請求書が転記されるときに収益スケジュールを作成するために使用されます。

- **発生回数** - 収益の遅延の月数または発生回数を入力します。
- **自動保留** - 請求書が転記されるときに収益スケジュールのすべての明細行が自動的に保留されるようにする場合は、このチェックボックスをオンにします。 明細行の繰延収益を認識するには、スケジュールの各行から保留を手動で削除する必要があります。
- **自動契約条項** - 契約の開始日と終了日が自動的に設定されるようにする場合は、このチェックボックスをオンにします。 これらの日付は、**契約の事後サポート** の収益タイプのリリース製品に対してのみ自動的に設定されます。 契約の開始日は、販売注文明細行の指定出荷日に自動的に設定され、契約終了日には、収益スケジュールの設定で定義されている月または月の数だけが自動的に開始日として設定されます。 たとえば、販売注文明細行の製品は 1 年間の保証に対応しています。 既定の収益スケジュールは **12M** (12か月) で、この収益スケジュールの **自動契約条項** チェックボックスがオンになっています。 販売注文明細行の出荷日が 2019 年 12 月 16 日に設定されている場合は、既定の契約の開始日が 2019 年 12 月 16 日に、既定の契約の終了日が 2020 年 12 月 15 日になります。
- **認識基準** - 収益額をどのように配賦するかは、認識基準によって決まります。

    - **日ごとの月次** - 各カレンダー月の実際の日付に基づいて、金額を配賦します。
    - **月次** - 発生回数で定義されている月数で、金額を均等に配賦します。
    - **発生回数** - この金額は出現時に均等に配賦されますが、認識規則として **実際の開始日** を選択した場合は追加期間を含めることができます。
    - **日ごとの会計期間** - 各会計期間の実際の日付に基づいて、金額を配賦します。 

         - 会計期間がカレンダー月に従う場合、**日ごとの月次** と **日ごとの会計期間** の結果は一致します。 唯一の例外は、認識規則を **月の最終日/期間** に設定した場合で、販売注文明細行の **契約の開始日** と **最終日** フィールドが空白になります。

- **認識規則** - 認識規則は、請求書の収益スケジュールに設定する日付を決定します。

    - **実際の開始日** - スケジュールは、契約の開始日 (契約の事後サポート \[PCS\] 品目) または請求日 (必須品目および必須でない品目) のいずれかを使用して作成されます。
    - **月の開始日/期間** – 最初のスケジュール明細行の日付は、契約の開始日 (または請求日) です。 ただし、それ以降のすべてのスケジュール明細行は、当月または会計期間の開始日に対して作成されます。
    - **月中の分割** - 最初のスケジュール明細行の日付は、請求日によって異なります。 請求書が最初に月の 15 日までに転記された場合は、その月の初日を使用して収益スケジュールが作成されます。 請求書が月の 16 日以降に転記された場合は、翌月の初日を使用して収益スケジュールが作成されます。

        - 認識基準を **日ごとの会計期間** に設定した場合は **月中の分割** を選択できません。

    - **翌月の開始日/期間** – スケジュールの開始日は、翌月または会計期間の開始日です。
    - **月の最終日/期間** – 最初のスケジュール明細行の日付は、契約の開始日 (または請求日) です。 ただし、それ以降のすべてのスケジュール明細行は、当月または会計期間の最終日に対して作成されます。 

**収益スケジュールの詳細** ボタンを選択して、期間ごとに認識される一般期間と割合を表示します。 既定では、**認識比率** の値が期間の数に対して等しく分割されます。 認識基準を **月次** に設定した場合は、認識比率を変更できます。 認識比率を変更すると、合計が 100% でないことを通知する警告メッセージが表示されます。 このメッセージが表示された場合は、明細行の編集を続行できます。 ただし、ページを閉じる前に合計の比率を 100 にする必要があります。

[![収益スケジュールの詳細。](./media/revenue-schedule-details-2nd-scrn.png)](./media/revenue-schedule-details-2nd-scrn.png)

## <a name="inventory-setup"></a>在庫の設定

販売注文でリリースされた製品の収益を識別することはできますが、伝票に品目が含まれていない場合は、販売注文または自由書式の請求書では販売カテゴリとは異なります。 リリースされた製品を設定する際に選択した内容によって、品目の収益をどのように認識するかが決まります。 たとえば、収益額を割り当てるかどうかと、収益スケジュールを使用して収益を繰延するかどうかを選択できます。

この設定は、**品目グループ** ページ (**収益認識 \> 設定 \> 在庫および 製品の設定 \> 品目グループ**) の **収益認識** クイック タブで開始できます。 このページには、複数の設定フィールドがあります。 これらのフィールドは、システムで作成された新しいリリース製品に対してのみ既定値を設定するために使用されます。 新しい製品が作成されると、ここで設定した値は、品目グループに対して既定で入力されます。 **リリースされた製品** ページ (**収益認識 \> 設定 \> 在庫および製品の設定 \> リリースされた製品**) では、リリースされた製品の既定値を上書きすることができます。 この場合、リリースされた製品に対して設定されている既定値が販売注文に繰り越されます。

## <a name="item-groups-and-released-products"></a>品目グループおよびリリースされた製品

### <a name="define-the-revenue-schedule"></a>収益スケジュールの定義

販売注文明細行の収益は、リリースされた製品に対して収益スケジュールが定義されていて、販売注文明細行で既定で使用されている場合に繰延になります。 この設定を製品の既定で使用する必要がある場合は、**品目グループ** ページ (**収益認識 \> 設定 \> 在庫および 製品の設定 \> 品目グループ**) の **収益認識** クイック タブで収益スケジュールを定義できます。 **リリースされた製品** ページ (**収益認識 \> 設定 \> 在庫設定 \> リリースされた製品**) の **収益認識** クイック タブで、リリースされた製品の設定を定義することもできます。

**収益スケジュール** フィールドで、収益を繰り延べる期間を表す収益スケジュールを選択します。 収益スケジュールは受注明細行に自動的に入力され、受注請求書の転記時にスケジュールの詳細が作成されます。

### <a name="define-the-revenue-price"></a>収益額の定義

品目グループおよびリリースされた製品は、価格の中央値メソッドまたは割引配賦メソッドのいずれかを使用して設定できます。 どちらのメソッドでも、**リリースされた製品** ページでさまざまな設定を行う必要があります。

- **収益の配賦を有効** - このオプションを **はい** に設定すると、リリースされた製品が収益配賦の計算に含められます。 このオプションを **いいえ** に設定すると、中央値が定義されている場合、リリースされた製品で中央値メソッドが使用されます。 価格の中央値が定義されていない場合は、販売注文明細行の単価を使用して販売または繰延収益に転記します。
- **収益タイプ** - リリースされた製品を定義する収益タイプを選択します。

    - **必須** - この品目は、組織の収益の主要なソースです。 この値が既定値です。
    - **必須でない** - この品目は、組織の収益の主要なソースではありません。 中央値の設定が使用される場合、価格は中央値に「分割され」、配賦されます。 たとえば、必須品目には、収益に対して認識される必要がある固定価格があります。 割引がある場合、割引は必須品目の収益から切り出される場合がありますが、固定価格の金額 **まで** となります。 その他の割引は、必須でない品目の収益から差し引かれます。 また、必須品目の収益から分割されない割引もあります。
    - **契約の事後サポート** - 品目は、顧客への販売に含まれる他の要素をサポートします。 収益額は、販売に含まれる必須および必須でない製品にわたって配分されます。 設定によっては、PCS 品目が販売注文明細行で契約の開始日と終了日を定義する必要がない場合があります。

- **分割から除外** - このオプションを **はい** に設定すると、品目の中央値は、定義されている最小割合未満、または最大割合を超える値に調整することはできないことを示します。 収益額は、販売注文に含まれる別のリリース済製品の収益額から算出されます。 このオプションを **いいえ** に設定すると、品目の中央価格が調整または分割されます。価格の中央値として設定されている複数の品目を販売する場合は、1 つ以上のリリース済製品を設定して、**分割から除外** オプションが **いいえ** に設定されている必要があります。 このようにすると、収益額の差額を配賦する品目が少なくとも 1 つ存在することになります。
- **価格の中央値** - このオプションを **はい** に設定すると、品目の収益額は、最大許容範囲を超えたときに、最小許容範囲を下回ったために価格を設定する必要があることを示します。分割金額は、**分割から除外** オプションが **いいえ** に設定されている製品がある明細行に配賦する必要があります。

    - **最大許容範囲** - 許容される価格の中央値を超える割合を入力します。
    - **最小許容範囲** - 許容される価格の中央値未満の割合を入力します。

リリースされた製品の設定のコンフィギュレーションが完了したら、**収益額** のページ (**収益認識 \> 設 \> 在庫設定 \> リリースされた製品** に移動し、操作ウィンドウ、**販売** タブ、**収益認識** グループで **収益額** を選択)で公正価値価格または価格の中央値 (価格の中央値メソッドを使用している場合) を入力して、収益額を手動で定義する必要があります。

[![収益額。](./media/revenue-recognition-revenue-prices.png)](./media/revenue-recognition-revenue-prices.png)

このページで手動で定義された収益額は、定義された基準に基づいて各販売注文の収益額の配賦を決定するために使用されます。 各基準は、配賦プロセスで使用する収益額を決定するために販売注文明細行と照合されます。

- **品目コード** および **商品関係** - 収益額は、個々の製品または製品のグループに対して定義できます。 **品目コード** フィールドで **テーブル** を選択した場合は、**商品関係** フィールドでリリースされた製品を選択します。 **品目コード** フィールドで **グループ** を選択した場合は、**商品関係** フィールドでリリースされた品目グループを選択します。
- **勘定科目コード** と **勘定/グループ番号** - 収益額は、すべての顧客、個々の顧客、または顧客のグループに対して定義できます。 **勘定科目コード** フィールドで **すべて** を選択した場合は、すべての顧客に対して価格が使用されます。 **勘定科目コード** フィールドで **テーブル** を選択した場合は、**勘定/グループ番号** フィールドで顧客を選択します。 **勘定科目コード** フィールドで **グループ** を選択した場合は、**勘定/グループ番号** フィールドでグループを選択します。
- **通貨** - 販売注文を入力する通貨ごとに別の収益額を入力する必要があります。 たとえば、現在米国ドル、カナダドル、およびユーロで販売している場合は、3 つの通貨すべてで収益額を定義する必要があります。 収益額は、会計通貨などの 1 つの通貨から、使用している他の通貨通貨に変換されることはありません。
- **金額または定価の割合** - 収益額を金額として設定するか、定価の割合として設定するかを指定します。 **定価の割合** を選択した場合は、ユーザーは金額ではなく定価の割合として中央値を入力できます。 **定価の割合** の値は、PCS 品目として設定されているリリース済製品に対してのみ使用されます。
- **収益配賦額** - **金額または定価の割合** フィールドで選択した値に応じて、販売注文の要素全体に収益を配賦するために使用される収益額を表す金額または割合のいずれかを入力します。
- **開始日** および **終了日** - 収益額が有効な日付範囲を入力します。 これらのフィールドはオプションです。

**一般会計パラメーター** ページの **割引配賦メソッドを有効にする** オプションが **はい** " に設定されており、リリースされた製品の **収益タイプ** フィールドが **契約の事後サポート** に設定されている場合、リリース済製品でサポートされている品目も指定する必要があります。 この設定は、**設定基準** ページ (**収益認識 \> 設定 \> 在庫設定 \> リリース済製品** に移動し、操作ウィンドウ、**販売** タブ、**収益認識** グループ、で **設定基準** を選択) で行います。

**設定基準** ページで、品目がサポートしている各品目グループのレコードを追加します。 収益の配賦が発生すると、収益額は PCS 品目の必須および必須ではない部分に配分されます。

### <a name="posting-profiles"></a>転記プロファイル

3 つの追加の転記タイプは、収益を繰り延べる機能をサポートしています。 これらの転記タイプは、**転記** ページ (**収益認識 \> 設定 \> 在庫および 製品の設定 \>転記**) の **販売注文** タブで設定されます。

- **繰延収益** - 収益の代わりに繰延売上に転記される収益額の主勘定を入力します。 販売注文明細行に収益スケジュールが設定されている場合は、収益額が繰り延べられます。
- **売却済商品の繰延原価** - 収益も繰り延べた場合に、転記する品目の販売原価の売却額の主勘定を入力します。
- **請求書収益の一部決済** - 販売注文の一部が決済されたとき、または再配賦が発生したときに使用される決済勘定の主勘定を入力します。 販売注文が全額請求されると、この勘定の残高は 0 (ゼロ) に戻ります。

### <a name="bundles"></a>バンドル

バンドル品目は、コンポーネントが含まれるように設定された固有のリリース済製品です。 この設定は、部品表 (BOM) 機能を使用して行われます。 販売注文にバンドル品目を入力すると、個々のコンポーネントを使用して、収益額と収益スケジュールが決定されます。 ただし、販売注文や請求書など、顧客向けに印刷される伝票には、バンドル品目が反映されます。

#### <a name="bundle-components"></a>コンポーネントのバンドル

バンドルに含まれるコンポーネントは、**リリース済製品** ページ (**収益認識 \> 設定 \> 在庫および製品の設定 \> リリース済製品**) で設定する必要があります。 これらのコンポーネントはリリース済の製品であり、BOM に含まれている製品と同じメソッドで設定する必要があります。 たとえば、リリース済製品は、**品目** タイプまたは **サービス** タイプのいずれかの項目にすることができますが、**在庫製品** オプションが **はい** に設定されている品目モデルグループに割り当てる必要があります。 詳細については、BOM 品目の設定ドキュメントドキュメントを参照してください。

また、コンポーネントは、販売注文で個別に販売できる製品であるかのように、収益認識のために設定されている必要があります。 たとえば、各コンポーネントに対して適切な収益額が定義されていること、および PCS 品目に対して価格基準が設定されていることを確認してください。

#### <a name="bundle-items"></a>品目のバンドル

バンドル品目を設定する場合は、**リリース済製品** ページ (**収益認識 \> 設定 \> 在庫および製品の設定 \> リリース済製品**) の 2 つのフィールドを設定する必要があります。

- **エンジニア** クイック タブの **生産タイプ** フィールドで、品目を BOM 品目として設定する必要があります。
- **一般** クイック タブの **バンドル** フィールドで、品目がバンドル品目としてマークされている必要があります。

次に、**BOM バージョン** ページ (**収益認識 \> 設定 \> 在庫および製品の設定 \> リリース済製品** に移動し、操作ウィンドウ、**エンジニア**、**BOM** グループで、**BOM バージョン** を選択) のバンドル/BOM 親品目にコンポーネントを割り当てる必要があります。 詳細については、BOM の設定ドキュメントを参照してください。

[![リリース済製品、BOM スケジュール。](./media/revenue-recognition-bom-scheduleds.jpg)](./media/revenue-recognition-bom-scheduleds.jpg)

バンドルの親品目とバンドル コンポーネントを配賦に設定すると、その収益比率に基づいてバンドルの収益額がコンポーネントに配分されます。

## <a name="project-setup"></a>プロジェクトの設定

収益認識は、時間/実費払プロジェクトを使用して作成された販売注文に対しても使用できます。 プロジェクトから発生した販売注文については、プロジェクト請求書の転記に使用されるプロジェクトの転記プロファイルで主勘定を定義するだけです。 主勘定は、**元帳転記の設定** ページ (**収益認識 \> 設定 \> プロジェクトの設定 \> 元帳転記の設定**) で定義されます。

- **請求書の繰延収益** (**収益勘定** の下) - 収益の代わりに繰延収益に転記される収益額の主勘定を入力します。 販売注文明細行に収益スケジュールが設定されている場合は、収益額が繰り延べられます。
- **繰延原価t** (**原価会計** の下) - 収益も繰り延べた場合に、転記する品目の販売原価の売却額の主勘定を入力します。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]

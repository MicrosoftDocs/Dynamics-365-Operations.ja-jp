---
title: 顧客請求書の作成
description: 販売注文の顧客請求書は、売上に関連し、組織が顧客に提供する請求書です。
author: ShivamPandey-msft
ms.date: 03/04/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: CustFreeInvoice
audience: Application User
ms.reviewer: twheeloc
ms.custom: 77772
ms.assetid: 00b4b40c-1576-4098-9aed-ac376fdeb8c5
ms.search.region: Global
ms.author: shpandey
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: a0d1221e07f6dc4a5a99aa205c4a7f6fb367f000
ms.sourcegitcommit: cf6b764824bd1cf2c0dde6d37ddd0a7abab87ff0
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/16/2022
ms.locfileid: "9780504"
---
# <a name="create-a-customer-invoice"></a>顧客請求書の作成

[!include [banner](../includes/banner.md)]

**販売注文の顧客請求書** は、売上に関連し、組織が顧客に提供する請求書です。 この種類の顧客請求書は、注文明細行および品目番号を含む販売注文に基づいて作成されます。 品目番号が指定され、元帳に転記されます。 補助元帳仕訳帳は、販売注文の顧客請求書では使用できません。 詳細については、「[販売注文請求書の作成](tasks/create-sales-order-invoices.md)」を参照してください。

**自由書式の請求書** は販売注文に関連しません。 この請求書には、勘定科目、自由書式の説明、および自分で入力する売上金額を含む注文明細行が含まれています。 この種類の請求書では、品目番号を入力することはできません。 適切な売上税情報を入力する必要があります。 販売の主勘定は、各請求明細行に表示されます。その明細行は、**自由書式の請求書** ページの **金額の配分** をクリックすると、複数の勘定科目に配分できます。 また、顧客残高は自由書式の請求書に使用される転記プロファイルの集計勘定に転記されます。

詳細については、以下を参照してください。
 - [自由書式の請求書の作成](../accounts-receivable/create-free-text-invoice-new.md)
 - [自由書式の請求書テンプレートの作成](../accounts-receivable/create-free-text-invoice-template-new.md)
 - [自由書式の請求書のテンプレートを顧客へ割り当てる](tasks/assign-free-text-invoice-template-customer.md)
 - [定期的な自由書式の請求書の生成と転記](tasks/post-recurring-free-text-invoices.md)


**見積もり送り状** は、請求書が転記される前に実際の請求金額の見積として準備される請求書です。 販売注文の顧客請求書または自由書式の請求書のいずれかに **見積もり送り状** を印刷できます。 

>[!NOTE]
> 販売見積もり送り状プロセス中にシステムが中断した場合は、見積もり送り状が孤立する可能性があります。 孤立した見積もり送り状は、**見積もり送り状の手動削除** の定期ジョブを実行することにより削除できます。 **販売とマーケティング > 定期処理タスク > クリーンアップ > 見積もり送り状の手動削除** に移動します。

## <a name="using-sales-order-customer-invoice-data-entities"></a>販売注文の顧客請求書データ エンティティの使用
データ エンティティを使用して、販売注文の顧客請求書に関する情報をインポート/エクスポートできます。 売上請求書ヘッダーと売上請求明細行の情報には、さまざまなエンティティがあります。

売上請求書ヘッダーの情報を表示できるエンティティは次のとおりです:

- **売上請求書の仕訳帳ヘッダー** エンティティ (SalesInvoiceJournalHeaderEntity)
- **売上請求書ヘッダー V2** エンティティ (SalesInvoiceHeaderV2Entity)

**売上請求書仕訳帳ヘッダー** エンティティを使用することをお勧めします。これによって、売上ヘッダーのインポートとエクスポートのパフォーマンスが向上します。 このエンティティには、売上請求書ヘッダーの売上税額を表す **売上税金額** (INVOICEHEADERTAXAXAXA) 列が含まれません。 業務シナリオで情報が必要な場合は、**売上請求書ヘッダー V2 エンティティ** を使用して売上請求書ヘッダー情報をインポート/エクスポートします。

売上請求書明細行の情報を表示できるエンティティは次のとおりです:

- **顧客請求明細行** エンティティ (BusinessDocumentSalesInvoiceLineItemEntity)
- **売上請求明細行 V3** エンティティ (SalesInvoiceLineV3Entity)

エクスポートに使用するライン エンティティを決定する場合は、完全なプッシュと差分プッシュのどちらを使用するか検討します。 また、データ合成を考慮します。 **売上請求明細行 V3** エンティティは、より複雑なシナリオ (在庫フィールドへのマッピングなど) をサポートします。 また、完全なプッシュのエクスポート シナリオにも対応しています。 差分プッシュの場合は、**顧客請求明細行** エンティティを使用することをお勧めします。 このエンティティには、**売上請求書明細行 V3** エンティティよりもはるかにシンプルなデータ構成が含まれており、特に在庫フィールドの統合が必要でない場合は、このエンティティを使用することをお勧めします。 明細行エンティティ間のマッピングサポートの違いにより、**顧客請求明細行** エンティティは、通常、**売上請求明細行 V3** エンティティよりも高速なパフォーマンスを発揮します。

## <a name="post-and-print-individual-customer-invoices-that-are-based-on-sales-orders"></a>販売注文に基づく個々の顧客請求書の転記および印刷
販売注文に基づいて請求書を作成するには、次のプロセスを使用します。 商品やサービスを提供する前に、顧客に請求することに決めた場合に、これを行うことがあります。 

請求書を転記すると、各品目の **請求残金** の数量は、選択した販売注文の請求された数量の合計で更新されます。 販売注文のすべての品目の **請求残金** の数量と **出荷更新待ち** の数量が両方とも 0 (ゼロ) の場合、販売注文のステータスが **請求済** に変更されます。 **請求残金** の数量が 0 (ゼロ) でない場合は、販売注文のステータスが変更されず、追加の請求書を入力できます。

**すべての販売注文** リスト ページで、販売注文のステータスを確認できます。 転記済みの請求書を表示するには、**未処理の顧客請求書** リスト ページを使用します。

## <a name="post-and-print-individual-customer-invoices-that-are-based-on-packing-slips-and-the-date"></a>梱包明細と日付に基づく個々の顧客請求書の転記および印刷
販売注文に対して 1 つ以上の梱包明細が転記されている場合に、このプロセスを使用します。 それらの梱包明細に基づいて顧客請求書が作成され、その数量が反映されます。 請求書の財務情報は、請求書の転記時に入力する情報に基づいて指定されます。 

特定の販売注文の品目すべてが出荷されていなくても、それまでに出荷された梱包明細行の品目に基づいて顧客請求書を作成することができます。 たとえば、法人で各顧客に対してその月のすべての出荷を網羅した 1 つの請求書を月ごとに発行する場合などにこの機能を使用できます。 各梱包明細は、販売注文の品目の一部またはすべての出荷を表します。 

請求書を転記すると、各品目の **請求残金** の数量は、選択した梱包明細の出荷された数量の合計で更新されます。 販売注文のすべての品目の **請求残金** の数量と **出荷更新待ち** の数量が両方とも 0 (ゼロ) の場合、販売注文のステータスが **請求済** に変更されます。 **請求残金** の数量が 0 (ゼロ) でない場合は、販売注文のステータスが変更されず、追加の請求書を入力できます。 

在庫トランザクションが請求書番号で更新され、販売注文の **行ステータス** フィールドのステータスが **請求済** に変更されます。 

**すべての販売注文** リスト ページ上で、販売注文のステータスを確認します。

## <a name="consolidate-sales-orders-or-packing-slips-for-posting"></a>転記のための販売注文または梱包明細の連結
1 つ以上の販売注文の請求の準備が整っていて、1 つの請求書に連結する場合に、このプロセスを使用します。 

**販売注文** リスト ページの複数の請求書を選択し、**請求書の生成** を使用して連結します。 **請求の転記** ページで、**注文集計表** 設定を変更して、注文番号 (1 つの販売注文に対して複数の梱包明細がある場合) や請求先 (1 つの請求先/元 ID に対して複数の販売注文がある場合) で集計できます。 **調整** ボタンを使用すると、**注文集計表** に基づいて販売注文を 1 つの請求書に連結します。

## <a name="split-sales-order-invoices-by-site-and-delivery-information"></a>サイトおよび配送情報による販売注文請求書の分割
**売掛金勘定パラメーター** ページの **集計の更新** タブで販売注文顧客請求書の分割をサイト別または配送先住所別に構成できます。 
 - 転記時にサイトごとに 1 つの請求書を作成するには、**請求サイトに基づいて分割** オプションを選択します。 
 - 転記時に販売注文明細行の配送先住所ごとに 1 つの請求書を作成するには、**請求書の配送情報に基づいて分割** オプションを選択します。 

## <a name="post-to-revenue-account-for-sales-order-lines-that-have-no-price-and-no-cost"></a>価格も原価もない販売注文の明細行に対して収益勘定に転記する
価格も原価もない販売注文明細行について、**一般会計** の **収益** 勘定を更新するオプションがあります。 

この情報を設定または表示するには:
1. **売掛金勘定パラメーター** ページの **元帳と売上税** タブにある、**ゼロ価格とゼロ原価の販売注文請求書明細行に対して収益勘定に転記** パラメーターに移動します。 (**売掛金勘定 > 設定 > 売掛金勘定パラメーター**)。 
2. **はい** を選択すると、価格と原価のない売上注文の請求書行の **収益** 勘定が更新されます。 
 - このオプションが選択されている場合、伝票には、**顧客残高** および **収益** の転記タイプに対する 0.00 エントリが含まれている必要があります。 収益勘定は、**在庫の転記** パラメーター ページの **販売注文** 勘定の定義タブで定義します。 
 - このオプションが選択されていない場合、価格または原価情報を含まない明細行は **収益** 勘定に転記されません。 代わりに、**顧客残高** 転記タイプの 0.00 エントリ が伝票に含まれる必要があります。

## <a name="line-creation-sequence-number-information"></a>行作成順序番号の情報
顧客請求書明細行を転記する場合、連続した行作成順序番号を作成できます。 行作成順序番号は、転記プロセス中に割り当てられます。 連続しない番号付けを許可することで、顧客請求書転記のパフォーマンスを向上させることができます。 行作成順序番号は、連続する順序を必要とするサード パーティの統合で使用できます。 行作成順序番号と統合する可能性がある拡張機能について、IT 部門に問い合わせください。

この情報を設定または表示するには、**売掛金勘定パラメータ** ページの **更新** タブで、**顧客請求明細行の転記時に連続する行番号を割り当てる** オプションを設定します。

- オプションを **いいえ** に設定し、行作成順序番号に連続しない番号付けを使用します。
- オプションを **はい** に設定し、連番を使用します。 法人の場合、オプションを **はい** に設定し、イタリアで基本住所を持つ必要があります。 また、**CustInvoiceTransRandLineCreationSeqNumFlight** フライト化を無効にした場合も、オプションを **はい** に設定する必要があります。

## <a name="additional-settings-that-change-the-posting-behavior"></a>転記動作を変更する追加設定
次のフィールドで転記プロセスの動作を変更します。

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>フィールド</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>件数</td>
<td>ドキュメントの転記の基になる数量を選択します。 使用できるオプションは、転記するドキュメントのタイプ (梱包明細や請求書など) によって異なります。
<ul>
<li><strong>今回出荷数量</strong> – <strong>今回出荷数量</strong> フィールドに入力したすべての数量を選択します。 部分注文の確認または配送を行う場合は、このオプションを使用します。</li>
<li><strong>ピッキング済</strong> – ピッキングされたすべての数量を選択します。</li>
<li><strong>すべて</strong> – 現在のドキュメント タイプによって更新されていないすべての販売注文数量を選択します。&#39;</li>
<li><strong>梱包明細</strong> – 梱包明細で更新されたすべての数量を選択します。</li>
<li><strong>ピッキング済数量で、在庫製品ではありません</strong> – ピッキング済のすべての数量および在庫にないすべての数量を選択します&#39;。</li>
</ul></td>
</tr>
<tr class="even">
<td>転記</td>
<td><ul>
<li>発注書の仕訳を行うには、このオプションを選択します。</li>
<li>見積販売注文を印刷するには、このオプションの選択を解除します。 <strong>注記:</strong> 支払スケジュールに関する契約がある場合、支払スケジュールは見積販売注文に表示されません&#39;。 支払スケジュールは実際の販売注文にのみ表示されます。</li>
</ul></td>
</tr>
<tr class="odd">
<td>遅延選択</td>
<td>後で選択するクエリを適用するには、このオプションを選択します。 このオプションはバッチ ジョブに使用されます。 クエリは、バッチ ジョブの実行時に実行されます。</td>
</tr>
<tr class="even">
<td>数量の削減</td>
<td>出荷済数量が利用可能在庫と等しくなるように、ドキュメントの転記時に自動的に出荷済数量を減らすには、このオプションを選択します。</td>
</tr>
<tr class="odd">
<td>印刷</td>
<td>ドキュメントをいつ印刷するかを選択します。
<ul>
<li><strong>現在</strong> – 請求書ごとに更新された後でドキュメントを印刷します。</li>
<li><strong>変更後</strong> – すべての請求書が更新された時点でドキュメントを印刷します。</li>
</ul>
<strong>注記:</strong> <strong>請求書の印刷</strong>、<strong>確認の印刷</strong>、<strong>ピッキング リストの印刷</strong>、または <strong>梱包明細の印刷</strong> オプションを選択した場合にのみ、<strong>印刷</strong> フィールドを使用することができます。 たとえば、<strong>フォームの並べ替え</strong>ページで、請求先/元 ID ごとに情報を並べ替えるようにシステムを設定したとします。 <strong>変更後</strong> を選択して、請求先/元 ID ごとにドキュメントをバッチ印刷することができます。 それ以外の場合、ドキュメントは処理が完了する前に印刷され、ドキュメントは<strong>フォームの並べ替え</strong>ページ指定された順序では並べ替えられません&#39;。</td>
</tr>
<tr class="even">
<td>請求書の印刷</td>
<td>請求書を印刷するには、このオプションを選択します。 このオプションをオフにすると、印刷しないで請求書を転記できます。</td>
</tr>
<tr class="odd">
<td>電子メールの送信</td>
<td>請求書の転記後に電子メール添付ファイルで顧客に販売注文の請求書を送信する場合、このオプションを選択します。 添付ファイルは PDF および XML ファイルで送信されます。 このオプションは、<strong>電子請求書のパラメーター</strong> ページの <strong>CFD (電子請求書) の有効化</strong> オプションを選択している場合にのみ使用できます。 <strong>注記:</strong> (MEX) このコントロールは、基本住所がメキシコにある法人にのみ使用可能です。</td>
</tr>
<tr class="even">
<td>印刷管理先の使用</td>
<td><strong>印刷管理の設定</strong>ページのトランザクション、ドキュメント、またはモジュールに対して指定されている印刷設定を使用する場合、このオプションを選択します。</td>
</tr>
<tr class="odd">
<td>与信限度額の確認</td>
<td>与信限度額チェックの実行時に分析する必要のある情報を選択します。
<ul>
<li><strong>なし</strong> – 与信限度額の確認に対する要件はありません。</li>
<li><strong>残高</strong> – 与信限度額が顧客残高と照らしてチェックされます。</li>
<li><strong>残高 + 梱包明細または製品受領書</strong> – 顧客残高および出荷に照らして与信限度額をチェックします。</li>
<li><strong>残高 + すべて</strong>: 与信限度額が顧客残高、出荷、および未処理注文に照らしてチェックされます。</li>
</ul></td>
</tr>
<tr class="even">
<td>貸方訂正</td>
<td>訂正票を伝票トランザクションの借方として表示するには、このオプションを選択します。</td>
</tr>
<tr class="odd">
<td>残余数量を貸方転記</td>
<td>訂正票を転記している場合は、このオプションを選択して注文の残余数量を維持します。 このオプションの選択を解除すると、残余数量は 0 (ゼロ) に設定されます。</td>
</tr>
<tr class="even">
<td>集計更新</td>
<td>複数の販売注文を集計する方法を選択します。
<ul>
<li><strong>なし</strong> – 販売注文を集計しません&#39;。 たとえば、販売注文ごとに個別の請求書を作成します。</li>
<li><strong>請求先/元 ID</strong> – <strong>集計更新パラメーター</strong> ページに設定されている条件に基づいて、選択されているすべての注文を集計します。</li>
<li><strong>注文</strong>: 選択した範囲の注文を、指定した 1 つの注文に集計します。 注文は、<strong>集計更新パラメーター</strong> ページに設定されている条件に基づいて集計されます。 このオプションを選択した場合、<strong>販売注文</strong>フィールドの値を選択する必要があります。</li>
<li><strong>自動集計</strong> – <strong>集計の更新</strong>ページで集計更新が指定されている場合、選択されているすべての注文が、<strong>集計更新パラメーター</strong> ページに設定されている条件に基づいて集計されます。 集計更新が指定されていない場合、注文は個別に転記されます&#39;。</li>
<li><strong>梱包明細</strong> – 選択した範囲の注文を、梱包明細ごとに 1 つの請求書に集計します。 このオプションは、<strong>数量</strong> フィールドで <strong>梱包明細</strong>が選択されている場合にのみ使用できます。</li>
</ul></td>
</tr>
</tbody>
</table>







[!INCLUDE[footer-include](../../includes/footer-banner.md)]

---
title: 電子メッセージ
description: このトピックでは、Microsoft Dynamics 365 Finance の電子メッセージの概要および設定情報を提供します。
author: ShylaThompson
manager: AnnBe
ms.date: 11/16/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: roschlom
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: roschlom
ms.search.validFrom: 2018-10-28
ms.dyn365.ops.version: 8.0999999999999996
ms.openlocfilehash: b5887efc32c71759e4cb3c31e1b18c4c8b64f173
ms.sourcegitcommit: 199848e78df5cb7c439b001bdbe1ece963593cdb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/13/2020
ms.locfileid: "4445291"
---
# <a name="electronic-messaging"></a><span data-ttu-id="41057-103">電子メッセージ</span><span class="sxs-lookup"><span data-stu-id="41057-103">Electronic messaging</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="41057-104">このトピックでは、電子メッセージの概要および設定情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="41057-104">This topic provides overview and setup information for electronic messaging.</span></span>

<span data-ttu-id="41057-105">最近では、世界中の様々な国や地域の政府および立法当局が、それらの国または地域に登録されている企業の報告要件を実施しています。</span><span class="sxs-lookup"><span data-stu-id="41057-105">Recently, the governments and legislative authorities of various countries and regions around the world have implemented reporting requirements for companies that are registered in those countries or regions.</span></span> <span data-ttu-id="41057-106">要件の目的は、それらの企業から電子フォーマットで、会計、保管、処理されたシステムから直接、データを取得できるようにするためです。</span><span class="sxs-lookup"><span data-stu-id="41057-106">The purpose of the requirements is to enable data to be obtained from those companies in electronic format, directly from the systems where it was accounted, stored, and processed.</span></span>

<span data-ttu-id="41057-107">Finance の電子メッセージ機能は、Finance と、政府および立法当局が提供する公式情報の報告、送信および受信のために提供するシステムの間の様々な電子相互運用をサポートします。</span><span class="sxs-lookup"><span data-stu-id="41057-107">The Electronic messages functionality in Finance supports various processes for electronic interoperation between Finance and the systems that governments and legislative authorities offer for reporting, submitting, and receiving official information.</span></span>

<span data-ttu-id="41057-108">電子メール機能は、**電子申告** (ER) モジュールと統合されています。</span><span class="sxs-lookup"><span data-stu-id="41057-108">The Electronic messages functionality is integrated with the **Electronic Reporting** (ER) module.</span></span> <span data-ttu-id="41057-109">そのため、電子メッセージの ER 形式を設定することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-109">Therefore, you can set up ER formats for electronic messages.</span></span> <span data-ttu-id="41057-110">詳細については、[電子申告 (ER)](https://docs.microsoft.com/dynamics365/unified-operations/dev-itpro/analytics/general-electronic-reporting)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="41057-110">For more information, see [Electronic reporting (ER)](https://docs.microsoft.com/dynamics365/unified-operations/dev-itpro/analytics/general-electronic-reporting).</span></span>

<span data-ttu-id="41057-111">電子メッセージは、次のエンティティに基づいています。</span><span class="sxs-lookup"><span data-stu-id="41057-111">Electronic messaging is based on the following entities:</span></span>

- <span data-ttu-id="41057-112">**電子メッセージ** – 内部でレポートおよび/または送信されるべきレポートまたは申告。</span><span class="sxs-lookup"><span data-stu-id="41057-112">**Electronic message** – A report or declaration that should be reported and/or transmitted internally.</span></span> <span data-ttu-id="41057-113">税務署に送付されるレポートがその一例です。</span><span class="sxs-lookup"><span data-stu-id="41057-113">An example is a report that is sent to a tax office.</span></span>
- <span data-ttu-id="41057-114">**電子メッセージ項目** – レポートされるメッセージに含める必要があるレコード。</span><span class="sxs-lookup"><span data-stu-id="41057-114">**Electronic message items** – Records that should be included in the message that is reported.</span></span>
- <span data-ttu-id="41057-115">**電子メッセージの処理** – 必要なデータを収集し、レポートを生成し、Microsoft Azure BLOB ストレージにデータを格納し、システム外部にレポートを送信し、システム外部から応答を受信し、受信した情報に基づいてデータベースを更新する一連のアクション。</span><span class="sxs-lookup"><span data-stu-id="41057-115">**Electronic message processing** – A chain of actions that should be run to collect the required data, generate reports, store data in Microsoft Azure Blob storage, transmit reports outside the system, receive responses from outside the system, and, based on the information that is received, update the database.</span></span> <span data-ttu-id="41057-116">チェーンのアクションはリンクされていても、リンク解除されていてもよい</span><span class="sxs-lookup"><span data-stu-id="41057-116">The actions in the chain can be either linked or unlinked</span></span>

<span data-ttu-id="41057-117">次の図は、電子メッセージのデータのフローを示しています。</span><span class="sxs-lookup"><span data-stu-id="41057-117">The following illustration shows the flow of data for electronic messaging.</span></span>

![電子メッセージのデータ フロー](media/electronic-messaging-data-flow.png)

<span data-ttu-id="41057-119">電子メッセージ機能は、次のシナリオをサポートしています。</span><span class="sxs-lookup"><span data-stu-id="41057-119">The Electronic messages functionality supports the following scenarios:</span></span>

- <span data-ttu-id="41057-120">Microsoft Excel、XML、JavaScript Object Notation (JSON)、PDF、テキスト、および Microsoft Word など、様々なタイプの関連するエクスポート ER 形式に基づいて、メッセージを手動で作成し、レポートを生成します。</span><span class="sxs-lookup"><span data-stu-id="41057-120">Manually create messages, and generate reports that are based on associated exporting ER formats of various types: Microsoft Excel, XML, JavaScript Object Notation (JSON), PDF, text, and Microsoft Word.</span></span>
- <span data-ttu-id="41057-121">関連するインポート ER 形式を経由して機関から要求および受信されたメッセージを、自動的に作成し処理します。</span><span class="sxs-lookup"><span data-stu-id="41057-121">Automatically create and process messages that are based on information that was requested and received from an authority via an associated importing ER format.</span></span>
- <span data-ttu-id="41057-122">メッセージ項目として、データ ソースからの情報を収集し処理します。</span><span class="sxs-lookup"><span data-stu-id="41057-122">Collect and process information from a data source as message items.</span></span> <span data-ttu-id="41057-123">データ ソースは、Finance テーブルです。</span><span class="sxs-lookup"><span data-stu-id="41057-123">The data source is a Finance table.</span></span>
- <span data-ttu-id="41057-124">追加の情報を格納し、メッセージまたはメッセージ項目に関連して特別に定義された実行可能なクラスを呼び出すことによってさまざまな値を評価します。</span><span class="sxs-lookup"><span data-stu-id="41057-124">Store additional information, and evaluate various values by calling specifically defined executable classes in relation to messages or message items.</span></span>
- <span data-ttu-id="41057-125">メッセージ項目に収集された情報を集計し、その情報をメッセージごとに分割し、関連するエクスポート ER 形式のレポートを生成します。</span><span class="sxs-lookup"><span data-stu-id="41057-125">Aggregate information that is collected in message items, split that information by message, and generate reports that are in associated exporting ER formats.</span></span>
- <span data-ttu-id="41057-126">Azure Key Vault に格納されているセキュリティ情報を使用して、生成されたレポートをWeb サービスに送信します。</span><span class="sxs-lookup"><span data-stu-id="41057-126">Transmit the reports that are generated to a web service by using security information that is stored in Azure Key Vault.</span></span>
- <span data-ttu-id="41057-127">必要に応じて、Web サービスからの応答の受信、応答の解釈、Finance のデータの更新を行います。</span><span class="sxs-lookup"><span data-stu-id="41057-127">Receive a response from a web service, interpret the response, and update data in Finance as appropriate.</span></span>
- <span data-ttu-id="41057-128">生成されたすべてのレポートを格納して確認します。</span><span class="sxs-lookup"><span data-stu-id="41057-128">Store and review all the reports that are generated.</span></span>
- <span data-ttu-id="41057-129">メッセージまたはメッセージ項目に対して実行されるアクションに関連するすべてのログ情報を格納して確認します。</span><span class="sxs-lookup"><span data-stu-id="41057-129">Store and review all the log information that is related to actions that are run for a message or message item.</span></span>
- <span data-ttu-id="41057-130">さまざまなメッセージの状態およびメッセージ項目の状態を使用して、処理をコントロールします。</span><span class="sxs-lookup"><span data-stu-id="41057-130">Control the processing through various message statuses and message item statuses.</span></span>

## <a name="set-up-electronic-messaging"></a><span data-ttu-id="41057-131">電子メッセージの設定</span><span class="sxs-lookup"><span data-stu-id="41057-131">Set up electronic messaging</span></span>

<span data-ttu-id="41057-132">電子メッセージは、さまざまなドキュメント タイプに対してさまざまな電子レポート処理を維持するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="41057-132">Electronic messaging can help you maintain different electronic reporting processes for different document types.</span></span> <span data-ttu-id="41057-133">いくつかの複雑なシナリオでは、電子メッセージは、多くのメッセージの状態、メッセージ項目の状態、アクション、追加フィールド、および実行可能なクラスの組み合わせを持つように設定されています。</span><span class="sxs-lookup"><span data-stu-id="41057-133">In some complex scenarios, electronic messaging is set up so that it has a combination of many message statuses, message items statuses, actions, additional fields, and executable classes.</span></span> <span data-ttu-id="41057-134">このようなシナリオでは、データ エンティティのパッケージをインポートすることができます。</span><span class="sxs-lookup"><span data-stu-id="41057-134">For these scenarios, packages of data entities are available for import.</span></span> <span data-ttu-id="41057-135">これらのデータ エンティティのパッケージを使用する場合は、データ管理ツールを使用して法人にそれらをインポートする必要があります。</span><span class="sxs-lookup"><span data-stu-id="41057-135">If you use these data entity packages, you should import them to a legal entity by using the Data management tool.</span></span> <span data-ttu-id="41057-136">データ管理ツールの使用方法の詳細については、[データ管理](../../dev-itpro/data-entities/data-entities-data-packages.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="41057-136">For more information about how to use the Data management tool, see [Data management](../../dev-itpro/data-entities/data-entities-data-packages.md).</span></span>

<span data-ttu-id="41057-137">データ エンティティのパッケージをインポートしない場合は、電子メッセージ機能を手動で設定することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-137">If you don't import a data entity package, you can manually set up the Electronic messages functionality.</span></span> <span data-ttu-id="41057-138">この場合は、次の要素を設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="41057-138">In this case, you must set up the following elements:</span></span>

- [<span data-ttu-id="41057-139">番号順序</span><span class="sxs-lookup"><span data-stu-id="41057-139">Number sequences</span></span>](#number-sequences)
- [<span data-ttu-id="41057-140">メッセージ項目タイプと状態</span><span class="sxs-lookup"><span data-stu-id="41057-140">Message item types and statuses</span></span>](#message-item-types-and-statuses)
- [<span data-ttu-id="41057-141">メッセージ状態</span><span class="sxs-lookup"><span data-stu-id="41057-141">Message statuses</span></span>](#message-statuses)
- [<span data-ttu-id="41057-142">追加フィールド</span><span class="sxs-lookup"><span data-stu-id="41057-142">Additional fields</span></span>](#additional-fields)
- [<span data-ttu-id="41057-143">実行可能なクラスの設定</span><span class="sxs-lookup"><span data-stu-id="41057-143">Executable class settings</span></span>](#executable-class-settings)
- [<span data-ttu-id="41057-144">レコード アクションの設定</span><span class="sxs-lookup"><span data-stu-id="41057-144">Populate records actions</span></span>](#populate-records-actions)
- [<span data-ttu-id="41057-145">Web アプリケーション</span><span class="sxs-lookup"><span data-stu-id="41057-145">Web applications</span></span>](#web-applications)
- [<span data-ttu-id="41057-146">Web サービスの設定</span><span class="sxs-lookup"><span data-stu-id="41057-146">Web service settings</span></span>](#web-service-settings)
- [<span data-ttu-id="41057-147">メッセージ処理アクション</span><span class="sxs-lookup"><span data-stu-id="41057-147">Message processing actions</span></span>](#message-processing-actions)
- [<span data-ttu-id="41057-148">電子メッセージの処理</span><span class="sxs-lookup"><span data-stu-id="41057-148">Electronic message processing</span></span>](#electronic-message-processing)

<span data-ttu-id="41057-149">次のセクションでは、これらの各要素の詳細について説明します。</span><span class="sxs-lookup"><span data-stu-id="41057-149">The following sections provide more information about each of these elements.</span></span>

### <a name="number-sequences"></a><span data-ttu-id="41057-150">番号順序</span><span class="sxs-lookup"><span data-stu-id="41057-150">Number sequences</span></span>

<span data-ttu-id="41057-151">メッセージおよびメッセージ項目両方の番号順序を設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-151">Set up number sequences for both messages and message items.</span></span> <span data-ttu-id="41057-152">番号順序は、メッセージおよびメッセージ項目に自動的に番号を付けるために使用されます。</span><span class="sxs-lookup"><span data-stu-id="41057-152">The number sequences are used to automatically number the messages and the message items.</span></span> <span data-ttu-id="41057-153">割り当てられた番号は、システム内のメッセージおよびメッセージ項目の固有 ID として使用されます。</span><span class="sxs-lookup"><span data-stu-id="41057-153">The numbers that are assigned will be used as unique identifiers for the messages and message items in the system.</span></span> <span data-ttu-id="41057-154">電子メッセージの番号順序は、**総勘定元帳パラメーター** ページ (**総勘定元帳** \> **元帳の設定** \> **総勘定元帳パラメーター**) で設定できます。</span><span class="sxs-lookup"><span data-stu-id="41057-154">You can set up number sequences for electronic messaging on the **General ledger parameters** page (**General ledger** \> **Ledger setup** \> **General ledger parameters**).</span></span>

### <a name="message-item-types-and-statuses"></a><span data-ttu-id="41057-155">メッセージ項目タイプと状態</span><span class="sxs-lookup"><span data-stu-id="41057-155">Message item types and statuses</span></span>

<span data-ttu-id="41057-156">メッセージ項目タイプは、電子メッセージに使用されるレコードのタイプを識別します。</span><span class="sxs-lookup"><span data-stu-id="41057-156">Message item types identify the types of records that will be used in electronic messages.</span></span> <span data-ttu-id="41057-157">メッセージ項目タイプは、**メッセージ項目タイプ** ページ (**税** \> **設定** \> **電子メッセージ** \> **メッセージ項目タイプ**) で設定できます。</span><span class="sxs-lookup"><span data-stu-id="41057-157">You can set up message item types on the **Message item types** page (**Tax** \> **Setup** \> **Electronic messages** \> **Message item types**).</span></span>

<span data-ttu-id="41057-158">メッセージ項目の状態は、設定している処理中のメッセージ項目に適用される状態を識別します。</span><span class="sxs-lookup"><span data-stu-id="41057-158">Message item statuses identify the statuses that will apply to message items in the processing that you're setting up.</span></span> <span data-ttu-id="41057-159">メッセージ項目タイプは、**メッセージ項目の状態** ページ (**税** \> **設定** \> **電子メッセージ** \> **メッセージ項目の状態**) で設定できます。</span><span class="sxs-lookup"><span data-stu-id="41057-159">You can set up message item types on the **Message item statuses** page (**Tax** \> **Setup** \> **Electronic messages** \> **Message item statuses**).</span></span>

<span data-ttu-id="41057-160">メッセージ項目の状態の **削除を許可** パラメーターは、**電子メッセージ** ページまたは **電子メッセージ項目** ページの、この状態のメッセージ項目をユーザーが削除できるかどうかを定義します。</span><span class="sxs-lookup"><span data-stu-id="41057-160">The **Allow delete** parameter of a message item status defines whether users can delete message items that have this status on the **Electronic messages** page or the **Electronic message items** page.</span></span>

### <a name="message-statuses"></a><span data-ttu-id="41057-161">メッセージ状態</span><span class="sxs-lookup"><span data-stu-id="41057-161">Message statuses</span></span>

<span data-ttu-id="41057-162">メッセージの処理で使用できるメッセージ状態を設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-162">Set up the message statuses that should be available in message processing.</span></span> <span data-ttu-id="41057-163">メッセージ状態は、**メッセージ状態** ページ (**税** \> **設定** \> **電子メッセージ** \> **メッセージ状態**) で設定できます。</span><span class="sxs-lookup"><span data-stu-id="41057-163">You can set up message statuses on the **Message statuses** page (**Tax** \> **Setup** \> **Electronic messages** \> **Message statuses**).</span></span>

<span data-ttu-id="41057-164">次のテーブルは、**メッセージの状態** ページのフィールドについて説明しています。</span><span class="sxs-lookup"><span data-stu-id="41057-164">The following table describes the fields on the **Message statuses** page.</span></span>

| <span data-ttu-id="41057-165">フィールド名</span><span class="sxs-lookup"><span data-stu-id="41057-165">Field name</span></span>          | <span data-ttu-id="41057-166">説明</span><span class="sxs-lookup"><span data-stu-id="41057-166">Description</span></span> |
|---------------------|-------------|
| <span data-ttu-id="41057-167">メッセージ状態</span><span class="sxs-lookup"><span data-stu-id="41057-167">Message status</span></span>      | <span data-ttu-id="41057-168">メッセージの状態の固有の名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-168">Enter a unique name for the message status.</span></span> <span data-ttu-id="41057-169">メッセージの状態は、あらゆる時点での電子メッセージの状態を特徴付けるために使用されます。</span><span class="sxs-lookup"><span data-stu-id="41057-169">Message statuses are used to characterize the state of an electronic message at every moment.</span></span> <span data-ttu-id="41057-170">入力した名前は、**電子メッセージ** ページ、および電子メッセージに関連するログに表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-170">The name that you enter is shown on the **Electronic messages** page and in a log that is related to electronic messages.</span></span> |
| <span data-ttu-id="41057-171">説明</span><span class="sxs-lookup"><span data-stu-id="41057-171">Description</span></span>         | <span data-ttu-id="41057-172">メッセージの状態の説明を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-172">Enter a description of the message status.</span></span> |
| <span data-ttu-id="41057-173">応答タイプ</span><span class="sxs-lookup"><span data-stu-id="41057-173">Response type</span></span>       | <span data-ttu-id="41057-174">メッセージの状態の応答タイプを選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-174">Select the type of response for the message status.</span></span> <span data-ttu-id="41057-175">処理中のアクションは、1 つ以上の応答タイプを生成する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="41057-175">Some actions in a processing can produce more than one response type.</span></span> <span data-ttu-id="41057-176">たとえば、**Web サービス** タイプのアクションは、実行の結果に応じて **正常に実行されました** タイプ、または **技術エラー** タイプのいずれかの応答を生成する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="41057-176">For example, actions of the **Web service** type can produce responses of either the **Successfully executed** type or the **Technical error** type, depending on the result of its execution.</span></span> <span data-ttu-id="41057-177">この場合、両方の応答タイプに対するメッセージの状態を定義する必要があります。</span><span class="sxs-lookup"><span data-stu-id="41057-177">In this case, you must define message statuses for both response types.</span></span> <span data-ttu-id="41057-178">アクション タイプおよび関連する応答タイプに関する詳細については、[アクション タイプを処理するメッセージ](#message-processing-action-types) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="41057-178">For more information about action types and the types of responses that are related to them, see [Message processing action types](#message-processing-action-types).</span></span> |
| <span data-ttu-id="41057-179">メッセージ項目の状態</span><span class="sxs-lookup"><span data-stu-id="41057-179">Message item status</span></span> | <span data-ttu-id="41057-180">時には、電子メッセージの状態が関連するメッセージ項目の状態に影響を与えます。</span><span class="sxs-lookup"><span data-stu-id="41057-180">Sometimes, the status of an electronic message must influence the status of related message items.</span></span> <span data-ttu-id="41057-181">このフィールドでメッセージ項目の状態を選択して、メッセージの状態と関連付けます。</span><span class="sxs-lookup"><span data-stu-id="41057-181">Select a message item status in this field to associate it with the message status.</span></span> |
| <span data-ttu-id="41057-182">削除の許可</span><span class="sxs-lookup"><span data-stu-id="41057-182">Allow delete</span></span>        | <span data-ttu-id="41057-183">ユーザーが **電子メッセージ** ページでこの状態を持つ電子メッセージを削除できるようにする場合は、このチェック ボックスを選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-183">Select this check box if users should be able to delete electronic messages that have this status on the **Electronic messages** page.</span></span> |

### <a name="additional-fields"></a><span data-ttu-id="41057-184">追加フィールド</span><span class="sxs-lookup"><span data-stu-id="41057-184">Additional fields</span></span>

<span data-ttu-id="41057-185">電子メッセージ機能を使用すると、トランザクション テーブルからレコードに入力することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-185">The Electronic messages functionality lets you fill in records from a transactional table.</span></span> <span data-ttu-id="41057-186">この方法で、レポートのためにレコードを準備し、報告することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-186">In this way, you can prepare the records for reporting and then report them.</span></span> <span data-ttu-id="41057-187">ただし、トランザクション テーブルには、レポート要件を満たす方法でレコードに入力するための十分な情報がない場合があります。</span><span class="sxs-lookup"><span data-stu-id="41057-187">However, transactional tables sometimes don't have enough information to fill in records in a manner that meets the reporting requirements.</span></span> <span data-ttu-id="41057-188">レコードに対して報告する必要のあるすべての情報を記入するために、追加フィールドを設定することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-188">To fill in all the information that must be reported for a record, you can set up additional fields.</span></span> <span data-ttu-id="41057-189">追加フィールドは、メッセージおよびメッセージ項目の両方に関連付けることができます。</span><span class="sxs-lookup"><span data-stu-id="41057-189">Additional fields can be associated with both messages and message items.</span></span> <span data-ttu-id="41057-190">追加フィールドは、**追加フィールド** ページ (**税**\>**設定**\>**電子メッセージ**\>**追加フィールド**) で設定できます。</span><span class="sxs-lookup"><span data-stu-id="41057-190">You can set up additional fields on the **Additional fields** page (**Tax** \> **Setup** \> **Electronic messages** \> **Additional fields**).</span></span>

<span data-ttu-id="41057-191">次のテーブルは、**追加フィールド** ページの一般的なフィールドについて説明しています。</span><span class="sxs-lookup"><span data-stu-id="41057-191">The following table describes the general fields on the **Additional fields** page.</span></span>

| <span data-ttu-id="41057-192">フィールド</span><span class="sxs-lookup"><span data-stu-id="41057-192">Field</span></span>       | <span data-ttu-id="41057-193">説明</span><span class="sxs-lookup"><span data-stu-id="41057-193">Description</span></span> |
|-------------|-------------|
| <span data-ttu-id="41057-194">フィールド名</span><span class="sxs-lookup"><span data-stu-id="41057-194">Field name</span></span>  | <span data-ttu-id="41057-195">プロセスに関連するメッセージ項目の追加属性の名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-195">Enter the name of an additional attribute of message items that are related to the process.</span></span> <span data-ttu-id="41057-196">プロセスの作業中に、ユーザー インターフェイス (UI) にこの名前が表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-196">This name is shown in the user interface (UI) while you work with the process.</span></span> <span data-ttu-id="41057-197">プロセスに関連付けられている ER コンフィギュレーションでも使用できます。</span><span class="sxs-lookup"><span data-stu-id="41057-197">It can also be used in ER configurations that are related to the process.</span></span> |
| <span data-ttu-id="41057-198">説明</span><span class="sxs-lookup"><span data-stu-id="41057-198">Description</span></span> | <span data-ttu-id="41057-199">追加フィールドの説明を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-199">Enter a description of the additional field.</span></span> |
| <span data-ttu-id="41057-200">ユーザーの編集</span><span class="sxs-lookup"><span data-stu-id="41057-200">User edit</span></span>   | <span data-ttu-id="41057-201">ユーザーが UI から追加フィールドの値を変更できるようにする場合は、このオプションを **はい** に設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-201">Set this option to **Yes** if users should be able to change the value of the additional field from the UI.</span></span> |
| <span data-ttu-id="41057-202">カウンター</span><span class="sxs-lookup"><span data-stu-id="41057-202">Counter</span></span>     | <span data-ttu-id="41057-203">追加フィールドが電子メッセージに番号順序を含めるようにする場合は、このオプションを **はい** に設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-203">Set this option to **Yes** if the additional field should contain a number sequence in an electronic message.</span></span> <span data-ttu-id="41057-204">追加フィールドの値は、**電子申告のエクスポート** のアクションの実行中に自動的に入力されます。</span><span class="sxs-lookup"><span data-stu-id="41057-204">Value of the additional field will be filled in automatically when an action of the **Electronic reporting export** is run.</span></span> |
| <span data-ttu-id="41057-205">非表示</span><span class="sxs-lookup"><span data-stu-id="41057-205">Hidden</span></span>      | <span data-ttu-id="41057-206">UI で追加フィールドを非表示にする場合は、このオプションを **はい** に設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-206">Set this option to **Yes** if the additional field should be hidden in the UI.</span></span> |

<span data-ttu-id="41057-207">各追加フィールドは、処理に対して異なる値を持つことがあります。</span><span class="sxs-lookup"><span data-stu-id="41057-207">Each additional field can have different values for the processing.</span></span> <span data-ttu-id="41057-208">**値** クイック タブでこれらの値を定義することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-208">You define these values on **Values** FastTab.</span></span> <span data-ttu-id="41057-209">次の表でフィールドについて説明します。</span><span class="sxs-lookup"><span data-stu-id="41057-209">The following table describes the fields.</span></span>

| <span data-ttu-id="41057-210">フィールド</span><span class="sxs-lookup"><span data-stu-id="41057-210">Field</span></span>                | <span data-ttu-id="41057-211">説明</span><span class="sxs-lookup"><span data-stu-id="41057-211">Description</span></span> |
|----------------------|-------------|
| <span data-ttu-id="41057-212">フィールド値</span><span class="sxs-lookup"><span data-stu-id="41057-212">Field value</span></span>          | <span data-ttu-id="41057-213">報告時にメッセージまたはメッセージ項目に使用するフィールドの値を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-213">Enter the field value to use for a message or message item during reporting.</span></span> |
| <span data-ttu-id="41057-214">説明</span><span class="sxs-lookup"><span data-stu-id="41057-214">Description</span></span>          | <span data-ttu-id="41057-215">フィールドの値の説明を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-215">Enter a description of the field value.</span></span> |
| <span data-ttu-id="41057-216">勘定タイプ</span><span class="sxs-lookup"><span data-stu-id="41057-216">Account type</span></span>         | <span data-ttu-id="41057-217">いくつかのフィールドの値は、特定の勘定タイプに限定される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="41057-217">Some field values might be limited to specific account types.</span></span> <span data-ttu-id="41057-218">次の値のいずれかを選択します。**すべて**、**顧客**、または **仕入先**。</span><span class="sxs-lookup"><span data-stu-id="41057-218">Select one of the following values: **All**, **Customer**, or **Vendor**.</span></span> |
| <span data-ttu-id="41057-219">アカウント コード</span><span class="sxs-lookup"><span data-stu-id="41057-219">Account code</span></span>         | <span data-ttu-id="41057-220">**勘定タイプ** フィールドで、**顧客** または **仕入先** を選択した場合は、フィールド値の使用を、特定のグルーブまたはテーブルに限定することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-220">If you selected **Customer** or **Vendor** in the **Account type** field, you can further limit the use of the field value to a specific group or table.</span></span> |
| <span data-ttu-id="41057-221">アカウント/グループ番号</span><span class="sxs-lookup"><span data-stu-id="41057-221">Account/Group number</span></span> | <span data-ttu-id="41057-222">**勘定タイプ** フィールドで、**顧客** または **仕入先** を選択し、**アカウント コード** フィールドにグループもしくはテーブルを入力した場合は、このフィールドに特定のグループまたは窓口機関を入力することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-222">If you selected **Customer** or **Vendor** in the **Account type** field, and if you entered a group or table in the **Account code** field, you can enter a specific group or counteragent in this field.</span></span> |
| <span data-ttu-id="41057-223">開始</span><span class="sxs-lookup"><span data-stu-id="41057-223">Effective</span></span>            | <span data-ttu-id="41057-224">値の考慮を開始する日付を指定します。</span><span class="sxs-lookup"><span data-stu-id="41057-224">Specify the date when the value should start to be considered.</span></span> |
| <span data-ttu-id="41057-225">有効期限</span><span class="sxs-lookup"><span data-stu-id="41057-225">Expiration</span></span>           | <span data-ttu-id="41057-226">値の考慮を停止する日付を指定します。</span><span class="sxs-lookup"><span data-stu-id="41057-226">Specify the date when the value should stop being considered.</span></span> |

<span data-ttu-id="41057-227">既定では、**アカウント/グループ番号**、**アカウント コード**、**有効**、および **有効期限** フィールドによって定義されている条件の組み合わせは、追加フィールドの値の選択に影響を与えません。</span><span class="sxs-lookup"><span data-stu-id="41057-227">By default, combinations of criteria that are defined by the **Account/Group number**, **Account code**, **Effective**, and **Expiration** fields don't influence the selection of values for additional fields.</span></span> <span data-ttu-id="41057-228">ただし、実行可能なクラスでこれらの組み合わせを使用して、追加フィールドの値を計算する特定のロジックを実装することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-228">However, these combinations can be used in an executable class to implement specific logic that calculates values for additional fields.</span></span>

### <a name="executable-class-settings"></a><span data-ttu-id="41057-229">実行可能なクラスの設定</span><span class="sxs-lookup"><span data-stu-id="41057-229">Executable class settings</span></span>

<span data-ttu-id="41057-230">実行可能なクラスは、プロセスに対して何らかの評価が必要な場合に、アクションに関連して電子メッセージ処理が呼び出すことができる X++ メソッドまたはクラスです。</span><span class="sxs-lookup"><span data-stu-id="41057-230">An executable class is an X++ method or class that the electronic message processing can call in relation to an action if some evaluation is required for the process.</span></span>

<span data-ttu-id="41057-231">実行可能なクラスは、**実行可能なクラスの設定** ページ (**税**\>**設定**\>**電子メッセージ**\>**実行可能なクラスの設定**) で設定することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-231">You can manually set up an executable class on the **Executable class settings** page (**Tax** \> **Setup** \> **Electronic messages** \> **Executable class settings**).</span></span> <span data-ttu-id="41057-232">行を作成し、次のフィールドを設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-232">Create a line, and set the following fields.</span></span>

| <span data-ttu-id="41057-233">フィールド</span><span class="sxs-lookup"><span data-stu-id="41057-233">Field</span></span>                 | <span data-ttu-id="41057-234">説明</span><span class="sxs-lookup"><span data-stu-id="41057-234">Description</span></span> |
|-----------------------|-------------|
| <span data-ttu-id="41057-235">実行可能なクラス</span><span class="sxs-lookup"><span data-stu-id="41057-235">Executable class</span></span>      | <span data-ttu-id="41057-236">関連してこのクラスが呼び出されるメッセージ処理アクションの設定中に使用される名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-236">Enter the name that will be used during the setup of a message processing action that this class is called in relation to.</span></span> |
| <span data-ttu-id="41057-237">説明</span><span class="sxs-lookup"><span data-stu-id="41057-237">Description</span></span>           | <span data-ttu-id="41057-238">実行可能なクラスの説明を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-238">Enter a description of the executable class.</span></span> |
| <span data-ttu-id="41057-239">実行可能なクラス名</span><span class="sxs-lookup"><span data-stu-id="41057-239">Executable class name</span></span> | <span data-ttu-id="41057-240">X++ 実行可能なクラスを選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-240">Select an X++ executable class.</span></span> |
| <span data-ttu-id="41057-241">実行レベル</span><span class="sxs-lookup"><span data-stu-id="41057-241">Execution level</span></span>       | <span data-ttu-id="41057-242">このフィールドは、選択された実行可能なクラスに対して値が事前に定義されている必要があるため、自動的に設定されます。</span><span class="sxs-lookup"><span data-stu-id="41057-242">This field is set automatically, because the value should be predefined for the selected executable class.</span></span> <span data-ttu-id="41057-243">このフィールドは、関連する評価が実行されるレベルを制限します。</span><span class="sxs-lookup"><span data-stu-id="41057-243">This field limits the level that related evaluation is run on.</span></span> |
| <span data-ttu-id="41057-244">クラスの説明</span><span class="sxs-lookup"><span data-stu-id="41057-244">Class description</span></span>     | <span data-ttu-id="41057-245">このフィールドは、選択された実行可能なクラスに対して値が事前に定義されている必要があるため、自動的に設定されます。</span><span class="sxs-lookup"><span data-stu-id="41057-245">This field is set automatically, because the value should be predefined for the selected executable class.</span></span> |

<span data-ttu-id="41057-246">一部の実行可能なクラスには、実行可能なクラスを初めて実行する前に定義する必要のある必須パラメーターがあります。</span><span class="sxs-lookup"><span data-stu-id="41057-246">Some executable classes might have mandatory parameters that must be defined before the executable class is run for the first time.</span></span> <span data-ttu-id="41057-247">これらのパラメーターを定義するには、アクション ウィンドウで **パラメーター** を選択し、表示されるダイアログ ボックスでフィールドを設定し、**OK** を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-247">To define these parameters, select **Parameters** on the Action Pane, set the fields in the dialog box that appears, and then select **OK**.</span></span> <span data-ttu-id="41057-248">**OK** を選択することが重要です。</span><span class="sxs-lookup"><span data-stu-id="41057-248">It's important that you select **OK**.</span></span> <span data-ttu-id="41057-249">そうしないなら、パラメーターはデータベースに保存されず、実行可能なクラスは正しく呼び出されません。</span><span class="sxs-lookup"><span data-stu-id="41057-249">Otherwise, the parameters won't be saved to the database, and the executable class won't be called correctly.</span></span>

### <a name="populate-records-actions"></a><span data-ttu-id="41057-250">レコード アクションの設定</span><span class="sxs-lookup"><span data-stu-id="41057-250">Populate records actions</span></span>

<span data-ttu-id="41057-251">メッセージ項目テーブルにレコードを追加してそれを電子メッセージに追加するアクションを設定するためには、レコード アクションの設定を使用します。</span><span class="sxs-lookup"><span data-stu-id="41057-251">You use populate records actions to set up actions that add records to the Message items table so that they can be added to an electronic message.</span></span> <span data-ttu-id="41057-252">たとえば、電子メッセージで顧客請求書を報告する必要がある場合、顧客請求書仕訳帳テーブルの **データ ソース** フィールドにリンクされているレコード アクションの設定を設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="41057-252">For example, if your electronic message must report customer invoices, you must set up a populate records action that is linked to the **Data source** field in the Customer invoice journal table.</span></span> <span data-ttu-id="41057-253">レコード アクションの設定は、**レコード アクションの設定** ページ (**税**\>**設定**\>**電子メッセージ**\>**レコード アクションの設定**) で行うことができます。</span><span class="sxs-lookup"><span data-stu-id="41057-253">You can set up populate records actions on the **Populate records action** page (**Tax** \> **Setup** \> **Electronic messages** \> **Populate records actions**).</span></span> <span data-ttu-id="41057-254">レコードをテーブルに追加するすべてのアクションに対して新しいレコードを作成し、次のフィールドを設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-254">Create a new record for every action that should add records to the table, and set the following fields.</span></span>

| <span data-ttu-id="41057-255">フィールド</span><span class="sxs-lookup"><span data-stu-id="41057-255">Field</span></span>       | <span data-ttu-id="41057-256">説明</span><span class="sxs-lookup"><span data-stu-id="41057-256">Description</span></span> |
|-------------|-------------|
| <span data-ttu-id="41057-257">氏名</span><span class="sxs-lookup"><span data-stu-id="41057-257">Name</span></span>        | <span data-ttu-id="41057-258">プロセスでレコードに入力するアクションの名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-258">Enter a name for the action that fills in records in your process.</span></span> |
| <span data-ttu-id="41057-259">説明</span><span class="sxs-lookup"><span data-stu-id="41057-259">Description</span></span> | <span data-ttu-id="41057-260">レコード アクションの設定の説明を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-260">Enter a description of the populate records action.</span></span> |

<span data-ttu-id="41057-261">**データ ソースの設定** クイック タブでは、プロセスに使用されるすべてのデータ ソースの行を追加し、次のフィールドを設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-261">On the **Datasources setup** FastTab, add a line for every data source that is used for the process, and set the following fields.</span></span>

| <span data-ttu-id="41057-262">フィールド</span><span class="sxs-lookup"><span data-stu-id="41057-262">Field</span></span>                  | <span data-ttu-id="41057-263">説明</span><span class="sxs-lookup"><span data-stu-id="41057-263">Description</span></span> |
|------------------------|-------------|
| <span data-ttu-id="41057-264">氏名</span><span class="sxs-lookup"><span data-stu-id="41057-264">Name</span></span>                   | <span data-ttu-id="41057-265">データ ソース名を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-265">Enter a name for the data source.</span></span> |
| <span data-ttu-id="41057-266">メッセージ項目タイプ</span><span class="sxs-lookup"><span data-stu-id="41057-266">Message item type</span></span>      | <span data-ttu-id="41057-267">データ ソースのレコードを作成するときに使用するメッセージ項目のタイプを選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-267">Select the type of message item that should be used when records are created for the data source.</span></span> |
| <span data-ttu-id="41057-268">勘定タイプ</span><span class="sxs-lookup"><span data-stu-id="41057-268">Account type</span></span>           | <span data-ttu-id="41057-269">データ ソースのレコードに関連付ける勘定のタイプを選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-269">Select the type of account that should be associated with records from the data source.</span></span> |
| <span data-ttu-id="41057-270">マスター テーブル名</span><span class="sxs-lookup"><span data-stu-id="41057-270">Master table name</span></span>      | <span data-ttu-id="41057-271">データソースにするテーブルを選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-271">Select the table that should be a data source.</span></span> |
| <span data-ttu-id="41057-272">ドキュメント番号フィールド</span><span class="sxs-lookup"><span data-stu-id="41057-272">Document number field</span></span>  | <span data-ttu-id="41057-273">ドキュメント番号を取得するフィールドを、選択したテーブルから選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-273">Select the field that the document number should be taken from in the selected table.</span></span> |
| <span data-ttu-id="41057-274">ドキュメントの日付フィールド</span><span class="sxs-lookup"><span data-stu-id="41057-274">Document date field</span></span>    | <span data-ttu-id="41057-275">ドキュメント データを取得するフィールドを、選択したテーブルから選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-275">Select the field that the document date should be taken from in the selected table.</span></span> |
| <span data-ttu-id="41057-276">ドキュメント アカウント フィールド</span><span class="sxs-lookup"><span data-stu-id="41057-276">Document account field</span></span> | <span data-ttu-id="41057-277">ドキュメント アカウントを取得するフィールドを、選択したテーブルから選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-277">Select the field that the document account should be taken from in the selected table.</span></span> |
| <span data-ttu-id="41057-278">ユーザー クエリ</span><span class="sxs-lookup"><span data-stu-id="41057-278">User query</span></span>             | <span data-ttu-id="41057-279">チェック ボックスがオンになっている場合、 グリッドの上にある **クエリの編集** を選択してクエリを設定できます。</span><span class="sxs-lookup"><span data-stu-id="41057-279">If this check box is selected, you can set up a query by selecting **Edit query** above the grid.</span></span> <span data-ttu-id="41057-280">それ以外の場合は、すべてのレコードが選択されたデータ ソースから入力されます。</span><span class="sxs-lookup"><span data-stu-id="41057-280">Otherwise, all the records will be filled in from the selected data source.</span></span> |

### <a name="web-applications"></a><span data-ttu-id="41057-281">Web アプリケーション</span><span class="sxs-lookup"><span data-stu-id="41057-281">Web applications</span></span>

<span data-ttu-id="41057-282">Web アプリケーション設定を使用して、未処理認証 (OAuth) 2.0 をサポートするように Web アプリケーションを設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-282">You use web application settings to set up a web application so that it supports Open Authorization (OAuth) 2.0.</span></span> <span data-ttu-id="41057-283">OAuth は、ユーザーが自分のアクセス資格情報を共有することなく、自分に代わって「安全な委任アクセス」をアプリケーションに付与できるようにするオープン標準です。</span><span class="sxs-lookup"><span data-stu-id="41057-283">OAuth is the open standard that lets users grant "secure delegated access" to the application on their behalf, without sharing their access credentials.</span></span> <span data-ttu-id="41057-284">認証コードおよびアクセス トークンを取得することによって、認証プロセスを進めることもできます。</span><span class="sxs-lookup"><span data-stu-id="41057-284">You can also go through the authorization process by getting an authorization code and access token.</span></span> <span data-ttu-id="41057-285">**Web アプリケーション** ページで Web アプリケーションの設定を行うことができます (**税** \> **設定** \> **電子メッセージ** \> **Web アプリケーション**)。</span><span class="sxs-lookup"><span data-stu-id="41057-285">You can set up web application settings on the **Web applications** page (**Tax** \> **Setup** \> **Electronic messages** \> **Web applications**).</span></span>

<span data-ttu-id="41057-286">次のテーブルは、**Web アプリケーション** ページのフィールドについて説明しています。</span><span class="sxs-lookup"><span data-stu-id="41057-286">The following table describes the fields on the **Web applications** page.</span></span>

| <span data-ttu-id="41057-287">フィールド</span><span class="sxs-lookup"><span data-stu-id="41057-287">Field</span></span>                        | <span data-ttu-id="41057-288">説明</span><span class="sxs-lookup"><span data-stu-id="41057-288">Description</span></span> |
|------------------------------|-------------|
| <span data-ttu-id="41057-289">アプリケーション名</span><span class="sxs-lookup"><span data-stu-id="41057-289">Application name</span></span>             | <span data-ttu-id="41057-290">Web アプリケーションの名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-290">Enter a name for the web application.</span></span> |
| <span data-ttu-id="41057-291">説明</span><span class="sxs-lookup"><span data-stu-id="41057-291">Description</span></span>                  | <span data-ttu-id="41057-292">Web アプリケーションの説明を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-292">Enter a description of the web application.</span></span> |
| <span data-ttu-id="41057-293">基準 URL</span><span class="sxs-lookup"><span data-stu-id="41057-293">Base URL</span></span>                     | <span data-ttu-id="41057-294">Web アプリケーションのベース インターネット アドレスを入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-294">Enter the base internet address of the web application.</span></span> |
| <span data-ttu-id="41057-295">認証 URL パス</span><span class="sxs-lookup"><span data-stu-id="41057-295">Authorization URL path</span></span>       | <span data-ttu-id="41057-296">認証用の URL を作成するために使用するパスを指定します。</span><span class="sxs-lookup"><span data-stu-id="41057-296">Specify the path that is used to compose the URL for authorization.</span></span> |
| <span data-ttu-id="41057-297">トークン URL パス</span><span class="sxs-lookup"><span data-stu-id="41057-297">Token URL path</span></span>               | <span data-ttu-id="41057-298">トークン用 URL を作成するために使用するパスを指定します。</span><span class="sxs-lookup"><span data-stu-id="41057-298">Specify the path that is used to compose the URL for the token.</span></span> |
| <span data-ttu-id="41057-299">リダイレクト URL</span><span class="sxs-lookup"><span data-stu-id="41057-299">Redirect URL</span></span>                 | <span data-ttu-id="41057-300">リダイレクト URL を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-300">Enter the redirect URL.</span></span> |
| <span data-ttu-id="41057-301">クライアント ID</span><span class="sxs-lookup"><span data-stu-id="41057-301">Client ID</span></span>                    | <span data-ttu-id="41057-302">Web アプリケーションのクライアント ID を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-302">Enter the client ID of the web application.</span></span> |
| <span data-ttu-id="41057-303">クライアント シークレット</span><span class="sxs-lookup"><span data-stu-id="41057-303">Client secret</span></span>                | <span data-ttu-id="41057-304">Web アプリケーションのクライアント シークレットを入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-304">Enter the client secret of the web application.</span></span> |
| <span data-ttu-id="41057-305">サーバー トークン</span><span class="sxs-lookup"><span data-stu-id="41057-305">Server token</span></span>                 | <span data-ttu-id="41057-306">Web アプリケーションのサーバー トークンを入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-306">Enter the server token of the web application.</span></span> |
| <span data-ttu-id="41057-307">認証形式マッピング</span><span class="sxs-lookup"><span data-stu-id="41057-307">Authorization format mapping</span></span> | <span data-ttu-id="41057-308">認証の要求を生成するために使用する ER 形式を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-308">Select the ER format that is used to generate the request for authorization.</span></span> |
| <span data-ttu-id="41057-309">インポート トークン モデル マッピング</span><span class="sxs-lookup"><span data-stu-id="41057-309">Import token model mapping</span></span>   | <span data-ttu-id="41057-310">アクセス トークンを保存するために使用する ER インポート モデル マッピングを選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-310">Select the ER importing model mapping that is used to store the access token.</span></span> |
| <span data-ttu-id="41057-311">許可済のスコープ</span><span class="sxs-lookup"><span data-stu-id="41057-311">Granted scope</span></span>                | <span data-ttu-id="41057-312">アプリケーションへの要求に対して付与されるスコープ。</span><span class="sxs-lookup"><span data-stu-id="41057-312">The scope that is granted for requests to the application.</span></span> <span data-ttu-id="41057-313">このフィールドは、自動的に更新されます。</span><span class="sxs-lookup"><span data-stu-id="41057-313">This field is automatically updated.</span></span> |
| <span data-ttu-id="41057-314">アクセス トークンの有効期限:</span><span class="sxs-lookup"><span data-stu-id="41057-314">Access token will expire in</span></span>  | <span data-ttu-id="41057-315">アクセス トークンの有効期限が切れるまでの残り時間。</span><span class="sxs-lookup"><span data-stu-id="41057-315">The remaining time before the access token expires.</span></span> | 
| <span data-ttu-id="41057-316">適用</span><span class="sxs-lookup"><span data-stu-id="41057-316">Accept</span></span>                       | <span data-ttu-id="41057-317">Web 要求の **受け入れ** プロパティを指定します。</span><span class="sxs-lookup"><span data-stu-id="41057-317">Specify the **Accept** property of the web request.</span></span> <span data-ttu-id="41057-318">たとえば、**application/vnd.hmrc.1.0+json** と入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-318">For example, enter **application/vnd.hmrc.1.0+json**.</span></span> |
| <span data-ttu-id="41057-319">コンテンツ タイプ</span><span class="sxs-lookup"><span data-stu-id="41057-319">Content type</span></span>                 | <span data-ttu-id="41057-320">コンテンツ タイプを指定します。</span><span class="sxs-lookup"><span data-stu-id="41057-320">Specify the content type.</span></span> <span data-ttu-id="41057-321">たとえば、**application/json** と入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-321">For example, enter **application/json**.</span></span> |

<span data-ttu-id="41057-322">さらに、認証プロセスをサポートするために、**Web アプリケーション** ページのアクション ウィンドウで次のボタンが利用できます:</span><span class="sxs-lookup"><span data-stu-id="41057-322">In addition, the following buttons are available on the Action Pane of the **Web applications** page to support the authorization process:</span></span>

- <span data-ttu-id="41057-323">**認証コードを取得** ー Web アプリケーションの認証を初期化します。</span><span class="sxs-lookup"><span data-stu-id="41057-323">**Get authorization code** – Initialize authorization of the web application.</span></span>
- <span data-ttu-id="41057-324">**アクセス トークンを取得** ー アクセス トークンの取得のプロセスを初期化します。</span><span class="sxs-lookup"><span data-stu-id="41057-324">**Obtain access token** – Initialize the process of getting an access token.</span></span>
- <span data-ttu-id="41057-325">**アクセス トークンを更新** ー アクセス トークンを更新します。</span><span class="sxs-lookup"><span data-stu-id="41057-325">**Refresh access token** – Refresh an access token.</span></span>

<span data-ttu-id="41057-326">Web アプリケーションへのアクセス トークンが暗号化された形式でシステムのデータベースに保存されている場合、Web サービスへの要求に使用することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-326">When an access token to a web application is stored in the system's database in encrypted format, it can be used for requests to a web service.</span></span> <span data-ttu-id="41057-327">セキュリティの目的のため、アクセス トークンへのアクセスは要求に対処するよう許可されているセキュリティ ロールのみに限定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="41057-327">For security purposes, access to the access token must be limited to security roles that must be allowed to address those requests.</span></span> <span data-ttu-id="41057-328">セキュリティ グループの外部のユーザーが要求に対処しようとすると、選択した Web アプリケーション経由での相互運用が許可されていないことを示すエラーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-328">If users outside the security group try to address a request, they receive an error that states that they aren't allowed to interoperate via the selected web application.</span></span> <span data-ttu-id="41057-329">アクセス トークンへのアクセスが必要なセキュリティ ロールを設定するには、**Web アプリケーション** ページの **セキュリティ ロール** クイック タブを使用します。</span><span class="sxs-lookup"><span data-stu-id="41057-329">To set up the security roles that must have access to the access token, use the **Security roles** FastTab on the **Web applications** page.</span></span> <span data-ttu-id="41057-330">Web アプリケーションに対してセキュリティ ロールが定義されていない場合、システム管理者のみがこの Web アプリケーション経由で相互運用することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-330">If security roles aren't defined for a web application, only a system admin can interoperate via this web application.</span></span>

### <a name="web-service-settings"></a><span data-ttu-id="41057-331">Web サービスの設定</span><span class="sxs-lookup"><span data-stu-id="41057-331">Web service settings</span></span>

<span data-ttu-id="41057-332">Web サービス設定を使用して、Web サービスへの直接のデータ送信を設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-332">You use web service settings to set up direct data transmission to a web service.</span></span> <span data-ttu-id="41057-333">Web サービスの設定は、**Web サービスの設定** ページ (**税**\>**設定**\>**電子メッセージ**\>**Web サービスの設定**) で行うことができます。</span><span class="sxs-lookup"><span data-stu-id="41057-333">You can set up web service settings on the **Web service settings** page (**Tax** \> **Setup** \> **Electronic messages** \> **Web service settings**).</span></span>

<span data-ttu-id="41057-334">次のテーブルは、**Web サービスの設定** ページのフィールドについて説明しています。</span><span class="sxs-lookup"><span data-stu-id="41057-334">The following table describes the fields on the **Web service settings** page.</span></span>

| <span data-ttu-id="41057-335">フィールド</span><span class="sxs-lookup"><span data-stu-id="41057-335">Field</span></span>                          | <span data-ttu-id="41057-336">説明</span><span class="sxs-lookup"><span data-stu-id="41057-336">Description</span></span> |
|--------------------------------|-------------|
| <span data-ttu-id="41057-337">Web サービス</span><span class="sxs-lookup"><span data-stu-id="41057-337">Web service</span></span>                    | <span data-ttu-id="41057-338">Web サービスの名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-338">Enter a name for the web service.</span></span> |
| <span data-ttu-id="41057-339">説明</span><span class="sxs-lookup"><span data-stu-id="41057-339">Description</span></span>                    | <span data-ttu-id="41057-340">Web サービスの説明を入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-340">Enter a description of the web service.</span></span> |
| <span data-ttu-id="41057-341">インターネット アドレス</span><span class="sxs-lookup"><span data-stu-id="41057-341">Internet address</span></span>               | <span data-ttu-id="41057-342">Web サービスのインターネット アドレスを入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-342">Enter the internet address of the web service.</span></span> <span data-ttu-id="41057-343">Web アプリケーションが Web サービスに指定されていて、Web サービスのインターネット アドレスがその Web アプリケーションに対して定義されたものと同じである必要がある場合、**ベース URL をコピー** ボタンを選択して、Web アプリケーションのベース URL をこのフィールドにコピーします。</span><span class="sxs-lookup"><span data-stu-id="41057-343">If a web application is specified for the web service, and if the internet address of the web service should be the same as the internet address that is defined for that web application, select **Copy base URL** to copy the base URL of the web application to this field.</span></span> |
| <span data-ttu-id="41057-344">証明書</span><span class="sxs-lookup"><span data-stu-id="41057-344">Certificate</span></span>                    | <span data-ttu-id="41057-345">以前に設定した Key Vault 証明書を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-345">Select a Key Vault certificate that has previously been set up.</span></span> |
| <span data-ttu-id="41057-346">Web アプリケーション</span><span class="sxs-lookup"><span data-stu-id="41057-346">Web application</span></span>                | <span data-ttu-id="41057-347">以前に設定した Key Vault 証明書を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-347">Select a Key Vault certificate that has previously been set up.</span></span> |
| <span data-ttu-id="41057-348">応答タイプ - XML</span><span class="sxs-lookup"><span data-stu-id="41057-348">The response type – XML</span></span>        | <span data-ttu-id="41057-349">応答タイプが XML の場合、このオプションを **はい** に設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-349">Set this option to **Yes** if the response type is XML.</span></span> |
| <span data-ttu-id="41057-350">要求メソッド</span><span class="sxs-lookup"><span data-stu-id="41057-350">Request method</span></span>                 | <span data-ttu-id="41057-351">要求されたメソッドを指定します。</span><span class="sxs-lookup"><span data-stu-id="41057-351">Specify the method of the request.</span></span> <span data-ttu-id="41057-352">HTTPは、特定のリソースに対して実行されるアクションを示す要求メソッドのセットを定義します。</span><span class="sxs-lookup"><span data-stu-id="41057-352">HTTP defines a set of request methods that indicate the action that should be performed for a given resource.</span></span> <span data-ttu-id="41057-353">要求メソッドは、**GET**、**POST**、または別の HTTP メソッドにすることができます。</span><span class="sxs-lookup"><span data-stu-id="41057-353">The request method can be **GET**, **POST**, or another HTTP method.</span></span> |
| <span data-ttu-id="41057-354">要求ヘッダー</span><span class="sxs-lookup"><span data-stu-id="41057-354">Request headers</span></span>                | <span data-ttu-id="41057-355">要求ヘッダーを指定する。</span><span class="sxs-lookup"><span data-stu-id="41057-355">Specify request headers.</span></span> <span data-ttu-id="41057-356">要求ヘッダーは、HTTP 要求で使用できる HTTP ヘッダーで、メッセージのコンテンツとは関係ありません。</span><span class="sxs-lookup"><span data-stu-id="41057-356">A request header is an HTTP header that can be used in an HTTP request, and that isn't related to the content of the message.</span></span> |
| <span data-ttu-id="41057-357">適用</span><span class="sxs-lookup"><span data-stu-id="41057-357">Accept</span></span>                         | <span data-ttu-id="41057-358">Web 要求の **受け入れ** プロパティを指定します。</span><span class="sxs-lookup"><span data-stu-id="41057-358">Specify the **Accept** property of the web request.</span></span> |
| <span data-ttu-id="41057-359">エンコードの承諾</span><span class="sxs-lookup"><span data-stu-id="41057-359">Accept encoding</span></span>                | <span data-ttu-id="41057-360">**Accept-Encoding** 値を指定します。</span><span class="sxs-lookup"><span data-stu-id="41057-360">Specify the **Accept-Encoding** value.</span></span> <span data-ttu-id="41057-361">Accept-Encoding 要求 HTTP ヘッダーは、クライアントが理解できるコンテンツのエンコードを通知します。</span><span class="sxs-lookup"><span data-stu-id="41057-361">The Accept-Encoding request HTTP header advertises the content encoding that the client can understand.</span></span> <span data-ttu-id="41057-362">このコンテンツ エンコードは、通常、圧縮アルゴリズムです。</span><span class="sxs-lookup"><span data-stu-id="41057-362">This content encoding is usually a compression algorithm.</span></span> |
| <span data-ttu-id="41057-363">コンテンツ タイプ</span><span class="sxs-lookup"><span data-stu-id="41057-363">Content type</span></span>                   | <span data-ttu-id="41057-364">コンテンツ タイプを指定します。</span><span class="sxs-lookup"><span data-stu-id="41057-364">Specify the content type.</span></span> <span data-ttu-id="41057-365">Content-Type エンティティ HTTP ヘッダーは、リソースのメディア タイプを示します。</span><span class="sxs-lookup"><span data-stu-id="41057-365">The Content-Type entity HTTP header indicates the media type of the resource.</span></span> |
| <span data-ttu-id="41057-366">正常な応答コード</span><span class="sxs-lookup"><span data-stu-id="41057-366">Successful response code</span></span>       | <span data-ttu-id="41057-367">要求が成功したことを示す HTTP 状態コードを指定します。</span><span class="sxs-lookup"><span data-stu-id="41057-367">Specify the HTTP status code that indicates that the request was successful.</span></span> |
| <span data-ttu-id="41057-368">要求ヘッダー形式マッピング</span><span class="sxs-lookup"><span data-stu-id="41057-368">Request headers format mapping</span></span> | <span data-ttu-id="41057-369">Web 要求ヘッダーを生成するために使用される ER 形式を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-369">Select the ER format that is used to generate web request headers.</span></span> |

### <a name="message-processing-actions"></a><span data-ttu-id="41057-370">メッセージ処理アクション</span><span class="sxs-lookup"><span data-stu-id="41057-370">Message processing actions</span></span>

<span data-ttu-id="41057-371">メッセージ処理アクションを使用して処理のアクションを作成し、そのパラメーターを設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-371">You use message processing actions to create actions for your processes and set up their parameters.</span></span> <span data-ttu-id="41057-372">メッセージ処理のアクションは、**メッセージ処理のアクション** ページ (**税** \> **設定** \> **電子メッセージ** \> **メッセージ処理のアクション**) で設定できます。</span><span class="sxs-lookup"><span data-stu-id="41057-372">You can set up message processing actions on the **Message processing actions** page (**Tax** \> **Setup** \> **Electronic messages** \> **Message processing actions**).</span></span>

<span data-ttu-id="41057-373">次のテーブルで、**メッセージ処理のアクション** ページでフィールドについて説明します。</span><span class="sxs-lookup"><span data-stu-id="41057-373">The following tables describe the fields on the **Message processing actions** page.</span></span>

#### <a name="general-fasttab"></a><span data-ttu-id="41057-374">全般クイック タブ</span><span class="sxs-lookup"><span data-stu-id="41057-374">General FastTab</span></span>

| <span data-ttu-id="41057-375">フィールド</span><span class="sxs-lookup"><span data-stu-id="41057-375">Field</span></span>                       | <span data-ttu-id="41057-376">説明</span><span class="sxs-lookup"><span data-stu-id="41057-376">Description</span></span> |
|-----------------------------|-------------|
| <span data-ttu-id="41057-377">アクション タイプ</span><span class="sxs-lookup"><span data-stu-id="41057-377">Action type</span></span>                 | <span data-ttu-id="41057-378">アクションのタイプを選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-378">Select the type of action.</span></span> <span data-ttu-id="41057-379">使用可能なオプションの詳細については、[メッセージ処理のアクションのタイプ](#message-processing-action-types) セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="41057-379">For information about the available options, see the [Message processing action types](#message-processing-action-types) section.</span></span> |
| <span data-ttu-id="41057-380">形式マッピング</span><span class="sxs-lookup"><span data-stu-id="41057-380">Format mapping</span></span>              | <span data-ttu-id="41057-381">アクションに呼び出される ER フォーマットを選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-381">Select the ER format that should be called for the action.</span></span> <span data-ttu-id="41057-382">このフィールドは、**電子申告のエクスポート**、**電子申告のインポート** および **電子申告のエクスポート メッセージ** タイプのアクションにのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="41057-382">This field is available only for actions of the **Electronic reporting export**, **Electronic reporting import**, and **Electronic reporting export message** types.</span></span> |
| <span data-ttu-id="41057-383">URL パスの形式マッピング</span><span class="sxs-lookup"><span data-stu-id="41057-383">Format mapping for URL path</span></span> | <span data-ttu-id="41057-384">アクションに呼び出される ER フォーマットを選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-384">Select the ER format that should be called for the action.</span></span> <span data-ttu-id="41057-385">このフィールドは、**Web サービス** タイプのアクションにのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="41057-385">This field is available only for actions of the **Web service** type.</span></span> <span data-ttu-id="41057-386">これは、選択した Web サーバーに対して指定されているベース インターネット アドレスに追加される URL アドレスのパスを作成するために使用します。</span><span class="sxs-lookup"><span data-stu-id="41057-386">It's used to compose the path of the URL address that will be added to the base internet address that is specified for the selected web server.</span></span> |
| <span data-ttu-id="41057-387">メッセージ項目タイプ</span><span class="sxs-lookup"><span data-stu-id="41057-387">Message item type</span></span>           | <span data-ttu-id="41057-388">アクションを評価するレコードのタイプを選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-388">Select the type of records that the action should be evaluated for.</span></span> <span data-ttu-id="41057-389">このフィールドは、**メッセージ項目実行レベル**、**電子申告のエクスポート**、および **電子申告のインポート**、**Web サービス** タイプおよび他のいくつかのタイプのアクションにも使用できます。</span><span class="sxs-lookup"><span data-stu-id="41057-389">This field is available for actions of the **Message item execution level**, **Electronic reporting export**, **Electronic reporting import**, and **Web service** types, and also some other types.</span></span> <span data-ttu-id="41057-390">このフィールドを空白のままにすると、メッセージの処理に定義されたすべてのメッセージ項目タイプが評価されます。</span><span class="sxs-lookup"><span data-stu-id="41057-390">If you leave this field blank, all the message item types that are defined for the message processing are evaluated.</span></span> |
| <span data-ttu-id="41057-391">実行可能なクラス</span><span class="sxs-lookup"><span data-stu-id="41057-391">Executable class</span></span>            | <span data-ttu-id="41057-392">以前に作成された実行可能なクラスの設定を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-392">Select executable class settings that were previously created.</span></span> <span data-ttu-id="41057-393">このフィールドは、**メッセージ項目実行レベル** および **メッセージ項目実行レベル** タイプのアクションにのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="41057-393">This field is available only for actions of the **Message item execution level** and **Message item execution level** types.</span></span> |
| <span data-ttu-id="41057-394">レコード アクションの設定</span><span class="sxs-lookup"><span data-stu-id="41057-394">Populate records action</span></span>     | <span data-ttu-id="41057-395">以前に設定されたレコード アクションの設定を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-395">Select a populate records action that was previously set up.</span></span> <span data-ttu-id="41057-396">このフィールドは、**レコードの設定** タイプのアクションにのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="41057-396">This field is available only for actions of the **Populate records** type.</span></span> |
| <span data-ttu-id="41057-397">Web サービス</span><span class="sxs-lookup"><span data-stu-id="41057-397">Web service</span></span>                 | <span data-ttu-id="41057-398">以前に設定された Web サービスを選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-398">Select a web service that was previously set up.</span></span> <span data-ttu-id="41057-399">このフィールドは、**Web サービス** タイプのアクションにのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="41057-399">This field is available only for actions of the **Web service** type.</span></span> |
| <span data-ttu-id="41057-400">ファイル名</span><span class="sxs-lookup"><span data-stu-id="41057-400">File name</span></span>                   | <span data-ttu-id="41057-401">アクションの結果となるファイルの名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="41057-401">Specify the name of the file that will be the result of the action.</span></span> <span data-ttu-id="41057-402">このファイルは、Web サーバーからの応答または生成されるレポートです。</span><span class="sxs-lookup"><span data-stu-id="41057-402">This file can be the response from the web server or the report that is generated.</span></span> <span data-ttu-id="41057-403">このフィールドは、**Web サービス** および **電子申告のエクスポート メッセージ** タイプのアクションにのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="41057-403">This field is available only for actions of the **Web service** and **Electronic reporting export message** types.</span></span> |
| <span data-ttu-id="41057-404">ダイアログの表示</span><span class="sxs-lookup"><span data-stu-id="41057-404">Show dialog</span></span>                 | <span data-ttu-id="41057-405">レポート生成の前にユーザーにダイアログ ボックスを表示する必要がある場合、このオプションを **はい** に設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-405">Set this option to **Yes** if a dialog box must be shown to users before report generation.</span></span> <span data-ttu-id="41057-406">このフィールドは、**電子申告のエクスポート メッセージ** タイプのアクションにのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="41057-406">This field is available only for actions of the **Electronic reporting export message** type.</span></span> |

##### <a name="message-processing-action-types"></a><span data-ttu-id="41057-407">メッセージ処理アクション タイプ</span><span class="sxs-lookup"><span data-stu-id="41057-407">Message processing action types</span></span>

<span data-ttu-id="41057-408">**アクション タイプ** フィールドでは、次のオプションを使用できます。</span><span class="sxs-lookup"><span data-stu-id="41057-408">The following options are available in the **Action type** field:</span></span>

- <span data-ttu-id="41057-409">**メッセージを作成** – このアクションを使用して、ユーザーが **電子メッセージ** ページで手動でメッセージを作成できるようにします。</span><span class="sxs-lookup"><span data-stu-id="41057-409">**Create message** – Use this action type to let users manually create messages on the **Electronic message** page.</span></span> <span data-ttu-id="41057-410">初期状態はこのタイプのアクションに設定できません。</span><span class="sxs-lookup"><span data-stu-id="41057-410">An initial status can't be set up for an action of this type.</span></span>
- <span data-ttu-id="41057-411">**レコードの設定** – **レコードの設定** タイプのアクションが事前に設定されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="41057-411">**Populate records** – An action of the **Populate records** type must previously be set up.</span></span> <span data-ttu-id="41057-412">このアクション タイプをレコードの設定アクションと関連付けて、そのアクションが処理に含まれるようにします。</span><span class="sxs-lookup"><span data-stu-id="41057-412">Associate this action type with a populate records action to enable that action to be included in processing.</span></span> <span data-ttu-id="41057-413">このアクション タイプはメッセージ処理の最初のアクションに対して (事前に電子メッセージが作成されていない場合)、または **メッセージの作成** タイプのアクションによって以前に作成されたメッセージにメッセージ項目を追加するアクションとして使用されるかのいずれかとみなされます。</span><span class="sxs-lookup"><span data-stu-id="41057-413">It's assumed that this action type is used either for the first action in message processing (when no electronic message was created in advance) or for an action that adds message items to a message that was previously created by an action of **Create message** type.</span></span> <span data-ttu-id="41057-414">したがって、このタイプのアクションでは、結果状態はメッセージ項目に対してのみ設定できます。</span><span class="sxs-lookup"><span data-stu-id="41057-414">Therefore, for actions of this type, a result status can be set up only for message items.</span></span> <span data-ttu-id="41057-415">初期状態はメッセージにのみ設定することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-415">An initial status can be set up only for messages.</span></span>
- <span data-ttu-id="41057-416">**メッセージの実行レベル** – このアクション タイプを使用して、メッセージ レベルで評価する必要がある実行可能なクラスを設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-416">**Message execution level** – Use this action type to set up an executable class that should be evaluated at the message level.</span></span>
- <span data-ttu-id="41057-417">**メッセージ項目実行レベル** – このアクション タイプを使用して、メッセージ項目レベルで評価する必要がある実行可能なクラスを設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-417">**Message item execution level** – Use this action type to set up an executable class that should be evaluated at the message item level.</span></span>
- <span data-ttu-id="41057-418">**電子申告のエクスポート** ー このアクション タイプは、メッセージ項目レベルでエクスポート ER コンフィギュレーションに基づくレポートを生成するアクションに使用します。</span><span class="sxs-lookup"><span data-stu-id="41057-418">**Electronic reporting export** – Use this action type for actions that should generate a report that is based on an exporting ER configuration at the message item level.</span></span>
- <span data-ttu-id="41057-419">**電子申告のエクスポート メッセージ** – このアクション タイプは、メッセージ レベルでエクスポート ER コンフィギュレーションに基づくレポートを生成するアクションに使用します (たとえば、メッセージにメッセージ項目がない場合など)。</span><span class="sxs-lookup"><span data-stu-id="41057-419">**Electronic reporting export message** – Use this action type for actions that should generate a report that is based on an exporting ER configuration at the message level (for example, when a message doesn't have any message items).</span></span>
- <span data-ttu-id="41057-420">**電子申告のインポート** ー このアクション タイプは、インポート ER コンフィギュレーションに基づくレポートを生成するアクションに使用します。</span><span class="sxs-lookup"><span data-stu-id="41057-420">**Electronic reporting import** – Use this action type for actions that should generate a report that is based on an importing ER configuration.</span></span>
- <span data-ttu-id="41057-421">**メッセージ レベルのユーザーの処理** – このアクション タイプは、メッセージ レベルのユーザーによる何らかの手動操作を想定したアクションに使用します。</span><span class="sxs-lookup"><span data-stu-id="41057-421">**Message level user processing** – Use this action type for actions that assume some manual action by the user at the message level.</span></span> <span data-ttu-id="41057-422">たとえば、ユーザーは、メッセージの状態を更新する場合があります。</span><span class="sxs-lookup"><span data-stu-id="41057-422">For example, the user might update the status of messages.</span></span>
- <span data-ttu-id="41057-423">**ユーザーの処理** – このアクション タイプは、メッセージ項目レベルのユーザーによる何らかの手動操作を想定したアクションに使用します。</span><span class="sxs-lookup"><span data-stu-id="41057-423">**User processing** – Use this action type for actions that assume some manual action by the user at the message item level.</span></span> <span data-ttu-id="41057-424">たとえば、ユーザーは、メッセージ項目の状態を更新する場合があります。</span><span class="sxs-lookup"><span data-stu-id="41057-424">For example, the user might update the status of messages items.</span></span>
- <span data-ttu-id="41057-425">**Web サービス** – このアクション タイプは、Web サービスに生成されたレポートを送信するアクションに使用します。</span><span class="sxs-lookup"><span data-stu-id="41057-425">**Web service** – Use this action type for actions that should transmit a generated report to a web service.</span></span> <span data-ttu-id="41057-426">イタリアの購買および販売の請求書通信レポートには、このアクション タイプは使用されません。</span><span class="sxs-lookup"><span data-stu-id="41057-426">This action type isn't used for Italian Purchase and Sales Invoices Communication reporting.</span></span> <span data-ttu-id="41057-427">**Web サービス** タイプのアクションに対して、**メッセージ処理アクション** ページは確認テキストを指定できる **その他の詳細** クイック タブを含みます。</span><span class="sxs-lookup"><span data-stu-id="41057-427">For actions of **Web service** type, the **Message processing actions** page includes a **Miscellaneous details** FastTab, where you can specify a confirmation text.</span></span> <span data-ttu-id="41057-428">この確認テキストは、選択した Web サービスへの要求が対処される前にユーザーに表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-428">This confirmation text will be shown to users before requests to the selected web service are addressed.</span></span>
- <span data-ttu-id="41057-429">**検証要求** – このアクション タイプは、サーバーからの検証要求に使用します。</span><span class="sxs-lookup"><span data-stu-id="41057-429">**Request verification** – Use this action type to request verification from a server.</span></span>

#### <a name="initial-statuses-fasttab"></a><span data-ttu-id="41057-430">初期状態 クイック タブ</span><span class="sxs-lookup"><span data-stu-id="41057-430">Initial statuses FastTab</span></span>

> [!NOTE]
> <span data-ttu-id="41057-431">**初期状態** クイック タブは、**メッセージの作成** の初期のアクション タイプを持つアクションでは使用できません。</span><span class="sxs-lookup"><span data-stu-id="41057-431">The **Initial statuses** FastTab isn't available for actions that have an initial action type of **Create message**.</span></span>

| <span data-ttu-id="41057-432">フィールド</span><span class="sxs-lookup"><span data-stu-id="41057-432">Field</span></span>               | <span data-ttu-id="41057-433">説明</span><span class="sxs-lookup"><span data-stu-id="41057-433">Description</span></span> |
|---------------------|-------------|
| <span data-ttu-id="41057-434">メッセージ項目の状態</span><span class="sxs-lookup"><span data-stu-id="41057-434">Message item status</span></span> | <span data-ttu-id="41057-435">選択されたメッセージ処理アクションを評価するメッセージ項目の状態を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-435">Select the message item status that the selected message processing action should be evaluated for.</span></span> |
| <span data-ttu-id="41057-436">説明</span><span class="sxs-lookup"><span data-stu-id="41057-436">Description</span></span>         | <span data-ttu-id="41057-437">選択されたメッセージ項目の状態の説明。</span><span class="sxs-lookup"><span data-stu-id="41057-437">A description of the selected message item status.</span></span> |

#### <a name="result-statuses-fasttab"></a><span data-ttu-id="41057-438">結果状態 クイック タブ</span><span class="sxs-lookup"><span data-stu-id="41057-438">Result statuses FastTab</span></span>

| <span data-ttu-id="41057-439">フィールド</span><span class="sxs-lookup"><span data-stu-id="41057-439">Field</span></span>               | <span data-ttu-id="41057-440">説明</span><span class="sxs-lookup"><span data-stu-id="41057-440">Description</span></span> |
|---------------------|-------------|
| <span data-ttu-id="41057-441">メッセージ状態</span><span class="sxs-lookup"><span data-stu-id="41057-441">Message status</span></span>      | <span data-ttu-id="41057-442">選択されたメッセージ処理アクションを評価するメッセージ状態を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-442">Select the message statuses that the selected message processing action should be evaluated for.</span></span> <span data-ttu-id="41057-443">このフィールドは、メッセージ レベルで評価されるメッセージ処理アクションでのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="41057-443">This field is available only for message processing actions that are evaluated at the message level.</span></span> <span data-ttu-id="41057-444">たとえば、**電子申告のエクスポート** および **電子申告のインポート** タイプのアクションには使用可能ですが、**ユーザー処理** および **メッセージ項目実行レベル** タイプのアクションには使用できません。</span><span class="sxs-lookup"><span data-stu-id="41057-444">For example, it's available for actions of the **Electronic reporting export** and **Electronic reporting import** types, but it isn't available for actions of the **User processing** and **Message item execution level** types.</span></span> |
| <span data-ttu-id="41057-445">説明</span><span class="sxs-lookup"><span data-stu-id="41057-445">Description</span></span>         | <span data-ttu-id="41057-446">選択されたメッセージ状態の説明。</span><span class="sxs-lookup"><span data-stu-id="41057-446">A description of the selected message status.</span></span> |
| <span data-ttu-id="41057-447">応答タイプ</span><span class="sxs-lookup"><span data-stu-id="41057-447">Response type</span></span>       | <span data-ttu-id="41057-448">選択されたメッセージ状態の応答タイプ</span><span class="sxs-lookup"><span data-stu-id="41057-448">The response type of the selected message status.</span></span> |
| <span data-ttu-id="41057-449">メッセージ項目の状態</span><span class="sxs-lookup"><span data-stu-id="41057-449">Message item status</span></span> | <span data-ttu-id="41057-450">選択されたメッセージ処理アクションが評価された後で使用可能な結果状態を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-450">Select the resulting statuses that should be available after the selected message processing action is evaluated.</span></span> <span data-ttu-id="41057-451">このフィールドは、メッセージ項目レベルで評価されるメッセージ処理アクションでのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="41057-451">This field is available only for message processing actions that are evaluated at the message item level.</span></span> <span data-ttu-id="41057-452">たとえば、**ユーザー処理** および **メッセージ項目実行レベル** タイプのアクションで使用できます。</span><span class="sxs-lookup"><span data-stu-id="41057-452">For example, it's available for actions of the **User processing** and **Message item execution level** types.</span></span> <span data-ttu-id="41057-453">メッセージ レベルで評価されるメッセージ処理アクションの場合、このフィールドには、選択されたメッセージ状態に対して設定されたメッセージ項目の状態が表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-453">For message processing actions that are evaluated at the message level, this field shows the message item status that was set up for the selected message status.</span></span> |

<span data-ttu-id="41057-454">次のテーブルでは、さまざまなアクション タイプおよび応答タイプに設定する必要がある結果状態を示します。</span><span class="sxs-lookup"><span data-stu-id="41057-454">The following table shows the result statuses that must be set up for different action types and response types.</span></span>

| <span data-ttu-id="41057-455">電子メッセージのアクション タイプ/応答タイプ</span><span class="sxs-lookup"><span data-stu-id="41057-455">Electronic message action type/Response type</span></span> | <span data-ttu-id="41057-456">正常に実行されました</span><span class="sxs-lookup"><span data-stu-id="41057-456">Successfully executed</span></span> | <span data-ttu-id="41057-457">ビジネス エラー</span><span class="sxs-lookup"><span data-stu-id="41057-457">Business error</span></span> | <span data-ttu-id="41057-458">技術エラー</span><span class="sxs-lookup"><span data-stu-id="41057-458">Technical error</span></span> | <span data-ttu-id="41057-459">ユーザー定義</span><span class="sxs-lookup"><span data-stu-id="41057-459">User defined</span></span> | <span data-ttu-id="41057-460">キャンセル</span><span class="sxs-lookup"><span data-stu-id="41057-460">Cancel</span></span> |
|----------------------------------------------|-----------------------|----------------|-----------------|--------------|--------|
| <span data-ttu-id="41057-461">メッセージの作成</span><span class="sxs-lookup"><span data-stu-id="41057-461">Create message</span></span>                               | <span data-ttu-id="41057-462">x</span><span class="sxs-lookup"><span data-stu-id="41057-462">X</span></span>                     |                |                 |              |        |
| <span data-ttu-id="41057-463">電子申告のエクスポート</span><span class="sxs-lookup"><span data-stu-id="41057-463">Electronic reporting export</span></span>                  | <span data-ttu-id="41057-464">x</span><span class="sxs-lookup"><span data-stu-id="41057-464">X</span></span>                     |                |                 |              |        |
| <span data-ttu-id="41057-465">電子申告のインポート</span><span class="sxs-lookup"><span data-stu-id="41057-465">Electronic reporting import</span></span>                  |                       |                |                 |              |        |
| <span data-ttu-id="41057-466">Web サービス</span><span class="sxs-lookup"><span data-stu-id="41057-466">Web service</span></span>                                  | <span data-ttu-id="41057-467">x</span><span class="sxs-lookup"><span data-stu-id="41057-467">X</span></span>                     |                | <span data-ttu-id="41057-468">x</span><span class="sxs-lookup"><span data-stu-id="41057-468">X</span></span>               |              |        |
| <span data-ttu-id="41057-469">ユーザー処理</span><span class="sxs-lookup"><span data-stu-id="41057-469">User processing</span></span>                              |                       |                |                 |              |        |
| <span data-ttu-id="41057-470">メッセージ実行レベル</span><span class="sxs-lookup"><span data-stu-id="41057-470">Message execution level</span></span>                      |                       |                |                 |              |        |
| <span data-ttu-id="41057-471">レコードの設定</span><span class="sxs-lookup"><span data-stu-id="41057-471">Populate records</span></span>                             |                       |                |                 |              |        |
| <span data-ttu-id="41057-472">メッセージ項目実行レベル</span><span class="sxs-lookup"><span data-stu-id="41057-472">Message item execution level</span></span>                 |                       |                |                 |              |        |
| <span data-ttu-id="41057-473">要求の検証</span><span class="sxs-lookup"><span data-stu-id="41057-473">Request verification</span></span>                         | <span data-ttu-id="41057-474">x</span><span class="sxs-lookup"><span data-stu-id="41057-474">X</span></span>                     | <span data-ttu-id="41057-475">x</span><span class="sxs-lookup"><span data-stu-id="41057-475">X</span></span>              | <span data-ttu-id="41057-476">x</span><span class="sxs-lookup"><span data-stu-id="41057-476">X</span></span>               |              |        |
| <span data-ttu-id="41057-477">電子申告のエクスポート メッセージ</span><span class="sxs-lookup"><span data-stu-id="41057-477">Electronic reporting export message</span></span>          | <span data-ttu-id="41057-478">x</span><span class="sxs-lookup"><span data-stu-id="41057-478">X</span></span>                     |                |                 |              |        |
| <span data-ttu-id="41057-479">メッセージ レベルのユーザー処理</span><span class="sxs-lookup"><span data-stu-id="41057-479">Message level user processing</span></span>                |                       |                |                 |              |        |

### <a name="electronic-message-processing"></a><span data-ttu-id="41057-480">電子メッセージの処理</span><span class="sxs-lookup"><span data-stu-id="41057-480">Electronic message processing</span></span>

<span data-ttu-id="41057-481">電子メッセージの処理は、電子メッセージ機能の基本概念です。</span><span class="sxs-lookup"><span data-stu-id="41057-481">Electronic message processing is a basic concept of the Electronic messages functionality.</span></span> <span data-ttu-id="41057-482">電子メッセージを評価するアクションを集計します。</span><span class="sxs-lookup"><span data-stu-id="41057-482">It aggregates actions that should be evaluated for the electronic message.</span></span> <span data-ttu-id="41057-483">アクションは、初期状態と結果状態を介してリンクすることができます。</span><span class="sxs-lookup"><span data-stu-id="41057-483">The actions can be linked via an initial status and a result status.</span></span> <span data-ttu-id="41057-484">または、**ユーザー処理** タイプのアクションを個別に開始することもできます。</span><span class="sxs-lookup"><span data-stu-id="41057-484">Alternatively, actions of the **User processing** type can be started independently.</span></span> <span data-ttu-id="41057-485">**電子メッセージの処理** ページ (**税**\>**設定**\>**電子メッセージ**\>**電子メッセージの処理**) で、メッセージ レベルまたはメッセージ項目レベルのいずれかで処理するためにサポートする必要のある追加フィールドを選択することもできます。</span><span class="sxs-lookup"><span data-stu-id="41057-485">On the **Electronic message processing** page (**Tax** \> **Setup** \> **Electronic messages** \> **Electronic message processing**), you can also select additional fields that should be supported for the processing on either the message level or the message items level.</span></span>

<span data-ttu-id="41057-486">**アクション** クイック タブでは、定義済みのアクションを処理に追加することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-486">The **Action** FastTab lets you add predefined actions to the processing.</span></span> <span data-ttu-id="41057-487">アクションを個別に実行する必要があるか、または処理によって開始できるかどうかを指定することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-487">You can specify whether an action must be run separately, or whether it can be started by the processing.</span></span> <span data-ttu-id="41057-488">処理のアクションをユーザーだけが初期化できるように指定するには、そのアクションの **個別に実行** フィールドを **はい** に設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-488">To specify that an action in the processing can be initialized only by a user, set the **Run separately** field to **Yes** for that action.</span></span> <span data-ttu-id="41057-489">アクションの初期状態として定義された状態にあるメッセージまたはメッセージ項目の処理によってアクションを開始する必要がある場合、**個別に実行** フィールドを **いいえ** に設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-489">If an action should be started by the processing for messages or message items that are in the status that is defined as the initial status for the action, set the **Run separately** field to **No**.</span></span> <span data-ttu-id="41057-490">**ユーザー アクション** タイプのアクションは、常に個別でのみ実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="41057-490">Actions of the **User action** type must always be run separately.</span></span>

<span data-ttu-id="41057-491">場合によっては、最初のアクションが個別に実行されるように設定されていても、いくつかのアクションをシーケンスに集約する必要があります。</span><span class="sxs-lookup"><span data-stu-id="41057-491">Sometimes, several actions must be aggregated into a sequence, even though the first action is set up so that it runs separately.</span></span> <span data-ttu-id="41057-492">たとえば、ユーザーはレポートの生成を初期化する必要がありますが、レポートが生成された直後にそれを Web サービスに送信し、Web サービスからの応答をシステムに反映する必要があります。</span><span class="sxs-lookup"><span data-stu-id="41057-492">For example, a user must initialize report generation, but immediately after the report is generated, it must be sent to a web service, and the response from the web service must be reflected in the system.</span></span> <span data-ttu-id="41057-493">このような状況では、常に一緒に実行する必要があるアクションの非分解シーケンスを作成することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-493">In this situation, you can create an inseparable sequence for the actions that must always run together.</span></span> <span data-ttu-id="41057-494">**アクション** クイック タブで、グリッドの上にある **非分解シーケンス** を選択して、シーケンスを作成します。</span><span class="sxs-lookup"><span data-stu-id="41057-494">On the **Action** FastTab, select **Inseparable sequences** above the grid, and create a sequence.</span></span> <span data-ttu-id="41057-495">次に、一緒に実行する必要があるすべてのアクションに対して、**非分解シーケンス** フィールドのシーケンスを選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-495">Then, for all the actions that must run together, select the sequence in the **Inseparable sequence** field.</span></span> <span data-ttu-id="41057-496">この場合、シーケンスの最初のアクションでは **個別に実行** フィールドを **はい** に設定することができますが、他のすべてのアクションでは **いいえ** に設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-496">In this case, the **Run separately** field can be set to **Yes** for the first action in the sequence but **No** for all the other action.</span></span>

<span data-ttu-id="41057-497">**メッセージ項目追加フィールド** クイック タブでは、メッセージ項目に関連する定義済み追加フィールドを追加することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-497">The **Message item additional fields** FastTab lets you add predefined additional fields that are related to message items.</span></span> <span data-ttu-id="41057-498">フィールドが関連するメッセージ項目のタイプごとに追加フィールドを追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="41057-498">You must add additional fields for each type of message item that the fields are related to.</span></span>

<span data-ttu-id="41057-499">**メッセージ追加フィールド** クイック タブでは、メッセージに関連する定義済み追加フィールドを追加することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-499">The **Message additional fields** FastTab lets you add predefined additional fields that are related to messages.</span></span>

<span data-ttu-id="41057-500">**セキュリティ ロール** クイック タブでは、特定の処理のためのシステムで定義済みのセキュリティ ロールを設定することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-500">The **Security roles** FastTab lets you set up the security roles that are predefined in the system for specific processing.</span></span> <span data-ttu-id="41057-501">特定のロールを持つユーザーには、そのロールに対して定義されている処理のみが表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-501">Users who have a specific role will see only processing that is defined for that role.</span></span>

<span data-ttu-id="41057-502">**バッチ** クイック タブを使用すると、バッチ制度で実行する処理を設定できます。</span><span class="sxs-lookup"><span data-stu-id="41057-502">The **Batch** FastTab lets you set up processing to work in a batch regime.</span></span>

## <a name="work-with-the-electronic-messages-functionality"></a><span data-ttu-id="41057-503">電子メッセージ機能の使用</span><span class="sxs-lookup"><span data-stu-id="41057-503">Work with the Electronic messages functionality</span></span>

<span data-ttu-id="41057-504">メッセージ レベルで作業している場合、**電子メッセージ** ページ (**税**\>**照会およびレポート**\>**電子メッセージ**\>**電子メッセージ**) が役立ちます。</span><span class="sxs-lookup"><span data-stu-id="41057-504">If you're working at the message level, the **Electronic messages** page (**Tax** \> **Inquiries and reports** \> **Electronic messages** \> **Electronic messages**) is more useful.</span></span> <span data-ttu-id="41057-505">データ収集 (メッセージ項目) レベルで作業をしている場合、**電子メッセージ項目** ページ (**税**\>**照会およびレポート**\>**電子メッセージ**\>**電子メッセージ項目**) が役立ちます。</span><span class="sxs-lookup"><span data-stu-id="41057-505">If you're operating at the data collection (message item) level, the **Electronic message items** page (**Tax** \> **Inquires and reports** \> **Electronic messages** \> **Electronic message items**) is more useful.</span></span>

### <a name="electronic-messages"></a><span data-ttu-id="41057-506">電子メッセージ</span><span class="sxs-lookup"><span data-stu-id="41057-506">Electronic messages</span></span>

<span data-ttu-id="41057-507">**電子メッセージ** ページには、ロールに基づいて利用可能な処理が表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-507">The **Electronic messages** page presents the processing that is available to you, based on your role.</span></span> <span data-ttu-id="41057-508">セキュリティ ロールは、その処理設定の処理に関連付けられます。</span><span class="sxs-lookup"><span data-stu-id="41057-508">Security roles are associated with processing in the setup of that processing.</span></span> <span data-ttu-id="41057-509">利用可能な各処理について、関連する電子メッセージと情報がページに表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-509">For each processing that is available to you, the page shows electronic messages and information that is related to them.</span></span>

<span data-ttu-id="41057-510">**メッセージ** クイック タブに、選択した処理に対する電子メッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-510">The **Messages** FastTab shows electronic messages for the selected processing.</span></span> <span data-ttu-id="41057-511">選択したメッセージと定義済み処理の状態に応じて、グリッドの上にあるボタンを使用していくつかのアクションを実行することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-511">Depending on the status of the selected message and predefined processing, you can run some actions by using the buttons above the grid:</span></span>

- <span data-ttu-id="41057-512">**新規** – このボタンは、**メッセージの作成** タイプのアクションに関連付けられています。</span><span class="sxs-lookup"><span data-stu-id="41057-512">**New** – This button is associated with actions of the **Create message** type.</span></span>
- <span data-ttu-id="41057-513">**削除** – このボタンは、選択されたメッセージの現在の状態に対して **削除を許可** のチェック ボックスがオンになっている場合に使用できます。</span><span class="sxs-lookup"><span data-stu-id="41057-513">**Delete** – This button is available if the **Allow delete** check box is selected for the current status of the selected message.</span></span>
- <span data-ttu-id="41057-514">**データの収集** ー このボタンは **レコードの設定** タイプに関連付けられています。</span><span class="sxs-lookup"><span data-stu-id="41057-514">**Collect data** – This button is associated with actions of the **Populate records** type.</span></span>
- <span data-ttu-id="41057-515">**レポートの生成** – このボタンは、**電子申告エクスポート メッセージ** タイプのアクションに関連付けられています。</span><span class="sxs-lookup"><span data-stu-id="41057-515">**Generate report** – This button is associated with actions of the **Electronic reporting export message** type.</span></span>
- <span data-ttu-id="41057-516">**レポートの送信** – このボタンは、**Web サービス** タイプのアクションに関連付けられています。</span><span class="sxs-lookup"><span data-stu-id="41057-516">**Send report** – This button is associated with actions of the **Web service** type.</span></span>
- <span data-ttu-id="41057-517">**応答のインポート** – このボタンは、**電子申告インポート** タイプのアクションに関連付けられています。</span><span class="sxs-lookup"><span data-stu-id="41057-517">**Import response** – This button is associated with actions of the **Electronic reporting import** type.</span></span>
- <span data-ttu-id="41057-518">**状態の更新** – このボタンは、**メッセージ レベルのユーザー処理** タイプのアクションに関連付けられています。</span><span class="sxs-lookup"><span data-stu-id="41057-518">**Update status** – This button is associated with actions of the **Message level user processing** type.</span></span>
- <span data-ttu-id="41057-519">**メッセージ項目** – **電子メッセージ項目** ページを開きます。</span><span class="sxs-lookup"><span data-stu-id="41057-519">**Message items** – Open the **Electronic message items** page.</span></span>

<span data-ttu-id="41057-520">**アクション ログ** クイック タブには、選択されたメッセージに対して実行されたすべてのアクションに関する情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-520">The **Action log** FastTab shows information about all the actions that have been run for the selected message.</span></span> <span data-ttu-id="41057-521">アクションがエラーの原因になっている場合、エラーに関する情報は、関連するグリッドの明細行に関連付けられます。</span><span class="sxs-lookup"><span data-stu-id="41057-521">If an action caused an error, information about the error is attached to the related line in the grid.</span></span> <span data-ttu-id="41057-522">エラーに関する情報を確認するには、グリッドで明細行を選択し、ページの右上隅にある **添付ファイル** ボタン (紙クリップ記号) を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-522">To review the information about the error, select the line in the grid, and then select the **Attachment** button (the paper clip symbol) in the upper-right corner on the page.</span></span>

<span data-ttu-id="41057-523">**メッセージ追加フィールド** クイック タブには、処理設定のメッセージに対して定義済みのすべての追加フィールドが表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-523">The **Message additional fields** FastTab shows all the additional fields that are defined for messages in the processing setup.</span></span> <span data-ttu-id="41057-524">これらの追加フィールドの値も表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-524">It also shows the values of those additional fields.</span></span>

<span data-ttu-id="41057-525">**メッセージ項目** クイック タブには、選択されたメッセージに関連付けられたすべてのメッセージ項目が表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-525">The **Message items** FastTab shows all the message items that are related to the selected message.</span></span> <span data-ttu-id="41057-526">選択したメッセージ項目の状態に応じて、グリッドの上にあるボタンを使用していくつかのアクションを実行することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-526">Depending on the status of the selected message item, you can run some actions by using the buttons above the grid:</span></span>

- <span data-ttu-id="41057-527">**削除** – このボタンは、選択されたメッセージ項目の現在の状態に対して **削除を許可** のチェック ボックスがオンになっている場合に使用できます。</span><span class="sxs-lookup"><span data-stu-id="41057-527">**Delete** – This button is available if the **Allow delete** check box is selected for the current status of the selected message item.</span></span>
- <span data-ttu-id="41057-528">**状態の更新** – このボタンは、**ユーザー処理** タイプのアクションに関連付けられています。</span><span class="sxs-lookup"><span data-stu-id="41057-528">**Update status** – This button is associated with actions of the **User processing** type.</span></span>
- <span data-ttu-id="41057-529">**元の文書** ー 選択したメッセージ項目の元の文書を表示するページを開きます。</span><span class="sxs-lookup"><span data-stu-id="41057-529">**Original document** – Open a page that shows the original document for the selected message item.</span></span>

<span data-ttu-id="41057-530">メッセージに対してすでに生成され受信されたすべてのレポートは、そのメッセージに添付されます。</span><span class="sxs-lookup"><span data-stu-id="41057-530">All reports that have already been generated and received for a message are attached to that message.</span></span> <span data-ttu-id="41057-531">そのメッセージに関連する添付ファイルを確認するには、メッセージを選択し、ページの右上隅にある **添付ファイル** ボタン (紙クリップ記号) を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-531">To review the attachments that are related to a message, select the message, and then select the **Attachment** button (the paper clip symbol) in the upper-right corner of the page.</span></span>

![添付ファイル ボタン](media/attachment-icon.png)

<span data-ttu-id="41057-533">**添付ファイル** ページには、選択したメッセージに関連するすべての添付ファイルが表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-533">The **Attachments** page shows all the attachments that are related to the selected message.</span></span> <span data-ttu-id="41057-534">ファイルを表示するには、それを左側のリストから選択し、アクション ウィンドウの **開く** を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-534">To view a file, select it in the list on the left, and then select **Open** on the Action Pane.</span></span>

![開く ボタン](media/open-button.png)

<span data-ttu-id="41057-536">以前にメッセージに対して実行された特定のアクションに関連する添付ファイルを確認することもできます。</span><span class="sxs-lookup"><span data-stu-id="41057-536">You can also review attachments that are related to a specific action that was previously run for a message.</span></span> <span data-ttu-id="41057-537">**電子メッセージ** ページで、**メッセージ** クイック タブでメッセージを選択し、**操作ログ** クイック タブでアクションを選択し、ページの右上隅にある **添付ファイル** ボタンを選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-537">On the **Electronic messages** page, select the message on the **Messages** FastTab, select the action on **Action log** FastTab, and then select the **Attachment** button in the upper-right corner of the page.</span></span>

<span data-ttu-id="41057-538">アクション ウィンドウで **処理の実行** を選択して、全体の処理もしくは特定のアクションを実行することもできます。</span><span class="sxs-lookup"><span data-stu-id="41057-538">You can also run either the whole processing or just a specific action by selecting **Run processing** on the Action Pane.</span></span>

### <a name="electronic-message-items"></a><span data-ttu-id="41057-539">電子メッセージ項目</span><span class="sxs-lookup"><span data-stu-id="41057-539">Electronic message items</span></span>

<span data-ttu-id="41057-540">**電子メッセージ項目** ページには、すべてのメッセージ項目と各メッセージ項目に対して実行されたアクションのログが表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-540">The **Electronic message items** page presents all message items and a log of the actions that have been run for each message item.</span></span> <span data-ttu-id="41057-541">また、メッセージ項目に対して定義された追加フィールド、およびそれら追加フィールドの値も表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-541">It also shows the additional fields that are defined for the message items, and the values of those additional fields.</span></span>

<span data-ttu-id="41057-542">次の表で、**メッセージ項目** タブのフィールドについて説明します。</span><span class="sxs-lookup"><span data-stu-id="41057-542">The following table describes the fields on the **Message items** tab.</span></span>

<table>
<thead>
<tr>
<th><span data-ttu-id="41057-543">フィールド</span><span class="sxs-lookup"><span data-stu-id="41057-543">Field</span></span></th>
<th><span data-ttu-id="41057-544">説明</span><span class="sxs-lookup"><span data-stu-id="41057-544">Description</span></span></th>
</tr>
</thead>
<tbody>
<tr>
<td><span data-ttu-id="41057-545">処理中</span><span class="sxs-lookup"><span data-stu-id="41057-545">Processing</span></span></td>
<td><span data-ttu-id="41057-546">メッセージ項目の作成に使用された処理の名前。</span><span class="sxs-lookup"><span data-stu-id="41057-546">The name of the processing that was used to create the message item.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="41057-547">メッセージ項目</span><span class="sxs-lookup"><span data-stu-id="41057-547">Message item</span></span></td>
<td><span data-ttu-id="41057-548">メッセージ項目の ID。</span><span class="sxs-lookup"><span data-stu-id="41057-548">The ID of the message item.</span></span> <span data-ttu-id="41057-549">この ID は、<strong>総勘定元帳パラメーター</strong>ページ<strong>で定義されているメッセージ項目</strong>の番号順序に基づいて割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="41057-549">This ID is assigned automatically, based on the <strong>Message item</strong> number sequence that is defined on the <strong>General ledger parameters</strong> page.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="41057-550">メッセージ項目の日付</span><span class="sxs-lookup"><span data-stu-id="41057-550">Message item date</span></span></td>
<td><span data-ttu-id="41057-551">メッセージ項目が作成された日付。</span><span class="sxs-lookup"><span data-stu-id="41057-551">The date when the message item was created.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="41057-552">メッセージ項目タイプ</span><span class="sxs-lookup"><span data-stu-id="41057-552">Message item type</span></span></td>
<td><span data-ttu-id="41057-553">メッセージ項目のタイプ。</span><span class="sxs-lookup"><span data-stu-id="41057-553">The type of message item.</span></span> <span data-ttu-id="41057-554">同じ処理のためにいくつかのメッセージ項目のタイプを設定できます(たとえば、<strong>仕入請求書</strong>および<strong>支払請求書</strong>)。</span><span class="sxs-lookup"><span data-stu-id="41057-554">Several types of messages items can be set up for the same processing (for example, <strong>Incoming invoices</strong> and <strong>Outgoing invoices</strong>).</span></span> <span data-ttu-id="41057-555">このフィールドは、メッセージ項目テーブルに請求書が追加された場合にのみ、自動的に入力されます。</span><span class="sxs-lookup"><span data-stu-id="41057-555">This field can be filled in automatically only when an invoice is added to the Message items table.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="41057-556">メッセージ項目の状態</span><span class="sxs-lookup"><span data-stu-id="41057-556">Message item status</span></span></td>
<td><span data-ttu-id="41057-557">メッセージ項目の実際の状態。</span><span class="sxs-lookup"><span data-stu-id="41057-557">The actual status of the message item.</span></span> <span data-ttu-id="41057-558">使用可能な状態は、メッセージ項目のタイプによって異なります。</span><span class="sxs-lookup"><span data-stu-id="41057-558">The available statuses vary, depending on the type of message item.</span></span> <span data-ttu-id="41057-559">次にいくつか例を挙げます。</span><span class="sxs-lookup"><span data-stu-id="41057-559">Here are some examples:</span></span>
<ul>
<li><span data-ttu-id="41057-560"><strong>入力済</strong> – メッセージ項目テーブルにレコードが追加されました。</span><span class="sxs-lookup"><span data-stu-id="41057-560"><strong>Populated</strong> – A record was added to the Message items table.</span></span></li>
<li><span data-ttu-id="41057-561"><strong>評価済</strong> – メッセージ項目の追加の属性が計算されました。</span><span class="sxs-lookup"><span data-stu-id="41057-561"><strong>Evaluated</strong> – Additional attributes were calculated for the message item.</span></span></li>
<li><span data-ttu-id="41057-562"><strong>報告済</strong> – メッセージ項目がレポートに正常に追加されました。</span><span class="sxs-lookup"><span data-stu-id="41057-562"><strong>Reported</strong> – The message item was successfully added to a report.</span></span></li>
<li><span data-ttu-id="41057-563"><strong>除外</strong> – この状態は、エクスポート前にいくつかのメッセージ項目を除外する必要がある場合に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="41057-563"><strong>Excluded</strong> – This status can be useful if you must exclude some message items from a report before it's exported.</span></span></li>
</ul>
</td>
</tr>
<tr>
<td><span data-ttu-id="41057-564">送信日</span><span class="sxs-lookup"><span data-stu-id="41057-564">Transmission date</span></span></td>
<td><span data-ttu-id="41057-565">生成されたレポートをシステム外部に自動的に送信する処理の場合、メッセージ項目が送信された日付。</span><span class="sxs-lookup"><span data-stu-id="41057-565">For processing that automatically transmits a generated report outside the system, the date when the message item was transmitted.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="41057-566">ドキュメント番号</span><span class="sxs-lookup"><span data-stu-id="41057-566">Document number</span></span></td>
<td><span data-ttu-id="41057-567">このフィールドは、レコード アクション設定の設定に基づいて自動的に入力されます。</span><span class="sxs-lookup"><span data-stu-id="41057-567">This field is filled in automatically, based on the setup of the populate records action.</span></span> <span data-ttu-id="41057-568">このフィールドは、メッセージ項目テーブルに請求書が追加された場合にのみ、自動的に入力されます。</span><span class="sxs-lookup"><span data-stu-id="41057-568">This field can be filled in automatically only when an invoice is added to the Message items table.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="41057-569">勘定番号</span><span class="sxs-lookup"><span data-stu-id="41057-569">Account number</span></span></td>
<td><span data-ttu-id="41057-570">顧客または仕入先の勘定番号 (または別のフィールド値。レコードの設定アクションで定義されるフィールドによって異なります)。</span><span class="sxs-lookup"><span data-stu-id="41057-570">The account number of a customer or vendor (or another field value, depending on the field that is defined on the populate records action).</span></span> <span data-ttu-id="41057-571">このフィールドは、メッセージ項目テーブルに請求書が追加された場合にのみ、自動的に入力されます。</span><span class="sxs-lookup"><span data-stu-id="41057-571">This field can be filled in automatically only when an invoice is added to the Message items table.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="41057-572">メッセージ</span><span class="sxs-lookup"><span data-stu-id="41057-572">Message</span></span></td>
<td><span data-ttu-id="41057-573">メッセージの番号。</span><span class="sxs-lookup"><span data-stu-id="41057-573">The number of the message.</span></span> <span data-ttu-id="41057-574">この番号は、<strong>総勘定元帳パラメーター</strong> ページで定義される<strong>メッセージ</strong>番号順序に基づいて、自動的に割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="41057-574">This number is assigned automatically, based on the <strong>Message</strong> number sequence that is defined on the <strong>General ledger parameters</strong> page.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="41057-575">メッセージ状態</span><span class="sxs-lookup"><span data-stu-id="41057-575">Message status</span></span></td>
<td><span data-ttu-id="41057-576">電子メッセージの実際の状態。</span><span class="sxs-lookup"><span data-stu-id="41057-576">The actual status of the electronic message.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="41057-577">次のアクション</span><span class="sxs-lookup"><span data-stu-id="41057-577">Next action</span></span></td>
<td><span data-ttu-id="41057-578">メッセージ項目の現在の状態に対して開始できる次のアクション。</span><span class="sxs-lookup"><span data-stu-id="41057-578">The next actions that can be started for the current status of the message item.</span></span></td>
</tr>
</tbody>
</table>

<span data-ttu-id="41057-579">**追加フィールド** タブは、選択されたメッセージ項目およびその値の追加フィールドを表示します。</span><span class="sxs-lookup"><span data-stu-id="41057-579">The **Additional fields** tab shows the additional fields for the selected message item, and their values.</span></span>

#### <a name="run-processing"></a><span data-ttu-id="41057-580">処理の実行</span><span class="sxs-lookup"><span data-stu-id="41057-580">Run processing</span></span>

<span data-ttu-id="41057-581">アクション ウィンドウで **処理の実行** を選択し、メッセージ項目に対して処理を実行します。</span><span class="sxs-lookup"><span data-stu-id="41057-581">Select **Run processing** on the Action Pane to run the processing for message items.</span></span> <span data-ttu-id="41057-582">特定のアクションを実行するには、**処理の実行** ダイアログ ボックスで **アクションの選択** オプションを **はい** に設定し、アクションを選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-582">To run a specific action, in the **Run processing** dialog box, set the **Choose action** option to **Yes**, and then select an action.</span></span> <span data-ttu-id="41057-583">全体の処理を実行するには、**アクションの選択** オプションを **いいえ** に設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-583">To run the whole processing, leave the **Choose action** option set to **No**.</span></span>

#### <a name="generate-report"></a><span data-ttu-id="41057-584">レポートの生成</span><span class="sxs-lookup"><span data-stu-id="41057-584">Generate report</span></span>

<span data-ttu-id="41057-585">アクション ウィンドウで **レポートの生成** を選択し、レポートを生成します。</span><span class="sxs-lookup"><span data-stu-id="41057-585">Select **Generate report** on the Action Pane to generate a report.</span></span> <span data-ttu-id="41057-586">このボタンは、**電子報告エクスポート** タイプのアクションに関連付けられています。</span><span class="sxs-lookup"><span data-stu-id="41057-586">This button is associated with actions of the **Electronic reporting export** type.</span></span>

#### <a name="update-status"></a><span data-ttu-id="41057-587">状態の更新</span><span class="sxs-lookup"><span data-stu-id="41057-587">Update status</span></span>

<span data-ttu-id="41057-588">1 つ以上のメッセージ項目の状態を更新するには、アクション ウィンドウで **状態の更新** を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-588">Select **Update status** on the Action Pane to update the status of one or more message items.</span></span> <span data-ttu-id="41057-589">**状態の更新** ダイアログ ボックスで、**対象に含めるレコード** クイック タブを使用して更新するメッセージ項目を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-589">In the **Update status** dialog box, use the **Records to include** FastTab to select the message items to update.</span></span> <span data-ttu-id="41057-590">選択基準が正しく定義されているか確認してください。メッセージ項目状態は、これらの基準、選択したアクションの初期状態、および指定した **新しい状態** の値に従って更新されます。</span><span class="sxs-lookup"><span data-stu-id="41057-590">Make sure that you correctly define the selection criteria, because message item statuses will be updated according to these criteria, the initial status of the selected action, and the **New status** value that you specify.</span></span> <span data-ttu-id="41057-591">状態の更新が完了した後は、更新された項目を特定することは難しくなります。</span><span class="sxs-lookup"><span data-stu-id="41057-591">After a status update is completed, it will be difficult to determine which items were updated.</span></span> <span data-ttu-id="41057-592">したがって、状態の更新をロールバックすることは難しくなります。</span><span class="sxs-lookup"><span data-stu-id="41057-592">Therefore, it will be difficult to roll back the status update.</span></span>

#### <a name="electronic-messages"></a><span data-ttu-id="41057-593">電子メッセージ</span><span class="sxs-lookup"><span data-stu-id="41057-593">Electronic messages</span></span>

<span data-ttu-id="41057-594">アクション ウィンドウの **電子メッセージ** を選択し、選択したメッセージ項目に関連付けられている電子メッセージを確認します。</span><span class="sxs-lookup"><span data-stu-id="41057-594">Select **Electronic messages** on the Action Pane to review an electronic message that is related to the selected message item.</span></span>

<span data-ttu-id="41057-595">特定のメッセージ項目に関連するすべてのファイルを確認することもできます。</span><span class="sxs-lookup"><span data-stu-id="41057-595">You can also review all the files that are related to a specific message item.</span></span> <span data-ttu-id="41057-596">そのメッセージ項目の **メッセージ** フィールド、もしくはアクション ウィンドウの **電子メッセージ** を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-596">Select the **Message** field for the message item, or select **Electronic messages** on the Action Pane.</span></span> <span data-ttu-id="41057-597">**電子メッセージ** ページでファイルを確認するメッセージを選択してから、ページの右上隅にある **添付ファイル** ボタン (紙クリップ記号) を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-597">Then, on the **Electronic message** page, select the message to review files for, and then select the **Attachment** button (the paper clip symbol) in the upper-right corner of the page.</span></span>

![添付ファイル ボタン](media/attachment-icon.png)

<span data-ttu-id="41057-599">**添付ファイル** ページには、メッセージに関連するすべての添付ファイルが表示されます。</span><span class="sxs-lookup"><span data-stu-id="41057-599">The **Attachments** page shows all the attachments that are related to the message.</span></span> <span data-ttu-id="41057-600">ファイルを表示するには、それを左側のリストから選択し、アクション ウィンドウの **開く** を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-600">To view a file, select it in the list on the left, and then select **Open** on the Action Pane.</span></span>

![開く ボタン](media/open-button.png)

#### <a name="original-document"></a><span data-ttu-id="41057-602">元の文書</span><span class="sxs-lookup"><span data-stu-id="41057-602">Original document</span></span>

<span data-ttu-id="41057-603">アクション ウィンドウの **元の文書** を選択し、選択したメッセージ項目の元の文書を開きます。</span><span class="sxs-lookup"><span data-stu-id="41057-603">Select **Original document** on the Action Pane to open the original document for the selected message item.</span></span>

## <a name="example-set-up-and-run-processing-to-call-a-simple-er-exporting-format-to-generate-an-excel-report"></a><span data-ttu-id="41057-604">例: 簡易 ER エクスポート形式を呼び出して Excel レポートを生成するよう設定し、処理を実行する</span><span class="sxs-lookup"><span data-stu-id="41057-604">Example: Set up and run processing to call a simple ER exporting format to generate an Excel report</span></span>

<span data-ttu-id="41057-605">ER 形式を作成してデータソースにマップし、完成させた後に、**電子申告** ワークスペースを使用してそれを実行できます。</span><span class="sxs-lookup"><span data-stu-id="41057-605">After you've created your ER format, mapped it to data sources, and completed it, you can run it by using the **Electronic reporting** workspace.</span></span> <span data-ttu-id="41057-606">レポートが生成され、ローカルに保存することができます。</span><span class="sxs-lookup"><span data-stu-id="41057-606">A report is generated, and you can save it locally.</span></span>

<span data-ttu-id="41057-607">レポート処理の次の側面をコントロールするには、電子メッセージ処理を設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="41057-607">To control the following aspects of the reporting process, you must set up electronic messaging processing:</span></span>

- <span data-ttu-id="41057-608">レポートの作成者に関するログ情報。</span><span class="sxs-lookup"><span data-stu-id="41057-608">Log information about who generated the report.</span></span>
- <span data-ttu-id="41057-609">レポートの作成日時に関するログ情報。</span><span class="sxs-lookup"><span data-stu-id="41057-609">Log information about when the report was generated.</span></span>
- <span data-ttu-id="41057-610">以前の期間に生成されたレポートを保存します。</span><span class="sxs-lookup"><span data-stu-id="41057-610">Save the reports that were generated for previous periods.</span></span>

<span data-ttu-id="41057-611">このセクションでは、Excel のエクスポート ER 形式に基づくレポートを生成するために電子メッセージを設定する方法を示す例を取り上げます。</span><span class="sxs-lookup"><span data-stu-id="41057-611">This section provides an example that shows how you can set up electronic messaging to generate a report that is based on an exporting ER format for Excel.</span></span> <span data-ttu-id="41057-612">この例に従う場合は、ER Excel エクスポート形式を作成し、データソースにマップし、完了している必要があります。</span><span class="sxs-lookup"><span data-stu-id="41057-612">If you want to follow this example, the ER Excel exporting format must already be created, mapped to data sources, and completed.</span></span> <span data-ttu-id="41057-613">また、番号順序は既に電子メッセージに設定されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="41057-613">Additionally, a number sequence must already be set up for electronic messages.</span></span>

<span data-ttu-id="41057-614">処理を構築するときは、設定する処理アクションと状態を最初に定義すると役立ちます。</span><span class="sxs-lookup"><span data-stu-id="41057-614">When you build processing, it's helpful if you first define the processing actions and statuses that will be set up.</span></span> <span data-ttu-id="41057-615">次の図は、この例の処理の概要を示しています。</span><span class="sxs-lookup"><span data-stu-id="41057-615">The following illustration shows what the processing looks like for this example.</span></span>

![処理スキーム](media/processing-scheme.png)

#### <a name="create-message-statuses"></a><span data-ttu-id="41057-617">メッセージ状態の作成</span><span class="sxs-lookup"><span data-stu-id="41057-617">Create message statuses</span></span>

1. <span data-ttu-id="41057-618">**税\>設定\>電子メッセージ\>メッセージの状態** に移動します。</span><span class="sxs-lookup"><span data-stu-id="41057-618">Go to **Tax \> Setup \> Electronic messages \> Message statuses**.</span></span>
2. <span data-ttu-id="41057-619">次のメッセージ状態を作成します。</span><span class="sxs-lookup"><span data-stu-id="41057-619">Create the following message statuses:</span></span>

    - <span data-ttu-id="41057-620">新規</span><span class="sxs-lookup"><span data-stu-id="41057-620">New</span></span>
    - <span data-ttu-id="41057-621">準備済</span><span class="sxs-lookup"><span data-stu-id="41057-621">Prepared</span></span>
    - <span data-ttu-id="41057-622">生成済</span><span class="sxs-lookup"><span data-stu-id="41057-622">Generated</span></span>

    ![メッセージ状態](media/message-statuses.png)

3. <span data-ttu-id="41057-624">**新しい** 状態の行で、**削除を許可** チェック ボックスをオンにし、ユーザーがこの状態にあるメッセージを削除できるようにします。</span><span class="sxs-lookup"><span data-stu-id="41057-624">On the line for the **New** status, select the **Allow delete** check box to let users delete messages that have this status.</span></span>

#### <a name="create-additional-fields"></a><span data-ttu-id="41057-625">追加フィールドの作成</span><span class="sxs-lookup"><span data-stu-id="41057-625">Create additional fields</span></span>

1. <span data-ttu-id="41057-626">**税\>設定\>電子メッセージ\>追加フィールド** に移動します。</span><span class="sxs-lookup"><span data-stu-id="41057-626">Go to **Tax \> Setup \> Electronic messages \> Additional fields**.</span></span>
2. <span data-ttu-id="41057-627">追加フィールドとその値を追加します。</span><span class="sxs-lookup"><span data-stu-id="41057-627">Add an additional field and its values.</span></span> <span data-ttu-id="41057-628">次に例を示します。</span><span class="sxs-lookup"><span data-stu-id="41057-628">Here is an example.</span></span>

    ![追加フィールド](media/additional-fields.png)

3. <span data-ttu-id="41057-630">**ユーザーの編集** オプションを **はい** に設定し、ユーザーがフィールドを編集できるようにします。</span><span class="sxs-lookup"><span data-stu-id="41057-630">Set the **User edit** option to **Yes** to let users edit the field.</span></span>

#### <a name="create-message-processing-actions"></a><span data-ttu-id="41057-631">メッセージ処理アクションの作成</span><span class="sxs-lookup"><span data-stu-id="41057-631">Create message processing actions</span></span>

<span data-ttu-id="41057-632">この例では、次のアクションを作成します。</span><span class="sxs-lookup"><span data-stu-id="41057-632">For this example, you will create the following actions:</span></span>

- <span data-ttu-id="41057-633">**メッセージの作成**</span><span class="sxs-lookup"><span data-stu-id="41057-633">**Create message**</span></span>
- <span data-ttu-id="41057-634">**準備済に更新**</span><span class="sxs-lookup"><span data-stu-id="41057-634">**Update to Prepared**</span></span>
- <span data-ttu-id="41057-635">**レポートの生成**</span><span class="sxs-lookup"><span data-stu-id="41057-635">**Generate report**</span></span>
- <span data-ttu-id="41057-636">**初期状態への更新** (オプション)</span><span class="sxs-lookup"><span data-stu-id="41057-636">**Update to initial status** (optional)</span></span>

1. <span data-ttu-id="41057-637">**税\>設定\>電子メッセージ\>メッセージ処理アクション** に移動します。</span><span class="sxs-lookup"><span data-stu-id="41057-637">Go to **Tax \> Setup \> Electronic messages \> Message processing actions**.</span></span>
2. <span data-ttu-id="41057-638">**メッセージの作成** という名前の付いたアクションを作成します。</span><span class="sxs-lookup"><span data-stu-id="41057-638">Create an action that is named **Create message**.</span></span> <span data-ttu-id="41057-639">**一般** クイック タブの **アクション タイプ** フィールドで、**メッセージの作成** を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-639">On the **General** FastTab, in the **Action type** field, select **Create message**.</span></span>
3. <span data-ttu-id="41057-640">**準備済に更新** という名前の付いたアクションを作成し、次のフィールドを設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-640">Create an action that is named **Update to Prepared**, and set the following fields:</span></span>

    - <span data-ttu-id="41057-641">**一般** クイック タブの **アクション タイプ** フィールドで、**メッセージ レベルのユーザー処理** を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-641">On the **General** FastTab, in the **Action type** field, select **Message level user processing**.</span></span>
    - <span data-ttu-id="41057-642">**初期状態** クイック タブの **メッセージ状態** フィールドで、**新規** を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-642">On the **Initial statuses** FastTab, in the **Message status** field, select **New**.</span></span>
    - <span data-ttu-id="41057-643">**結果状態** クイック タブの **メッセージ状態** フィールドで、**準備済** を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-643">On the **Result statuses** FastTab, in the **Message status** field, select **Prepared**.</span></span> <span data-ttu-id="41057-644">**応答タイプ** フィールドに、**正常に実行されました** と入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-644">In the **Response type** field, enter **Successfully executed**.</span></span>

4. <span data-ttu-id="41057-645">**レポートの生成** という名前の付いたアクションを作成し、次のフィールドを設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-645">Create an action that is named **Generate report**, and set the following fields:</span></span>

    - <span data-ttu-id="41057-646">**一般** クイック タブの **アクション タイプ** フィールドで、**電子申告のエクスポート** を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-646">On the **General** FastTab, in the **Action type** field, select **Electronic reporting export**.</span></span> <span data-ttu-id="41057-647">**形式マッピング** フィールドで、エクスポート ER 形式を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-647">In the **Format mapping** field, select the exporting ER format.</span></span> <span data-ttu-id="41057-648">オプションは、**Excel**、**XML**、**JSON**、**Text** および **Other** です。</span><span class="sxs-lookup"><span data-stu-id="41057-648">The options are **Excel**, **XML**, **JSON**, **Text**, and **Other**.</span></span>
    - <span data-ttu-id="41057-649">**初期状態** クイック タブの **メッセージ状態** フィールドで、**準備済** を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-649">On the **Initial statuses** FastTab, in the **Message status** field, select **Prepared**.</span></span>
    - <span data-ttu-id="41057-650">**結果状態** クイック タブの **メッセージ状態** フィールドで、**生成済** を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-650">On the **Result statuses** FastTab, in the **Message status** field, select **Generated**.</span></span> <span data-ttu-id="41057-651">**応答タイプ** フィールドに、**正常に実行されました** と入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-651">In the **Response type** field, enter **Successfully executed**.</span></span>

    ![レポート アクションの生成](media/generate-report-action.png)

5. <span data-ttu-id="41057-653">オプション : ユーザーがレポートを複数回再生できるようにする場合は、**初期状態への更新** アクションを作成し、次のフィールドを設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-653">Optional: To let users regenerate a report several times, you can create an **Update to initial status** action and set the following fields:</span></span>

    - <span data-ttu-id="41057-654">**一般** クイック タブの **アクション タイプ** フィールドで、**メッセージ レベルのユーザー処理** を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-654">On the **General** FastTab, in the **Action type** field, select **Message level user processing**.</span></span>
    - <span data-ttu-id="41057-655">**初期状態** クイック タブの **メッセージ状態** フィールドで、**生成済** を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-655">On the **Initial statuses** FastTab, in the **Message status** field, select **Generated**.</span></span>
    - <span data-ttu-id="41057-656">**結果状態** クイック タブで、2 つのメッセージの状態ごとに個別の明細行を追加します (**準備済** および **新規**)。</span><span class="sxs-lookup"><span data-stu-id="41057-656">On the **Result statuses** FastTab, add a separate line for each of the two message statuses (**Prepared** and **New**).</span></span> <span data-ttu-id="41057-657">両方の明細行に対して **応答タイプ** フィールドを **正常に実行されました** に設定します。</span><span class="sxs-lookup"><span data-stu-id="41057-657">For both lines, set the **Response type** field to **Successfully executed**.</span></span>

#### <a name="electronic-message-processing"></a><span data-ttu-id="41057-658">電子メッセージの処理</span><span class="sxs-lookup"><span data-stu-id="41057-658">Electronic message processing</span></span>

<span data-ttu-id="41057-659">この例では、すべてのアクションを個別に実行するように設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="41057-659">In this example, all the actions should be set up so that they run separately.</span></span> <span data-ttu-id="41057-660">ユーザーがすべてのアクションを初期化することを前提としています。</span><span class="sxs-lookup"><span data-stu-id="41057-660">The assumption is that the user will initialize every action.</span></span>

1. <span data-ttu-id="41057-661">**税\>設定\>電子メッセージ\>電子メッセージの処理** に移動します。</span><span class="sxs-lookup"><span data-stu-id="41057-661">Go to **Tax \> Setup \> Electronic messages \> Electronic message processing**.</span></span>
2. <span data-ttu-id="41057-662">処理のためにレコードを追加し、すべての定義済のアクションおよび追加フィールドを追加します。</span><span class="sxs-lookup"><span data-stu-id="41057-662">Add a record for your processing, and add all previously defined actions and an additional field.</span></span>
3. <span data-ttu-id="41057-663">オプション: **セキュリティ ロール** クイック タブで、特定のレポートへのアクセスを限定する処理のセキュリティ ロールを定義します。</span><span class="sxs-lookup"><span data-stu-id="41057-663">Optional: On the **Security roles** FastTab, define security roles for your processing to limit access to specific reporting.</span></span>
4. <span data-ttu-id="41057-664">**税\>照会およびレポート\>電子メッセージ\>電子メッセージ** に移動します。</span><span class="sxs-lookup"><span data-stu-id="41057-664">Go to **Tax \> Inquires and reports \> Electronic messages \> Electronic messages**.</span></span>
5. <span data-ttu-id="41057-665">**新規** を選択してメッセージを作成します。</span><span class="sxs-lookup"><span data-stu-id="41057-665">Select **New** to create a message.</span></span> <span data-ttu-id="41057-666">この時点で、日付と説明を追加できます。</span><span class="sxs-lookup"><span data-stu-id="41057-666">At this point, you can add dates and a description.</span></span> <span data-ttu-id="41057-667">追加フィールドの値を必要に応じて更新することもできます。</span><span class="sxs-lookup"><span data-stu-id="41057-667">You can also update the value of the additional field as you require.</span></span>

    ![電子メッセージの作成](media/create-electronic-message.png)

<span data-ttu-id="41057-669">**アクション ログ** のグリッドでは、クイック タブは、メッセージ上で実行されるすべてのアクションのログを自動的に入力します。</span><span class="sxs-lookup"><span data-stu-id="41057-669">The grid on the **Action log** FastTab is automatically filled in with a log of all actions that are performed on the message.</span></span>

<span data-ttu-id="41057-670">メッセージ状態を削除または更新できるようになりました。</span><span class="sxs-lookup"><span data-stu-id="41057-670">You can now either delete or update the message status.</span></span> <span data-ttu-id="41057-671">メッセージ状態を更新するには、**状態の更新** を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-671">To update the message status, select **Update status**.</span></span> <span data-ttu-id="41057-672">**新しい状態** フィールドで **準備済** を選択してから、**OK** を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-672">In the **New status** field, select **Prepared**, and then select **OK**.</span></span>

![メッセージ状態の更新](media/update-status.png)

<span data-ttu-id="41057-674">メッセージ状態が **準備済** に更新され、**レポートの生成** を選択してレポートを生成できるようになりました。</span><span class="sxs-lookup"><span data-stu-id="41057-674">The message status is updated to **Prepared**, and you can now generate the report by selecting **Generate report**.</span></span> <span data-ttu-id="41057-675">レポートが生成され、メッセージ状態およびアクションのログは更新されます。</span><span class="sxs-lookup"><span data-stu-id="41057-675">The report is generated, and the message status and action log are updated.</span></span> <span data-ttu-id="41057-676">生成されたレポートを表示するには、ページの右上隅にある **添付ファイル** ボタン (紙クリップ記号) を選択します。</span><span class="sxs-lookup"><span data-stu-id="41057-676">To view the generated report, select the **Attachment** button (the paper clip symbol) in the upper-right corner of the page.</span></span>

---
title: クラウドおよびエッジのスケール ユニットの倉庫管理ワークロード
description: このトピックでは、スケール ユニットを有効化して、倉庫管理ワークロードから選択したプロセスを実行できるようにする機能について説明します。
author: perlynne
ms.date: 04/22/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: PurchTable, SysSecRolesEditUsers, SysWorkloadDuplicateRecord
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: SCM
ms.author: perlynne
ms.search.validFrom: 2020-10-06
ms.dyn365.ops.version: 10.0.19
ms.openlocfilehash: 7541688e8428dbc17a3c53d696913365580c3db8
ms.sourcegitcommit: b9c2798aa994e1526d1c50726f807e6335885e1a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/13/2021
ms.locfileid: "7343767"
---
# <a name="warehouse-management-workloads-for-cloud-and-edge-scale-units"></a>クラウドおよびエッジのスケール ユニットに対する倉庫管理ワークロード

[!include [banner](../includes/banner.md)]

> [!WARNING]
> スケール ユニットでワークロードを実行する倉庫では、すべての倉庫管理ビジネス機能が完全にサポートされているわけではありません。 このトピックでは、サポート対象として明示的に説明したプロセスのみを使用してください。

## <a name="warehouse-execution-on-scale-units"></a>スケール ユニットでの倉庫の実行

この機能により、スケール ユニットで、倉庫管理機能から選択したプロセスを実行できるようになります。

このトピックでは、スケール単位として定義されている倉庫での倉庫管理の実行は、*倉庫実行システム* (*WES*) と呼ばれます。

## <a name="prerequisites"></a>必要条件

倉庫管理ワークロードと共に配置された Dynamics 365 Supply Chain Management ハブとスケール ユニットが必要です。 アーキテクチャと配置プロセスの詳細については、[スケール ユニットを使用して、Supply Chain Management のワークロードの弾力性向上させる](cloud-edge-landing-page.md) を参照してください。

## <a name="how-the-wes-workload-works-on-scale-units"></a>スケール ユニット上で WES ワークロードが動作する方法

倉庫管理ワークロードのプロセスについては、ハブとスケール ユニットの間でデータが同期されます。

スケール ユニットは、所有するデータのみを保持できます。 スケールユニットのデータ所有権の概念は、マルチマスタの競合の防止に役立ちます。 したがって、ハブによって所有されているプロセスと、そのスケール ユニットによって所有されているプロセスを理解することが重要です。

スケール ユニットは、次のデータを所有します。

- **出荷ウェーブ処理** - 選択されたウェーブ プロセス メソッドは、このスケール ユニットのウェーブ処理の一部として処理されます。
- **作業処理データ** – スケール ユニットで作成された倉庫作業は、この特定のスケール ユニットによって所有されます。 次のタイプの作業指示書処理がサポートされています。

  - **在庫移動** (手動移動とテンプレート作業による移動)
  - カウント操作の一部としての **循環棚卸** および承認/拒否プロセス
  - **発注書** (発注書が積荷に関連付けされていない場合の倉庫オーダーによるプットアウェイ作業)
  - **販売注文** (簡単なピッキングと積荷作業)
  - **移動オーダー** (単純なピッキングと積荷作業を含む出庫のみ)

- **倉庫オーダー入庫データ** - このデータは、倉庫にリリースされた発注書に対してのみ使用されます。
- **ライセンス プレート データ** - ライセンス プレートはハブとスケール ユニットの両方で作成できます。 専用の競合処理が指定されています。 

    > [!IMPORTANT]
    > ライセンス プレート データは倉庫固有ではありません。 同じ同期サイクル内に同じライセンス プレート番号が 1 つでも、スケール単位に対して同じライセンス番号が作成されると、次の同期が失敗します。 この場合は、**システム管理 > 照会 > ワークロード照会 > 重複レコード** の順にクリックして、データを表示および統合します。

## <a name="outbound-process-flow"></a>出荷プロセス フロー

ハブは、次のデータを所有しています。

- 販売注文や移動オーダーなどのすべての元伝票
- オーダーの割り当てと発送積荷の処理
- 倉庫へのリリース、出荷の作成、ウェーブの作成、およびウェーブの完了プロセス

スケール ユニットは、ウェーブのリリース後の実際のウェーブ処理 (作業の割り当て、補充作業、需要作業の作成など) を所有します。 したがって、倉庫の作業者は、スケール ユニットに接続された倉庫管理モバイル アプリを使用して出荷作業を処理できます。

![ウェーブ処理フロー。](./media/wes-wave-processing-ga.png "ウェーブ処理フロー")

### <a name="process-work-and-ship"></a>作業と出荷の処理

最後の作業プロセスが最終出荷場所 (Baydoor) の在庫に入れられるとすぐに、スケール ユニットは元伝票の在庫トランザクションを *ピッキング済* に更新するようハブに信号を出します。 このプロセスが実行され、逆同期されるまでは、スケール ユニットのワークロード上にある手持在庫は、物理的に倉庫レベルで引当されます。

ハブがトランザクションを *ピッキング済* に更新するとすぐに、出荷確認および関連付けられている販売梱包明細または積荷に対する移動オーダー出荷を処理することができます。

![出荷プロセス フロー。](./media/WES-outbound-processing-19.png "出荷プロセス フロー")

## <a name="inbound-process-flow"></a>入庫プロセス フロー

ハブは、次のデータを所有しています。

- 発注書や販売返品注文などのすべての元伝票
- 入庫積荷処理
- すべてのコストと財務の更新

> [!NOTE]
> 入庫発注書フローは、概念的には出庫フローとは異なります。 倉庫に発注書がリリースされたかどうかに応じて、同じ倉庫をスケール ユニットまたはハブで操作できます。 注文を倉庫にリリースした後は、スケール ユニットでサインインした時にのみ、その注文を処理できます。
>
> *倉庫へのリリース* プロセスを使用している場合は、[*倉庫オーダー*](cloud-edge-warehouse-order.md) が作成され、関連する入庫フローの所有権がスケール ユニットに割り当てられます。 ハブでは、入荷受信を登録することはできません。

*倉庫へのリリース* プロセスを使用するには、ハブにサインインする必要があります。 次のいずれかのページに移動して、実行またはスケジュールを設定します。

- **調達 > 発注書 > すべての発注書 > 倉庫 > アクション > 倉庫へのリリース**
- **倉庫管理 > 倉庫へのリリース > 発注書の自動リリース**

**発注書の自動リリース** を使用する場合、クエリに基づいて特定の発注書明細行を選択できます。 一般的なシナリオとして、翌日に到着する予定のすべての確認済発注書明細行をリリースする反復バッチ ジョブを設定します。

作業者は、スケール ユニットに接続された倉庫管理モバイル アプリを使用して入荷プロセスを実行できます。 その後、データはスケール ユニットで記録され、入庫倉庫オーダーとして報告されます。 それ以降のプットアウェイの作成や処理も、スケール ユニットで処理されます。

*倉庫へのリリース* プロセスを使用していないため、*倉庫オーダー* を使用していない場合は、倉庫 の入荷と作業の処理をスケール ユニットから独立して処理できます。

![入庫プロセス フロー。](./media/wes-inbound-ga.png "入庫プロセス フロー")

倉庫アプリの受信処理を介してスケール ユニットの倉庫オーダーに入庫登録を実行する場合、スケール ユニットのワークロードは、関連する発注書明細行のトランザクションを *登録済* に更新するようハブに信号を出力します。 これで完了すると、発注書の製品受領書の処理をハブ上で開始することができます。

![入庫プロセス フロー。](./media/WES-inbound-processing-19.png "入庫プロセス フロー")

## <a name="supported-processes-and-roles"></a>サポートされているプロセスとロール

すべての倉庫管理プロセスが、スケール ユニットの WES ワークロードでサポートされているわけではありません。 したがって、各ユーザーが使用できる機能に合った役割を割り当てることをお勧めします。

このプロセスを容易にするために、**システム管理 \> セキュリティ \> セキュリティの構成** でのデモデータには、*ワークロード上の倉庫管理* という名前のロールが含まれています。 このロールの目的は、倉庫マネージャがスケール ユニットの WES にアクセスできるようにすることです。 このロールは、スケール ユニットでホストされているワークロードのコンテキストに関連するページへのアクセスを許可します。

スケール ユニットのユーザー ロールは、ハブからスケール ユニットへの初期データ同期の一部として割り当てられます。

ユーザーに割り当てられているロールを変更するには、**システム管理 \> セキュリティ \> ユーザーをロールに割り当て** に移動します。 スケール ユニットでのみ倉庫マネージャとして行動するユーザーには、*ワークロードの倉庫マネージャー* ロールのみを割り当てる必要があり ます。 このアプローチを使用すると、これらのユーザーは、サポートされている機能にのみアクセスできるようになります。 これらのユーザーに割り当てられているその他のロールをすべて削除します。

ハブとスケール ユニットの両方で倉庫マネージャとして行動するユーザーには、既存の *ワークロードの作業者* ロールのみを割り当てる必要があり ます。 このロールでは、倉庫作業者がユーザー インターフェイス (UI) に表示される機能 (移動オーダー入庫処理など) にアクセスすることが許可されますが、現在スケール ユニットではサポートされていないことに注意してください。

## <a name="supported-wes-processes"></a>サポートされている WES プロセス

次の倉庫実行プロセスは、スケール ユニットで WES ワークロードに対して有効にすることができます。

- 販売注文と移動オーダーに対して選択されたウェーブ メソッド (配賦、需要補充、コンテナ化、作業の作成、ウェーブ ラベル印刷)

- 倉庫アプリを使用した販売および移動オーダーの倉庫作業の処理 (補充作業を含む)
- 倉庫アプリを使用した手持在庫の照会
- 倉庫アプリを使用した在庫移動の作成と実行
- 倉庫アプリを使用した循環棚卸作業の作成および処理
- 倉庫アプリを使用した在庫調整
- 倉庫アプリを使用した発注書の登録と、プットアウェイの処理

次の作業指示書タイプは、スケール ユニット展開でのワークロードの WES で現在サポートされています。

- 販売注文
- 移動の出庫
- 補充 (生産用の原材料を含まない)
- 在庫移動
- 循環棚卸
- 発注書 (倉庫オーダーにリンク)

現在スケール ユニットでは、その他のタイプのソース ドキュメント処理または倉庫作業はサポートされていません。 たとえば、スケール ユニットの WES ワークロードの場合、移動オーダー入庫プロセス (移動入庫) を実行できず、代わりにハブ インスタンスにより処理する必要があります。

> [!NOTE]
> モバイル デバイスのメニュー項目とサポートされていない機能のボタンは、スケール ユニット展開に接続されている場合、_倉庫管理 モバイルアプリ_ には表示されません。

> [!WARNING]
> スケール ユニットでワークロードを実行する場合、ハブで特定の倉庫に対してサポートされていないプロセスを実行することはできません。 このトピックの後半で説明するテーブルでは、サポートされる機能を示します。
>
> 選択した倉庫作業タイプは、ハブとスケール ユニットの両方で作成できますが、所有するハブやスケール ユニット (データを作成した展開) でのみ管理できます。
>
> 特定のプロセスがスケール ユニットをサポートしている場合でも、必要なすべてのデータが、ハブからスケールユニットへ、あるいはスケール ユニットからハブへ、同期されない可能性があることに注意してください。これにより、予期しないシステム処理が発生するリスクがあります。 例:
> 
> - ハブ展開にのみ存在するデータ テーブル レコードを結合する場所ディレクティブ クエリを使用する場合。
> - 場所の状態や場所の容積重量機能を使用する場合。 このデータは、展開間で同期されないので、展開の 1 つで場所の手持在庫を更新する場合にのみ機能します。

次の倉庫管理機能は、現在スケール ユニット ワークロードではサポートされていません。

- 積荷に割り当てられた発注書明細行の入庫処理
- プロジェクトに対する発注書の入庫処理
- 有効な追跡用分析コード (**所有者** または **シリアル番号**、あるいはその両方) がある品目の入庫および出庫処理
- ブロッキングステータス値を持つ在庫の処理
- 作業移動プロセス中の在庫状態の変更
- 注文が確定した柔軟な倉庫レベル分析コードの引当
- *倉庫の場所の状態* 機能の使用 (データが展開間で同期しない)
- *場所ライセンス プレートの配置* 機能の使用
- *製品フィルター* と *製品フィルター グループ* の使用 (**バッチを混合する日数** 設定を含む)
- 品質管理との統合
- CW 品目による処理
- 輸送管理 (KMS) でのみ有効な品目による処理
- マイナスの手持在庫による処理
- カスタム作業タイプによる倉庫作業処理
- 出荷メモによる倉庫作業処理
- 材料取り扱い/Warehouse Automation による倉庫作業処理
- 製品マスター データ画像の使用 (倉庫管理モバイル アプリでの使用など)

> [!WARNING]
> 一部の倉庫機能は、スケール ユニットの倉庫管理ワークロードを実行している倉庫では使用できず、ハブやスケール ユニット ワークロードでもサポートされていません。
> 
> 他の機能は両方で処理できますが、非同期のデータ更新プロセスのため、同じ倉庫の手持在庫がハブとスケール ユニットの両方で同じ倉庫に対して更新される場合など、一部のシナリオでは注意して使用する必要があります。
> 
> ハブとスケール ユニットの両方でサポートされている特定の機能 (*ブロック作業* など) は、データの所有者に対してのみサポートされます。

### <a name="outbound-supported-only-for-sales-and-transfer-orders"></a>出庫 (販売注文と移動オーダーに対してのみサポート)

次の表に、倉庫管理ワークロードがクラウドとエッジのスケール ユニットで使用されている場合に、サポートされる送信機能と、サポートされる場所を示します。

| 処理                                                      | ハブ | スケール ユニットの WES ワークロード |
|--------------------------------------------------------------|-----|------------------------------|
| 元伝票の処理                                   | あり | なし |
| 積荷および輸送管理の処理                | あり | なし |
| 倉庫にリリース                                         | あり | なし |
| 計画済クロスドッキング                                        | なし  | なし |
| 出荷の連結                                       | あり | なし |
| 出荷ウェーブ処理                                     | はい、ただしウェーブの初期化と完了はハブで処理されます。 つまり、出庫移動および販売注文の処理はスケール ユニットでのみ処理できます。|<p>いいえ、初期化と完了はハブによって処理され、**積荷構築と並べ替え** はサポートされません<p><b>注記:</b> ハブにアクセスするには、ウェーブ処理の一部としてウェーブステータスを確定する必要があります。</p> |
| ウェーブに対する出荷の管理                                  | あり | なし |
| 倉庫作業の処理 (ライセンス プレートを含む)        | なし  | <p>はい、ただし上記でサポートされている機能についてのみです。 |
| クラスター ピッキング                                              | なし  | あり|
| 手動梱包処理 ('梱包済コンテナーのピッキング' 作業処理を含む) | なし <P>一部の処理は、スケール ユニットで処理される初期のピッキング プロセス後に実行できますが、次のブロックされた操作のため推奨できません。</p>  | なし |
| グループからコンテナーを削除                                  | なし  | なし |
| 出庫の並べ替え処理                                  | なし  | なし |
| 積荷に関連するドキュメントの印刷                           | あり | なし |
| 船荷証券と ASN 生成                            | あり | なし |
| 出荷確認                                             | あり | なし |
| "確認および転送" による出荷確認            | なし  | なし |
| 梱包明細と請求処理                        | あり | なし |
| ショート ピッキング (販売注文および移動オーダー)                    | なし  | なし |
| 超過ピッキング (販売注文および移動オーダー)                     | なし  | なし |
| 作業場所の変更 (販売注文および移動オーダー)         | なし  | あり|
| 作業の完了 (販売注文および移動オーダー)                    | なし  | あり|
| 作業レポートの印刷                                            | あり | なし |
| ウェーブ ラベル                                                   | なし  | あり|
| 作業の分割                                                   | なし  | あり|
| 作業処理 - "輸送積荷" による作業指示            | なし  | なし |
| ピッキング済数量の削減                                       | なし  | なし |
| 作業を取消                                                 | なし  | なし |
| 出荷確定の取り消し                                | あり | なし |

### <a name="inbound"></a>着信

次のテーブルに、倉庫管理ワークロードがクラウドとエッジのスケール ユニットで使用されている場合に、サポートされる入庫機能と、サポートされる場所を示します。

| 処理                                                          | ハブ | スケール ユニットの WES ワークロード<BR>*("はい" のマークが付いた品目は倉庫オーダーにのみ適用)*</p> |
|------------------------------------------------------------------|-----|----------------------------------------------------------------------------------|
| ソース&nbsp;ドキュメント&nbsp;処理                             | あり | なし |
| 積荷および輸送管理の処理                    | あり | なし |
| インバウンド出荷の確認                                    | あり | なし |
| 倉庫への発注書リリース (倉庫オーダー処理) | あり | なし |
| 倉庫注文明細行のキャンセル<p>これは、その明細行に対して登録が行われていない場合にのみサポートされることに注意</p> | あり | なし |
| 発注書品目受取とプット アウェイ                       | <p>はい、&nbsp;&nbsp;&nbsp;倉庫オーダーがない場合</p><p>いいえ、倉庫オーダーがある場合</p> | <p>はい、発注書が <i>積荷</i> の一部でない場合</p> |
| 発注書明細行受取とプット アウェイ                       | <p>はい、倉庫オーダーがある場合</p><p>いいえ、倉庫オーダーがある場合</p> | <p>はい、発注書が <i>積荷</i> の一部でない場合</p></p> |
| 返品注文入庫およびプット アウェイ                              | あり | なし |
| 混合ライセンス プレートの受取とプット アウェイ                       | <p>はい、倉庫オーダーがある場合</p><p>いいえ、倉庫オーダーがある場合</p> | なし |
| 積荷品目入庫                                              | <p>はい、倉庫オーダーがある場合</p><p>いいえ、倉庫オーダーがある場合</p> | なし |
| ライセンス プレートの受け取りおよびプット アウェイ                             | <p>はい、倉庫オーダーがある場合</p><p>いいえ、倉庫オーダーがある場合</p> | なし |
| 移動オーダー品目入庫とプット アウェイ                       | あり | なし |
| 注文明細行の受取とプット アウェイの移動                       | あり | なし |
| 作業のキャンセル (入庫)                                            | <p>はい、倉庫オーダーがある場合</p><p>いいえ、倉庫オーダーがある場合</p> | <p>はい、ただし (<b>倉庫管理パラメーター</b> ページ上の) <b>キャンセル作業時に受領書を登録解除する</b> オプションがオフになっている場合のみです</p> |
| 発注書製品受領処理                        | あり | なし |
| 過少出荷による発注書受入                      | <p>はい、倉庫オーダーがある場合</p><p>いいえ、倉庫オーダーがある場合</p> | はい、ただし、ハブから取消要求を作成する場合のみ |
| 出荷超過による発注書受入                       | <p>はい、倉庫オーダーがある場合</p><p>いいえ、倉庫オーダーがある場合</p> | あり  |
| *クロスドッキング* 作業の作成による受入                 | <p>はい、倉庫オーダーがある場合</p><p>いいえ、倉庫オーダーがある場合</p> | なし |
| *品質指示* 作業の作成による受入                  | <p>はい、倉庫オーダーがある場合</p><p>いいえ、倉庫オーダーがある場合</p> | なし |
| *品質品目サンプリング* 作業の作成による受入          | <p>はい、倉庫オーダーがある場合</p><p>いいえ、倉庫オーダーがある場合</p> | なし |
| *品質チェックの品質* 作業の作成による受入       | <p>はい、倉庫オーダーがある場合</p><p>いいえ、倉庫オーダーがある場合</p> | なし |
| 品質指示の作成による受入                            | <p>はい、倉庫オーダーがある場合</p><p>いいえ、倉庫オーダーがある場合</p> | なし |
| 作業処理 - *クラスター プットアウェイ* による作業指示                 | あり | なし |
| *ショート ピック* による作業処理                               | あり | なし |
| ライセンス プレートの読み込み                                           | あり | あり |

### <a name="warehouse-operations-and-exception-handing"></a>倉庫操作と例外処理

次のテーブルには、倉庫管理ワークロードがクラウドとエッジのスケール ユニットで使用されている場合に、サポートされる倉庫業務と例外処理の機能と、サポートされる場所を示します。

| 処理                                            | ハブ | スケール ユニットの WES ワークロード |
|----------------------------------------------------|-----|------------------------------|
| ライセンス プレートの照会                              | あり | あり                          |
| 品目の照会                                       | あり | あり                          |
| 場所の照会                                   | あり | あり                          |
| 倉庫の変更                                   | あり | あり                          |
| 振替                                           | あり | あり                          |
| テンプレートによる移動                               | あり | あり                          |
| 倉庫間の移動                                 | あり | なし                           |
| 倉庫アプリからの移動オーダーの作成           | あり | なし                           |
| 調整 (入/出)                                | あり | はい。ただし、在庫調整タイプの **引当の削除** 設定を使用して在庫引当を削除する必要があるシナリオの調整についてはできません。</p>                           |
| 在庫状態の変更                            | あり | なし                           |
| 循環棚卸と不一致計算の処理 | あり | あり                           |
| ラベルの再印刷 (ライセンス プレート印刷)             | あり | あり                          |
| ライセンス プレートの構築                                | あり | なし                           |
| ライセンス プレートの分割                                | あり | なし                           |
| 入れ子になったライセンス プレートに梱包する                                | あり | なし                           |
| 配送担当者のチェックイン                                    | あり | なし                           |
| 配送担当者のチェックアウト                                   | あり | なし                           |
| バッチ廃棄コードを変更する                      | あり | あり                          |
| オープン作業一覧の表示                             | あり | あり                          |
| ライセンス プレートの連結                         | あり | なし                           |
| 最小/最大およびゾーンのしきい値補充処理| あり <p>クエリの一部として同じ場所を含めないのが推奨事項です</p>| あり                          |
| 補充処理のスロッティング                  | あり  | あり<p>設定はスケール ユニットで行う必要があることに注意</p>                           |
| ブロックとブロック解除の作業                             | あり | あり                          |
| ユーザーの変更                                        | あり | あり                          |
| 作業での作業プールの変更                           | あり | あり                          |
| 作業のキャンセル                                        | あり | あり                          |

### <a name="production"></a>実稼働

次の表は、スケールユニットのワークロードで現在サポートされている (あるいはされていない) 倉庫管理の生産シナリオをまとめたものです。

| 処理 | ハブ | スケール ユニットの WES ワークロード |
|---------|-----|------------------------------|
| 完成品と完成品のプットアウェイ レポート | あり | あり |
| 連産物と副産物のプット アウェイ | あり | あり |
| <p>その他、生産に関連するすべての倉庫管理プロセスを含みます。</p><li>倉庫にリリース</li><li>生産ウェーブプロセス</li><li>原材料のピッキング</li><li>かんばんのプット アウェイ</li><li>かんばんのピッキング</li><li>製造オーダーの開始</li><li>生産仕損</li><li>最後の生産パレット</li><li>材料消費の登録</li><li>空のかんばん</li></ul> | あり | なし |
| 原材料の補充 | なし | なし |

## <a name="maintaining-scale-units-for-wes"></a>WES のスケール ユニットの管理

ハブとスケール ユニットの両方で実行される複数のバッチジョブが実行されます。

ハブのデプロイでは、バッチジョブを手動で管理できます。 次のバッチ ジョブは、**倉庫管理 \> 定期タスク \> バックオフィス ワークロード管理** で管理できます:

- スケール ユニットからハブへのメッセージ プロセッサ
- 元の注文入庫登録
- 倉庫注文の完了

スケール ユニットのワークロードでは、次のバッチ ジョブは、 **倉庫管理 \> 定期タスク \> ワークロード管理** で管理できます:

- ウェーブ テーブル レコードを処理する
- 倉庫ハブからスケール ユニットへのメッセージ プロセッサ
- 倉庫注文明細行に対する数量更新要求の処理

[!INCLUDE [cloud-edge-privacy-notice](../../includes/cloud-edge-privacy-notice.md)]

[!INCLUDE[footer-include](../../includes/footer-banner.md)]

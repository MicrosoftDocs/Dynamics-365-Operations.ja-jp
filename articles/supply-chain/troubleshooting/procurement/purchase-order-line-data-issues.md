---
title: 発注書明細行データの不一致
description: 発注書明細行データの不一致やデータの破損が発生している。
author: SmithaNataraj
ms.date: 12/07/2021
ms.topic: troubleshooting
ms.search.form: PurchLineManualCorrection, PurchTable, PurchLine, InventTrans
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: smnatara
ms.search.validFrom: 2021-12-07
ms.dyn365.ops.version: 10.0.24
ms.openlocfilehash: ee2cb9a07c8a00a92c71e3e99d8ec20aa27fb20e
ms.sourcegitcommit: b9799a58d6ec221df86788bc37c4fbd28b435e89
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/08/2022
ms.locfileid: "8100804"
---
# <a name="purchase-order-line-data-discrepancies"></a>発注書明細行データの不一致

## <a name="symptoms"></a>現象

発注書の明細行を調べる際、以下の問題が 1 つ以上あります。

- 発注書明細行の残余 (出荷または請求書) にデータの不一致や破損が発生している。
- 発注書明細行またはヘッダーの状態が破損している。
- 次のエラー メッセージが 1 つ以上表示されると、発注書を請求できない場合があります。

    - "停止済 (エラー): トランザクションは既に転記されています。"
    - "状態が "受入済" の在庫トランザクションが不十分であるため数量を請求できません。"
    - "品目 %0 数量 %1 に対して "購買済" という状態の不十分な在庫トランザクション。"

- 次のような問題が発生した場合、発注書を最終処理または終了できない場合があります。

    - **最終処理** ボタンは使用できません。
    - 状態が "確認済" および "受入済" の発注書に対する発注書明細行の注文済数量はキャンセルできません。

## <a name="cause"></a>原因

これらの問題は通常、1 つ以上の発注書明細行の残余数量のデータの破損または不一致が原因で発生します。

## <a name="resolution"></a>解決策

通常、これらの問題を修正するには、次の手順に従って、関連する発注書明細行の購買状態、出荷残数、および請求書の残余を更新します。

1. **調達 \> 定期処理タスク \> クリーンアップ \> 発注書明細行を手動で訂正** の順に移動します。
1. **発注書** フィールドで、問題の原因となっている発注書を見つけて選択します。
1. **発注書明細行** セクションで、不一致のある明細行を選択します。
1. **在庫トランザクション** セクションで、表示されているデータを検査します。 発注書明細行と在庫トランザクション間に不整合が生じる場合は、不整合が発生している場所に応じて、アクション ウィンドウで次のいずれかのコマンドを選択します。

    - **再計算 \>出荷更新待ちの再計算** – 発注書明細行とヘッダーの状態を自動的に更新します。 この機能は、在庫発注書明細行 (品目が在庫品目である明細行) に対してのみ使用できます。 在庫のない品目および CW 品目は、現在サポートされていません。
    - **再計算 \>請求残高の再計算** – 発注書明細行とヘッダーの状態を自動的に更新します。 この機能は、在庫発注書明細行 (品目が在庫品目である明細行) に対してのみ使用できます。 在庫のない品目および CW 品目は、現在サポートされていません。
    - **再計算 \> 状態の再計算** – 選択した明細行の状態を再計算します。 この計算は、既存のロジックに基づいて行います。 したがって、発注書ヘッダーの状態は、新しい発注書明細行の状態に基づいて必要に応じて更新されます。

1. 残余数量でまだ不整合がある場合は、次のフィールドを使用して、必要に応じて直接編集できます。

    - 出荷更新待ち
    - 在庫配送残量
    - 請求残金
    - 在庫請求書更新待ち

---
title: スケール ユニットの倉庫ワークロードがインストールされた後に発生する処理の問題
description: このトピックでは、スケール ユニットの倉庫のワークロードが設置された直後に発生する問題について説明し、この問題を修正するための情報を提供します。
author: perlynne
ms.date: 1/13/2022
ms.topic: troubleshooting
ms.search.form: WHSLoadPlanningWorkbench, WHSOutboundLoadPlanningWorkbench
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: 2022-01-13
ms.dyn365.ops.version: 10.0.25
ms.openlocfilehash: f589ffed61b695f471989ab1dd693f30cd5d5262
ms.sourcegitcommit: 3a7f1fe72ac08e62dda1045e0fb97f7174b69a25
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2022
ms.locfileid: "8071657"
---
# <a name="processing-issues-occur-after-a-scale-unit-warehouse-workload-is-installed"></a>スケール ユニットの倉庫ワークロードがインストールされた後に発生する処理の問題

このトピックでは、スケール ユニットの倉庫のワークロードが設置された直後に発生する問題について説明し、この問題を修正するための情報を提供します。

## <a name="issue-1-error-after-a-load-is-released-from-a-load-planning-workbench"></a>問題 1: 積荷が積荷計画ワークベンチからリリースされた後のエラー

### <a name="symptoms-of-issue-1"></a>問題 1 の現象

**積荷計画のワークベンチ** または **出荷の積荷計画ワークベンチ** ページから積荷をリリースすると、次のフォームを持つエラー メッセージが表示されます。

> 積荷 %1 の転記時に例外が発生しました。積荷はリリースできませんでした。
> 
> UPDATE WHSSHIPMENTTABLE SET ...
> 
> 出荷のレコードは編集できません (WHSShipmentTable)。 出荷 ID: ...

サンプル データを含む実際の例を次に示します。

> 積荷 USMF-000033 の転記時に例外が発生しました、積荷はリリースできませんでした。
セッション 5133 (管理者)
>
> UPDATE WHSSHIPMENTTABLE SET ORDERNUM=?,RECVERSION=?,MODIFIEDDATETIME=?,MODIFIEDBY=? WHERE ((RECID=?) AND (RECVERSION=?))  
> [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Scale Unit @@ attempted to update records owned by Scale Unit @A.  
> Object Server Azure:
>
> Cannot edit a record in Shipments (WHSShipmentTable). 出荷 ID: USMF-000031, USMF-000033. SQL データベースによってエラーが出されました。

### <a name="cause-of-issue-1"></a>問題 1 の原因

この問題は、スケール ユニットの倉庫ワークロードをインストールするときに次の条件の組み合わせが存在する場合に発生することがあります。

- このシステムには、複数の明細行が異なる注文に関連付けられているリリースされていない積荷と、出荷に関連付けされていない積荷の明細行があります。
- このシステムは、出荷の連結を使用するように設定されています。

分散されたハイブリッド トポロジの配置では、各積荷レコードと出荷レコードは、特定のスケール ユニットまたは環境によって所有されているとしてマークされています。 **積荷計画ワークベンチ** ページから積荷をリリースすると、割り当てられた所有権がシステムによって変更されます。 ただし、以前に示した条件により、システムではデータの所有権を解決できない場合があります。 したがって、倉庫に積荷がリリースされません。

### <a name="resolution-of-issue-1"></a>問題 1 の解決

積荷を倉庫にリリースする前に、2 つの小さな積荷に分割します。

## <a name="issue-2-error-while-a-wave-is-processed-on-a-scale-unit"></a>問題 2 : スケール ユニットでサイクルを処理している間のエラー

### <a name="symptoms-of-issue-2"></a>問題 2 の現象

スケール ユニットで調整を処理している場合は、次のフォームを含むエラー メッセージが表示されます。

> RecId = %1、積荷 ID = %2 の積荷明細行は、まだエンタープライズ ハブによって所有されているため変更できません。 対応する出庫積荷がスケール ユニットにリリースされており、倉庫オーダー明細行が作成されていることを確認してください。

サンプル データを含む実際の例を次に示します。

> ジョブの情報ログ ウェーブ実行 USMF-000000012 (9223377668365210)  
> タスクの情報ログ ウェーブ実行 USMF-000000012 (9223377668370462)  
> RecId = 68719478242、積荷 ID = USMF-000034 の積荷明細行は、まだエンタープライズ ハブによって所有されているため変更できません。 対応する出庫積荷がスケール ユニットにリリースされており、倉庫オーダー明細行が作成されていることを確認してください。

### <a name="cause-of-issue-2"></a>問題 2 の原因

分散されたハイブリッド トポロジの配置では、積荷と出荷データの所有権は、特定のスケール ユニットまたはハブに割り当てられます。 データの所有権は、ウェーブ プロセスの一環として、スケール ユニットに割り当てられる事が見込まれています。

スケール ユニットの倉庫ワークロードをインストールする場合、オープン出荷が積荷とワークロードに関連付けられている場合、システムはデータの所有権を制御できます。 したがって、スケール ユニットで調整処理が失敗します。

### <a name="resolution-of-issue-2"></a>問題 2 の解決

ハブから積荷を倉庫にリリースします。

## <a name="troubleshoot-issues-by-viewing-a-records-ownership-and-destination"></a>レコードの所有権と行先を表示する方法による問題のトラブルシューティング

分散されたハイブリッド トポロジの配置では、多くの種類のレコードは、特定のスケール ユニットまたは環境によって所有されているとしてマークされています。 分散されたハイブリッド トポロジに切り替え、または新しいスケール ユニット倉庫のワークロードを設定すると、各関連レコードに所有権が割り当されます。 このプロセスは、予期しないエラーまたは結果が生じる場合があります。 したがって、レコードの所有権と移動先に関する情報は、このような変更を行った後に発生する問題のトラブルシューティングに役立ちます。

次の手順に従って、レコードの所有権と移動先を表示します。

1. 関連するレコードを開きます。
1. **オプション** タブのアクション ウィンドウの、**レコード情報** グループで、**すべてのフィールドを表示** を選択します。
1. 表示されるページには、選択されたレコードに利用できるすべてのフィールドの値が表示されます。 次のすべてのフィールドをレビューします。

    - **SYSSCALEUNITID** - このフィールドには、レコードの現在の所有者が表示されます。
    - **SYSTARGETSCALEUNITID** - このフィールドには、現在の所有者がレコードの操作が終了した際にレコードが転送される、スケール ユニットまたはスケール ユニットのスケール ユニット ID が表示されます。 このフィールドの値は、このタイプのプロセスを管理するバッチ ジョブで使用されます。 このフィールドは所有権に直接関連付けすることはできませんが、レコードの転送時に所有権が変わる場合があります。 一部のケースでは、このフィールドは空白になります。

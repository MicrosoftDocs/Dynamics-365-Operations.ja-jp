---
title: 販売注文がキャンセルされたとき、数量を削減できない
description: 販売注文がキャンセルされたとき、数量を削減できません。
author: hja-ms
ms.date: 5/17/2021
ms.topic: troubleshooting
ms.search.form: SalesTable_SalesCancelOrder, SalesTableListPage_SalesCancelOrder
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: hja
ms.search.validFrom: 2021-05-17
ms.dyn365.ops.version: 10.0.18
ms.openlocfilehash: f3453c83b5e8ead4269a6054167d73a0cd12381ba374b98bc407c01edaa68a1c
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/05/2021
ms.locfileid: "6752637"
---
# <a name="the-quantity-cant-be-reduced-when-a-sales-order-is-canceled"></a>販売注文がキャンセルされたとき、数量を削減できない

エラーコード: SYS138831

## <a name="symptoms"></a>現象

システムは次のエラー メッセージを表示します。

> 数量を減らすことができません。 数量またはその一部が出荷注文または製造オーダーによって参照されたり、他のトランザクションに対してマークされている可能性があるため、注文中の在庫トランザクションの数が少なすぎます。

## <a name="cause"></a>原因

作業が販売注文に関連付けられている場合、その作業がキャンセルされて取り消されるまで、販売注文をキャンセルすることはできません。 この要件は、販売注文に関連付けられている作業が終了されている場合にも適用されます。

## <a name="resolution"></a>解決策

この問題を解決するには、次のタスクを実行します。

1. オープン作業をキャンセルします。
1. 負荷を削除します。
1. ピッキング済み数量を削減します。

### <a name="cancel-open-work"></a>オープン作業をキャンセルする

オープン作業をキャンセルするには、これらの手順に従います。

1. **倉庫管理 \> 定期処理のタスク \> クリーンアップ \> 作業のキャンセル** の順に移動します。
1. **作業 ID** フィールドで、キャンセルする作業の ID を指定します。現在、**作業状態** の値は、*未処理*、*進行中*、*キャンセル済*、*結合済*、または *終了済* です。
1. **OK** を選択します。
1. **はい** を選択して、作業をキャンセルすることを確認します。

### <a name="delete-the-load"></a>積荷を削除する

積荷を削除するには、次の手順に従います。

1. **販売とマーケティング \> 販売注文 \> すべての販売注文** の順に移動します。
1. 関連する販売注文を開きます。
1. **販売注文明細行** クイック タブで、**倉庫 \> 作業の詳細s** を選択します。
1. **作業** ページで、[アクション ペイン] の **作業** タブの **作業** グループで、**作業のキャンセル** を選択します。
1. **作業ステータス** フィールドが *キャンセル済* に設定されていることを確認します。
1. **作業** ページを閉じます。
1. 販売注文の詳細ページの **販売注文明細行** クイック タブで、**倉庫 \> 積荷の詳細** を選択します。
1. アクション ウィンドウで **削除** を選択します。
1. **はい** を選択して、積荷を削除することを確認します。
1. **積荷** ページを閉じます。

### <a name="reduce-the-picked-quantity"></a>ピッキング済み数量を減らす

すべての作業をキャンセルした後は、次の手順に従って、選択した数量を減らします。

1. **販売とマーケティング \> 販売注文 \> すべての販売注文** の順に移動します。
1. 関連する販売注文を開きます。
1. **販売注文明細行** クイック タブで、ツール バーから **行の更新\>ピッキング** を選択します。
1. **ピッキング** ページの **トランザクション** セクションで、**出庫ステータス** フィールドが *ピッキング済* に設定されている行を選択します。
1. **トランザクション** セクションで、ツール バーから **ピッキング ラインの追加** を選択します。
1. **ピッキング ライン** セクションで、ツール バーから **すべてのピッキングを確認** を選択します。
1. **ピッキング** ページを閉じます。
1. 販売注文明細ページの [アクション ペイン] の **販売注文** タブで、**メンテナンス** グループの **キャンセル** を選択します。
1. **はい** を選択して、販売注文をキャンセルすることを確認します。

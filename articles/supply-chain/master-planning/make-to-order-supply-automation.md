---
title: 受注生産供給の自動化
description: この記事では、受注生産供給の自動化機能によって改良されるさまざまな機能を設定して使用する方法について説明します。
author: t-benebo
ms.date: 07/27/2022
ms.topic: article
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: benebotg
ms.search.validFrom: 2022-07-27
ms.dyn365.ops.version: 10.0.29
ms.openlocfilehash: 9044acb472548a797ed387b08ca6892459785793
ms.sourcegitcommit: c98d55a4a6e27239ae6b317872332f01cbe8b875
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/02/2022
ms.locfileid: "9220608"
---
# <a name="make-to-order-supply-automation"></a>受注生産供給の自動化

[!include [banner](../includes/banner.md)]

*受注生産供給の自動化* 機能を使用すると、Microsoft Dynamics 365 Supply Chain Management に複数の機能が改良されます。 これらの改良された機能を使用すると、次の作業を実行できます。

- ユーザー定義期間のリソース最大キャパシティ負荷を表示して、最大キャパシティ負荷の長期的な評価を実行する。
- 各マスター プランの遅延許容範囲 (マイナス日数) を制御することで、柔軟性を向上します。
- 需要に対して最初に使用できる供給を使用するのではなく、使用できる最新の供給をペギングすることで、急な注文に使用できる製品を維持し、既存の供給の使用を最適化します。
- 製造オーダーに対するコンポーネントの割り当てを確定後も柔軟に行うことで、急な需要の変更のためにシステムを最適化することができます。 つまり、マーキングを 1 つのレベルに制限します。
- 各販売注文のフルフィルメント ポリシーを管理する。 既定の設定は、顧客の設定を参照しています。
- 会社間情報フローを強化します。 発注書は、配送方法、配送条件、外部品目番号のフィールドを含むように更新されます。 この変更によって、詳細な需要情報が供給会社に確実に伝わります。

この記事では、改良された各機能の設定方法と使用方法について説明します。

> [!NOTE]
> この記事で説明している改良されたすべての機能は、組み込まれたマスター プランを使用するシステムに適用されます。 以下の改良された 2 つの機能は、Microsoft Dynamics 365 Supply Chain Management の計画最適化アドインでもサポートされます。
>
> - マスター プランの遅延許容範囲
> - マスター プラン中に使用されるペギング順序の制御

## <a name="turn-on-the-make-to-order-supply-automation-feature"></a>受注生産供給の自動化機能を有効にする

この記事で説明されている機能を使用するには、システムでこれらの機能を有効にする必要があります。 管理者は、機能が以下のように表示されている [機能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) ワークスペースを使用できます。

- **モジュール:** *マスター プラン*
- **機能名:** *受注生産供給の自動化*

## <a name="set-the-number-of-days-to-show-on-capacity-load-page"></a>[最大キャパシティ負荷] ページに表示する日数を設定する

**最大キャパシティ負荷** ページでは、リソースの可能なキャパシティを確認できます。 *受注生産供給の自動化* 機能は、**日数** フィールドを追加することで **最大キャパシティ負荷** ページを強化します。 このフィールドを使用すると、**概要** グリッドに表示される日数を制限できます。 設定した値はメモリに保存されます。 したがって、一度ページを閉めて後で戻ってきても、**概要** グリッドには、最後に指定した日数が表示されます。

**最大キャパシティ負荷** ページを開いて個々のリソースの可能なキャパシティを確認するには、次のステップに従います。

1. **組織管理 \> リソース \> リソース** に移動します。
1. 検査するリソースを選択します。
1. アクション ペインの **リソース** タブ、**表示** グループで、**最大キャパシティ負荷** を選択します。
1. **日数** フィルターを使用すると、**概要** グリッドに表示される日数を制限できます。

**最大キャパシティ負荷** ページを開いてリソース グループの可能なキャパシティを確認するには、次のステップに従います。

1. **組織管理 \> リソース \> リソース グループ** に移動します。
1. 検査するリソース グループを選択します。
1. アクション ペインの **リソース グループ** タブ、**表示** グループで、**最大キャパシティ負荷** を選択します。
1. **日数** フィルターを使用すると、**概要** グリッドに表示される日数を制限できます。

## <a name="apply-a-single-level-of-marking-when-you-firm-planned-orders"></a>計画オーダーの確定時に、単一レベルのマーキングを適用する

*マーキング* は、供給と需要をリンクするために使用されます。 これは *ペギング* と似ており、マスター プランが需要を補充する方法を示します。 ただし、マーキングはペギングよりも永続的です。 *受注生産供給の自動化* 機能を使用すると、計画オーダーが確定されたときに在庫のマーキングを単一レベルに制限できます。 計画オーダーを固定するときに、**確定** ダイアログ ボックスで **マーキングの更新** フィールドに新しいオプションを追加します。

- *単一レベル標準* – 単一レベルのマーキングが使用されます。 単一レベルのマーキングでは、主要品目のみをマークし、部品表 (BOM) コンポーネントにはマークしません。 したがって、製造オーダーに対するコンポーネントの割り当ては、確定後も変更できます。 単一レベルのマーキングを使用すると、システムを最適化して急な需要の変更に対応できます。 *標準* 単一レベルのマーキングでは、要件注文はフルフィルメント注文に対してマークされますが、残りの数量がある場合は、フルフィルメント注文はマークされません。
- *拡張単一レベル* – 単一レベルのマーキングが使用されます。 *拡張* 単一レベルのマーキングでは、要件注文はフルフィルメント注文に対してマークされ、残りの数量の有無にかかわらず、フルフィルメント注文は常にマークされます。

これらのオプションは、**マスター プラン パラメーター** ページの **標準更新** タブにある **マーキングの更新** フィールドからもアクセスでき、**確定** ダイアログ ボックスで使用する既定の選択内容を定義できます。

詳細については、[計画の最適化を使用した在庫マーキング](planning-optimization/marking.md) を参照してください。

## <a name="set-delay-tolerance-negative-days-at-the-master-plan-level"></a>マスター プラン レベルでの遅延許容範囲 (マイナス日数) の設定

*受注生産供給の自動化* 機能を使用すると、マスター プラン レベルで遅延許容範囲 (マイナス日数) を構成できます。 この設定は、品目補充レベルおよび補充グループ レベルでも使用できます。 マイナス日数が複数のレベルで割り当てられている場合は、次の階層が適用され、使用する設定が決定されます。

- **マスター プラン** ページでマイナス在庫日数が構成されている場合、その設定はプランの実行時に他のすべてのマイナス在庫日数設定を上書きします。
- **品目補充** ページでマイナス日数が構成されている場合、その設定が補充グループの設定を上書きします。
- **補充グループ** ページで構成されたマイナス在庫日数は、関連する品目またはマスター プランにマイナス在庫日数が構成されていない場合にのみ適用されます。

マスター プランのマイナス日数を設定するには、次のステップに従います。

1. **マスター プラン \> 設定 \> プラン \> マスター プラン** の順に移動します。
1. 一覧ペインでマスター プランを選択するか、新しいマスター プランを作成します。
1. **タイム フェンス (日)** FastTab で、**マイナス日数** オプションを *はい* に設定します。
1. 近くのフィールドで、使用するマイナス日数を入力します。

マイナス日数の使用方法の詳細については、[遅延許容範囲 (マイナス日数)](planning-optimization/delay-tolerance.md) を参照してください。

## <a name="control-the-pegging-sequence-used-during-master-planning"></a>マスター プラン中に使用されるペギング順序の制御

マスター プランでは *ペギング順序* を使用して、どの供給がどの需要をカバーするのか確認します。 *受注生産供給の自動化* 機能により、ペギング順序を制御できる新しい **最新の供給を使用する** オプションが追加されます。 この新たなオプションは、需要に対して最初に使用できる供給を使用するのではなく、使用できる最新の供給をペギングすることで、急な注文に使用できる製品を維持し、既存の供給の使用を最適化します。

ペギング順序は、マスター プラン、品目補充、または補充グループ レベルで設定できます。 ペギング順序が複数のレベルで設定されている場合は、次の階層が適用され、使用する設定が決定されます。

- **マスター プラン** ページでペギング順序が設定されている場合、その設定がプランの実行時に他のすべてのペギング順序の設定を上書きします。
- **品目補充** ページでペギング順序が設定されている場合、その設定が補充グループの設定を上書きします。
- **補充グループ** ページで設定されているペギング順序は、関連する品目またはマスター プランに必要なペギング順序の設定をまだ構成していない場合にのみ適用されます。

補充グループ レベルでペギングを設定するには、次のステップに従います。

1. **マスター プラン \> 設定 \> 補充 \> 補充グループ** の順に移動します。
1. 一覧ペインでグループを選択するか、新しいマスター プランを作成します。
1. **ペギング順序** セクションの **全般** FastTab で、**手持在庫の消費** と **最新の共有の使用** フィールドを使用してペギング順序を構成します。 このセクションの後のテーブルでは、これらの設定を組み合わせて、ペギング順序を定義する方法を説明しています。

品目補充レベルでペギングを設定するには、次のステップに従います。

1. **製品管理情報 \> 製品 \> リリースされた製品** の順に移動します。
1. グリッドで製品を選択するか、新しい製品を作成します。
1. アクション ウィンドウで、**計画** タブの **品目補充** を選択します。
1. **品目補充** ページには、各倉庫の品目に適用される補充ルールを定義できる行が表示されます。 グリッドにある既存の行を選択するか、新しい行を作成します。
1. **全般** タブで、**ペギング順序の上書き** チェックボックスを選択します。
1. **手持在庫の消費** および **最新の供給の使用** フィールドを使用して、ペギング順序を構成します。 このセクションの後のテーブルでは、これらの設定を組み合わせて、ペギング順序を定義する方法を説明しています。

マスター プラン レベルでペギングを設定するには、次のステップに従います。

1. **マスター プラン \> 設定 \> プラン \> マスター プラン** の順に移動します。
1. 一覧ペインでマスター プランを選択するか、新しいマスター プランを作成します。
1. **全般** FastTab で、**ペギング順序の上書き** オプションを *はい* に設定します。
1. **手持在庫の消費** および **最新の供給の使用** フィールドを使用して、ペギング順序を構成します。 このセクションの後のテーブルでは、これらの設定を組み合わせて、ペギング順序を定義する方法を説明しています。

次のテーブルでは、**手持在庫の消費** および **最新の供給の使用** 設定をどのように組み合わせてペギング順序を設定するかを説明しています。

| | 最新の供給を使用する = はい | 最新の供給を使用する = いいえ |
|---|---|---|
| **手持在庫の消費** = *すべての共有の前* | <ol><li>手持在庫</li><li>需要に日付を満たす既存の供給</li><li>需要の日付は満たさないがマイナス日数以内の既存の供給</li><li>新しい供給を作成する (計画オーダー)</li></ol> | <ol><li>手持在庫</li><li>需要に日付を満たす既存の供給</li><li>需要の日付は満たさないがマイナス日数以内の既存の供給</li><li>新しい供給を作成する (計画オーダー)</li></ol> |
| **手持在庫の消費** = *すべての共有の後* | <ol><li>需要に日付を満たす既存の供給</li><li>手持在庫</li><li>需要の日付は満たさないがマイナス日数以内の既存の供給</li><li>新しい供給を作成する (計画オーダー)</li></ol> | <ol><li>需要に日付を満たす既存の供給</li><li>需要の日付は満たさないがマイナス日数以内の既存の供給</li><li>手持在庫</li><li>新しい供給を作成する (計画オーダー)</li></ol> |

## <a name="review-and-set-the-fulfillment-policy-that-applies-to-each-sales-order"></a>各販売注文に適用されるフルフィルメント ポリシーを確認および設定する

フルフィルメント ポリシーは、販売注文を倉庫にリリースする前に引当済現物である必要のある合計注文金額または数量の割合を制御します。 グローバル既定フルフィルメント ポリシーを設定し、特定の顧客の必要に応じて上書きできます。 *受注生産供給の自動化* 機能を使用すると、任意の注文に実際に適用される既定のポリシーを表示し、必要に応じて注文固有の上書きを適用できます。

- 販売注文のグローバル フルフィルメント ポリシーの既定値を設定するには、**売掛金勘定 \> 設定 \> 勘定パラメーター** の順に移動します。 次に、**Warehouse Management** タブで、**販売注文のフルフィルメント ポリシー** フィールドを、使用するポリシーの名前に設定します。 
- 販売注文に対して顧客固有のフルフィルメント ポリシーを設定するには、**売掛金勘定 \> 顧客 \> すべての顧客** の順に移動します。 次に、**倉庫** タブで、**フルフィルメント ポリシー** フィールドを、使用するポリシーの名前に設定します。

任意の注文に適用される既定のポリシーを表示し、注文固有の上書きを適用するには、次のステップに従います。

1. **販売とマーケティング \> 販売注文 \> すべての販売注文** の順に移動します。
1. 検査または編集したい販売注文を開きます。
1. **ヘッダー** ビューを選択します。
1. **倉庫** FastTab で、必要に応じて次のフィールドを確認および編集します。

    - **注文フルフィル メント ポリシー** – 選択した注文に対して使用するフルフィルメント ポリシーを選択します。 既定のポリシーは上書きされます。 **既定のフルフィルメント ポリシー** フィールドに表示される既定のフルフィルメント ポリシーを使用するには、このフィールドを空白のままにします。
    - **既定のフルフィルメント ポリシー** – このフィールドには、**注文のフルフィルメント ポリシー** フィールドが空白の場合に適用される既定のフルフィルメント ポリシーが表示されます。 このフィールドは読み取り専用です。 空白の場合、顧客固有の既定のフルフィルメント ポリシーやグローバル既定のフルフィルメント ポリシーは定義されません。

    **注文のフルフィルメント ポリシー** フィールドと **既定のフルフィルメント ポリシー** フィールドの両方が空白の場合、フルフィルメント ポリシーは適用されません。 ただし、他の制限が設定されているときは、販売注文をリリースする前に予約などの条件を満たしている必要がある場合があります。

## <a name="set-the-delivery-mode-and-terms-on-individual-purchase-order-lines"></a>個々の発注書行の配送モードおよび条件の設定

すべての発注書には、注文ヘッダーに **配送条件** および **配送モード** の設定が含まれます。 *受注生産供給の自動化* 機能を使用してこれらの設定を各注文行に追加できます。 したがって、必要に応じて、任意またはすべての注文行の **配送条件** または **配送モード** 値の上書きを定義できます。 上書きが定義されていない行の場合は、ヘッダーの値が使用されます。 注文ヘッダーのこれらの 1 つまたは両方のフィールドの値に対する変更を、すべての行で更新するかどうかを指定できます。

ユーザーが注文ヘッダーで **配送条件** および **配送モード** の値を変更する際の行設定の動作を指定するには、次のステップに従います。

1. **調達 \> セットアップ \> 調達パラメーター** の順に移動します。
1. **既定値とパラメーター** FastTab の **全般** タブで、**注文行の更新** リンクを選択します。
1. **配送条件** および **配送モードの更新** フィールドの **注文行の更新** ダイアログ ボックスで、次のいずれかの値を選択します。

    - *決して更新しない* – 注文ヘッダーで設定が変更された後に注文行を決して更新しない。
    - *常に更新する* – 注文ヘッダーで設定が変更された後に注文行を常に更新する。
    - *プロンプト* – 注文ヘッダーの設定の一方または両方を変更した場合に、変更を 1 つまたは両方の設定に一致できるようにすべての行を更新するかどうかを確認するダイアログ ボックスを開きます。

発注書ヘッダーの配送情報を設定するには、次のステップに従います。

1. **調達 \> 発注書 \> すべての発注書** に移動します。
1. 編集したい発注書を開きます。
1. **ヘッダー** ビューを選択します。
1. **配送** FastTab で、必要に応じて **配送モード** および **配送条件** フィールドを設定します。
1. **調達パラメーター** ページの設定によっては、変更をすべての注文行に適用するかどうかを確認される場合があります。

発注書行の配送情報を上書きするには、次のステップに従います。

1. **調達 \> 発注書 \> すべての発注書** に移動します。
1. 編集したい発注書を開きます。
1. **行** ビューを選択します。
1. **発注書行** FastTab で、編集する行を選択します。
1. **配送** タブ の **行の詳細** FastTab で、必要に応じて **配送モード** および **配送条件** フィールドを設定します。 ヘッダーで一致する設定を使用するには、1 つまたは両方のフィールドをクリアします。

会社間注文の場合、各発注書行の **配送モード** および **配送条件** フィールドの値は、発注書と関連する販売注文の間で同期されます。

## <a name="sync-external-item-ids-and-descriptions-for-intercompany-orders"></a>会社間注文の外部品目 ID と説明の同期

会社間注文の場合、*受注生産供給の自動化* 機能を使用して、発注書が直接配送かどうかに関係なく、外部品目 ID と発注書行のテキスト説明を関連する会社間販売注文行と同期できます。 この機能により、会社間発注書に最終外部顧客勘定を指定する機能も追加されます。 その後、会社間仕入先 (内部) レコードではなく、外部顧客レコードから外部品目 ID とテキスト説明が自動的に使用されます。

会社間仕入先を設定して、会社間発注書とそれに関連する会社間販売注文の間で、外部品目 ID 番号と品目名を同期するには、次のステップに従います。

1. **調達 \> 仕入先 \> すべての仕入先** の順に移動します。
1. 設定する会社間仕入先を選択します。
1. アクション ペインにある **全般** タブの **設定** グループで、**会社間** を選択します。
1. **会社間** ページにある **発注書ポリシー** タブの **会社間発注書 -\> 会社間販売注文** セクションで、**外部品目 ID と品目名** チェック ボックスをオンにします。

会社間発注書の最終外部顧客勘定を指定するには、次のステップに従います。 **顧客勘定** フィールドは、会社間発注書にのみ適用されます。 最終的に商品を受け取る顧客の勘定番号を指定します。 このフィールドが設定されている場合、購買注文行は、発注書で指定されている会社間仕入先ではなく、指定された顧客勘定から外部品目の説明と番号を取得します。 後で顧客勘定を変更すると、外部品目の説明および外部品目 ID が新しい勘定の値と一致するように更新されます。 各行の外部品目の説明および ID も、一致する会社間販売注文と同期されます。

1. **調達 \> 発注書 \> すべての発注書** に移動します。
1. 設定する発注書を開するか、新しい発注書を作成します。
1. **ヘッダー** ビューを選択します。
1. **参照** セクションで、**顧客勘定** フィールドを関連する外部顧客勘定に設定します。

会社間注文の発注書行に対する外部品目 ID とテキスト説明を指定するには、次のステップに従います。 発注書が直接配送かどうかに関係なく、設定した値は関連する会社間販売注文行と同期されます。

1. **調達 \> 発注書 \> すべての発注書** に移動します。
1. 設定する発注書を開するか、新しい発注書を作成します。
1. **行** ビューを選択します。
1. **発注書行** FastTab で、編集する行を選択します。
1. **行の詳細** FastTab の **全般** タブにある **注文行** セクションの **テキスト** フィールドで、選択した注文明細で指定されている品目の外部説明が表示されます。 この値は、関連する会社間販売注文書行と同期されます。
1. **参照** セクションの **外部** フィールドに、選択した注文行で指定された品目の外部品目 ID が表示されます。 この値は、関連する会社間販売注文書行と同期されます。

詳細は、[外部顧客の会社間販売注文書の作成および請求](../sales-marketing/intercompany-sales-order-for-external-customer.md) を参照してください。

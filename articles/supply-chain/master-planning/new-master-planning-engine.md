---
title: マスター プランの計画最適化への移行
description: このトピックでは、新しいマスター プラン エンジン、最適化の計画、および既存のエンジンからの移行に関する情報を提供します。
author: ChristianRytt
manager: tfehr
ms.date: 05/11/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 19311
ms.assetid: 5ffb1486-2e08-4cdc-bd34-b47ae795ef0f
ms.search.region: Global
ms.search.industry: ''
ms.author: crytt
ms.search.validFrom: 2020-11-05
ms.dyn365.ops.version: ''
ms.openlocfilehash: 94e5668da45c524ed9ab9eef10b40d0fb5336a65
ms.sourcegitcommit: deb711c92251ed48cdf20ea514d03461c26a2262
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/25/2020
ms.locfileid: "4645999"
---
# <a name="migration-to-planning-optimization-for-master-planning"></a>マスター プランの計画最適化への移行

[!include [banner](../includes/banner.md)]

組み込みのマスター プラン エンジンが古いバージョンになるようにスケジュールされています (非推奨)。 このファイルは、Microsoft Dynamics 365 Supply Chain Management の計画最適化アドインによって置き換えられています。 このトピックでは、新規または既存の配置への影響について説明します。 必要なアクションに関する情報が含まれています。

計画の最適化により、マスター プランの計算を Supply Chain Management とその Azure SQL データベースの外部で実行できます。 計画の最適化に関連する利点として、マスター プランの実行時にパフォーマンスが向上し、SQL データベースへの影響が最小限に抑えられます。 迅速なプランニングを営業時間中に実行できるため、プランナーは要求またはパラメータの変更にすぐに対応できます。

計画の最適化に関する詳細については、[計画最適化の概要](planning-optimization/planning-optimization-overview.md)を参照してください。

## <a name="obsolescence-of-the-existing-master-planning-engine"></a>既存のマスター プラン エンジンの陳腐化

Microsoft は、現在組み込みの計画エンジンを計画の最適化に対して無効にしています。 この変更は、すべてのクラウド環境に影響します。 オンプレミスのインストールは影響を受けません。 バージョン 10.0.16 では、計画製造オーダーを生成せずに組み込みのマスター プランを実行すると、エラー メッセージが表示されます。 ただし、マスター プランの実行は、エラー メッセージにかかわらず正常に完了します。

組み込みの計画エンジンの陳腐化に関する詳細については、[Dynamics 365 Supply Chain Management の削除済みまたは非推奨の機能](../get-started/removed-deprecated-features-scm-updates.md)を参照してください。

## <a name="migration-messages-and-exceptions"></a>移行、メッセージ、および例外

計画された製造オーダーを生成せずに組み込みのマスター プラン エンジンを実行する既存の環境の所有者は、例外プロセスの詳細を提供するメールを受け取ります。 パートナーと協力して、計画の最適化への移行を評価および計画することをお勧めします。

前述の通り、バージョン 10.0.16 以降では、計画製造オーダーを生成せずに組み込みのマスター プランを実行すると、エラー メッセージが表示されます。 このエラー メッセージには、移行に関するガイダンスおよび例外の要求に関する指示が含まれます。

### <a name="new-deployments"></a>新しい配置

計画の最適化は、クラウド内のすべての新しい配置に対する既定のマスター プラン エンジンとして考慮する必要があります。 一般に、計画最適化は、マスター プラン中に計画製造オーダーを生成しないすべての新規デプロイに使用する必要があります。 最適化計画が現時点でサポートされていない機能に基づいて新しいデプロイを行う場合は、組み込みのマスター プラン エンジンを引き続き使用できるように、例外を要求することができます。

### <a name="existing-deployments"></a>既存の配置

マスター プランに依存する既存のクラウドベースのデプロイの所有者は、計画の最適化への移行を計画する必要があります。 最適化計画が現時点でサポートされていない機能に基づいてデプロイを行う場合は、組み込みのマスター プラン エンジンを引き続き使用できるように、例外を要求することができます。

現在陳腐化しているマスター プラン プロセスを使用している環境では、Microsoft は環境管理者にメールを送信します。このメールでは、例外を移行または要求するために必要なアクションに関する情報が提供されます。

## <a name="the-exception-process"></a>例外処理

ビジネス プロセスが、現在計画中に実装されていない機能に大きく依存しているため、組み込みのマスター プラン エンジンの使用を継続する必要がある場合は、例外を要求できます。 使用可能な機能の一覧については、[計画最適化適合分析](planning-optimization/planning-optimization-fit-analysis.md)を参照してください。

現在、計画最適化移行の例外は、マスター プラン プロセスに生産 (つまり、マスター プランによって生成される計画製造オーダー) が含まれておらず、バージョン 10.0.15 以降の組み込みマスター プラン エンジンが必要な場合にのみ関係します。

必要な機能が使用可能になった後、例外の期限が切れるまで猶予期間が提供されます。 必要な機能が使用可能になり、猶予期間が開始されると、環境管理者に通知されます。

> [!NOTE]
> 例外の要求は、運用環境に対してのみ行うことができ、サンドボックス環境では要求できません。 サービス (IaaS) サンドボックス環境としてのインフラストラクチャにおける計画の最適化例外エラーを無効にする必要がある場合は、[サンドボックス環境](#faq-sandbox)で提供されている SQL クエリを実行します。

## <a name="frequently-asked-questions"></a>よく寄せられる質問

### <a name="sandbox-environments"></a><a name="faq-sandbox"></a>サンドボックス環境

サンドボックス環境で組み込みマスター プランを使用することはできますか? 例外が必要ですか?

**回答:** 計画最適化例外エラーは組み込みのマスター プラン エンジンの正常な実行を妨げないため、例外は通常サンドボックス環境には関係ありません。 ただし、エラー メッセージが邪魔になる場合は、データベースで次のクエリを実行することにより、IaaS (Service Fabric ではない) サンドボックス環境でエラー メッセージを無効にすることができます。

```sql
-- Insert or update an enabled flight:
DECLARE @flightName NVARCHAR(100) = 'ReqPlanningOptimizationExceptionToggle';
IF NOT EXISTS (SELECT TOP 1 1 FROM SysFlighting WHERE flightName = @flightName)
    INSERT INTO SYSFLIGHTING(FLIGHTNAME,ENABLED, FLIGHTSERVICEID,PARTITION)
    SELECT @flightName, 1, 12719367,RECID FROM DBO.[PARTITIONS];
ELSE
    UPDATE SysFlighting SET enabled = 1, flightServiceId = 12719367 WHERE flightName = @flightName;
```

### <a name="on-premises-environments"></a>オンプレミス環境

私の環境はオンプレミスです。 例外が必要ですか?

**回答:** いいえ。 オンプレミス環境には例外は必要ありません。 引き続き、組み込みマスター プランを使用することができます。 必要なアクションがある場合は、環境管理者に通知されます。

### <a name="production-scenarios"></a>生産シナリオ

計画製造オーダーを使用しますが、バージョン 10.0.16 にアップグレードした場合に何が起こるか不安を感じています。 何らかのアクションを実行する必要がありますか?

**回答:** 心配する必要はありません。 バージョン 10.0.16 では、引き続き組み込みマスター プランを使用することができます。 ただし、計画の最適化への移行を現在の機能で開始できるかどうかを評価することをお勧めします。 また、新しい機能について常に情報を入手することをお勧めします。

### <a name="email-from-microsoft"></a>Microsoft からのメール

この環境の管理者は、Microsoft からメールを受け取っています。 このメールでは、最適化の計画に移行するか、例外を要求する必要があります。 何らかのアクションを実行する必要がありますか?

**回答:** はい。 メールの指示に従っていない限り、環境は影響を受けます。 指定した日付まで計画の最適化に移行するか、メールのリンクを使用して例外を要求することができます。 このリンクでは、アンケートを開くことができます。 このアンケートを完了して提出した後に、メールで返信を受信します。 このプロセスは手動で行われますが、Microsoft は、アンケートの送信後 1 週間以内に返信します。

### <a name="error-messages"></a>エラー メッセージ

バージョン 10.0.16 以降を使用していますが、マスター プランの実行時に次のエラー メッセージが表示されます。 マスター プランがブロックされていますか?

> このエラー メッセージが表示されるのは、組み込みマスター プラン エンジンが、計画の最適化によってサポートされているシナリオに使用されたためです。 現在の組み込みのマスター プランは非推奨であるため、今すぐ計画の最適化に移行する必要があります。 このマスター プランの実行が正常に完了したことを確認します。
>
> 移行が保留中の機能に強い依存関係がある場合は、組み込みのマスター プラン エンジンの使用を継続することはできません。
>
> 次のアンケートに記入して、移行に関連する要求の例外を計画の最適化に適用してください。

**回答:** いいえ、マスター プランはブロックされていません。 マスター プランの実行が正常に完了し、その結果を通常の方法で使用できるようになりました。 ただし、今後のマスター プランの実行時にこのエラー メッセージが表示されないようにするには、計画の最適化に直ちに移行するか、エラー メッセージのリンクを使用して例外を要求する必要があります。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
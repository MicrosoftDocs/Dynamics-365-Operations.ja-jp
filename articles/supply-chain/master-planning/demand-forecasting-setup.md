---
title: 需要予測の設定
description: このトピックでは、需要予測の準備として実行する必要のある設定タスクについて説明します。
author: ChristianRytt
ms.date: 08/09/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ReqDemPlanDefaultAlgorithmParameters, ReqDemPlanForecastParameters
audience: Application User
ms.reviewer: kamaybac
ms.custom: 72653
ms.assetid: c5fa4b09-512d-4349-ac51-cc13da69a160
ms.search.region: global
ms.search.industry: Manufacturing
ms.author: crytt
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 6f71d7a1ef2e8b6a113124d3fb17f1681d62aed9
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/29/2021
ms.locfileid: "7575755"
---
# <a name="demand-forecasting-setup"></a>需要予測の設定

[!include [banner](../includes/banner.md)]

このトピックでは、需要予測の準備として実行する必要のある設定タスクについて説明します。  

これらの設定作業には、次のデータとパラメーターの設定が含まれています。

## <a name="item-allocation-keys"></a>品目配賦キー

需要予測は、品目が品目配賦キーの一部である場合にのみ品目と分析コードで計算されます。 このルールは、大量の品目をグループ化するために適用され、需要予測を迅速に作成できるようにします。 品目配賦キーの割合は需要予測が生成されたときは無視されます。 予測は、履歴データのみに基づいて作成されます。

品目配賦キーが予測の作成時に使用される場合、品目および分析コードは、一つの品目配賦キーのみの一部である必要があります。

品目配賦キーに最小在庫管理単位 (SKU) を追加するには、**マスター プラン \> 設定 \> 需要予測 \> 品目配賦キー** に移動します。 **品目の割り当て** ページを使用して、品目を配賦キーに割り当てます。

## <a name="intercompany-planning-groups"></a>会社間計画グループ

需要予測は会社間予測を生成します。 Dynamics 365 Supply Chain Management では、まとめて計画された会社は一つの会社間計画グループにグループ化されます。 需要予測と見なされる品目配賦キーを会社ごとに指定するには、**マスター プラン \> 設定 \> 会社間計画グループ** の順に移動して、品目配賦キーを会社間計画グループのメンバーに関連付けます。

既定では、品目配賦キーが会社間計画グループのメンバーに割り当てられない場合、需要予測は、すべての会社からのすべての品目配賦キーに割り当てられたすべての品目について計算されます。 会社および品目配賦キーの追加のフィルタ処理オプションは、**統計ベースライン予測の生成** ページで使用できます。

予測される品目の数を確認してください。 Microsoft Azure Machine Learning を使用する場合、不要な品目によって原価が上昇する可能性があります。

## <a name="demand-forecasting-parameters"></a>需要予測パラメーター

需要予測のパラメーターを設定するには、**マスター プラン \> 設定 \> \> 需要予測 \> 需要予測のパラメーター** の順に移動します。 需要予測が会社間で実行されるため、設定はグローバルです。 つまり、設定はすべての会社に適用されます。

需要予測は予測数量を生成します。 そのため、数量が表す測定単位は **需要予測の単位** フィールドで指定する必要があります。 集約およびパーセント配分が意味をなすものであることを確認するために、測定単位は一意である必要があります。 集計およびパーセント配分の詳細については、「[ベースライン予測に対して手動調整を行う](manual-adjustments-baseline-forecast.md)」を参照してください。 需要予測に含まれる SKU で使用されるすべての測定単位については、測定単位および一般的な予測の測定単位の変換ルールがあることを確認します。 予測の生成が実行されると、測定単位換算がない品目の一覧が記録されるので、簡単に設定を修正できます。

需要予測は、依存要求と独立要求の両方を予測する場合に使用できます。 たとえば、**販売注文** チェック ボックスがオンになっていて、需要予測の対象と見なされるすべての品目が販売される品目である場合にのみ、システムは独立した要求を計算します。 ただし、重要なサブコンポーネントは品目配賦キーに追加および需要予測に含めることができます。 この場合、**生産明細** チェック ボックスがオンであるなら、依存予測が計算されます。

予測されるベースラインを作成するための 2 つの方法があります。 履歴データの先頭に予測モデルを使用または履歴データを予測にコピーできます。 **予測生成戦略** フィールドでは、これら 2 つの方法を選択することができます。 予測モデルを使用するには、**Azure Machine Learning** を選択します。

**需要予測のパラメーター** ページの左ウィンドウにある **予測分析コード** を選択して、需要予測を生成するときに使用する予測分析コードのセットを選択することもできます。 予測分析コードは、予測が定義される詳細レベルを示します。 会社、サイト、品目配賦キーは必要な予測分析コードですが、倉庫、在庫状態、顧客グループ、顧客 ID、国/地域、都道府県、およびすべての品目分析コードのレベルで予測を生成することもできます。

予測の分析コードを、需要予測に使用される分析コードの一覧にいつでも追加できます。 予測分析コードを一覧から削除することもできます。 ただし、手動調整は、予測分析コードを追加、または削除すると失われます。

需要予測の観点からみてすべての品目は同じ方法で実行しません。 同様の品目は、一つの品目配賦キーおよびトランザクション タイプなどのパラメーターにグループ化でき、予測方法の設定は品目配賦キーごとに設定できます。 **需要予測パラメーター** ページの左ウィンドウにある **品目配賦キー** を選択します。

予測を生成する場合、Supply Chain Management では、Machine Learning Web サービスを使用します。 サービスに接続するには、Microsoft Azure Machine Learning Studio (クラシック) にサインインする際に、次の情報を提供する必要があります。

- Web サービス アプリケーション プログラミング インターフェイス (API) キー
- Web サービス エンドポイント URL
- Azure ストレージ アカウント名
- Azure ストレージ アカウント キー

> [!NOTE]
> カスタム ストレージ アカウントを使用している場合にのみ、Azure ストレージ アカウントの名前とキーが必要です。 オンプレミス バージョンを展開する場合、Machine Learning を履歴データにアクセスできるようにするため、Azure のカスタム ストレージ アカウントが必要です。

要求予測を作成する場合、Machine Learning Studio または Supply Chain Management の需要予測実験を使用して自分のサービスを配置できます。 需要予測実験を Web サービスとして展開するための手順は、Supply Chain Management で入手可能です。 **需要予測パラメーター** ページで、**Azure Machine Learning** タブを開きます。

## <a name="settings-for-the-demand-forecasting-machine-learning-service"></a>需要予測 Machine Learning サービスの設定

需要予測サービスでコンフィギュレーションできるパラメーターを表示するには、**マスター プラン \> 設定 \> 需要予測 \> 予測アルゴリズム パラメーター** の順に移動します。 **予測アルゴリズム既定パラメーター** ページでは、パラメーターの既定値を示します。 これらのパラメータは、**マスター プラン \> 設定 \> 需要予測 \> 需要予測パラメータ** に移動して上書きできます。ここで、以下の操作を実行できます。

- **一般** タブを使用すると、パラメーターをグローバルに上書きできます。
- **品目配賦キー** タブを使用すると、品目配賦キーごとのパラメータを上書きできます。 品目配賦キーで上書きされるパラメーターの影響を受けるのは、その品目配賦キーによって関連付けられる品目の予測のみです。

### <a name="forecast-algorithm-parameters"></a>予測アルゴリズム パラメーター

**需要予測パラメーター** ページの **品目配賦キー** タブで、**予測アルゴリズム パラメーター** クイック タブを使用して、左側のグリッドで現在選択されている品目配賦キーに予測アルゴリズム パラメーターを割り当てできます。 ツール バーの **追加** ボタンと **削除** ボタンを使用して、必要なパラメーターのコレクションを確立します。 リストの各パラメータについて、**名前** フィールドで次のいずれかの値を選択し、**値** フィールドに適切な値を入力します。

- **信頼レベルのパーセンテージ** – 信頼区間は、需要予測の商品見積として機能する値の範囲で構成されます。 95% の信頼レベルのパーセンテージは、未来の需要が信頼区間の範囲外になるリスクが 5% あることを示します。
- **季節性の強制** – 特定のタイプの季節性を使用するようにモデルに強制するかどうかを指定します。 ARIMA と ETS にのみ適用されます。 オプション: 自動 (既定)、なし、追加、乗算。
- **予測モデル** – オプション: ARIMA、ARIMA、ETS、STL、ETS+ARIMA、ETS+STL、すべて。 最も適合するモデルを選択するには、**すべて** を使用してください。
- **最大予測値** – 予測に使用する最大値を指定します。 形式: +1E [n] または数値定数。
- **最小予測値** – 予測に使用する最小値を指定します。 形式: -1E [n] または数値定数。
- **欠落値の代入** – 履歴データのギャップを埋める方法を指定します。 オプション: 数値、平均、以前の値、線形補間、多項式補間。
- **欠落値の代入スコープ** – 値の代入を個々の粒度属性の日付範囲に適用するか、データセット全体に適用するかを指定します。 履歴データのギャップを埋めるときにシステムが使用する日付範囲を確立するには、次のオプションを使用できます。

  - グローバル – システムは、すべての精度属性の日付の全範囲を使用します。
  - HISTORY_DATE_RANGE – システムは、**統計ベースライン予測の生成** ダイアログ ボックスの **履歴期間** フィールド グループの **開始日** および **終了日** フィールドで定義された特定の日付範囲を使用します。
  - GRANULARITY_ATTRIBUTE – システムは、現在処理されている精度属性の日付範囲を使用します。

  > [!NOTE]
  > 精度属性は、予測が行われる予測分析コードの組み合わせです。 **需要予測パラメーター** ページで予測分析コードを定義できます。

- **季節性のヒント** – 季節データについては、予測の精度を高めるために予測モデルに対するヒントを指定してください。 形式: 需要パターンが繰り返し現れるバケット数を整数で指定します。 たとえば、6 か月ごとに繰り返されるデータの場合は「6」を入力します。
- **テスト セット サイズの割合** – 予測精度計算のテスト セットとして使用する履歴データの割合。

## <a name="additional-resources"></a>追加リソース

- [需要予測の概要](introduction-demand-forecasting.md)
- [統計ベースライン予測の生成](generate-statistical-baseline-forecast.md)
- [ベースライン予測に対して手動調整を行う](manual-adjustments-baseline-forecast.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]

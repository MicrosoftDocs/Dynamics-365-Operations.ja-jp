---
title: マイナスの手持在庫数量を使用した計画
description: このトピックでは、計画の最適化を使用する場合のマイナスの手持在庫の処理方法について説明します。
author: t-benebo
ms.date: 07/22/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ReqCreatePlanWorkspace
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: benebotg
ms.search.validFrom: 2020-02-18
ms.dyn365.ops.version: AX 10.0.5
ms.openlocfilehash: bb837a38485bad2b9b76a5e4f20d311c0281e192
ms.sourcegitcommit: 1050e58e621d9a0454895ed07c286936f8c03320
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/21/2022
ms.locfileid: "8625390"
---
# <a name="planning-with-negative-on-hand-quantities"></a>マイナスの手持在庫数量を使用した計画

[!include [banner](../../includes/banner.md)]

システムによってマイナスの集計手持在庫数量が表示される場合、計画エンジンは過剰な供給を回避するため、数量を 0 (ゼロ) として扱います。 この機能の動作は次のとおりです。

1. 計画の最適化機能では、最下位レベルの補充分析コードの手持在庫数量が集計されます。 (たとえば、*場所* が補充分析コードではない場合、計画の最適化では手持在庫数量が *倉庫* レベルで集計されます。)
1. 最下位レベルの補充分析コードの集計手持在庫数量がマイナスの場合、システムでは手持在庫数量が実際に 0 (ゼロ) であると見なされます。

> [!IMPORTANT]
> 計画システムは、入力データと同じ精度でしか設定できません。 入力データが誤っている場合、マイナスの手持在庫レコードによって、Microsoft Dynamics 365 Supply Chain Management の在庫情報が実際の世界と同期されていないことが示されます。 したがって、計画結果には欠陥があります。 正確な計画の結果を得るには、マイナスの手持在庫数量を表示するレコードの数を最小限にする必要があります。

## <a name="example-1"></a>例 1

倉庫 13 は、次の方法で構成されています。

- **補充コード:** 最小/最大。
- **最小:** 15 個
- **最大:** 25 個。

最下位レベルの補充分析コードは *倉庫* で、次の手持在庫数量は *場所* レベルで記録されます。

- **サイト 1、倉庫 13、場所 1:** 20 個。
- **サイト 1、倉庫 13、場所 2:** &minus;8 個。

したがって、倉庫 13 の集計手持在庫数量は 12 個です。 (= 20 個。 &minus; 8 個)。

この場合、計画エンジンでは 12 個の集計手持数量が使用されます。 倉庫 13 に対して。

結果は 13 個の計画オーダーです。 (= 25 個。 &minus; 12 個) 12 個から倉庫 13 に補充する場合に行います。 25 個へ。

## <a name="example-2"></a>例 2

倉庫 13 は、次の方法で構成されています。

- **補充コード:** 最小/最大。
- **最小:** 15 個。
- **最大:** 25 個。

最下位レベルの補充分析コードは *倉庫* で、次の手持在庫数量は *場所* レベルで記録されます。

- **サイト 1、倉庫 13、場所 1:** 4 個。
- **サイト 1、倉庫 13、場所 2:** &minus;8 個。

したがって、倉庫 13 の集計手持在庫数量は &minus;4 個です。 (= 4 個。 &minus; 8 個)。 つまり、0 (ゼロ) 以下です。

この場合、計画エンジンは、倉庫 13 の手持在庫数量が 0 個であるとみなします。 &minus;4 個の代わりに。

結果は 25 個の計画オーダーです。 (= 25 個。 &minus; 0 個) 0 個から倉庫 13 に補充する場合に行います。 25 個へ。

## <a name="planning-when-there-is-a-reservation-against-negative-on-hand-inventory"></a>マイナスの手持在庫に対する引当がある場合の計画

現物引当が存在するときに在庫を調整すると、マイナス在庫に対して注文が現物引当済となる状況が発生する可能性があります。 この場合、現物引当が存在するので、引当済数量をカバーするための供給が必要です。 したがって、補充が必要になるため、システムは既存の手持在庫ではカバーできなかった数量を補充する計画注文を作成するか、品目の既存の注文でカバーします。

次の例はこのようなシナリオを示しています。

### <a name="example"></a>例

システムは次のように構成されています。

- 製品 *FG* が存在し、*10* 個あります。 手持在庫の。
- 製品コンフィギュレーションにより、現物マイナス在庫が可能になります。
- 数量 *10* 個の販売注文が存在します。 製品 *FG* の。
- 販売注文の数量は、既存の手持在庫に対して物理的に引当されます。

次に、製品 *FG* の数量を調整すると、手持在庫が 5 になります。 製品の手持在庫は 5 なので、販売注文の数量は、手持在庫のない数量に対して引当されます (手持在庫が 0 の場合は、マイナス在庫に対して販売注文が引当されます)。 ここでマスター プランを実行すると、計画の最適化では常に既存の供給を使用するか、新しい計画オーダーを作成して現物引当を供給するため、*FG* の数量 5 の計画オーダーが作成されて販売注文が供給されます。

## <a name="related-resources"></a>関連するリソース

- [計画最適化の概要](planning-optimization-overview.md)
- [計画最適化の開始](get-started.md)
- [計画の最適化フィット分析](planning-optimization-fit-analysis.md)
- [計画の履歴と計画ログの表示](plan-history-logs.md)
- [計画ジョブのキャンセル](cancel-planning-job.md)

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]

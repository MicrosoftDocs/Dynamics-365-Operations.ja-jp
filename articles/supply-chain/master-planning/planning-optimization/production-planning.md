---
title: 生産計画
description: このトピックでは、生産の計画について説明し、計画の最適化を使用して計画製造オーダーを変更する方法について説明します。
author: t-benebo
ms.date: 06/01/2021
ms.topic: article
ms.search.form: ReqCreatePlanWorkspace
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: benebotg
ms.search.validFrom: 2020-12-15
ms.dyn365.ops.version: 10.0.13
ms.openlocfilehash: 8f23cb62512dfd718fe199867a4b21aaa0eca3fd
ms.sourcegitcommit: ad1afc6893a8dc32d1363395666b0fe1d50e983a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/23/2022
ms.locfileid: "8469061"
---
# <a name="production-planning"></a>生産計画

[!include [banner](../../includes/banner.md)]

計画の最適化では、複数の生産シナリオがサポートされます。 組み込みの既存のマスター プラン エンジンから移行する場合は、変更された動作について注意することが重要です。

次のビデオでは、このトピックで説明されている概念のいくつかを簡単に紹介しています: [Dynamics 365 Supply Chain Management: 計画最適化の機能拡張](https://youtu.be/u1pcmZuZBTw)。

## <a name="turn-on-this-feature-for-your-system"></a>システムでこの機能を有効化する

このトピックで説明する機能がシステムにまだ含まれていない場合は、[機能管理](../../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) に移動して、*計画最適化に使用する計画製造オーダー* 機能を有効にします。

## <a name="planned-production-orders"></a>計画製造オーダー

要求を満たすためにマスター プランで計画オーダーを作成する場合、注文タイプは **計画オーダー タイプ** フィールド の値によって決定されます。 **計画オーダー タイプ** フィールドが *生産* に設定されている場合は、計画製造オーダーが作成されます。 これらの計画製造オーダーには、関連する生産設定からの有効な部品表 (BOM) とルート ID に関する情報が含まれます。

## <a name="requirements-from-boms"></a>BOM の要件

BOM 情報はマスター プランの際に受け入れされます。 この計画の生産物には、関連する生産必要量をカバーする材料供給が含まれます。

マスター プランの間に、生産に必要な材料を決定するために現在の有効な BOM が使用されます。 この手順は、必要な製造オーダーに関連する BOM 構造のすべてのレベルから実行されます。 材料の要件は、使用可能な手持在庫、既存の注文供給、承認済の計画オーダーを使用して満たされます。 その他の材料が必要な場合は、需要を満たす計画オーダーが作成されます。

## <a name="scheduling-during-firming"></a>固定中のスケジューリング

計画製造オーダーには、生産のスケジューリングに必要なルート ID が含まれます。 ただし、計画オーダーの計画の実行時のスケジューリングのサポートは保留中です。 ルート ID は、固定中に計画製造オーダーをスケジュールするために使用されます。 したがって、計画製造オーダーのリード タイムは、次の説明に従って、計画製造オーダーから生成される関連するスケジュール済の製造オーダーのリード タイムと異なる可能性があります。

- **計画製造オーダー** - リード タイムは、リリースされた製品の静的リード タイムに基づいて決定されます。
- **固定された製造オーダー** - リード タイムは、ルート情報や関連するリソース制約を使用するスケジューリングに基づいて行います。

予想される機能の利用可能性の詳細については、[計画の最適化解析](planning-optimization-fit-analysis.md) を参照してください。

計画の最適化にまだ使用できない生産機能に依存する場合は、組み込みのマスター プラン エンジンを引き続き使用できます。 例外は必要ありません。

## <a name="delays"></a>遅延

必要な材料のリード タイムが今日の日付から材料要求日の間の期間よりも長い場合、必要な材料と関連する製造オーダーの計画オーダーは遅延します。 計画オーダーの場合は、リリースされた製品のリード タイムに基づいて遅延 (日数) が計算されます。 遅延情報は、BOM 構造のすべてのレベルに反映されます。 したがって、遅延した原材料の影響を顧客の販売注文までのすべての方法で実行できます。

## <a name="modifying-planned-orders"></a>計画オーダーの修正

計画オーダーの情報を変更すると、"計画オーダーに対する手動変更の影響は、次回のマスター プランの実行までプランの残りの部分に反映されないので注意してください" というメッセージが表示されます。

計画オーダーの情報を変更し、関連する材料要求に対する影響を確認する場合は、次の手順に従います。

1. 計画オーダーの更新。
2. 計画オーダーの承認。
3. マスター プランの実行。

マスター プランを実行する際、計画製造オーダーを含める場合はフィルタを使用しません。 詳細については、このトピックの後にある [フィルタ―](#filters) セクションを参照してください。

> [!NOTE]
> 計画オーダーの出荷日が後の日付に変更された場合、需要は新しい計画オーダーに対してペギングされる可能性があります。 この動作は、新しい供給日によってペギングされた需要に遅延が発生するが、リード タイムの設定に従って遅延を回避できる場合に発生します。

## <a name="explosion-page"></a>展開ページ

**展開** ページを使用して、特定の製造オーダーまたは計画製造オーダー、関連する補充、ペギング情報に必要な需要を分析できます。 **展開** ページの情報は、マスター プラン時に更新されます。 **展開** ページから情報を直接更新することはできません。

## <a name="filters"></a><a name="filters"></a>フィルター

計画の最適化に必要な情報が正しい結果の計算に必要な情報を確実に提供するには、計画オーダーの BOM 構造全体に製品に関連する製品を含める必要があります。 そのため、生産を含む計画シナリオの場合は、フィルタ処理されたマスター プランの実行を回避することをお勧めします。

組み込みのマスター プラン エンジンを使用する場合、依存する子品目が自動的に検出され、マスター プランの実行に含まれますが、計画の最適化では現在このアクションが実行されません。

たとえば、製品 A の BOM 構造の一つの締めを使用して製品 B を生産した場合は、製品 A と製品 B の BOM 構造のすべての製品をフィルターに含める必要があります。 すべての製品がフィルターに含まれる保証は複雑になる可能性があるから、製造オーダーが含まれる場合は、フィルタ処理されたマスター プランの実行を回避することをお勧めします。 それ以外の場合は、マスター プランでは望まない結果が提供されます。

### <a name="reasons-to-avoid-filtered-master-planning-runs"></a>フィルタ処理されたマスター プランの実行を回避する理由

製品に対してフィルタ処理されたマスター プランを実行した場合、(組み込みのマスター プラン エンジンとは異なり) 計画の最適化では、その製品の BOM 構造内のすべての副産物と原材料が検出されないため、マスター プランの実行には含まれません。 計画の最適化によって製品の BOM 構造の第 1 レベルが識別されても、データベースから製品設定 (既定の注文タイプや品目補充など) は読み込まれません。

計画の最適化では、実行のデータがあらかじめ読み込まれ、フィルタが適用されます。 つまり、特定の製品に含まれる副産物または原材料がフィルタの一部ではない場合、それに関する情報は実行に対してキャプチャされません。 また、副産物または原材料が別の製品に含まれている場合は、元の製品とそのコンポーネントのみを含むフィルタ処理された実行では、その他の製品に対して作成された既存の計画需要が削除されます。

フィルタ処理されたマスター プランの実行によって、このロジックを実行すると予期しない結果が生成される場合があります。 次のセクションでは、予期しない結果が発生する可能性がある例を示します。

### <a name="example-1"></a>例 1

完成品の *FG* は、次のコンポーネントで構成されています。

- 原材料 *R*
- 副産物 *S1* (副産物 *S2* で構成される)

原材料 *R* の手持在庫は存在し、副産物 *S1* は手持在庫がありません。

完成品の *FG* に対してフィルタ処理されたマスター プランの実行を実行すると、完成品 *FG* の計画製造オーダー、原材料 *R* の計画発注書、および副産物 *S1* の計画発注書が表示されます。 これは、計画の最適化では原材料 *R* に対する既存の供給を無視し、副産物 *S1* は直接注文するのではなく *S2* を使用して生産する必要があるという点で、望ましい結果とは言えません。 これは、計画の最適化が完成品 *FG* のコンポーネントのリスト (既存のコンポーネントの供給や既定の注文設定など) に関連する情報がないことが原因で発生しました。

### <a name="example-2"></a>例 2

前の例では、追加の完成品 *FG2* でも副産物 *S1* が使用されます。 完成品 *FG2* に計画オーダーが存在し、*S1* を含むすべてのコンポーネントに対して計画済みの需要が存在します。

完成品 *FG* の BOM 構造からすべての副産物と原材料をフィルタに追加し、完全な再生成を実行することにより、前の例からフィルタ処理したマスター プラン実行の望ましくない結果を解決することにします。

完全な再生成を実行すると、含まれているすべての製品の既存の結果が削除され、新しい計算に基づいて結果が再作成されます。 つまり、製品 *S1* に対する既存の計画需要は削除され、完成品 *FG2* 要件のみを考慮して再作成され、完成品 *FG2* 要件は無視されます。 これは、計画の最適化を実行すると、他の計画製造オーダーの計画需要は含まれず &mdash; 実行時に生成された計画需要だけが使用されるたｍです。

> [!NOTE]
> 完成品 *FG2* に対する既存の計画オーダーのステータスが *承認済* である場合、親製品の変更がフィルタに追加されていない場合でも、承認済の計画需要が含まれます。

したがって、完成品 *FG*、完成品 *FG2*、およびこれらのコンポーネントが (そのコンポーネントと共に) その一部となっている他のすべての製品を追加しない限り、フィルタ処理されたマスター プランを実行しても結果は望ましいものとなりません。

すべての製品がフィルターに含まれる保証は複雑になる可能性があるから、製造オーダーが含まれる場合は、フィルタ処理されたマスター プランの実行を回避することをお勧めします。

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]

---
title: 注文納期日
description: このトピックでは、オーダー納期処理について説明します。 注文納期を使用すると、顧客への出荷日を確実性をもって約束し、柔軟性を持たせた上でこれらの日付を守るようにすることができます。
author: ShylaThompson
manager: tfehr
ms.date: 04/17/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: SalesATP, SalesAvailableDlvDates, SalesCarrier
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 193933
ms.assetid: 676fc53a-fa25-4688-9f26-1005316763b8
ms.search.region: Global
ms.author: kamaybac
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 4e969a4bc4346d05abd99022868dae3a1d78fe50
ms.sourcegitcommit: 708ca25687a4e48271cdcd6d2d22d99fb94cf140
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/10/2020
ms.locfileid: "3979430"
---
# <a name="order-promising"></a>注文納期日

[!include [banner](../includes/banner.md)]

このトピックでは、オーダー納期処理について説明します。 注文納期を使用すると、顧客への出荷日を確実性をもって約束し、柔軟性を持たせた上でこれらの日付を守るようにすることができます。

注文納期は、最も早い出荷日および入荷日を計算し、配送日の管理方法、および配送日数に基づいています。 4 つの配送日の管理方法から選択できます。

-   **販売リード タイム** – 販売リード タイムは、販売注文の作成から品目の出荷までの時間です。 配送日の計算は日数の既定値に基づき、有効在庫数、既知の要求、または供給計画は考慮されません。
-   **ATP (納期回答可能在庫)** – ATP は、顧客に特定の日付で納期を回答できる使用可能な品目の数量です。 ATP の計算には、未コミット在庫、リード タイム、計画受入と払出が含まれます。
-   **ATP + 払出安全日数**– 出荷日は、ATP に品目の払出安全日数を加えた日付と同じになります。 払出安全日数は、品目を出荷する準備にかかる時間です。
-   **CTP (生産可能在庫)**– 在庫状態が展開して計算されます。

## <a name="atp-calculations"></a>ATP の計算
ATP 数量は。"先読みによる累計 ATP" 手法を使用して計算されます。 この ATP 計算手法の主な利点は、入庫間の出庫の合計が最新の入庫よりも大きい状況 (たとえば、要求を満たすために以前の入庫からの数量を使用する必要がある場合) を処理できることです。 "先読みによる累計 ATP" 手法には、入庫する累計数量が出庫する累計数量を超えるまでのすべての出庫が含まれます。 したがって、この ATP 計算方式で、早い時期からの数量の一部をその後の期間に使用できるかどうかを評価します。  

ATP 数量は、最初の期間の未コミット在庫残高です。 通常、これは入庫がスケジュールされる期間中、計算されます。 プログラムは、ATP 期間を日数で計算し、現在の日付を ATP 数量の初日として計算します。 最初の期間では、手持在庫から期日または期日超過の顧客注文を引いた値が ATP に含まれます。  

ATP は、次の式を使用して計算されます。  

ATP = 直前の期間の ATP + 現在の期間の入庫 - 現在の期間の出庫 - 将来のすべての期間 (対象の将来期間を含む) の入庫の合計が出庫の合計 (対象の将来期間を含む) よりも大きくなるまでの、各将来期間の正味出庫数量。  

ATP 計算では、有効期限に関する情報や、任意の数量を約束するときにシステムが期待する ATP タイム フェンスを超える情報が含まれていないことに注意してください。

考慮する出庫または入庫がこれだけである場合は、次の日付の ATP 数量が、最新の計算済み ATP 数量と同じになります。  

ATP チェックが完了したときに、品目に使用される分析コードが与えられていないものがある場合は、それらを出庫および入庫で指定できます。 この場合は、ATP 計算で、入庫および出庫を既存の分析コードに集計して、ATP 計算で使用される入庫および出庫の明細行を減らす必要があります。  

表示される ATP 数量は、常に 0 (ゼロ) 以上です。 計算で負の ATP 数量が返される場合 (たとえば、以前に回答されている納期の数量が使用可能な数量を超える場合)、プログラムは自動的に数量を 0 に設定します。

### <a name="example"></a>例

**ATP 後方需要タイム フェンス**フィールドは、遅延需要注文または在庫払出をどの位時間を遡って検索するかを制御します。 **ATP 後方供給タイム フェンス**フィールドは、遅延供給注文または在庫入庫をどの位時間を遡って検索するかを制御します。 たとえば、7 日だけ遅延した注文を ATP 計算で考慮する必要がある場合、フィールドを両方とも **7** に設定する必要があります。  

**ATP 遅延需要相殺時間**と **ATP 遅延供給相殺時間**のフィールドは、遅延需要または遅延供給を ATP 計算でいつ考慮するかを制御します。 遅延供給と遅延需給を ATP 計算で明後日考慮する必要がある場合、フィールドを両方とも **2** に設定する必要があります。 **2** という値は、ATP 計算で考慮する必要のある遅延発注書の品目の数量は、現在の日付から 2 日後に入手可能と見られることを意味します。  

次の例では、**7** が **ATP 後方需要タイム フェンス**フィールドと **ATP 後方供給タイム フェンス**フィールドに入力され、**1** が **ATP 遅延需要相殺時間**フィールドと **ATP 遅延供給相殺時間**フィールドに入力されます。  

3 日前に入庫するはずであった製品 200 個の発注書がまだ入庫されていません。 そのため、昨日出荷されるはずであった同じ製品 75 個の販売注文明細行が出荷されていません。  

顧客から電話があり、同じ製品 150 個の注文を希望しています。 製品の在庫状態を確認すると、10 日後に 100 個の製品の別の発注書が出荷されることが判明します。  

製品の販売注文明細行を作成し、数量として **150** を入力します。  

配送日の管理方式は ATP であるため、最も早い出荷日を検索するために、ATP データが計算されます。 設定に基づいて、遅延発注書および販売注文が考慮され、その結果での現在の日付の ATP 数量は 0 です。 明日、遅延発注書の入庫が予定されているとき、ATP 数量は 0 より大きいと計算されます (この場合は 125 と計算されます)。 ただし、今より 10 日後、100 個の追加の発注書の入庫が予定されているとき、ATP 数量は 150 よりも大きくなります。  

したがって、出荷日は、ATP 計算に基づいて、今日より 10 日後に設定されます。 このため、要求された数量を今日より 10 日後に納入できることを顧客に伝えます。




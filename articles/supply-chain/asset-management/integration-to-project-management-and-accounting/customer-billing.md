---
title: 顧客所有資産のメンテナンスに対する請求書
description: この記事では、顧客が所有する資産に対して行われるメンテナンス作業を作成、処理、および請求する方法について説明します。
author: johanhoffmann
ms.date: 01/28/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ProjProjectContractsListPage, ProjInvoiceTable, ProjProjectsListPage, ProjTable, EntAssetWorkOrderType, EntAssetWorkOrderProjectSetup, EntAssetObjectTable, EntAssetWorkOrderTable
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2021-01-28
ms.dyn365.ops.version: 10.0.17
ms.openlocfilehash: d6ad25ec49a329c16b0290278fb614293a507eae
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/03/2022
ms.locfileid: "8887692"
---
# <a name="bill-for-maintenance-on-customer-owned-assets"></a>顧客所有資産のメンテナンスに対する請求書

[!include [banner](../../includes/banner.md)]

*作業指示書請求* 機能を使用すると、顧客が所有する資産に対して行われるメンテナンス作業を作成、処理、および請求できます。 この機能を使用すると、次のタスクを実行できます:

- 顧客と所有する資産を関連付けます。
- 顧客を選択し、作業指示書の作成時に顧客が所有する資産を表示します。
- 各顧客の親プロジェクトを設定します。
- 作業指示書に対して時間、項目、経費、手数料を登録し、後で顧客の仮発行請求書を作成します。

さらに、この機能には次の機能が含まれます:

- 顧客の親プロジェクトのプロジェクト契約が、関連する作業指示書プロジェクトに自動的にコピーされます。
- 資産管理で、作業指示書予測と作業指示書仕訳帳の両方で *手数料* プロジェクト トランザクション タイプを使用できるようになりました。

## <a name="turn-on-the-customer-billing-feature"></a>顧客請求機能を有効にする

この機能を使用するには、システム上で有効にする必要があります。 管理者は、[機能管理](../../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) 設定を使用して、機能の状態を確認し、有効にすることができます。 **機能管理** ワークスペースで、この機能は次のようにリストされています。

- **モジュール:** *プロジェクト管理および会計*
- **機能名:** *作業指示書請求*

## <a name="example-scenario"></a>シナリオ例

この機能の動作の詳細については、次のシナリオ例を参照してください。

ここで指定されたサンプル レコードと値を使用してシナリオを実行するには、標準[デモ データ](../../../fin-ops-core/dev-itpro/deployment/deploy-demo-environment.md) がインストールされているシステムを使用する必要があります。 開始する前に、**USMF** 法人を選択する必要があります。

このシナリオは、実稼働システムで作業するときにこの機能を使用するためのガイダンスとして使用することもできます。 ただし、その場合は、独自の値に置き換える必要があり、標準のデモ データが提供するいくつかのタイプの必要なレコードが不足している可能性があります。

### <a name="step-1-create-a-new-project-contract-for-the-customer"></a>手順 1: 顧客に対して新しいプロジェクト契約を作成する

1. **プロジェクト管理および会計 \> プロジェクト \> プロジェクト契約** の順に移動します。
1. アクション ウィンドウで、**新規** を選択します。
1. **新規プロジェクト契約** ダイアログ ボックスで、次の値を設定します:

    - **名前:** *Pelican Wholesales*
    - **資金調達タイプ:** *顧客*
    - **資金調達ソース:** *US-013* (*Pelican Wholesales*)

1. **OK** を選択します。

### <a name="step-2-create-a-new-parent-project-for-the-customer"></a>手順 2: 顧客に対して新しい親プロジェクトを作成する

ここで作成する親プロジェクトは、顧客の作業指示書が作成される際に使用されます。

1. **プロジェクト管理および会計 \> プロジェクト \> すべてのプロジェクト** の順に移動します。
1. アクション ウィンドウで、**新規** を選択します。
1. **新規プロジェクト** ダイアログ ボックスに次の値を設定します:

    - **プロジェクト タイプ:** *時間/実費払い*
    - **プロジェクト名:** *Pelican Wholesales 作業指示書*
    - **プロジェクト グループ:** *TM*
    - **プロジェクト契約 ID:** *Pelican Wholesales* (前に作成した契約)
    - **開始日:** 今日の日付を選択します。

1. **プロジェクトの作成** を選択します。
1. 新規プロジェクトが開きます。 **プロジェクト ID** 値をメモします。 後で入力する必要があります。

### <a name="step-3-create-a-new-work-order-type-in-asset-management"></a>手順 3: 資産管理で新しい作業指示書タイプを作成する

1. **資産管理 \> 設定 \> 作業指示書 \> 作業指示書タイプ** の順に移動します。
1. アクション ウィンドウで、**新規** を選択します。
1. 新しいレコードが一覧に追加されます。 次の値を設定します:

    - **作業指示書タイプ:** *サービス*
    - **名前:** *サービス作業指示書*
    - **作業指示書ライフサイクルの状態:** *標準*

### <a name="step-4-link-the-customer-account-to-the-parent-project"></a>手順 4: 顧客アカウントを親プロジェクトにリンクする

これで、資産管理のプロジェクト設定で、親プロジェクトに顧客アカウントをリンクする必要があります。

1. **資産管理 \> 設定 \> 作業指示書 \> プロジェクト設定** に移動します。
1. **親プロジェクト** タブで、**追加** を選択して新しい行を追加します。
1. 新しい明細行で、次の値を設定します。

    - **顧客アカウント:** *US-013* (*Pelican Wholesales*)
    - **プロジェクト ID:** 前にメモしたプロジェクト IDを入力します。

### <a name="step-5-link-the-project-group-and-type-to-the-work-order-project"></a>手順 5: プロジェクト グループをリンクし、作業指示書プロジェクトに入力する

まだ、**プロジェクトの設定** ページ (**資産管理 \> 設定 \> 作業指示書 \> プロジェクトの設定**) が表示されているはずです。

1. **プロジェクト グループ** タブで、**追加** を選択して新しい行を追加します。
1. 新しい明細行で、次の値を設定します。

    - **作業指示書タイプ:** *サービス* (以前に作成した作業指示書タイプ)
    - **プロジェクト グループ:** *TM*

> [!NOTE]
> 作業指示書プロジェクトのプロジェクト契約は、常に親プロジェクトから継承されます。

### <a name="step-6-link-an-asset-to-the-customer-id"></a>手順 6: 顧客 ID に資産をリンクする

1. **資産管理 \> 資産 \> 有効な資産** に移動します。
1. **フィルター** フィールドに *VE-102* と入力し、**資産** によるフィルターを選択します。
1. 資産を選択して設定を開きます。
1. **顧客** クイック タブで、**顧客アカウント** フィールドを *US-013* (*Pelican Wholesales*) に設定します。

    **名前** フィールドが、自動的に *Pelican Wholesales* に更新されます。

### <a name="step-7-create-a-new-work-order-on-the-asset"></a>手順 7: 資産で新しい作業指示書を作成する

1. **資産管理 \> 作業指示書 \> 有効な作業指示書** の順に移動します。
1. アクション ウィンドウで、**新規** を選択します。
1. **作業指示書の作成** ダイアログ ボックスで、次の値を設定します:

    - **作業指示書タイプ:** *サービス*
    - **説明:** *修理トラック*
    - **顧客アカウント:** *US-013* (*Pelican Wholesales*)
    - **資産:** *VE-102*

        > [!NOTE]
        > ルックアップには、選択した顧客アカウントにリンクされている資産だけが表示されます。

    - **メンテナンス作業タイプ** *修理*
    - **取引:** *整備士*
    - **サービス レベル:** *4*

1. **OK** を選択します。

### <a name="step-8-review-the-work-order-and-start-to-work-on-it"></a>手順 8: 作業指示書を確認し、作業を開始する

このセクションでは、前のセクションで作成した作業指示書に従って作業します。

1. 次の手順に従って、親プロジェクトが *Pelican wholesales 作業指示書* プロジェクトであることを確認します:

    1. **作業指示書メンテナンス作業** セクションで、行を選択します。
    1. **行の詳細** クイックタブで、**プロジェクト ID** の値を検査します。 *\<Parent-Project-ID\>-\<Project-ID\>* 形式のハイフン付き番号である必要があります。 この値はリンクです。
    1. プロジェクト ID リンクを選択して、親プロジェクトとプロジェクト名を表示できるページを開きます。

1. アクション ペインにある **作業指示書** タブの **ライフサイクルの状態** グループで、**作業指示書の状態の更新** を選択します。
1. **作業指示書の状態の更新** ダイアログ ボックスにある **選択** 列で、**ライフサイクルの状態** フィールドが *処理中* に設定されている行のチェック ボックスを選択します。
1. **OK** を選択します。
1. **ライフサイクルの状態: InProgress** ダイアログ ボックスで **OK** を選択します。

### <a name="step-9-post-the-hours-that-were-spent-on-the-work-order-and-create-a-new-invoice-proposal"></a>手順 9: 作業指示書に費やした時間を記入し、新しい仮発行請求書を作成する

このセクションでは、前のセクションで取り組んだ作業指示書の作業を続けます。

1. アクション ペインにある **作業指示書** タブの **プロジェクト** グループで **仕訳帳** を選択します。

    **作業指示書仕訳帳** ページが表示されます。 ここでは、作業指示書に費やした時間を登録できます。

1. **時間** クイックタブの **行の追加** を選択します。
1. 新しい行で、**時間** フィールドを *4* に設定します。
1. アクション ペインで、**仕訳帳の転記** を選択します。
1. **作業指示書仕訳帳** ページを閉じて、作業指示書に戻ります。
1. アクション ペインの **請求** タブで、**新しい仮発行請求書** を選択します。
1. **仮発行請求書の作成** ダイアログ ボックスの **プロジェクト トランザクション** セクションで、請求を行うすべての行に対して **選択** チェック ボックスを選択します。
1. **OK** を選択してダイアログ ボックスを閉じ、新しい仮発行請求書を表示します。


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
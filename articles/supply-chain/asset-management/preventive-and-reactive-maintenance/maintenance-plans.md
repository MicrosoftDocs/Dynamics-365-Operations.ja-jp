---
title: メンテナンス計画
description: このトピックでは、資産管理におけるメンテナンス計画について説明します。
author: josaw1
manager: tfehr
ms.date: 01/20/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: EntAssetMaintenancePlan
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: riluan
ms.search.validFrom: 2019-08-31
ms.dyn365.ops.version: 10.0.5
ms.openlocfilehash: 9ec4929e9ea608318b83a2ae6033c4b25855f4dd
ms.sourcegitcommit: b7a7a14f8650913f6797ae1c4a82ad8adfe415fd
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/28/2021
ms.locfileid: "5077553"
---
# <a name="maintenance-plans"></a>メンテナンス計画

[!include [banner](../../includes/banner.md)]

メンテナンス計画は、資産に対して事前に予定された予防的メンテナン ジョブを実行するタイミングを定義します。 メンテナンス計画は、資産、資産タイプ、機能の場所、または機能の場所タイプに関連付けることができますが、最初に会社で使用するメンテナンス計画を作成します。

メンテナンス計画には、複数のメンテナンス計画明細行を含めることができます。 メンテナンス作業タイプと間隔は、メンテナンス計画明細行で指定されます。 メンテナンス計画明細行には 2 つのタイプがあります。

- 時刻
- カウンター

「時間」タイプのメンテナンス計画明細行は、固定時間間隔に基づいて計画されている定期メンテナンスに使用されます。 「カウンター」タイプのメンテナンス計画明細行は、資産カウンター登録に基づいて計画されているメンテナンス、または再有効化メンテナンスに使用されます。 メンテナンス計画には、両方のタイプのメンテナンス計画明細行を複数含めることができます。

>[!NOTE]
>資産のカウンター タイプに対してカウンター値が登録されていない場合、メンテナンス計画明細行は省略されます。

最初に、予防的メンテナンス ジョブに必要なメンテナンス計画を作成し、各メンテナンス計画に関連付ける必要がある資産タイプ、資産、機能の場所タイプ、および機能の場所を選択します。 その後、必要に応じて、資産または機能の場所にメンテナンス計画を追加することもできます。これは、**全資産** \> 資産の選択 \> **資産メンテナンス計画** クイックタブ、または **すべての機能の場所** \> 機能の場所の選択 \> **メンテナンス計画** クイックタブから実行できます。

資産タイプまたは機能の場所タイプにメンテナンス計画を追加する場合、新しい資産または機能の場所を資産タイプまたは機能の場所タイプと共に作成する時に、資産または機能の場所がメンテナンス計画に自動で追加されることになります メンテナンス計画との関係の開始日は現在の日付になり、調整が必要な場合があります。

## <a name="set-up-maintenance-plans"></a>メンテナンス計画の設定

このセクションでは、メンテナンス計画明細行を設定する方法について説明し、その使用方法の例を示します。

1. **資産管理 \> 設定 \> 予防的メンテナンス \> メンテナンス計画** に移動します。

1. **新規作成** を選択して、新しいシーケンスを作成します。

1. **メンテナンス順序** フィールドに ID を挿入し、**名前** フィールドに名前を挿入します。

1. **計画日** フィールドには、メンテナンス計画で実行する計画から開始日を挿入します。 時間ベースのメンテナンス計画明細行には、他の計画日があることに注意してください。

1. **アクティブ** トグル ボタンで「はい」を選択し、メンテナンス計画を有効にします。

    >[!NOTE]
    >メンテナンス計画を無効にした場合、メンテナンス計画ジョブのスケジュールが実行される時、メンテナンス スケジュールにスケジュール投稿は作成されません。

1. **前の許容範囲** フィールドと **後の許容範囲** フィールドが、**重複メンテナンス作業の抑制** チェック ボックスが選択されているメンテナンス計画明細行に関連付けられます (手順 17 を参照)。 「許容範囲」フィールドは、複数のメンテナンス計画が重複する場合にその日数の間隔を延長するために使用されます。最も包括的または最大の作業がメンテナンス計画スケジューリング中のメンテナンス スケジュール明細行として作成され、より頻繁で重複する作業はメンテナンス計画スケジューリング中で省略されます。 例「2」について、**前の許容範囲** フィールドに日数を挿入します。

1. **前の許容範囲** に値を挿入したことがある場合、例「2」のように **後の許容範囲** にも日数を挿入します。

    >[!NOTE]
    >このステップと前のステップで説明されている例では、複数のメンテナンス計画の明細行が重複していて、**重複メンテナンス作業の抑制** が 1 つ以上の明細行でオンになっており、メンテナンス スケジュールの明細行を省略する期間が合計 5 日に拡張されています (メンテナンス スケジュールの明細行の開始予定日 *および* 2 日前 *および* その日付の 2 日後)。

1. **詳細** クイック タブの **詳細** グループのフィールドには、メンテナンス計画のメンテナンス計画明細行設定の数、資産の数、およびメンテナンス計画に関連付けられている機能の場所が表示されます。

1. **明細行** クイック タブで、**時刻行の追加** または **資産カウンター明細行の追加** をクリックし、新しいメンテナンス計画明細行を作成します。

1. **作業指示書の説明** フィールドの明細行に関する説明を挿入します。 説明は、関連付けられている作業指示書に転送されます。

1. **メンテナンス作業タイプ** フィールドで、メンテナンス計画明細行が関連付けられているジョブ タイプを選択します。

1. **メンテナンス作業タイプ バリアント** および **取引** フィールドで、メンテナンス作業タイプに関連付けられているバリアントおよび取引を選択します。

1. **日数内に完了** および **時間内に完了** フィールドで、予定終了日を日数または時間数で挿入することができます。 メンテナンス スケジュール明細行が作成される時に計算される開始予定日に関連して、予定終了日が挿入されます。 たとえば、**日数内に完了** フィールドに「7」を挿入することにより、関連付けられている作業が開始予定日から 1 週間以内に完了するように指定することができます。

1. **間隔のタイプ** フィールドで、「繰り返し」または「1 回のみ」のように、メンテナンス計画明細行で使用される間隔のタイプを選択します。 間隔のタイプと行のタイプの関係の説明については、次の [間隔のタイプの概要](#interval-types) のテーブルを参照してください。

1. **期間** フィールドは、時間ベースの明細行タイプにのみ関連付けることができます。 期間頻度に関連付けられている期間タイプを選択します。

1. **期間の頻度** フィールドに、予防的メンテナンス作業を計画するために明細行を使用する回数を挿入します。 たとえば、「カウンター」タイプの明細行を作成し、そのカウンターが生産数量で、このフィールドに「20,000」の数値を挿入した場合、2 万以上の品目の生産を予定するたびに予防的メンテナンス スケジュール中に新しいメンテナンス順序明細行が作成されます。

1. **重複メンテナンス作業の抑制** チェック ボックスは、時間ベースおよびカウンター ベースの明細行タイプに関連付けられています。 同じ日付で作成されたメンテナン スケジュール エントリを削除するには、チェック ボックスをオンにします。 たとえば、これは 1 か月検査の明細行、6 か月検査の明細行、および 1 年検査の明細行を作成した場合に関係します。 1 年検査についてのみ検査を実行することができ、期間に適合する他の 2 つの検査については実行しません。 この例を正しく設定するには、1 年検査の明細行を最初の明細行、6 か月検査の明細行を 2 行目、1 か月検査の明細行を 3 行目として設定し、1 か月検査と 6 か月検査の明細行の **重複メンテナンス作業の抑制** チェック ボックスをオンにします。 この方法で行うことによって、1 年のマークに達した時、確実に 1 か月および 6 か月の検査が省略され、1 年検査の明細行にのみメンテナンス スケジュールの明細行が作成されます。

    >[!NOTE]
    >このステップで説明した例は、タスクの最大数を含み、頻繁に実行されない最も包括的な作業が常に最初の明細行として挿入される必要があることを示しています。 より頻度の多い作業は、頻度の順に個別の行として挿入され、最も頻繁に実行される作業がリストの下部になります。

1. **カウンター** フィールドは、カウンター ベースの明細行タイプにのみ関連付けることができます。 明細行で使用するカウンター タイプを選択します。 カウンター タイプが関連する資産で有効になっていない場合、メンテナンス計画の明細行は省略されます。

1. **資産カウンターのタイム フェンス (日数)** フィールドは、カウンター ベースの明細行タイプにのみ関連付けることができます。 メンテナンス計画のスケジューリングの実行時、どのくらいの遡及日数でカウンター登録をチェックするかを定義する数値を挿入します。 つまり、作成されるメンテナンス スケジュール明細行の数を決定する傾向を計算するための基礎として使用されるデータ (既存のカウンター登録) をどれだけ遡るかを意味します。

    >*例:* カウンター登録が月に 1 回行われることが予想される場合、メンテナンス計画のスケジューリングは常に過去 12 か月に基づいており、過去 1 年の傾向に基づいてメンテナンス スケジュールの明細行を作成するため、このフィールドに「365」という数字を挿入できます。 一方、このフィールドに「10」の数値を入力した場合は、日次単位のようにカウンター登録がより頻繁に行われることが予想されます。 つまり、メンテナンス計画をスケジュールする時、過去 10 日間のカウンター登録がメンテナンス スケジュール明細行のスケジューリングの基準として使用されることを意味します。

1. **計画日** フィールドは、時間ベースの明細行タイプにのみ関連付けることができます。 メンテナンス計画の明細行にメンテナンス計画全体とは異なる計画日が含まれている場合は、明細行の **計画日** フィールドで日付を選択します。

1. **サービス レベル** フィールドで、作業指示書のサービス レベルとして使用する、メンテナンス計画明細行のその他の区切りとして、作業指示書のサービスレベルを選択することができます。

1. メンテナンス計画をスケジューリングする際に、選択したメンテナンス計画の明細行に従って作業指示書が自動的に作成されるようにするには、**自動作成** チェック ボックスをオンにします。

1. **自動作成** チェック ボックスをオンにした場合、**作業指示書タイプ** フィールドで自動作成された作業指示書の作業指示書タイプを選択することができます。 **自動生成** チェック ボックスを選択して、このフィールドで作業指示書タイプを選択しなかった場合、**資産管理 \> 設定 \> 資産管理パラメータ \> 作業指示書** リンク \> **予防的作業指示書のタイプ** フィールドで選択した作業指示書タイプが使用されます。

1. **時期元** および **時期先** フィールドを使用し、12 か月の期間内で繰り返す時間ベースのメンテナンス計画明細行を作成します。 *例:* 緑の領域を管理するために使用される設備には、定義済みの期間内の春にサービスが必要です。 **時期元** フィールドで、繰り返す期間の開始日を挿入します。

1. **時期先** フィールドで、繰り返す期間の終了日を挿入します。

1. **結果の期間** フィールドに、繰り返す現在の期間が表示されます。 現在の期間が経過して新しい年が開始すると、このフィールドに表示されている期間は、繰り返しの順序で次の期間を反映するように更新されます。

1. **資産** クイック タブで、メンテナンス計画に関連する資産を選択します。

1. **資産タイプ** クイック タブで、メンテナンス計画に関連する資産タイプを選択します。

1. **機能の場所** クイック タブで、メンテナンス計画に関連する機能の場所を選択します。 必要に応じて、関連する資産タイプ、メーカー、およびモデルを選択することにより、詳細な設定をすることができます。

1. **機能の場所タイプ** クイック タブで、メンテナンス計画に関連する機能の場所タイプを選択します。

>[!NOTE]
>仕入先保証の対象となる資産に作業指示書を手動で作成した場合、ユーザーに保証を確認するためのダイアログ ボックスが表示されます。 次に、作業指示書の作成をキャンセルできます。 自動的に作成される作業指示書については、保証関係のチェックは省略されます。

<a id="interval-types"></a>

## <a name="interval-types-overview"></a>間隔のタイプの概要

| 間隔のタイプと説明 | 明細行タイプ: 時間 | 明細行タイプ: カウンター |
|---|---|---|
| **間隔のタイプ: 計画日から繰り返す**。カウントは、使用された計画日から開始されます。 メンテナンス計画をスケジュールする時、期間に達するとメンテナンス スケジュールの明細行が作成されます。 | メンテナンス計画明細行の **計画日** が使用されます。 明細行で計画日が選択されていない場合、メンテナンス計画の **計画日** が使用されます。 例: **期間の頻度** フィールドに数値「3」が挿入され、**期間** フィールドで「年」が選択されている場合、3 年に 1 回、新しいメンテナンス スケジュール明細行が作成されます。 | メンテナンス計画の **計画日** が使用されます。 カウンターを置換した場合、最新の置換日が計画日として使用されます。 |
| **間隔のタイプ: 開始日から繰り返す**。このカウントは、資産関係の開始日から開始します。 日付は、**すべての資産** 詳細表示 \> **資産メンテナンス計画** クイック タブ \> **開始日** フィールド、または **すべての機能の場所** 詳細表示 \> **メンテナンス計画** クイックタブ \> **開始日** フィールドで選択します。 メンテナンス計画をスケジュールする時、期間に達するとメンテナンス スケジュールの明細行が作成されます。 | 資産または機能の場所にあるメンテナンス計画明細行の開始日が使用されます。 そのフィールドが空白の場合、メンテナンス計画の **計画日** が使用されます。 | 資産または機能の場所にあるメンテナンス計画明細行の開始日が使用されます。 そのフィールドが空白の場合、メンテナンス計画の **計画日** が使用されます。 |
| **間隔のタイプ: 前回の作業手順書から繰り返す**。カウントは、実際の終了日および特定のメンテナンス作業タイプ / メンテナンス作業タイプのバリアント / 取引の組み合わせの資産で完了した最新の作業手順書の時刻から開始します。 その日時は、**すべての作業指示書** の詳細表示の **実際の終了** フィールドに表示されます。 | 特定のメンテナンス作業タイプ / メンテナンス作業タイプのバリアント / 取引の組み合わせの資産で完了した作業指示書の実際の終了日時。 完了した作業指示書が見つからなかった場合、上で説明されている「開始日から繰り返し」の間隔のタイプで使用されている日付の 1 つが代わりに使用されます。 | 資産に対して完了した作業指示書の実際の終了日時 *および* メンテナンス ジョブ タイプ / メンテナンス ジョブ タイプ バリアント / 取引の組み合わせ。  で使用 作業指示書の終了日時が空白の場合、上で説明されている「開始日から繰り返し」の間隔のタイプで使用されている日付の 1 つが代わりに使用されます。 |
| **間隔のタイプ: 計画日から 1 回**。上の「計画日から繰り返す」間隔のタイプの説明を参照してください。 唯一の違いは、この間隔のタイプは 1 回だけ使用されるということです。 | 上の「計画日からの繰り返し」間隔のタイプに関する説明を参照してください。 この間隔は通常、一時的なメンテナンスまたはサービス ジョブに使用されます。 | 上の「計画日からの繰り返し」間隔のタイプに関する説明を参照してください。 この間隔は通常、一時的なメンテナンスまたはサービス ジョブに使用されます。 **注記 1:** この間隔のタイプは、メンテナンスまたはサービス ジョブを実行するたびにカウンターが置換される場合にのみ該当します。 一部の理由で、予定の間隔が終了する前にカウンターが交換されている場合、ジョブに対してカウンターの置換時刻から新しい時間が計算されます。 **注記 2:** メンテナンスまたはサービス ジョブが完了した時にカウンターを交換した場合、この間隔タイプは、上の「計画日から繰り返す」の間隔のタイプとして機能します。 |
| **間隔のタイプ: 開始日から 1 回**。上の「開始日から繰り返す」間隔のタイプの説明を参照してください。 唯一の違いは、この間隔のタイプは 1 回だけ使用されるということです。 | 上の「開始日からの繰り返し」間隔のタイプに関する説明を参照してください。 この間隔は通常、一時的なメンテナンスまたはサービス ジョブに使用されます。 | 上の「開始日からの繰り返し」間隔のタイプに関する説明を参照してください。 この間隔は通常、一時的なメンテナンスまたはサービス ジョブに使用されます。 **注 1** これは間隔のタイプにも適用されます。 **注記 3:** メンテナンスまたはサービス ジョブが完了した時にカウンターを交換した場合、この間隔タイプは、上の「開始日から繰り返す」の間隔のタイプとして機能します。 |
| **間隔のタイプ: 上限に達した場合**。この間隔のタイプはカウンターに関係しているだけで、メンテナンス計画明細行に設定されている上限値を示すために使用されます。 メンテナンス スケジュール エントリには、カウンター登録の開始予定日時が含まれ、これらのエントリーはシステム日付と同じか、それより早い開始予定日と共に作成されることになります。 | 適用できません | カウンターの間隔は上限値を示します。 カウンター登録を作成する時にその制限を超えた場合、予防的なメンテナンスをスケジュールする時にメンテナンス スケジュール明細行が作成されます。 |
| **間隔のタイプ: 下限に達した場合**。この間隔のタイプはカウンターに関係しているだけで、メンテナンス計画明細行に設定されている下限値を示すために使用されます。 メンテナンス スケジュール エントリには、カウンター登録の開始予定日時が含まれ、これらのエントリーはシステム日付と同じか、それより早い開始予定日と共に作成されることになります。 | 適用できません | カウンターの間隔は下限値を示します。 カウンター登録を作成する時にその制限を経過した場合、予防的なメンテナンスをスケジュールする時にメンテナンス スケジュール明細行が作成されます。 |
| **間隔のタイプ: リンク開始日**。間隔のタイプは、メンテナンス スケジュール行を 1 回だけ作成します。 メンテナンス計画では、この間隔のタイプを使用して多くのメンテナンス計画の明細行を含むことができ、それらの明細行がリンクされます。 通常は、この間隔タイプの明細行だけを含むメンテナンス計画を作成します。 メンテナンス スケジュール明細行は、最初に予定された開始日時を持つメンテナンス計画明細行を識別することによって作成されます。 | 上の「開始日から 1 回」に関する説明を参照してください。 例: 車のサービス ジョブについて、メンテナンス計画に 2 つの明細行を作成します。1 年の期間の時間ベースの明細行と、25,000 km の制限を持つカウンター ベースの明細行です。 最初に到達する制限について、メンテナンス スケジュール明細行が作成されます。 この明細行タイプに対して、1 年の期間の明細行を作成します。 | 上の「開始日から 1 回」に関する説明を参照してください。 例: 車のサービス ジョブについて、メンテナンス計画に 2 つの明細行を作成します。1 年の期間の時間ベースの明細行と、25,000 km の制限を持つカウンター ベースの明細行です。 最初に到達する制限について、メンテナンス スケジュール明細行が作成されます。 この明細行タイプに対して、25,000 km の制限の明細行を作成します。 2 つのカウンター明細行を作成する例: 2 つのリンクを持つメンテナンス計画を設定することもできます。最初の明細行が品目生産数量 10,000 の制限を含むカウンター ベースの明細行、2 つめの明細行は 3,000 時間の実行の後にサービスが必要になる機械またはワーク センターに関連付けられています。 |
| **間隔のタイプ: 最後の作業指示書からリンク**。間隔のタイプは、完了したすべての作業指示書の後に新しいメンテナンス計画を作成します。 メンテナンス計画では、この間隔のタイプを使用して多くの明細行を含むことができ、それらの明細行がリンクされます。 通常は、この間隔タイプだけのメンテナンス計画の明細行を含むメンテナンス計画を作成します。 メンテナンス スケジュール明細行は、最初に予定された開始日時を持つメンテナンス計画明細行を識別することによって作成されます。 | この間隔のタイプは、基本的に上記の「開始日からのリンク」として機能します。 唯一の違いは、間隔のタイプが基づく日付です。 資産に対して完了した最新の作業指示書の実際の終了日時 *および* メンテナンス ジョブ タイプ / メンテナンス ジョブ タイプ バリアント / 取引の組み合わせ。 | この間隔のタイプは、基本的に上記の「開始日からのリンク」として機能します。 唯一の違いは、間隔のタイプが基づく日付です。 資産に対して完了した最新の作業指示書の実際の終了日時 *および* メンテナンス ジョブ タイプ / メンテナンス ジョブ タイプ バリアント / 取引の組み合わせ。 |
| **サイクル間隔タイプ: 集計値に対して繰り返されます (カウンターのみ)** メンテナンス計画を実行すると、資産カウンターの累計値が期間頻度 (または期間頻度の倍数) に達したときに、その度に予定メンテナンスの行が作成されます。 (メンテナンス計画行で感覚の頻度が定義されます。)<p>この機能を有効にして使用する方法の詳細については、このトピックの後にある [カウンター ベースのメンテナンス拡張機能](#counter-based-maintenance) セクションを参照してください。 | 適用できません | **例:** 時間カウンターは資産 AK-101 に対して設定されています。 資産に対して資産計画行も設定されます。 この行の間隔タイプは *集計値で繰り返され (カウンターのみ)* 、期間の頻度は *1000* です。 メンテナンス計画を実行すると、カウンターの集計値が 1,000 時間を超えた場合に、予定メンテナンスの行が生成されます。 その後、カウンターの集計値が 2,000 時間を超えると、1,000 時間ごとに別のスケジュール済の管理行が生成されます。 |
| **サイクル間隔タイプ: 集計値に対して 1 度 (カウンターのみ)** メンテナンス計画を実行すると、資産カウンターの累積値がが予定メンテナンスの行で定義された期間の頻度に達すると、予定メンテナンスの行が作成されます。<p>この機能を有効にして使用する方法の詳細については、[カウンター ベースのメンテナンス拡張機能](#counter-based-maintenance) セクションを参照してください。 | 適用できません | **例:** 時間カウンターは資産 AK-101 に対して設定されています。 資産に対して資産計画行も設定されます。 この行の間隔タイプは、*集計値で 1 度 (カウンターのみ)* で、この期間の頻度は *1000* です。 メンテナンス計画を実行すると、カウンターの集計値が 1,000 時間を超えた場合に、予定メンテナンスの行が生成されます。 |

>[!NOTE]
>時間ベースのメンテナンス計画明細行に対してメンテナンス スケジュール明細行を作成する場合、予定時間は常に 1 日の始めになります。 カウンター ベースのメンテナンス計画の明細行については、一日うちいつでも予定時間を設定できます。

時間ベースとカウンター ベースのメンテナンス計画明細行の設定例を以下に示します。

**例 1 - 時間ベースのメンテナンス計画明細行:** 潤滑ジョブを週に 1 回繰り返す固定間隔で設定することがあります。 その処理を行うために、**間隔のタイプ** フィールドで、「計画日から繰り返す」を選択します。 次の図の例を参照してください。

![固定間隔で設定されたサービス ジョブ、週 1 回](media/02-preventive-maintenance.png "固定間隔で設定されたサービス ジョブ (週1回)")

**例 2 - 時間ベースのメンテナンス計画明細行:** 検査ジョブをだいたい週に 1 回実行されるように設定できます。 その処理を行うために、**間隔のタイプ** フィールドで、「最後の作業指示書から繰り返す」を選択します。 次の図の例を参照してください。

![週に 1 回程度実行する検査ジョブの設定](media/03-preventive-maintenance.png "週に 1 回程度実行する検査ジョブの設定")

**例 3 - カウンター ベースのメンテナンス計画明細行:** 次の図解で、250 時間が経過するごとに新しいメンテナンス スケジュール明細行を作成するための時間カウンターを表示します。 このカウンター ベースの明細行の間隔のタイプは、「開始日から繰り返す」です。 開始日は、**すべての資産** 詳細表示 \> **資産メンテナンス計画** クイックタブ \> **開始日** フィールド、または **機能の場所** 詳細ビュー \> **メンテナンス計画** クイックタブ \> **開始日** フィールドにある、関連資産の開始日になります。 しきい値 (+ 250) に達するたびにメンテナンス スケジュールの明細行が自動的に作成されるので、これは *予防的* メンテナンス計画の例です。

![管理スケジュール行を定期的に作成する時間カウンター](media/04-preventive-maintenance.png "管理スケジュール行を定期的に作成する時間カウンター")

**例 4 - カウンター ベースのメンテナンス計画明細行:** 次の図解で、ブレーキ パッド磨耗の測定中の、カウンター値の減少を表示します。 メンテナンス スケジュール明細行は、ブレーキ パッドに 20 mm 以下のカウンター登録が作成された時に作成されます。 このカウンター ベースの明細行の間隔タイプは、「下限に達した場合」または「最後の開始日から」です。 20 mm 以下の測定が登録されるまでメンテナンス スケジュールの明細行は作成されないので、これは *再有効化* メンテナンス計画の例です。

![カウンター値の減少、ブレーキ パッドの摩耗](media/05-preventive-maintenance.png "カウンター値の減少、ブレーキ パッドの摩耗")

**例 5 - カウンター ベースのメンテナンス計画明細行:** 次の図解で、摂氏 -18 度のしきい値を持つカウンターを表示します。 -18 度以上のカウンター登録が実行された場合、メンテナンス スケジュール明細行が作成されます。 このカウンター ベースの明細行の間隔のタイプは、「上限に達した場合」です。 摂氏 -18 度を上回る測定が登録されるまでメンテナンス スケジュールの明細行は作成されないので、これは *再有効化* メンテナンス計画の例です。

![しきい値が -18℃ のカウンター](media/06-preventive-maintenance.png "しきい値が -18℃ のカウンター")

- 新しい資産の作成時、その資産がメンテナンス計画に関連する資産タイプを使用している場合、そのメンテナンス計画は自動的に **すべてのオブジェクト \> 資産メンテナンス計画** クイックタブに挿入されます。 また、**資産タイプの規定値** において、**メンテナンス計画** クイックタブの関連するメンテナンス計画は自動的に挿入されます。
- **メンテナンス計画** の資産タイプまたは機能の場所タイプの追加または削除を行った場合、その変更は、変更を行った後に作成された新しい資産にのみ反映されます。
- **メンテナンス計画** の資産または機能の場所の追加または削除を行った場合、その変更は **すべての資産 \> 資産メンテナンス計画** クイックタブ、または **すべての機能の場所 \> メンテナンス計画** クイック タブで自動的に更新されます。

次の図解で、**メンテナンス計画** ページにある「トラック サービス」のメンテナンス計画の例を表示します。

![トラックサービスメンテナンス計画の例](media/07-preventive-maintenance.png "トラックサービスメンテナンス計画の例")

## <a name="add-a-maintenance-plan-to-an-asset"></a>資産へのメンテナンス計画の追加

1. **資産管理 \> 共通 \> 資産 \> すべての資産** または **アクティブな資産** に移動します。

1. メンテナンス計画を設定する資産を選択し、**編集** を選択します。

1. **資産メンテナンス計画** クイック タブで、**明細行の追加** を選択し、資産にメンテナンス計画を追加します。

1. **メンテナンス計画** フィールドで、該当するメンテナンス計画を選択します。

1. **開始日** フィールドには、実行する予防的メンテナンス ジョブの計画の開始日を選択します。 

1. **保存** を選択します。 **有効** フィールドは自動的に更新されます。

次の図解で、**全ての資産** ページの資産に設定されたメンテナンス計画の例を表示します。

![資産のメンテナンス計画設定の例](media/08-preventive-maintenance.png "資産のメンテナンス計画設定の例")

<a id="counter-based-maintenance"></a>

## <a name="counter-based-maintenance-enhancements"></a>カウンター ベースのメンテナンス強化

> [!IMPORTANT]
> このセクションに記載されている機能は、プレビュー リリースの一部として提供されます。 コンテンツおよび機能は、変更されることがあります。 プレビュー リリースの詳細については、[1 つのバージョンのサービス更新に関するよく寄せられる質問](https://docs.microsoft.com/dynamics365/unified-operations/fin-and-ops/get-started/one-version)を参照してください。

*カウンター ベースのメンテナンス拡張* 機能では、次の機能が導入されています。

- 資産の作成時に、値が *0* (ゼロ) のカウンターを自動的に挿入するオプション。 このオプションは、カウンターに基づく先行メンテナンスを使用する場合に便利です。 *カウンター ベースの保守拡張* 機能を使用しない場合、値が *0 (ゼロ)* のカウンターを手動で挿入する必要があります。
- 作業オーダーの完了時にカウンターが自動的にリセットされるカウンターの構成機能。 この機能は、前回の作業指示書がメンテナンス完了した後の集計値に基づいてメンテナンスをスケジュールする場合に役立ちます。
- *集計値に対して繰り返し* という名前の新しいタイプのメンテナンス計画 間隔 (カウンターのみ)。 このタイプは、集計されたカウンターが特定の値の倍数に達したときにメンテナンスをトリガーします。 たとえば、10,000 時間ごとにメンテナンスをトリガーできます。 詳細については、このトピックで前述した [間隔タイプの概要](#interval-types) セクションを参照してください。
- *集計値に対して 1 度 (カウンターのみ)* という名前の新しいタイプのメンテナンス計画間隔。 このタイプは、集計されたカウンターが特定の値 (8,000 時間など) に達したときにメンテナンスをトリガーします。 詳細については、[間隔タイプの概要](#interval-types) セクションを参照してください。

### <a name="turn-on-the-counter-based-maintenance-enhancements-feature"></a>カウンター ベースのメンテナンス拡張機能をオンにする

この機能を使用するには、システム上で有効にする必要があります。 管理者は、[機能管理](../../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) 設定を使用して、機能の状態を確認し、有効にすることができます。 **機能管理** ワークスペースで、この機能は次のようにリストされています。

- **モジュール:** *資産管理*
- **機能名:** *(プレビュー) カウンター ベースのメンテナンス拡張機能*

### <a name="create-and-initialize-counters-when-an-asset-is-created"></a>資産の作成時にカウンターを作成および初期化する

資産を作成する度に、システムを設定して資産を正しく作成すると、値 *0* (ゼロ) に初期化された関連する資産カウンターが自動的に作成されます。

1. **資産リース \> 設定 \> 経費タイプ** の順に移動します。
1. 計画された新しい資産に適用できる資産タイプがあることを確認します。 必要に応じて資産タイプを作成します。 **カウンター** クイック タブで関連するすべてのカウンターが選択されている必要があります。
1. **資産管理 \> 設定 \> 資産のタイプ \> カウンター** の順に移動します。
1. 関連するカウンターごとに、**合計集計** フィールドが *合計* に設定されている必要 があります。
1. **すべての資産** ページで、資産を作成します。
1. **資産タイプ** フィールドを、手順 2 で指定または作成した資産タイプに設定します。
1. 必要に応じて新しい資産の設定を完了します。
1. **資産管理 \> 照会 \> 資産 \> カウンター** の順に移動します。 新しい資産に設定されている初期化後のカウンターを見つける必要があります。

> [!NOTE]
> 初期化後の資産カウンターを作成する際には、一度も使用されたことがない資産がシステムに追加されるという前提条件が想定されます。 メンテナンス スケジュールを初めて実行する場合は、将来のメンテナンスを計算する際に、日付および *0* (ゼロ) カウンター値をベースラインとして使用します。 システムに追加した資産が新規に追加された場合に、実際のカウンター値に合わせて手動でカウンターの値を調整できます。 カウンターの値を調整するには、**すべての資産** ページで関連する資産を開き、アクション ウィンドウの **資産** タブの **回避方法** グループで、**カウンター** を選択します。 選択した資産の **資産カウンター** ページで、必要に応じて最初のカウンター レコードの **値** 列の値を調整します。

### <a name="automatically-reset-a-counter-value"></a>カウンター値の自動リセット

関連する作業指示書が選択したステータス値に達したときにカウンターを自動的にリセットするように、システムを構成できます。

1. **資産管理 \> 設定 \> 予防的メンテナンス \> メンテナンス計画** に移動します。
1. リスト ペインで、管理計画を選択します。 カウンターのリセットは、このプランを使用するすべての資産に適用されます。
1. **明細行** セクションで、カウンターをリセットする資産カウンター明細行を検索し、その明細行の **カウンターのリセット** チェック ボックスをオンにします。 資産のカウンター明細行には、**カウンター** 列に次の値が設定されます。 その列で指定されているカウンターは、関連する資産に対してリセットされるカウンターです。)
1. **資産管理 \> 設定 \> 作業指示書 \> ライフサイクルの状態** に移動します。
1. リスト ペインで、関連するカウンターをリセットする必要のある作業指示書のライフサイクルの状態を選択します。
1. **一般** クイック タブで、**カウンターのリセット** オプションを *はい* に設定します。


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
---
title: 作業指示書プロジェクトの設定
description: このトピックでは、資産管理における作業指示書プロジェクト設定について説明します。
author: johanhoffmann
ms.date: 08/13/2019
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: EntAssetWorkOrderProjectSetup
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2019-08-30
ms.dyn365.ops.version: 10.0.5
ms.openlocfilehash: 071c73f9295ad7911037cbd10a48b46b044eebda
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/01/2021
ms.locfileid: "5808235"
---
# <a name="work-order-project-setup"></a><span data-ttu-id="6358b-103">作業指示書プロジェクトの設定</span><span class="sxs-lookup"><span data-stu-id="6358b-103">Work order project setup</span></span>

[!include [banner](../../includes/banner.md)]

 

<span data-ttu-id="6358b-104">**資産管理** モジュールでは、関連プロジェクトはすべての作業指示書ジョブに必要です。</span><span class="sxs-lookup"><span data-stu-id="6358b-104">In the **Asset management** module, a project relation is required for every work order job.</span></span> <span data-ttu-id="6358b-105">作業指示書ジョブに関連付けられているプロジェクトでは、内部のメンテナンス プロジェクト、サービス管理プロジェクト、投資プロジェクトなどの資産管理に関連する各種のプロジェクトのコストを追跡できます。</span><span class="sxs-lookup"><span data-stu-id="6358b-105">The project that is associated with a work order job lets you track costs on various projects that are related to Asset Management, such as internal maintenance projects, service management projects, and investment projects.</span></span> 

## <a name="project-setup-for-a-work-order-job"></a><span data-ttu-id="6358b-106">作業指示書ジョブ プロジェクトの設定</span><span class="sxs-lookup"><span data-stu-id="6358b-106">Project setup for a work order job</span></span>

<span data-ttu-id="6358b-107">作業指示書で作業指示書ジョブを作成する場合、**プロジェクト管理および会計** モジュールのプロジェクト設定、および **資産管理** モジュールの作業指示プロジェクト設定では、その作業指示書ジョブで選択された資産の原価管理にプロジェクトを使用する方法を特定できます。</span><span class="sxs-lookup"><span data-stu-id="6358b-107">When you create a work order job on a work order, the project setup in the **Project management and accounting** module and the work order project setup in the **Asset management** module determine how projects can be used for cost control on the asset that is selected on that work order job.</span></span> <span data-ttu-id="6358b-108">このセクションでは、作業指示書に使用される以下のプロジェクト設定、親プロジェクト (プロジェクト ID)、プロジェクト タイプ、プロジェクト活動、および財務分析コードの各部分について説明します。</span><span class="sxs-lookup"><span data-stu-id="6358b-108">This section describes the following parts of the project setup that is used for a work order: the parent project (project ID), project type, project activities, and financial dimensions:</span></span>

- <span data-ttu-id="6358b-109">作業指示書に基づいて作業指示書ジョブを作成する場合、その固有のプロジェクト ID と関連するプロジェクト活動が自動的に作成されます。</span><span class="sxs-lookup"><span data-stu-id="6358b-109">When you create a work order job on a work order, a unique project ID and a related project activity are automatically created for it.</span></span> <span data-ttu-id="6358b-110">ただし、1 つの作業指示書の中で複数の作業指示書ジョブに同じ資産が含まれている場合、それらには同じプロジェクト ID が使用されます。</span><span class="sxs-lookup"><span data-stu-id="6358b-110">However, if several work order jobs on a work order include the same asset, the same project ID is used for them.</span></span> <span data-ttu-id="6358b-111">つまり、1 つのプロジェクト ID は、作業指示書ですべての資産に作成されます。</span><span class="sxs-lookup"><span data-stu-id="6358b-111">In other words, one project ID is created for every asset on a work order.</span></span>

    - <span data-ttu-id="6358b-112">作業指示書ジョブの親プロジェクト (プロジェクト ID) は、親プロジェクト設定で見つかります。</span><span class="sxs-lookup"><span data-stu-id="6358b-112">The parent project (project ID) for a work order job is found in the parent project setup.</span></span> <span data-ttu-id="6358b-113">(親プロジェクト設定の詳細については、次のセクションを参照してください。) 例えば、顧客または機能的な場所を特定の親プロジェクトに関連付けた場合、その顧客またはその機能的な場所に対する作業指示書を作成するたびに親プロジェクトが使用されます。</span><span class="sxs-lookup"><span data-stu-id="6358b-113">(For more information about the parent project setup, see the next section.) For example, if you associate a customer or a functional location with a specific parent project, the parent project is used every time that you create work orders for that customer or that functional location.</span></span> <span data-ttu-id="6358b-114">例えば、特定のプロジェクト ID を機能的な場所に関連付けていない場合は、作業指示プロジェクト設定で次の該当する親プロジェクトが使用されます。</span><span class="sxs-lookup"><span data-stu-id="6358b-114">If you don't relate a specific project ID to, for example, a functional location, the next relevant parent project in the work order project setup is used.</span></span>
    - <span data-ttu-id="6358b-115">すべてのプロジェクト ID にプロジェクト タイプが必要です。</span><span class="sxs-lookup"><span data-stu-id="6358b-115">A project type is required for every project ID.</span></span> <span data-ttu-id="6358b-116">プロジェクト タイプが、プロジェクト グループ設定で見つかりました。</span><span class="sxs-lookup"><span data-stu-id="6358b-116">The project type is found in the setup of the project group setup.</span></span> <span data-ttu-id="6358b-117">(プロジェクト グループ設定の詳細については、次のセクションを参照してください。) プロジェクト グループの設定に一致するものが見つからなかった場合は、親プロジェクトのプロジェクト グループ設定が使用されます。</span><span class="sxs-lookup"><span data-stu-id="6358b-117">(For more information about the project group setup, see the next section.) If no match is found in the project group setup, the project group setup on the parent project is used.</span></span>
    - <span data-ttu-id="6358b-118">予測と仕訳帳におけるプロジェクト活動を要する設定は、親プロジェクトから作業指示書プロジェクトにコピーされます。</span><span class="sxs-lookup"><span data-stu-id="6358b-118">The setup for requiring project activities on forecasts and journals is copied from the parent project to the work order project.</span></span> <span data-ttu-id="6358b-119">親プロジェクトとして使用されるプロジェクトに対して **時間**、**経費**、**品目** の各オプションが **はい** に設定されている場合、プロジェクト活動は予測および仕訳帳において必須です。</span><span class="sxs-lookup"><span data-stu-id="6358b-119">If the **Hour**, **Expense**, and **Item** options are set to **Yes** for the project that is used as a parent project, a project activity is mandatory on forecasts and journals.</span></span> <span data-ttu-id="6358b-120">これらのオプションにアクセスするには **プロジェクト管理と会計**\>**プロジェクト**\>**すべてのプロジェクト** を選択し、親プロジェクトとして使用されるプロジェクトを選択します。</span><span class="sxs-lookup"><span data-stu-id="6358b-120">(To access these options, select **Project management and accounting** \> **Projects** \> **All Projects**, and then select the project that is used as a parent project.</span></span> <span data-ttu-id="6358b-121">このオプションは、**設定** クイック タブの **仕訳帳に対する活動要求** セクションにあります。</span><span class="sxs-lookup"><span data-stu-id="6358b-121">The options are in the **Require activity on journals** section on the **Setup** FastTab.)</span></span>

- <span data-ttu-id="6358b-122">財務分析コードは資産からコピーされ、親プロジェクトにマージされます。</span><span class="sxs-lookup"><span data-stu-id="6358b-122">Financial dimensions are copied from the asset and merged with the parent project.</span></span>

<span data-ttu-id="6358b-123">次のセクションでは、親プロジェクトとプロジェクト グループを設定する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="6358b-123">The next section explains how to set up parent projects and project groups.</span></span> <span data-ttu-id="6358b-124">親プロジェクトと親グループは、作業指示書をコントロールするために使用されます。</span><span class="sxs-lookup"><span data-stu-id="6358b-124">Parent project and parent groups are used to control work orders.</span></span> <span data-ttu-id="6358b-125">これらは作業指示書に関するレポートにも使用されます。</span><span class="sxs-lookup"><span data-stu-id="6358b-125">They are also used for reporting about work orders.</span></span>

## <a name="set-up-work-order-projects"></a><span data-ttu-id="6358b-126">作業指示書プロジェクトの設定</span><span class="sxs-lookup"><span data-stu-id="6358b-126">Set up work order projects</span></span>

<span data-ttu-id="6358b-127">作業指示書の作成を開始する前に、作業指示書プロジェクトを設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6358b-127">Before you start to create work orders, you must set up work order projects.</span></span> <span data-ttu-id="6358b-128">**作業指示プロジェクト設定** ページ (**資産管理** \> **設定** \> **作業指示書** \> **プロジェクト設定**) に次の 2 つのタブ、**親プロジェクト** と **プロジェクト グループ** があります。</span><span class="sxs-lookup"><span data-stu-id="6358b-128">The **Work order project setup** page (**Asset management** \> **Setup** \> **Work orders** \> **Project setup**) contains two tabs: **Parent project** and **Project group**.</span></span>

<span data-ttu-id="6358b-129">**親プロジェクト** タブでは、作業指示書ジョブで選択された資産にプロジェクトが設定されていない場合に使用できるプロジェクト関係を設定できます。</span><span class="sxs-lookup"><span data-stu-id="6358b-129">On the **Parent project** tab, you can set up project relations that can be used if no project is set up on the asset that is selected on the work order job.</span></span> <span data-ttu-id="6358b-130">会社で資産プロジェクトを使用している場合、親プロジェクトの設定は必要ありません。</span><span class="sxs-lookup"><span data-stu-id="6358b-130">A parent project setup isn't required if your company uses asset projects.</span></span> <span data-ttu-id="6358b-131">資産プロジェクトの代わりに作業指示書プロジェクトを使用したい場合にのみ該当します。</span><span class="sxs-lookup"><span data-stu-id="6358b-131">It's relevant only if you want to use work order projects instead of asset projects.</span></span> <span data-ttu-id="6358b-132">その場合、少なくとも 1 つの親プロジェクトを設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6358b-132">In that case, you must set up at least one parent project.</span></span>

<span data-ttu-id="6358b-133">**プロジェクト グループ** タブでは、作業指示書タイプ、資産タイプ、および資産に関連するプロジェクト グループを設定できます。</span><span class="sxs-lookup"><span data-stu-id="6358b-133">On the **Project group** tab, you can set up project groups that can be associated with work order types, asset types, and assets.</span></span>

<span data-ttu-id="6358b-134">プロジェクト グループを使用して、原価コントロールに使用される特定のカテゴリ (グループ) を作成できます。</span><span class="sxs-lookup"><span data-stu-id="6358b-134">Project groups can be used to create specific categories (groups) that are used for cost control.</span></span> <span data-ttu-id="6358b-135">たとえば、特定の資産タイプまたは作業指示書タイプに対してプロジェクト グループを作成することにより、タイプごとにより詳細なメンテナンス費の追跡ができます。</span><span class="sxs-lookup"><span data-stu-id="6358b-135">For example, by creating project groups for specific asset types or work order types, you can do detailed tracking of maintenance costs by type.</span></span>

<span data-ttu-id="6358b-136">プロジェクト グループは必要ありません。</span><span class="sxs-lookup"><span data-stu-id="6358b-136">Project groups aren't mandatory.</span></span> <span data-ttu-id="6358b-137">プロジェクト グループを設定しない場合、親プロジェクトはプロジェクト グループを決定するために使用され、親プロジェクトのプロジェクト グループから子プロジェクトが作成されます。</span><span class="sxs-lookup"><span data-stu-id="6358b-137">If you don't set up project groups, the parent project is used to determine the project group, and a child project is created from the parent project's project group.</span></span>

<span data-ttu-id="6358b-138">この設定により、**プロジェクト管理および会計** モジュールと完全に統合できるようになります。</span><span class="sxs-lookup"><span data-stu-id="6358b-138">The setup allows for complete integration with the **Project management and accounting** module.</span></span> <span data-ttu-id="6358b-139">したがって、関係するプロジェクトの作業指示書に関連している原価を追跡できます。</span><span class="sxs-lookup"><span data-stu-id="6358b-139">Therefore, you can track the costs that are related to work orders in the related projects.</span></span> <span data-ttu-id="6358b-140">次の手順では、作業指示書プロジェクト設定について説明します。</span><span class="sxs-lookup"><span data-stu-id="6358b-140">The following procedure describes the setup for work order projects.</span></span>

1. <span data-ttu-id="6358b-141">**資産管理** \> **設定** \> **作業指示書** \> **プロジェクト設定** を選択します。</span><span class="sxs-lookup"><span data-stu-id="6358b-141">Select **Asset management** \> **Setup** \> **Work orders** \> **Project setup**.</span></span>
2. <span data-ttu-id="6358b-142">**親プロジェクト** タブで、**追加** を選択します。</span><span class="sxs-lookup"><span data-stu-id="6358b-142">On the **Parent project** tab, select **Add**.</span></span>
3. <span data-ttu-id="6358b-143">**作業指示書タイプ**、**機能的な場所**、**資産タイプ**、および **資産** の各フィールドで、必要に応じて値を選択します。</span><span class="sxs-lookup"><span data-stu-id="6358b-143">In the **Work order type**, **Functional location**, **Asset type**, and **Asset** fields, select values as you require.</span></span> <span data-ttu-id="6358b-144">追加する各行に対して、1 つのフィールドまたは複数のフィールドを設定できます。</span><span class="sxs-lookup"><span data-stu-id="6358b-144">For each line that you add, you can set just one field or multiple fields.</span></span> <span data-ttu-id="6358b-145">設定したフィールドの数によって、資産管理でプロジェクト ID が選択されたときに使用される組み合わせが決まります。</span><span class="sxs-lookup"><span data-stu-id="6358b-145">The number of fields that you set determines the combination that is used when a project ID is selected in Asset Management.</span></span> 

    <span data-ttu-id="6358b-146">機能的な場所を選択した場合は、関連する子の場所が自動的に含まれます。</span><span class="sxs-lookup"><span data-stu-id="6358b-146">If you select a functional location, the related child locations are automatically included.</span></span> <span data-ttu-id="6358b-147">資産を選択した場合は、同じ資産に対してさらに作業指示書プロジェクト設定明細行を作成できますが、その資産に対して別のプロジェクトを選択できます。</span><span class="sxs-lookup"><span data-stu-id="6358b-147">If you select an asset, you can create more work order project setup lines for the same asset, but you can select different projects for that asset.</span></span>

4. <span data-ttu-id="6358b-148">**プロジェクト ID** フィールドでは、手順 3 で作成した設定に関連付けるプロジェクトを選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6358b-148">In the **Project ID** field, select the project that should be related to the setup that you created in step 3.</span></span>
5. <span data-ttu-id="6358b-149">プロジェクト設定が限られた期間のみ有効になっている場合、**終了日** フィールドで終了日を選択します。</span><span class="sxs-lookup"><span data-stu-id="6358b-149">If the project setup should be valid for only a limited period, select an end date in the **End date** field.</span></span> <span data-ttu-id="6358b-150">それ以外の場合は、**いいえ** を選択します。</span><span class="sxs-lookup"><span data-stu-id="6358b-150">Otherwise, select **None**.</span></span>

    <span data-ttu-id="6358b-151">既定値では、開始日は作業指示書プロジェクトをページに追加した日付になっています。</span><span class="sxs-lookup"><span data-stu-id="6358b-151">By default, the start date is the date when you add the work order project to the page.</span></span> <span data-ttu-id="6358b-152">これは **有効期限** フィールドによってコントロールされ、既定値では非表示になっています。</span><span class="sxs-lookup"><span data-stu-id="6358b-152">It's controlled by the **Valid from** field, which is hidden by default.</span></span> <span data-ttu-id="6358b-153">**有効期限** フィールドを表示するには、**表示** \> **すべて表示** を選択します。</span><span class="sxs-lookup"><span data-stu-id="6358b-153">To show the **Valid from** field, select **View** \> **All**.</span></span> <span data-ttu-id="6358b-154">その後、**有効期限** フィールドと共に **終了日** フィールドを使用して、作業指示書プロジェクトに限られた有効期間を設定できます。</span><span class="sxs-lookup"><span data-stu-id="6358b-154">You can then use the **Valid from** field together with the **End date** field to set up a limited period of validity for the work order project.</span></span>

    ![作業指示書プロジェクトの設定ページ](media/17-setup-for-work-orders.png)

6. <span data-ttu-id="6358b-156">**親プロジェクト** タブで、**追加** を選択します。</span><span class="sxs-lookup"><span data-stu-id="6358b-156">On the **Project group** tab, select **Add**.</span></span>
7. <span data-ttu-id="6358b-157">**ワーク オーダー タイプ** フィールドで、ワーク オーダー タイプを選択します。</span><span class="sxs-lookup"><span data-stu-id="6358b-157">In the **Work order type** field, select a work order type.</span></span>
8. <span data-ttu-id="6358b-158">プロジェクト グループの関連付けをより詳細にする場合は、**資産タイプ** フィールドの資産タイプまたは **資産** フィールドを選択します。</span><span class="sxs-lookup"><span data-stu-id="6358b-158">If you want the project group association to be more specific, select an asset type in the **Asset type** field or an asset in the **Asset** field.</span></span>
9. <span data-ttu-id="6358b-159">**プロジェクト グループ** フィールドで、作業指示書タイプに関連付けるプロジェクト グループを選択します。</span><span class="sxs-lookup"><span data-stu-id="6358b-159">In the **Project group** field, select the project group that should be related to the work order type.</span></span> <span data-ttu-id="6358b-160">たとえば、**予防的メンテナンス** と呼ばれる作業指示書タイプは、**予防的メンテナンス** または **内部** と呼ばれるプロジェクト グループに関連付けられている場合があります。</span><span class="sxs-lookup"><span data-stu-id="6358b-160">For example, a work order type that is named **Preventive maintenance** might be associated with a project group that is named **Prev Maint** or **Internal**.</span></span> <span data-ttu-id="6358b-161">また、固定資産と投資に関連する作業指示書に使用される **投資** 作業指示書タイプは、**投資** または **投資** という名前のプロジェクト グループに関連付けられている場合があります。</span><span class="sxs-lookup"><span data-stu-id="6358b-161">Alternatively, an **Investment** work order type that is used for work orders that are related to investments and fixed assets might be associated with a project group that is named **Invest** or **Investment**.</span></span>
10. <span data-ttu-id="6358b-162">**保存** を選択します。</span><span class="sxs-lookup"><span data-stu-id="6358b-162">Select **Save**.</span></span>

![作業指示書プロジェクトの設定ページ、作業指示書の追加](media/18-setup-for-work-orders.png)

> [!NOTE]
> <span data-ttu-id="6358b-164">作業指示書明細行が作成されるたびに、資産管理によって、作業指示書ジョブ プロジェクトに関連するプロジェクト グループが検索されます。</span><span class="sxs-lookup"><span data-stu-id="6358b-164">Every time that a work order line is created, Asset Management searches for a project group that should be related to the work order job project.</span></span> <span data-ttu-id="6358b-165">検索は、このトピックで説明されている設定に基づいて行われます。</span><span class="sxs-lookup"><span data-stu-id="6358b-165">The search is based on the setup that is described in this topic.</span></span> <span data-ttu-id="6358b-166">すべてのプロジェクト グループには、関連するプロジェクト タイプがあります。</span><span class="sxs-lookup"><span data-stu-id="6358b-166">Every project group has a related project type.</span></span> <span data-ttu-id="6358b-167">**時間/実費払い** または **固定価格** プロジェクト タイプを持つプロジェクト グループは、顧客 ID に関連付けられている資産に対してのみ有効です。</span><span class="sxs-lookup"><span data-stu-id="6358b-167">Project groups that have the **Time and material** or **Fixed-price** project type are valid only for assets that are related to a customer account.</span></span>
>
> <span data-ttu-id="6358b-168">親プロジェクトとプロジェクト グループについては、システムが使用可能な作業指示書プロジェクトまたはプロジェクト グループを選択する場合、前の手順を使用して作成したレコードに基づいて選択されます。</span><span class="sxs-lookup"><span data-stu-id="6358b-168">For parent projects and project groups, when the system selects the available work order project or project group, the selection is based on the records that you created by using the preceding procedure.</span></span> <span data-ttu-id="6358b-169">資産管理では、作業指示書プロジェクトに関連しているレコードを調べて、一致の可能性をチェックします。</span><span class="sxs-lookup"><span data-stu-id="6358b-169">Asset Management goes through records that are related to the work order project to check for a possible match.</span></span> <span data-ttu-id="6358b-170">常に最も限定的な組み合わせを最初にチェックします。</span><span class="sxs-lookup"><span data-stu-id="6358b-170">It always checks the most specific combination first.</span></span> <span data-ttu-id="6358b-171">つまり、作業指示書の親プロジェクトの場合、資産管理はまず **資産** フィールドに一致の可能性があるかどうかをチェックします。</span><span class="sxs-lookup"><span data-stu-id="6358b-171">In other words, for the work order parent project, Asset Management first checks for a possible match for the **Asset** field.</span></span> <span data-ttu-id="6358b-172">一致するものが見つからない場合は、**資産タイプ** フィールドにおいて一致がチェックします。</span><span class="sxs-lookup"><span data-stu-id="6358b-172">If no match is found, it checks for a match for the **Asset type** field.</span></span> <span data-ttu-id="6358b-173">一致するものが見つからない場合は、**機能的な場所** フィールドなどにおいて一致がチェックされます。</span><span class="sxs-lookup"><span data-stu-id="6358b-173">If no match is found, it checks for a match for the **Functional location** field, and so on.</span></span> <span data-ttu-id="6358b-174">**作業指示書プロジェクト設定** ページのレイアウトで分かるように、この動作は、最も限定的な組み合わせを見つけるために、資産管理が各レコードを右から左に一致をチェックすることを意味します。</span><span class="sxs-lookup"><span data-stu-id="6358b-174">As you can see in the layout of the **Work order project setup** page, this behavior means that, to find the most specific combination, Asset Management checks each record from right to left for a match.</span></span> <span data-ttu-id="6358b-175">一致するものが見つからなかった場合は、プロジェクト ID のみが選択された既定のレコードが使用されます。</span><span class="sxs-lookup"><span data-stu-id="6358b-175">If no match is found, the default record where only a project ID is selected is used.</span></span> <span data-ttu-id="6358b-176">関連するプロジェクト グループを検索するプロセスも同じです。</span><span class="sxs-lookup"><span data-stu-id="6358b-176">The process for finding the related project group is similar.</span></span> <span data-ttu-id="6358b-177">資産管理は、まず **資産** フィールドの一致をチェックし、そして **資産タイプ** フィールド、さらに **作業指示書タイプ** フィールドの順にチェックします。</span><span class="sxs-lookup"><span data-stu-id="6358b-177">Asset Management first checks for a possible match for the **Asset** field, then the **Asset type** field, and then the **Work order type** field.</span></span> <span data-ttu-id="6358b-178">一致するものが見つからなかった場合は、プロジェクト ID のみが選択された既定のレコードが使用されます。</span><span class="sxs-lookup"><span data-stu-id="6358b-178">If no match is found, the default record where only a project group is selected is used.</span></span>


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
---
title: 生産現場の実行インターフェイスに休暇の残高を表示する
description: この記事では、Microsoft Dynamics 365 Supply Chain Management を設定し、給与統計を使用して、今年度の休暇残高の概要を作業者に示すシナリオ例について説明します。
author: johanhoffmann
ms.date: 04/22/2022
ms.topic: article
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2022-04-22
ms.dyn365.ops.version: 10.0.XX
ms.openlocfilehash: 2a6b6f52bfa7539b7c9bb5841536b0d564d0274c
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/03/2022
ms.locfileid: "8852276"
---
# <a name="show-vacation-balances-in-the-production-floor-execution-interface"></a>生産現場の実行インターフェイスに休暇の残高を表示する

[!include [banner](../includes/banner.md)]

この記事では、Microsoft Dynamics 365 Supply Chain Management を設定し、給与統計を使用して、今年度の休暇残高の概要を各作業者に示すシナリオ例について説明します。 作業員は、生産現場の実行インターフェイスの **マイ デイ** ダイアログ ボックスで休暇残高を確認できます。

このシナリオでは、休暇計算年度が 9 月 1 日から 8 月 31 日までであるデンマークの休日法を使用しています。 このシナリオでは、会社は新しい作業者を採用し、今休暇計算年度の残りの期間に、作業者に 10 日間の休暇残高を与えます。

## <a name="turn-on-the-required-features"></a>必要な機能を有効にする

このシナリオを実行するには、[機能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)で *生産現場のインターフェイス機能の「マイ デイ」 ビュー* を有効にする必要があります。  生産現場の実行インターフェイスでこの機能および他の機能を有効にする方法の詳細については、[生産現場の実行インターフェイスの構成](production-floor-execution-configure.md)を参照してください。

## <a name="make-sample-data-available"></a>サンプル データを有効化する

ここで指定されたサンプル レコードと値を使用してシナリオを実行するには、標準[デモ データ](../../fin-ops-core/dev-itpro/deployment/deploy-demo-environment.md) がインストールされているシステムを使用する必要があります。 また、開始する前に **USMF** 法人を選択する必要があります。

## <a name="create-a-new-pay-type"></a>新しい支払タイプの作成

最初に、作業者の取得休暇日数 (*休暇残高* とも呼ばれる) を追跡する新しい *支払タイプ* を作成します。 通常、支払タイプは作業者の給与の計算に使用されます。 ただし、ここで作成した支払タイプは残高の計算に使用されます。

1. **時刻と出勤 \> 設定 \> 給与 \> 支払タイプ** に移動します。
1. アクション ウィンドウで **新規** を選択して、行をグリッドに追加します。
1. 新しい行で、次の値を設定します。

    - **支払タイプ:** *5151-1*
    - **説明:** *作業者の休暇日数のカウンター*
    - **エクスポートに含める:** *いいえ*

## <a name="update-the-pay-agreement"></a>支払協定の更新

このセクションでは、新しい支払タイプを追加し、休暇日が登録されたときに各作業者の休暇残高を調整する方法を定義するルールを設定することにより、既存の *支払協定* を編集します。

1. **時刻と出勤 \> 設定 \> 給与 \> 支払協定** に移動します。
1. 休暇ポリシーを設定する支払協定を選択します。 (標準の USMF サンプルデータを使用している場合、支払協定は *Man* のみです。)
1. 選択した支払協定が現在の日付に対して有効であることを確認してください。 標準の USMF サンプル データを使用している場合、*Man* 支払協定の **最終日** フィールドが過去の日付に設定されている可能性があります。 必要に応じて、1 年か 2 年先の値に変更します。
1. アクション ウィンドウで、**契約明細行** を選択します。
1. **支払協定行** ページの **概要** FastTab で、ツールバーに次の値を設定します。

    - 最初のドロップダウン リストで、**月曜** を選択します。
    - 2 番目のドロップダウン リストで、**休暇** を選択します。

1. アクション ウィンドウで **新規** を選択して、行をグリッドに追加します。
1. 新しい行で、**支払タイプ** フィールドを、このシナリオ用に作成した支払タイプに設定します (*5151-1*)。 その他のすべてのフィールドは、既定値のままにします。
1. 新しい行がまだ選択されている間に、**一般** FastTab で、次の値を設定します。

    - **休暇コード:** *休暇*
    - **固定数量の使用:** *はい*
    - **定数:** *-1*

1. アクション ウィンドウで、**日数のコピー** を選択します。
1. **日数のコピー** ダイアログ ボックスに、次の値を設定します。

    - **火曜**、**水曜**、**木曜**、および **金曜:** *はい*
    - **上書き:** *はい*
    - **休暇:** *はい*

1.  **OK** を選択します。

## <a name="create-a-payroll-statistic-group"></a>給与統計グループの作成

*給与統計グループ* は、期間中、作業者の登録統計を設定するために使用されます。 このシナリオでは、給与統計グループを使用して、作業者が休暇計算期間中に取得する休暇の日数を計算します。 デンマークでは、休暇計算期間は 9 月 1 日から 8 月 31 日までです。

1. **時刻と出勤 \> 設定 \> 給与 \> 給与統計グループ** に移動します。
1. アクション ウィンドウで **新規** を選択して、行をグリッドに追加します。
1. 新しい行で、次の値を設定します。

    - **給与統計グループ:** *VAC*
    - **説明:** *休暇残高*
    - **振替:** *いいえ*

1. 新しい行が選択されている間に、アクション ウィンドウで **設定** を選択します。
1. アクション ウィンドウの **設定** ページで、**新規** を選択してグリッドに新しい行を追加します。
1. 新しい行で、**支払タイプ** フィールドを *5151-1* に設定します。
1. **期間コード** フィールドを選択したまま (または右クリック) にして、**詳細を表示** を選択します。 これで、後でこのフィールドに割り当てる期間コードを設定できます。
1. アクション ウィンドウの **期間タイプ** ページで **新規** を選択して、グリッドに行を追加します。
1. 新しい行で、次の値を設定します。

    - **期間タイプ:** *VacYear*
    - **説明:** *休暇計算年度*
    - **頻度:** *年*

1. 新しい行が選択されている間に、アクション ウィンドウで **期間の生成** を選択します。
1. **期間の生成** ダイアログ ボックスに次の値を設定します:

    - **期間の開始日を指定:** *2021 年 9 月 1 日*
    - **期間の長さ:** *5*

1.  **OK** を選択します。
1. **期間タイプ** のページを閉じて、**給与統計グループ** ページに戻ります。
1. 作成した期間タイプ (*VacYear*) に、**期間コード** フィールドを設定します 。

## <a name="create-a-statistical-balance-setup"></a>統計残高の設定を作成する

このセクションでは、前のセクションで作成した給与統計グループにリンクされた *統計残高の設定* を作成します。 後で、この統計残高設定を、生産現場の実行インターフェイスにある **マイ デイ** ビューにリンクします。 **マイ デイ** ビューに、関連する給与統計グループに割り当てられた支払タイプの休暇残高が表示されます。

1. **時刻と出勤 \> 設定 \> 給与 \> 統計残高の設定** に移動します。
1. アクション ウィンドウで **新規** を選択して、行をグリッドに追加します。
1. 新しい行で、次の値を設定します。

    - **給与統計グループ:** *VAC*
    - **外部名:** *休暇残高*
    - **フレックス:** *いいえ*

## <a name="create-a-manual-premium"></a>他割増時間の作成

*他割増時間* は通常、追加作業に対する追加支払を作業者に付与するために使用されます。 このシナリオでは、各作業者の当初の休暇残高を設定するために使用できる他割増時間を作成します。

1. **時刻と出勤 \> 設定 \> 給与 \> 他割増時間** に移動します。
1. アクション ウィンドウで **新規** を選択して、レコードを追加します。
1. 新しいレコードで、次の値を設定します。

    - **割増給与:** *VAC*
    - **説明:** *作業者の休暇残高に対する調整*
    - **支払タイプ:** *5151-1*

## <a name="set-a-workers-initial-vacation-balance-and-adjust-it-by-one-day"></a>作業者の当初の休暇残高の設定および 1 日ごとの調整

給与管理者は **承認** ページを使用して、作業者の毎日の登録を確認および承認します。 このシナリオでは、作業者の最初の休暇残高を設定し、作業者が取得する休暇を登録できるよう、管理者のロールを使用します。

1. **時刻と出勤 \> 確認および承認 \> 承認** に移動します。
1. **承認** ダイアログ ボックスで、次のフィールドを設定します。

    - **承認グループ** – 所属する承認グループを選択します。 (標準の USMF サンプルデータを使用している場合、承認グループは *AdmMan* のみです。)
    - **グループ全体を表示、1 日** – オプションを選択し、フィールドを現在の日付に設定します。

1.  **OK** を選択します。
1. **承認** ページには、指定した基準に一致するレコードの一覧が表示されます。 承認する作業者を選択します。 標準の USMF サンプル データを使用している場合は、作業者 *000496* (*クリスティーナ Portra*) を選択します。
1. 選択した作業者に 10 日間の休暇を付与します。

    1. 作業者が選択されている間に、アクション ウィンドウで **割増給与行** を選択します。
    1. アクション ウィンドウの **割増給与行** ページで **新規** を選択して、グリッドに行を追加します。
    1. 新しい行で、次の値を設定します。

        - **割増給与:** *VAC*
        - **数量:** *10*

    1. **割増給与行** ページを閉じます。

1. **承認** ページで、作業者が現在の日付で休暇を 1 日使用したことを登録します。

    1. 作業者が選択されている間に、ページの下部の **概要** タブで、ツールバーの **新規** を選択して、グリッドに行を追加します。
    1. 新しい行で、次の値を設定します。

        - **仕訳帳の登録タイプ:** *休暇*
        - **参照:** *休暇*

    1. ページの上部で、ツールバーの **振替** を選択して、休暇残高を適用し、控除を計算します。

## <a name="configure-the-production-floor-execution-interface-so-that-it-includes-the-my-day-dialog-box"></a>マイ デイ ダイアログ ボックスが含まれる生産現場の実行インターフェイスを構成する

このセクションでは、生産現場の実行インターフェイスに、**マイ デイ** ボタンを追加します。 その後、作業者は、このボタンを使用して **マイ デイ** ダイアログ ボックスを開きます。

1. **生産管理 \> 設定 \> 製造実行 \> 生産現場の実行を構成** に移動します。
1. *既定* などのコンフィギュレーションを選択します。
1. アクション ウィンドウで、**タブのデザイン** を選択します。
1. **タブのデザイン** ページのリスト ウィンドウで、*すべてのジョブ* を選択してそのタブの設定を表示します。すると **メイン ビュー** フィールドに、*すべてのジョブ* の値が表示されます。
1. アクション ウィンドウで、**編集** を選択します。
1. **セカンダリ ツール バー** FastTab の **使用可能なアクション** 列で、**マイ デイ** を選択します。 右矢印ボタンを選び、**選択したアクション** 列へ移動します。

## <a name="check-your-balance-in-the-production-floor-execution-interface"></a>生産現場の実行インターフェイスで残高を確認する

このセクションでは、休暇を以前に設定した作業者として、生産現場の実行インターフェイスにサインインします。 休暇残高を表示するために、**マイ デイ** ダイアログ ボックスを開きます。

1. **生産管理 \> 設定 \> 製造実行 \> 生産現場の実行** に移動します。
1. コンフィギュレーションを選択するように求められた場合は、このシナリオで既に設定したコンフィギュレーションを選択します (*既定*)。
1. このシナリオで既に設定したユーザーとしてサインインします。 標準の USMF サンプルデータを使用している場合、**バッジ ID** フィールドに *123* と入力してサインインします。 このバッジ ID は、クリスティーナ Portra と対応しています。
1. 左のツールバーの **マイ デイ** を選択します。
1. ダイアログ ボックスの **残高** セクションを確認します。 これで、このセクションに 9 日の休暇残高が表示されます。

---
title: バッチ バランシング
description: このトピックでは、バッチ バランシング プロセスについて説明します。
author: johanhoffmann
ms.date: 01/04/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: BOMTable, WHSReservationHierarchy, WHSInventTableReservationHierarchy
audience: Application User
ms.reviewer: kamaybac
ms.custom: 1705903
ms.assetid: 427e01b3-4968-4cff-9b85-1717530f72e4
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 8.0.0
ms.openlocfilehash: a9e69b4d9213e57e5a920c7adda934ba845d17410c17d9c8a6356d717870ac23
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/05/2021
ms.locfileid: "6780079"
---
# <a name="batch-balancing"></a>バッチ バランシング

[!include [banner](../includes/banner.md)]

このトピックでは、バッチ バランシング プロセスのサポート方法について説明します。

詳細については、[バッチ バランシングのビデオ](https://www.youtube.com/watch?v=4SNLWsU9KyI&feature=youtu.be)を参照してください。

バッチ バランシング プロセスでは、生産バッチで使用する成分の量は、選択した製品バッチ内の有効成分の濃度から計算されます。

## <a name="products-that-have-an-active-ingredient"></a>有効成分を有する製品

製品は、その有効成分の濃度で定義できます。 製品の有効成分は、最小値、最大値、および目標レベルを持つ製品固有のバッチ属性を使用してモデル化されます。

バッチ属性の目標レベルは、製品内の有効成分の推定割合を表します。 最小値および最大値は、目標レベルからの許容誤差を表します。 これらをたとえば、製品受領時に許容されるバッチの許容範囲として使用できます。

製品は 1 つの有効成分のみを有することができます。 製品の有効成分を指定するには、最初に製品固有のバッチ属性を定義する必要があります。 次に、その属性を製品の基本属性として関連付けます。

製品レベルでは、製品のバッチに対する有効成分のレベルを記録する方法も指定する必要があります。購買入庫プロセスの一環として、または品質指示プロセスの一環としてです。

製品に基準属性を関連付けるには、次の設定が必要です。

- 製品はバッチ管理されている必要があります。 製品をバッチ管理するには、有効なバッチ分析コードを持つ製品に追跡用分析コード グループを割り当てる必要があります。

- 成分レベルを示す属性は、製品に対する製品固有のバッチ属性として定義する必要があります。

バッチの有効成分の実際の値を参照および編集するには:
1. **在庫管理 \> 照会およびレポート \> 追跡用分析コード \> バッチ** の順に選択します。
1. グリッドからバッチ番号を選択します。
1. アクション ペインで、**表示** タブを開き、**在庫バッチ属性** を選択します。

## <a name="ingredient-types-and-how-they-interact-in-the-batch-balancing-process"></a>成分タイプおよびバッチ バランシング プロセス内でそれらがどのように相互作用するか

作成されるフォーミュラ明細行はこれらの成分タイプのいずれかを有することができます。

- None
- 使用可能
- 補償
- 充填剤

このセクションの残りの部分では、各成分タイプの仕組みを示す例を示します。 例では、100 リットルの合計バッチ サイズを有する以下のフォーミュラに基づいています。

| 成分タイプ | 品目番号 | フォーミュラ明細行の数量 | 単位 |
|---|---|---|---|
| None | A | 20 | リットル |
| 使用可能 | B | 30 | リットル |
| 補償 | 貸方 | 10 | リットル |
| 充填剤 | 借方 | 40 | リットル |

次の表に、各例の結果の概要を示します。

| 品目番号 | 成分タイプ | 見積済数量 | 残高数量 | 有効な数量 | 単位 | 基準額 |
|---|---|---|---|---|---|---|
| A | None | 20 | 20 | | リットル | |
| B | 使用可能 | 30 | 25.71 | 9.00 | リットル | 30.00 |
| 貸方 | 補償 | 10 | 14.72 | | リットル | |
| 借方 | 充填剤 | 40 | 39.57 | | リットル | |

### <a name="active-ingredients"></a>有効成分

基準属性を持つ製品をフォーミュラ行に追加すると、式の *アクティブ成分* と呼ばれます。 バッチ バランシング プロセスに対して、有効成分を含む式を有するバッチ注文を使用することができます。 フォーミュラ内の各成分について、バッチ バランシング プロセスは、製品を生産するために必要な量を見積もります。 合計量の見積もりは、選択されたバッチ内の有効成分の濃度に基づきます。

#### <a name="active-ingredient-example"></a>有効成分の例

成分 Bは、基準属性 X および目標レベル 30 を有し、100 リットルの製品毎に 30 リットルの成分 B を必要とするフォーミュラに含まれます。 バッチ サイズが 100 リットルのバッチ オーダーが作成されます。 バッチ オーダーが開始され、バッチ バランシング プロセスの間に、ユーザーはポテンシー レベル 35 を有する成分 B のバッチを選択します。 ポテンシー レベル 35 は目標レベル 30 より高いので、ポテンシー値とバッチの目標レベルの比を使用して、見積数量を乗算することにより、成分 B の残高数量を減らします。 残高数量の計算は次のようになります。

(30 ÷ 35) × 30 リットル = 25.71 リットル

### <a name="none-ingredients"></a>成分なし

**成分タイプ** が *なし* のときにバッチ バランシング プロセスを適用すると、バッチ オーダーの見積数量およびフォーミュラー明細行の残高数量は同じになります。

#### <a name="none-ingredient-example"></a>成分なしの例

成分 A は *なし* のタイプの成分に割り当てられ、完成品のフォーミュラに追加されます。 フォーミュラは、完成品 100 リットルにつき 10 リットルの成分 A を必要とします。 バッチ オーダーが 200 リットルを必要とする場合、見積数量および成分 A の残高数量はともに 20 リットルとして計算されます。

### <a name="compensating-ingredients"></a>補償成分

補償成分は、製品中の有効成分の効果を相殺または補完することができる。 そのため、消費される補償成分の量は、製品のポテンシーに依存します。

- **反対の効果** － 有効成分の量が予想より多い場合は、補償成分の追加量を少なくしなければなりません。

- **補助効果** － 有効成分の量が予想より少ない場合は、補償成分の追加量を多くしなければなりません。

有効成分および補助効果の間の関係が **補償原則** ページで設定されています。

成分間の関係を設定するには、次の手順に従います。

1. **製品情報管理 \> 表、部品およびフォーミュラ \> フォーミュラ** の順に選択します。
1. フォーミュラ明細行を開き、**成分** を選択して、**補償原則** ページを開きます。
1. 補償原則を表す明細行を選択し、補正する有効成分を選択します。

補償原則では、正または負の補償係数を入力し、補償する量の指定および、その原則が反対であるか補完的であるかを指定します。 正の係数は補助効果を示し、負の係数は反対の効果を示す。

#### <a name="compensating-ingredient-example"></a>補償成分の例

成分 B は、基準属性 X および目標レベル 30 を有する有効成分である。 それは 100 リットルの製品ごとに 30 リットルの成分 B を必要とするフォーミュラに含まれています。 成分 C は補償成分であり、数量 10 が同じフォーミュラに含まれます。 補償原則 には 1.10 の補償係数が設定されています。 したがって、補償成分の残高数量は、有効成分の残高数量と推定必要量に 1.10 を掛けたものの差によって減少します。

*有効* 成分タイプの例では、必要な有効成分の残高数量は 25.71 として計算され、推定必要量は 30 として計算されました。 この場合、補償成分の残高数量は次のように計算されます。

1. 見積数量と残高数量との差が決定されます。  
    25.71 – 30 = –4.29

1. 結果に補償係数が乗算されます。  
    4.29 × 1.10 = –4.72

1. 見積済の補償数量は、補償数量残高を決定するために –4.72 が差し引かれます。  
    10 – (–4.72) = 14.72

1.10は正の補償係数であるため、この補償原則には補助的な効果があります。 この場合、有効成分は予想より強力です。 したがって、1 つ以上の補償成分が必要です。

### <a name="filler-ingredients"></a>充填成分

*充填成分* は、完成品の要求する出来高数量に達するために使用される中性成分です。 充填量の調整は、標準量と比較した有効成分および補償成分の変動に基づいて計算されます。

#### <a name="filler-ingredient-example"></a>充填成分の例

100 リットルのフォーミュラ サイズの、成分 A、B、C、D を含む製品を作成しました。 1 行に使用される *充填* 成分タイプ以外のすべての成分タイプの残高数量を計算しました。
充填成分の残高数量は、100 リットルのバッチ サイズと成分 A、B および C の合計との差として計算されます。

100 – (20 + 25.71 + 14.72) = 39.57

## <a name="the-batch-balancing-process"></a>バッチ バランシング プロセス

バッチ バランシング プロセスは、**バッチ バランシング** ページから実行されます。
**原価管理 \> バッチ オーダー** を選択し、そして **プロセス** タブ上で **バッチ バランシング** を選択します。 バッチ バランシングは、ステータスが **開始済** のバッチ オーダーで使用できます。

一般的に、フォーミュラに、**成分タイプ** が *有効* であるフォーミュラ明細行が 1 つ以上ある場合、バッチ バランシングをバッチ オーダーに適用することができます。 (このルールの例外については、このトピックの後半の「バッチ バランシングには適用されないバッチ オーダー」を参照してください)。

バッチ バランシング プロセスは、2つのサブプロセスに分割することができます。

1. バッチ成分のバランス
1. フォーミュラの確認およびリリース

### <a name="balance-batch-ingredients"></a>バッチ成分のバランス

バッチ成分のバランス サブプロセスでは、生産バッチに使用する成分の量が、有効成分を含む選択されたバッチに基づいて計算されます。 原則として、すべての成分を完全にカバーする場合にのみ計算を完了できます バッチ オーダーが生産のために設定されているバッチの一部だけをバランスさせることはできません。

> [!NOTE]
> 計算を保存し、後にバッチ バランシング プロセスを完了することはできません。 **バッチ バランシング** ページを閉じると、プロセスを完了するために計算を繰り返す必要があります。

### <a name="confirm-and-release-the-formula"></a>フォーミュラの確認およびリリース

成分量が計算された後、フォーミュラを確認してリリースすることができます。 リリース プロセスは、製品が倉庫管理プロセスに対して有効化されているかどうかに応じて異なります。

- 製品が倉庫管理プロセスに対して有効になっている場合、倉庫管理プロセスの原則に従って、フォーミュラ明細行が倉庫にリリースされます。 フォーミュラ明細行が残高数量と一致する数量単位でリリースされ、有効成分に対して選択された、特定のバッチに対してリリースされます。

    > [!NOTE]
    > フォーミュラ明細行をバッチ バランシング プロセスの一部としてのみ倉庫にリリースすることができます。 生産用の材料を倉庫にリリースするためのオプションはありますが、これらのオプションはフォーミュラ明細行には使用できません。

- 製品が倉庫管理プロセスに対して有効になっていない場合は、フォーミュラを確認してリリースするときに、製品の生産ピッキング リストが製品に対して作成されます。

単一のフォーミュラで、倉庫管理プロセスで有効になっている製品と、倉庫管理プロセスでは有効になっていない製品を組み合わせることができます。 2 種類の製品が 1 つのフォーミュラに含まれている場合、倉庫管理プロセスで使用可能になっている製品は倉庫にリリースされます。 倉庫管理プロセスに対して有効になっていない製品に対しては、フォーミュラが確認およびリリースされたときにピッキング リストが作成されます。

### <a name="batch-orders-that-arent-applicable-for-batch-balancing"></a>バッチ バランシングには適用されないバッチ注文

フォーミュラに **成分タイプ** が *有効* であるフォーミュラ明細行が 1 つ以上ある場合、バッチ オーダーがバッチ バランシングに適用できるというルールに対して例外が 2 つあります。

1. 倉庫管理プロセスに対して有効な製品の有効成分がフォーミュラに含まれていても、バッチ番号が引当階層の場所の下にある場合、バッチ オーダーはバッチ バランシングには適用されません。
1. フォーミュラの測定単位が有効成分の在庫測定単位と異なる場合、バッチ オーダーはバッチ バランシングに適用できません。

バッチ バランシングに適用できないバッチ オーダーは、バッチ オーダーのための通常のプロセス サイクルが実行されます。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
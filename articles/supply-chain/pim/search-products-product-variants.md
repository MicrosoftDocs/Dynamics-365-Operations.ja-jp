---
title: 注文入力時に製品および製品のバリアントを検索する
description: 手動で販売注文明細行または購買注文明細行を作成する場合、**品目番号** フィールドを使用して製品と製品バリアントを検索します。 これにより、コンフィギュレーションの文字列のみがある場合、または製品分析コードの 1 つが利用可能な場合に、製品バリアントをすばやく検索することが可能になります。
author: cvocph
manager: tfehr
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: MCRFullTextIndexField, MCRFullTextParameters, PurchTable, PurchTablePart, SalesTable
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 248534
ms.assetid: 99dd5ce1-0029-4f06-90e7-865e6d46d86e
ms.search.region: global
ms.search.industry: Manufacturing
ms.author: kamaybac
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
ms.openlocfilehash: 532f437bee490743847cf5617579c579f9202b71
ms.sourcegitcommit: 827d77c638555396b32d36af5d22d1b61dafb0e8
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/16/2020
ms.locfileid: "4432368"
---
# <a name="search-for-products-and-product-variants-during-order-entry"></a><span data-ttu-id="43037-104">注文入力時に製品および製品のバリアントを検索する</span><span class="sxs-lookup"><span data-stu-id="43037-104">Search for products and product variants during order entry</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="43037-105">手動で販売注文明細行または購買注文明細行を作成する場合、**品目番号** フィールドを使用して製品と製品バリアントを検索します。</span><span class="sxs-lookup"><span data-stu-id="43037-105">Use the **Item number** field to search for products and product variants when you manually create a sales order line or a purchase order line.</span></span>  <span data-ttu-id="43037-106">これにより、コンフィギュレーションの文字列のみがある場合、または製品分析コードの 1 つが利用可能な場合に、製品バリアントをすばやく検索することが可能になります。</span><span class="sxs-lookup"><span data-stu-id="43037-106">This lets you quickly find product variants when you only have the configuration string or one of the product dimensions available.</span></span>

<span data-ttu-id="43037-107">するべきことがとても多い状況には入りたくない場合があります。これは類似した数多くの製品を販売する場合には特に真実です。品目番号を記憶したり、販売品目に配置するために正しい製品を見つけるために製品名を検索するために努力します。</span><span class="sxs-lookup"><span data-stu-id="43037-107">Sometimes, having too much of something is not the best situation to be in, and this is especially true if you sell a number of products that are similar, and you are trying to remember item numbers or product search names in order to find the right product to put on a sales order.</span></span><span data-ttu-id="43037-108">検索フィールドとして販売注文明細行または購買注文明細行で、**品目番号** フィールドを使用できます。</span><span class="sxs-lookup"><span data-stu-id="43037-108"> You can use the **Item number** field on a sales order line or a purchase order line as a search field.</span></span> <span data-ttu-id="43037-109">製品名、番号、または分析コードの一部を入力すると、検索された語に一致するすべての品目を表示するルックアップが表示されます。</span><span class="sxs-lookup"><span data-stu-id="43037-109">You can enter any part of a product name, number, or dimension and get a lookup that displays all the items that match the search word.</span></span>

## <a name="how-searchworks"></a><span data-ttu-id="43037-110">検索の仕組み</span><span class="sxs-lookup"><span data-stu-id="43037-110">How search works</span></span>
<span data-ttu-id="43037-111">製品または製品のバリアントを検索する場合、検索機能が入力したテキストに一致する製品を検索する方法を理解することが重要です。</span><span class="sxs-lookup"><span data-stu-id="43037-111">When you search for products or product variants, it is important to understand how the search feature finds the products that match the text that you enter.</span></span> <span data-ttu-id="43037-112">検索結果を表示する主要な検索ルールを次に示します。</span><span class="sxs-lookup"><span data-stu-id="43037-112">The key search rules in delivering search results are:</span></span>

-   <span data-ttu-id="43037-113">検索結果は、検索テキストが入力されたフィールドを無視して、一致するすべてのレコードを返します。</span><span class="sxs-lookup"><span data-stu-id="43037-113">Search results will return any matching record, disregarding the field that the search text is entered in.</span></span>
-   <span data-ttu-id="43037-114">検索テキストは、すべてのテキストが一致するレコードに存在している必要があります。</span><span class="sxs-lookup"><span data-stu-id="43037-114">The search text needs to be present in the matching record in its full length.</span></span>
-   <span data-ttu-id="43037-115">検索テキストが一致するレコードのテキスト文字列の間にあったとしても検索結果に表示されます。</span><span class="sxs-lookup"><span data-stu-id="43037-115">A match will occur even if the search text is found in the middle of a text string in the matching record.</span></span> <span data-ttu-id="43037-116">テキスト文字列の先頭に表示される必要はありません。</span><span class="sxs-lookup"><span data-stu-id="43037-116">It does not have to appear in the beginning of a text string.</span></span>
-   <span data-ttu-id="43037-117">検索テキストは、空白が含まれている場合でも単一のテキスト文字列として処理されます。</span><span class="sxs-lookup"><span data-stu-id="43037-117">The search text is treated as a single text string even if it contains white space.</span></span>

### <a name="examples"></a><span data-ttu-id="43037-118">例</span><span class="sxs-lookup"><span data-stu-id="43037-118">Examples</span></span>

<span data-ttu-id="43037-119">次の例では、製品および製品バリアントを使用して、さまざまなシナリオでどのように検索が処理されるかを示します。</span><span class="sxs-lookup"><span data-stu-id="43037-119">The following examples use products and product variants to illustrate how search is handled in various scenarios.</span></span> <span data-ttu-id="43037-120">**前提条件:** **販売とマーケティング &gt; 設定 &gt; 検索 &gt; 検索パラメーター &gt; 検索タイプ** で、 **完全一致** オプションを選択します。</span><span class="sxs-lookup"><span data-stu-id="43037-120">**Prerequisite:** Under **Sales and marketing &gt; Setup &gt; Search &gt; Search parameters &gt; Search type**, select the **Full match** option.</span></span>

| <span data-ttu-id="43037-121">製品タイプ</span><span class="sxs-lookup"><span data-stu-id="43037-121">Product type</span></span>     | <span data-ttu-id="43037-122">製品名</span><span class="sxs-lookup"><span data-stu-id="43037-122">Product name</span></span>    | <span data-ttu-id="43037-123">製品番号の表示</span><span class="sxs-lookup"><span data-stu-id="43037-123">Display product number</span></span> | <span data-ttu-id="43037-124">品目番号</span><span class="sxs-lookup"><span data-stu-id="43037-124">Item number</span></span> | <span data-ttu-id="43037-125">構成</span><span class="sxs-lookup"><span data-stu-id="43037-125">Configuration</span></span> |
|------------------|-----------------|------------------------|-------------|---------------|
| <span data-ttu-id="43037-126">特徴的製品</span><span class="sxs-lookup"><span data-stu-id="43037-126">Distinct product</span></span> | <span data-ttu-id="43037-127">SpeakerMidRange</span><span class="sxs-lookup"><span data-stu-id="43037-127">SpeakerMidRange</span></span> | <span data-ttu-id="43037-128">D0001</span><span class="sxs-lookup"><span data-stu-id="43037-128">D0001</span></span>                  | <span data-ttu-id="43037-129">D0001</span><span class="sxs-lookup"><span data-stu-id="43037-129">D0001</span></span>       | <span data-ttu-id="43037-130">NA</span><span class="sxs-lookup"><span data-stu-id="43037-130">NA</span></span>            |
| <span data-ttu-id="43037-131">製品バリアント</span><span class="sxs-lookup"><span data-stu-id="43037-131">Product variant</span></span>  | <span data-ttu-id="43037-132">有効なスピーカー</span><span class="sxs-lookup"><span data-stu-id="43037-132">Active speaker</span></span>  | <span data-ttu-id="43037-133">D0010:::Black:</span><span class="sxs-lookup"><span data-stu-id="43037-133">D0010:::Black:</span></span>         | <span data-ttu-id="43037-134">D0010</span><span class="sxs-lookup"><span data-stu-id="43037-134">D0010</span></span>       | <span data-ttu-id="43037-135">000005</span><span class="sxs-lookup"><span data-stu-id="43037-135">000005</span></span>        |
| <span data-ttu-id="43037-136">製品バリアント</span><span class="sxs-lookup"><span data-stu-id="43037-136">Product variant</span></span>  | <span data-ttu-id="43037-137">有効なスピーカー</span><span class="sxs-lookup"><span data-stu-id="43037-137">Active speaker</span></span>  | <span data-ttu-id="43037-138">D0010:::White:</span><span class="sxs-lookup"><span data-stu-id="43037-138">D0010:::White:</span></span>         | <span data-ttu-id="43037-139">D0010</span><span class="sxs-lookup"><span data-stu-id="43037-139">D0010</span></span>       | <span data-ttu-id="43037-140">白</span><span class="sxs-lookup"><span data-stu-id="43037-140">White</span></span>         |

<span data-ttu-id="43037-141">**品目番号** フィールドに「speak」と入力した場合、上記のすべての製品が結果としてルックアップに表示されます。</span><span class="sxs-lookup"><span data-stu-id="43037-141">If you type 'speak' in the **Item number** field, you will get all the products above as a result in the lookup.</span></span> <span data-ttu-id="43037-142">**品目番号** フィールドに「black」と入力した場合、表示された製品番号に「black」のテキストがあるため、結果として 2 番目の製品が表示されます。</span><span class="sxs-lookup"><span data-stu-id="43037-142">If you type 'black' in the **Item number** field, you will get the second product as a result, because it has the text 'black' in the display product number.</span></span> <span data-ttu-id="43037-143">これら 2 つの例は、検索がフィールドの最初のみに限定されず、一致するレコードのテキストの途中に検索文字がある場合でもヒットすることを示しています。</span><span class="sxs-lookup"><span data-stu-id="43037-143">These two examples illustrate that the search is not only at the beginning of the field, a match will occur even if the search text is found in the middle of a text string in the matching record.</span></span>  

<span data-ttu-id="43037-144">「05」と入力すると 2 番目の製品バリアントが表示されます。「05」がコンフィギュレーションにあるからです。</span><span class="sxs-lookup"><span data-stu-id="43037-144">If you type '05' you will only get the second product variant as a result, because it has '05' in the configuration.</span></span> <span data-ttu-id="43037-145">これは **検索条件** ページのすべての有効なフィールドが検索されることを示しています。</span><span class="sxs-lookup"><span data-stu-id="43037-145">This illustrates that the search is across all the enabled fields on the **Search criteria** page.</span></span>  

<span data-ttu-id="43037-146">「speak 05」と入力した場合、結果は表示されません。</span><span class="sxs-lookup"><span data-stu-id="43037-146">If you type 'speak 05' you will not get any results.</span></span> <span data-ttu-id="43037-147">これは、検索が入力されたすべてのテキストを検索するからです。</span><span class="sxs-lookup"><span data-stu-id="43037-147">This is because the search looks for the full text that is entered.</span></span> <span data-ttu-id="43037-148">検索は「speak」を見つけようとせず、「05」を含むように結果を絞り込みます。</span><span class="sxs-lookup"><span data-stu-id="43037-148">The search will not try to find 'speak' and then narrow the results to those containing '05'.</span></span>  

<span data-ttu-id="43037-149">**販売とマーケティング &gt; 設定 &gt; 検索 &gt; 検索パラメーター** ページの **結果の件数** フィールドを使用して検索結果数を制限します。</span><span class="sxs-lookup"><span data-stu-id="43037-149">You can limit the number of search results by using the **Number of results** field on the **Sales and marketing &gt; Setup &gt; Search &gt; Search parameters** page.</span></span> <span data-ttu-id="43037-150">このフィールドを 0 に設定すると、すべての検索結果が返されます。</span><span class="sxs-lookup"><span data-stu-id="43037-150">If you set this field to 0, all search results will be returned.</span></span> <span data-ttu-id="43037-151">例えば 10 に設定すると、最大 10 の検索結果を返します。</span><span class="sxs-lookup"><span data-stu-id="43037-151">If you set it to 10, for example, it will return a maximum 10 search results.</span></span>

## <a name="configure-the-productsearch"></a><span data-ttu-id="43037-152">製品検索を設定する</span><span class="sxs-lookup"><span data-stu-id="43037-152">Configure the product search</span></span>
<span data-ttu-id="43037-153">製品および製品バリアントの検索機能を使用する前に、製品検索を設定するには、次の手順に従います。</span><span class="sxs-lookup"><span data-stu-id="43037-153">Before you can use the product and product variant search feature, follow these steps to configure the product search.</span></span> <span data-ttu-id="43037-154">[![製品検索\_AXAppFall をコンフィギュレーションするための 3 つのステップ](./media/3-steps-to-configure-product-search_axappfall.png)](./media/3-steps-to-configure-product-search_axappfall.png)</span><span class="sxs-lookup"><span data-stu-id="43037-154">[![3 steps to configure product search\_AXAppFall](./media/3-steps-to-configure-product-search_axappfall.png)](./media/3-steps-to-configure-product-search_axappfall.png)</span></span>

### <a name="step-1include-all-the-relevant-product-and-product-variant-identifiers-and-dimensions-in-the-search-criteria"></a><span data-ttu-id="43037-155">手順 1: 検索基準にすべての関連する製品、および製品バリアント識別子を含めます。</span><span class="sxs-lookup"><span data-stu-id="43037-155">Step 1: Include all the relevant product and product variant identifiers and dimensions in the search criteria</span></span>

<span data-ttu-id="43037-156">検索可能な製品、製品バリアントおよび分析コードの例としては、 **製品名、品目番号**、**製品番号の表示、設定、色、サイズ、スタイル、検索名など** があります。</span><span class="sxs-lookup"><span data-stu-id="43037-156">Examples of product and product variant identifiers and dimensions that you can search by are  **Product name, Item number**, **Display product number, Configuration, Color, Size, Style, Search name, etc**.</span></span>  

<span data-ttu-id="43037-157">**販売とマーケティング &gt; 設定 &gt; 検索 &gt; 検索基準** のページへ移動します。</span><span class="sxs-lookup"><span data-stu-id="43037-157">Go to **Sales and marketing &gt; Setup &gt; Search &gt; Search criteria** page.</span></span> <span data-ttu-id="43037-158">**検索条件** ページでは、顧客、見込顧客、および製品検索の基準を定義することができます。</span><span class="sxs-lookup"><span data-stu-id="43037-158">The **Search criteria** page allows you to define criteria for customer, prospect, and product search.</span></span> <span data-ttu-id="43037-159">製品検索基準を使用してページをフィルターしていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="43037-159">Make sure you filter the page by using product search criteria.</span></span> <span data-ttu-id="43037-160">ページ メニューの **製品** を切り替えることによりこれが可能です。</span><span class="sxs-lookup"><span data-stu-id="43037-160">You can do this by switching to **Product** in the page's menu.</span></span>  

<span data-ttu-id="43037-161">検索基準に表示製品番号を追加するには、ページメニューで **新規** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="43037-161">To add the display product number to the search criteria, click **New** in the page's menu.</span></span> <span data-ttu-id="43037-162">これは **検索基準** グリッドの新しいレコードを追加します。</span><span class="sxs-lookup"><span data-stu-id="43037-162">This will add a new record in the **Search criteria** grid.</span></span> <span data-ttu-id="43037-163">**フィールド名** 列のルックアップを開き、**DisplayProductNumber** を選択します。</span><span class="sxs-lookup"><span data-stu-id="43037-163">Open the **Field name** column lookup and chose **DisplayProductNumber**.</span></span> <span data-ttu-id="43037-164">検索基準に製品のコンフィギュレーションを追加するには、新しいレコードを **検索条件** グリッドで作成し、**フィールド名** 列で **configId** を選択します。</span><span class="sxs-lookup"><span data-stu-id="43037-164">To add the product's configuration to the search criteria, create a new record in the **Search criteria** grid and chose **configId** in the **Field name** column.</span></span> <span data-ttu-id="43037-165">同様に、カラー分析コードが **フィールド名** **InventColorId**、サイズ分析コードが **InventSizeId**、スタイル分析コードが **InventStyleId** のレコードを作成します。</span><span class="sxs-lookup"><span data-stu-id="43037-165">In the same manner, create a record with **Field name** **InventColorId** for the color dimension, **InventSizeId** for the size dimension, and **InventStyleId** for the style dimension.</span></span>

### <a name="step-2-populate-the-database-table-that-is-used-for-product-search"></a><span data-ttu-id="43037-166">手順 2: 製品検索に使用するデータベース テーブルを設定します。</span><span class="sxs-lookup"><span data-stu-id="43037-166">Step 2: Populate the database table that is used for product search</span></span>

<span data-ttu-id="43037-167">**検索基準** ページで、**検索データの更新** ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="43037-167">In the **Search criteria** page, click the **Update search data** button.</span></span> <span data-ttu-id="43037-168">**検索データの更新** ダイアログ ボックスで、 **ソース** が **製品** に設定されていることを確認して、**OK** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="43037-168">In the **Update search data** dialog box, make sure that  **Source** is set to **Product**, and then click **OK**.</span></span> <span data-ttu-id="43037-169">システムは、ステップ 1 で指定されたすべての選択された検索基準を 1 つの表に集計します。</span><span class="sxs-lookup"><span data-stu-id="43037-169">The system will aggregate in one table all the selected search criteria specified in step 1.</span></span> <span data-ttu-id="43037-170">複数の製品および製品バリアントがある場合、この操作には長い時間がかかり警告メッセージが表示されることもあります。</span><span class="sxs-lookup"><span data-stu-id="43037-170">If you have a lot of products and product variants, this operation can be quite lengthy and you may receive a warning.</span></span> <span data-ttu-id="43037-171">サーバーが極端にビジー状態ではない時間に、バッチ サーバーで検索テーブル設定をスケジュールするようにお勧めします。</span><span class="sxs-lookup"><span data-stu-id="43037-171">We recommend that you schedule the search table population on the batch server at a time when the server is not too busy.</span></span>  

<span data-ttu-id="43037-172">テーブルが設定されるまで、製品検索は正確な結果を表示しません。</span><span class="sxs-lookup"><span data-stu-id="43037-172">Until the table is populated, product search will not provide the correct results.</span></span> <span data-ttu-id="43037-173">検索結果を取得できない場合、このテーブルが設定されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="43037-173">If you do not get any search results, make sure that this table is populated.</span></span>  

<span data-ttu-id="43037-174">検索基準が変更された場合にのみ、テーブルを設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="43037-174">The table only has to be populated when the search criteria is modified.</span></span> <span data-ttu-id="43037-175">新しくリリースされた製品とバリアントがテーブルに自動的に追加されます。</span><span class="sxs-lookup"><span data-stu-id="43037-175">Newly released products and variants are automatically added to the table.</span></span> <span data-ttu-id="43037-176">削除された製品とバリアントがテーブルから自動的に削除されます。</span><span class="sxs-lookup"><span data-stu-id="43037-176">Deleted products and variants are automatically removed from the table.</span></span>

### <a name="step-3-enable-the-lookup-for-product-search-on-sales-and-purchase-order-lines"></a><span data-ttu-id="43037-177">手順 3: 販売と発注書明細行の製品検索のルックアップを有効にします。</span><span class="sxs-lookup"><span data-stu-id="43037-177">Step 3: Enable the lookup for product search on sales and purchase order lines</span></span>

<span data-ttu-id="43037-178">この機能は **販売とマーケティング &gt; 設定 &gt; 検索 &gt; 検索パラメーター** の順に移動して、**一般** タブの **検索のルックアップを有効化** を **はい** に設定することにより有効化できます。</span><span class="sxs-lookup"><span data-stu-id="43037-178">You can enable this functionality by going to **Sales and marketing &gt; Setup &gt; Search &gt; Search parameters** and setting **Enable lookup for search** to **Yes** on the **General** tab.</span></span>  

<span data-ttu-id="43037-179">販売注文明細行の入力の場合、既定の動作は  **品目番号** フィールドで入力を開始したときに **製品検索** ページを開き、次に **タブ** キーを押します。</span><span class="sxs-lookup"><span data-stu-id="43037-179">For sales order line entry, the default behavior is to open the **Product search** page when you start typing in the **Item number** field, and then press the **Tab** key.</span></span> <span data-ttu-id="43037-180">**製品検索** ページが、注文明細行の作成時にコンテキストを変更し、不要と見なす場合があります。</span><span class="sxs-lookup"><span data-stu-id="43037-180">The **Product search** page changes the context during order line creation and may be considered unnecessarily intrusive.</span></span> <span data-ttu-id="43037-181">検索結果をルックアップで表示し、注文明細行入力時にコンテキストを非表示にしないようにする場合、代わりに検索ルックアップを使用できます。</span><span class="sxs-lookup"><span data-stu-id="43037-181">If you prefer to get the search results in a lookup and not lose context during order line entry, you can use the search lookup instead.</span></span> <span data-ttu-id="43037-182">製品または製品バリアントを検索し、ルックアップに何も選択せずに **タブ** キーを押した場合、**製品検索** ページが表示されます。</span><span class="sxs-lookup"><span data-stu-id="43037-182">If you search for a product or product variant, but you don't select anything in the lookup and press the **Tab** key, the **Product search** page will display.</span></span>




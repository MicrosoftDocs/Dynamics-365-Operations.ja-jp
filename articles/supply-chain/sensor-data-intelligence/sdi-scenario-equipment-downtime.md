---
title: マシン状態のシナリオ
description: この記事では、マシンのステータス シナリオについて説明します。これにより、アプリケーション データを使用して設備の状態を監視できます。
author: johanhoffmann
ms.date: 09/02/2022
ms.topic: article
ms.search.form: IoTIntCoreScenarioManagement, IoTIntCoreNotification, IoTIntMfgResourceStatusConfiguration, IoTIntMfgResourceStatus
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2022-09-02
ms.dyn365.ops.version: 10.0.30
ms.openlocfilehash: 1f2b424dccf1963a7917059d412b5df7937496ee
ms.sourcegitcommit: 3d7ae22401b376d2899840b561575e8d5c55658c
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/08/2022
ms.locfileid: "9428348"
---
# <a name="the-machine-status-scenario"></a>マシン状態のシナリオ

[!include [banner](../includes/banner.md)]
[!INCLUDE [preview-banner](../includes/preview-banner.md)]

この記事では、*マシンのステータス* シナリオについて説明します。これにより、アプリケーション データを使用して設備の状態を監視できます。 機械リソースの生産ジョブで生産が生産される際に信号を送信するシステムを設定したが、指定された間隔内にシステムからの信号は受信されていない場合は、監修者のダッシュボードに通知が表示されます。

## <a name="scenario-dependencies"></a>シナリオの依存関係

*マシンのステータス* シナリオには、次のような依存関係があります。

- 通知をトリガーするには、マッピングされたマシンで製造オーダーが処理中である必要があります。
- 分け前の信号を 表す *part-out* 信号は、IoT ハブに送信する必要があります。

## <a name="prepare-demo-data-for-the-machine-status-scenario"></a>マシンのステータス シナリオのデモ データの準備

デモ システムを使用して、*マシンのステータス* シナリオをテストする場合は、[デモ データ](../../fin-ops-core/fin-ops/get-started/demo-data.md) がインストールされているシステムを使用し、*USMF* 法人 (会社) を選択し、このセクションの説明に従って追加のデモ データを準備します。 独自のプログラムおよびデータを使用している場合は、このセクションをスキップできます。

### <a name="set-up-a-sensor-simulator"></a>センサー シュミレーターの設定

物理的な活動を使用せずにこのシナリオを試す場合は、必要な信号を生成する新しい機能を設定できます。 詳細については、[テストにシュミレートしたセンサーを設定する](sdi-set-up-simulated-sensor.md) を参照してください。

### <a name="verify-that-resource-3118-is-used-for-product-p0111"></a>製品 P0111 にリソース 3118 が使用されていることを確認します

製造オーダーがスケジュールされ、リリースされます。 そのため、生産ジョブがリソース *3118* にリリースされます (*フォームの切断マシン*)。 デモ データで製品 *P0111* にリソース *3118* が使用されていないことを確認するには、次の手順に従います。

1. **製品管理情報 \> 製品 \> リリースされた製品** の順に移動します。
1. **品目番号**　フィールドが *P0111* に設定されている製品を検索して選択します。
1. アクション ペインの、**エンジニア** タブの、**ビュー** グループで、**ルート** を選択します。
1. **ルート** ページのページ の下部 にある **概要** タブで、**操作: いいえ** を含む行を選択します フィールドが、*30* に設定されています。
1. ページの 下部にある **リソースの要件** タブで、操作にリソース *3118* (*フォーム切断マシン*) が関連付けられているを確認します。

### <a name="create-and-release-a-production-order-for-product-p0111"></a>製品 P0111 の製造オーダーを作成およびリリースします

製品 *P0111* の製造オーダーを作成およびリリースするには、次の手順に従います。

1. **生産管理 \> 製造オーダー \> すべての製造オーダー** の順に移動します。
1. **すべての製造オーダー** ページの、アクション ウィンドウで、**新規一括注文** を選択します。
1. **バッチの作成** ダイアログ ボックスに次の値を設定します。

    - **品目番号:** *P0111*
    - **数量:** *10*

1. **作成** を選択してオーダーを作成し、**すべての製造オーダー** ページに戻ります。
1. **フィルター** フィールドを使用して、**品目番号** フィールドが *P0111* に設定されている製造オーダーを検索します。 その後、作成した製造オーダーを選択します。
1. アクション ペインの、**製造オーダー** タブの、**プロセス** グループで、**見積** を選択します。
1. **見積もり** ダイアログ ボックスで、**OK** を選択して見積もりを実行します。
1. アクション ウィンドウの、**製造オーダー** タブの、**プロセス** グループで、**リリース** を選択します。
1. **リリース** ダイアログ ボックスで、作成したバッチ オーダーの番号をメモします。
1. オーダーをリリースするには、**OK** を選択します。

### <a name="configure-the-production-floor-execution-interface"></a><a name="config-pfe"></a>生産現場の実行インターフェースを構成する

生産フロア実行インターフェイスを使用して、前のセクション で品目番号 *P0111* に対してスケジュールおよびリリースされたジョブを開始します。 この手順に従って、生産現場の実行インターフェースを構成します。

1. **生産管理 \> 製造実行 \> 生産現場の実行** に移動します。
1. インターフェイスの設定をまだ行っていない場合は、サインイン ページが表示されます。 資格情報を入力します。
1. ようこそページで、**構成** を開いて、**デバイスの構成** ウィザードを開きます。
1. **デバイスの構成 で - 手順 1. - 構成ページを選択して**、*デフォルト* 構成を選択します。
1. **次へ** を選択します。
1. **デバイスの構成 - 手順2 - 生産現場のエリア ページを定義** ページで、**リソース** フィールドを *3118* に設定します。
1. **OK** を選択します。

### <a name="enable-the-search-option-in-the-production-floor-execution-interface"></a><a name="enable-pfe-search"></a>生産現場の実行インターフェイスのオプション検索を有効にする

以前にリリースされた製造オーダーの生産ジョブを見つけやすくなります。次の手順に従って、生産フロアの実行インターフェイスで検索オプションを有効にします。

1. **生産管理 \> 設定 \> 製造実行 \> 生産現場の実行を構成** に移動します。
1. *デフォルト* 構成を選択します。
1. アクション ウィンドウで、**編集** を選択します。
1. **一般** クイック タブで、**検索の有効化** オプションを *はい* に設定します。
1. ページを閉じます。

### <a name="start-the-first-job-in-the-batch-order"></a>バッチ オーダーの最初のジョブの開始

次の手順に従って、リソース *3118* でスケジュールされたジョブを開始します。

1. **生産管理 \> 製造実行 \> 生産現場の実行** に移動します。
1. **バッチ ID** フィールドで、*123* と入力します。 その後、**サインイン** を選択します。
1. 休暇の理由を確認するメッセージが表示された場合、休暇を示すカードのいずれかを選択し、**OK** を選択します。
1. **検索** フィールドに、以前にメモしたバッチ オーダー番号を入力します。 次に、**返品** キーを選択します。
1. 注文を選択してから、**ジョブの開始** を選択します。
1. **ジョブの開始** ダイアログ ボックスで、**開始** を選択します。

## <a name="set-up-the-machine-status-scenario"></a>マシン状態のシナリオの設定

Supply Chain Management で *マシンのステータス* シナリオを設定するには、次の手順に従います。

1. **生産管理 \> 設定 \> Sensor Data Intelligence \> シナリオ** に移動します。
1. **マシンのステータス** シナリオ ボックスで、**構成** を選択して、このシナリオのセットアップ ウィザードを開きます。
1. **センサー** ページで、**新規** を選択してグリッドにセンサーを追加します。 続いて、それに次のフィールドを設定します。

    - **センサー ID** - 使用するセンサーの ID を入力します。 (次の説明に従って、Yyy PI Azure IoT オンライン シュミレーターを使用して設定している場合は、[テスト用にシミュレーションされたオブジェクト名を設定する](sdi-set-up-simulated-sensor.md) にある通り、*MachineStatus* と入力します。)
    - **センサーの説明** – センサーの詳細説明を入力します。

1. ここで追加する各センサーに前の手順を繰り返します。 いつでも戻ってきて、より多くのセンサーを追加することができます。
1. **次へ** を選択します。
1. **業務レコード マッピング** ページの **センサー** セクションで、今追加したセンサーの 1 つのレコードを選択します。
1. **業務レコード マッピング** セクションで、**新規** を選択して、グリッドに行を追加します。
1. 新しい行で、モニターするために選択したセンサーを使っているリソースに **業務レコード** を設定します。 (この記事で先に作成したデモ データを使用している場合は、フィールドを *3118 (フォーム切断マシン)* に設定します。)
1. **次へ** を選択します。
1. **マシンのステータス のしきい値** ページ で、最後の *part-out* 信号からコンピュータ ステータス通知を送信する期間を定義します。 しきい値を定義する方法は 2 つあります。

    - **デフォルトのしきい値 (分)** : デフォルトのしきい値を定義するフィールドを設定します。 この値は、**応答していないコンピュータ を判断するためにしきい値 (分)** フィールドが 2 分以下に設定されているすべてのリソースに適用されます。 最小値は *2* (分) です。
    - **マシンが応答していないことを判断するためのしきい値 (分)** - デフォルトのしきい値を使用しないグリッド内のリソースごとに、このフィールドに上書き値を入力します。 しきい値として 2 分以下を使用するために設定されたリソースでは、代わりに **既定のしきい値 (分)** 設定が使用されます。

    > [!NOTE]
    > 通常、*パーツアウト* 信号を使用 してマシンのステータスを監視します。 したがって、各機械リソースのしきい値が機械の各部品の生産に必要な時間よりも長い場合は、確認する必要があります。

1. **次へ** を選択します。
1. **センサーの有効化** ページで、グリッドで、追加したプログラムを選択し、**有効化** を選択します。 グリッド内で有効化されたそれぞれについて、**有効** な列にチェック マークが表示されます。
1. **完了** を選択します。

## <a name="work-with-the-machine-status-scenario"></a>マシン状態のシナリオを使って作業する

インストール後に動作を変更して、そのシナリオを構成すると、Supply Chain Management でコンピュータ ステータス イベントを表示できます。 このセクションでは、この情報を表示する場所および方法について説明します。

### <a name="view-machine-status-data-on-the-resource-status-page"></a>リソース ステータス ページでのマシンのステータス データを表示する

**リソース ステータス** ページでは、各マシン リソースにマップされたセンサーから受信された *パートアウト* 信号のタイムラインをスーパーバイサーが監視できます。 タイムラインを構成するには、次の手順に従います。

1. **生産管理 \>製造の実行 \> リソースのステータス** に移動します。
1. **構成** ダイアログ ボックスで、次のフィールドを設定します。

    - **リソース** - 監視したいリソースを選択します。 (デモ データの場合は、*3118* を選択します。)
    - **時系列 1** - 名前に次の形式を持つレコード (メトリック キー) を選択します: *MachineReportingStatus:&lt;Sensor&gt;*
    - **表示名** - *パーツアウト信号* を入力します。

次の図は、標準運用中に **リソース ステータス** ページに表示されるコンピュータ ステータス データの例を示しています。

![標準操作中のリソース ステータス ページでのマシンのステータス データ](media/sdi-resource-status-downtime-up.png "標準操作中のリソース ステータス ページでのマシンのステータス データ")

次の図は、ダウンタイムが検出された場合のコンピュータ ステータス データの例を示しています。

![ダウンタイムが検出された場合の リソース ステータス ページのマシン ステータス データ。](media/sdi-resource-status-downtime-down.png "ダウンタイムが検出された場合の リソース ステータス ページのマシン ステータス データ")

### <a name="view-machine-status-on-the-notifications-page"></a>通知 ページでのコンピュータのステータスの表示

**通知** ページで、監修者は、最後に *パートアウト* 通知を配信した後に過ぎた時間が多い場合に生成される通知を表示できます。 各通知は、変更によって影響を受ける生産ジョブの概要を示し、影響を受けるジョブを別のリソースに再度割り当てオプションとして表示します。

**通知** ページを開くには、**製造管理 \> 照会とレポート \> センサー データ インテリジェンス \> 通知** に移動します。

次の図は、マシンのステータス通知の例を示します。

![マシンのステータス通知の例](media/sdi-resource-status-downtime-notification.png "マシンのステータス通知の例")

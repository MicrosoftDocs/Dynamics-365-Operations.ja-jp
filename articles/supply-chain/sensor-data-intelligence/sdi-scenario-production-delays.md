---
title: 生産の遅延のシナリオ
description: この記事では、生産の処理能力がしきい値を下回った場合に通知が生成される、生産遅延シナリオについて説明します。
author: johanhoffmann
ms.date: 09/02/2022
ms.topic: article
ms.search.form: IoTIntCoreScenarioManagement, IoTIntCoreScenarioConfigurationWizardV2, IoTIntMfgResourceStatusConfiguration, IoTIntMfgResourceStatus
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2022-09-02
ms.dyn365.ops.version: 10.0.30
ms.openlocfilehash: 073762581d84646ba12b570e57327b7cab8efd3b
ms.sourcegitcommit: 3d7ae22401b376d2899840b561575e8d5c55658c
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/08/2022
ms.locfileid: "9428351"
---
# <a name="the-production-delays-scenario"></a>生産の遅延のシナリオ

[!include [banner](../includes/banner.md)]
[!INCLUDE [preview-banner](../includes/preview-banner.md)]

*生産遅延* シナリオでは、生産の処理能力が特定のしきい値を下回った場合に通知が生成されます。 このシナリオでは、生産された品目ごとに *PartOut* 信号が Microsoft Azure IoT Hub に送信されます。 Dynamics 365 Supply Chain Management では、注文の遅延は、製造オーダーの実行がスケジュールされている量、生産されるべき品目の数、ジョブが実行された時間数、および受信された *PartOut* 信号数に基づいて計算されます。 ジョブに対する *PartOut* 信号の数が想定されるしきい値を下回った場合に、遅延通知が生成されます。

## <a name="scenario-dependencies"></a>シナリオの依存関係

*生産遅延* シナリオには、次のような依存関係があります。

- 警告をトリガーするには、マッピングされたマシンで製造オーダーが実行されている必要があります。
- マッピングされたマシンの *PartOut* 信号を表す信号は、一意のプロパティ名で IoT ハブに送信する必要があります。
- この値がミリ秒単位で表される UNIX タイムスタンプ プロパティ (ms) は、Azure IoT ハブ メッセージに含まれている必要があります。

## <a name="prepare-demo-data-for-the-product-delays-scenario"></a>製造遅延シナリオのデモ データの準備

デモ システムを使用して、*生産遅延* シナリオをテストする場合は、[デモ データ](../../fin-ops-core/fin-ops/get-started/demo-data.md) がインストールされているシステムを使用し、*USMF* 法人 (会社) を選択し、このセクションの説明に従って追加のデモ データを準備します。 独自のプログラムおよびデータを使用している場合は、このセクションをスキップできます。

### <a name="set-up-sensor-simulator"></a>変更プログラムの設定

物理的な活動を使用せずにこのシナリオを試す場合は、必要な信号を生成する新しい機能を設定できます。 詳細については、[テストにシュミレートしたセンサーを設定する](sdi-set-up-simulated-sensor.md) を参照してください。

### <a name="verify-that-resource-3118-is-used-for-product-p0111"></a>製品 P0111 にリソース 3118 が使用されていることを確認します

製造オーダーがスケジュールされ、リリースされます。 そのため、生産ジョブがリソース *3118* にリリースされます (*フォームの切断マシン*)。 デモ データで製品 *P0111* にリソース *3118* が使用されていないことを確認するには、次の手順に従います。

1. **製品管理情報 \> 製品 \> リリースされた製品** の順に移動します。
1. **品目番号**　フィールドが *P0111* に設定されている製品を検索して選択します。
1. アクション ペインの、**エンジニア** タブの、**ビュー** グループで、**ルート** を選択します。
1. **ルート** ページのページ の下部 にある **概要** タブで、**操作: いいえ** を含む行を選択します フィールドが、*30* に設定されています。
1. ページの 下部にある **リソースの要件** タブで、操作にリソース *3118* (*フォーム切断マシン*) が関連付けられているを確認します。

### <a name="create-and-release-a-production-order-for-product-p0111"></a>製品 P0111 の製造オーダーを作成およびリリースします

製品 *P0111* の製造オーダーを作成およびリリースするには、次の手順に従います。

1. **生産管理 \> 製造オーダー \> すべての製造オーダー** の順に移動します。
1. **すべての製造オーダー** ページの、アクション ウィンドウで、**新規一括注文** を選択します。
1. **バッチの作成** ダイアログ ボックスに次の値を設定します。

    - **品目番号:** *P0111*
    - **数量:** *10*

1. **作成** を選択してオーダーを作成し、**すべての製造オーダー** ページに戻ります。
1. **フィルター** フィールドを使用して、**品目番号** フィールドが *P0111* に設定されている製造オーダーを検索します。 その後、作成した製造オーダーを選択します。
1. アクション ペインの、**製造オーダー** タブの、**プロセス** グループで、**見積** を選択します。
1. **見積もり** ダイアログ ボックスで、**OK** を選択して見積もりを実行します。
1. アクション ウィンドウの、**製造オーダー** タブの、**プロセス** グループで、**リリース** を選択します。
1. **リリース** ダイアログ ボックスで、作成したバッチ オーダーの番号をメモします。
1. オーダーをリリースするには、**OK** を選択します。

### <a name="configure-the-production-floor-execution-interface"></a>生産現場の実行インターフェースを構成する

まだ行っていない場合 は、リソース *3118* に割り当てられているジョブ (*"切り抜き加工機*) を表示する生産フロア実行インターフェイスを構成します。 指示については、次のセクションを参照してください。

- [生産現場の実行インターフェースを構成する](sdi-scenario-equipment-downtime.md#config-pfe)
- [生産現場の実行インターフェイスのオプション検索を有効にします](sdi-scenario-equipment-downtime.md#enable-pfe-search)

### <a name="start-the-first-job-in-the-batch-order"></a>バッチ オーダーの最初のジョブの開始

バッチ オーダーの最初のジョブを開始するには、次の手順に従います。

1. **生産管理 \> 製造実行 \> 生産現場の実行** に移動します。
1. **バッチ ID** フィールドで、*123* と入力します。 その後、**サインイン** を選択します。
1. 休暇の理由を確認するメッセージが表示された場合、休暇を示すカードのいずれかを選択し、**OK** を選択します。
1. **検索** フィールドに、以前にメモしたバッチ オーダー番号を入力します。 次に、**返品** キーを選択します。
1. 注文を選択してから、**ジョブの開始** を選択します。
1. **ジョブの開始** ダイアログ ボックスで、**開始** を選択します。

## <a name="set-up-the-production-delays-scenario"></a>生産の遅延のシナリオを設定する

Supply Chain Management で *製造遅延* シナリオを設定するには、次の手順に従います。

1. **生産管理 \> 設定 \> Sensor Data Intelligence \> シナリオ** に移動します。
1. **生産の遅延** シナリオ ボックスで、**構成** を選択して、このシナリオのセットアップ ウィザードを開きます。
1. **センサー** ページで、**新規** を選択してグリッドにセンサーを追加します。 続いて、それに次のフィールドを設定します。

    - **センサー ID** - 使用するセンサーの ID を入力します。 (次の説明に従って、Yyy PI Azure IoT オンライン シュミレーターを使用して設定している場合は、[テスト用にシミュレーションされたオブジェクト名を設定する](sdi-set-up-simulated-sensor.md) にある通り、*ProductionDelay* と入力します。)
    - **センサーの説明** – センサーの詳細説明を入力します。

1. ここで追加する各センサーに前の手順を繰り返します。 いつでも戻ってきて、より多くのセンサーを追加することができます。
1. **次へ** を選択します。
1. **業務レコード マッピング** ページの **センサー** セクションで、今追加したセンサーの 1 つのレコードを選択します。
1. **業務レコード マッピング** セクションで、**新規** を選択して、グリッドに行を追加します。
1. 新しい行で、選択 した 年月を監視するリソースに **業務レコード** を設定します。 (この記事で先に作成したデモ データを使用している場合は、*3118 (提供品切り取り装置)* に設定します。)
1. **次へ** を選択します。
1. **生産遅延誤差のしきい値** ページで、この記事で先に作成したデモ データを使用している場合は、次の手順に従います。

    1. **品目関係** 列のヘッダーを選択して、列の検索フィルタを含むドロップダウン ダイアログ ボックスを開きます。 検索 ボックスに *P0111* と入力し、**適用** を選択します。
    2. **操作** フィールドが *トリム/カット* に設定されている明細行を選択します。 **遅延の通知しきい値 ( %)** フィールドに、通知を送信するしきい値 ( 割合) を設定します。

1. **次へ** を選択します。
1. **センサーの有効化** ページで、グリッドで、追加したプログラムを選択し、**有効化** を選択します。 グリッド内で有効化されたそれぞれについて、**有効** な列にチェック マークが表示されます。
1. **完了** を選択します。

## <a name="work-with-the-production-delays-scenario"></a>生産の遅延のシナリオを使って作業する

### <a name="view-production-delay-data-on-the-resource-status-page"></a>リソース ステータス ページでの生産遅延データを表示する

**リソース ステータス** ページでは、各機械リソースにマップされた装置から受信された信号の適時状態を監修者が監視できます。 タイムラインを構成するには、次の手順に従います。

1. **生産管理 \>製造の実行 \> リソースのステータス** に移動します。
1. **構成** ダイアログ ボックスで、次のフィールドを設定します。

    - **リソース** - 監視したいリソースを選択します。 (デモ データの場合は、*3118* を選択します。)
    - **時系列1** - 名前に次の形式を持つレコード (メトリック キー) を選択します: *ProductionJobDelayed:ActualQuantity:&lt;JobId&gt;*
    - **表示名** - *パーツアウト信号* を入力します。

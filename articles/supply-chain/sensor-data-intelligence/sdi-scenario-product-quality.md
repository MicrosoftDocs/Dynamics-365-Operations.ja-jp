---
title: 製品の品質シナリオ
description: この記事では、製品の品質シナリオに関して説明します。 このシナリオでは、センサーを使用して製品バッチの品質を測定し、測定が定義済のしきい値を超えた場合に警告が生成されます。
author: johanhoffmann
ms.date: 09/02/2022
ms.topic: article
ms.search.form: IoTIntCoreScenarioManagement, IoTIntCoreNotification, IoTIntMfgResourceStatusConfiguration, IoTIntMfgResourceStatus
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2022-09-02
ms.dyn365.ops.version: 10.0.30
ms.openlocfilehash: c0f1c57251234921779f67faf61d47cdde119e64
ms.sourcegitcommit: 3e04f7e4bc0c29c936dc177d5fa11761a58e9a02
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/18/2022
ms.locfileid: "9690051"
---
# <a name="the-product-quality-scenario"></a>製品の品質シナリオ

[!include [banner](../includes/banner.md)]
[!INCLUDE [preview-banner](../includes/preview-banner.md)]
<!-- KFM: Preview until further notice -->

*製品品質* シナリオでは、製造現場での製品ロットの品質を測定するためにセンサーを設定します。 測定が製品の定義済しきい値を超えた場合、スーパーバイザーのダッシュボードに通知が表示されます。 たとえば、センサーが生産ラインから出る食品の水分を測定している場合です。 測定値が製品の水分の許容最小値または最大値を超えた場合は、通知が生成されます。

## <a name="scenario-dependencies"></a>シナリオの依存関係

*製品品質* シナリオには、次のような依存関係があります。

- マッピングされたマシンで製造オーダーを実行し、そのマシンがマッピングされたバッチ属性を持つ製品を生産したときのみ、警告をトリガーすることができます。
- バッチ属性を表す信号が IoT ハブに送信され、一意のプロパティ名が含まれる必要があります。

## <a name="prepare-demo-data-for-the-product-quality-scenario"></a>製品質シナリオのデモ データの準備

デモ システムを使用して、*製品品質* シナリオをテストする場合は、[デモ データ](../../fin-ops-core/fin-ops/get-started/demo-data.md) がインストールされているシステムを使用し、*USMF* 法人 (会社) を選択し、このセクションの説明に従って追加のデモ データを準備します。 独自のプログラムおよびデータを使用している場合は、このセクションをスキップできます。

このセクションでは、*製品品質* シナリオでリリースされた製品 *P0111* (*複合ケース*) を使用できるよう、デモ データを設定します。 このシナリオでは、センサーによって測定されるバッチ属性値が製品に関連付けられているバッチ属性に対して定義されたしきい値を超えるかどうかがシステムによって追跡されます。

### <a name="set-up-a-sensor-simulator"></a>センサー シュミレーターの設定

物理的な活動を使用せずにこのシナリオを試す場合は、必要な信号を生成する新しい機能を設定できます。 詳細については、[テストにシュミレートしたセンサーを設定する](sdi-set-up-simulated-sensor.md) を参照してください。

### <a name="associate-a-batch-attribute-and-resource-with-product-p0111"></a>バッチ属性およびリソースと製品 P0111 との関連付け

次の手順に従って、バッチ属性を製品 *P0111* (*複合ケース*) に関連付け、リソース *3118* (*提供品切断機*) が使用されている点を確認します。

1. **製品管理情報 \> 製品 \> リリースされた製品** の順に移動します。
1. **品目番号**　フィールドが *P0111* に設定されている製品を検索して選択します。
1. [アクション ペイン] の **在庫の管理** タブで、**バッチ属性** グループから、**製品固有** をクリックします。
1. **製品固有** ページで **新規** を選択して、製品固有のバッチ属性を作成します。
1. ヘッダーで、次のフィールドを設定します。

    - **属性コード** – 監視する属性の範囲 (*テーブル*、*グループ*、または *すべて*) を選択します。 このシナリオでは、常に 1つの属性を監視するため、*テーブル* を選択します。
    - **属性の関係** – *製品の品質* シナリオを使用して、値を監視する属性を選択します。 この例では、標準のデモ データに含まれる属性である *濃度* を選択します。

1. **値** クイックタブの **最小** フィールドおよび **最大** フィールドで、品質確認に合格するために属性が報告する必要がある許容可能な値の範囲を定義します。 センサーがこの範囲以外の値を報告した場合、システムは品質違反として識別します。 このクイックタブのその他のフィールドは、*製品の品質* シナリオには 関連しません。 現在表示されている既定値はデモ データから取得されます。 そのため、このフィールドはそのままにしておき、**製品固有** ページを閉じて、品目 *P0111* の **リリース済製品の詳細** ページに戻ります。
1. アクション ペインの、**エンジニア** タブの、**ビュー** グループで、**ルート** を選択します。
1. **ルート** ページのページ の下部 にある **概要** タブで、**操作: いいえ** を含む行を選択します フィールドが、*30* に設定されています。
1. ページの 下部にある **リソースの要件** タブで、操作にリソース *3118* (*フォーム切断マシン*) が関連付けられているを確認します。

### <a name="create-and-release-a-production-order-for-product-p0111"></a>製品 P0111 の製造オーダーを作成およびリリースします

製品 *P0111* の製造オーダーを作成およびリリースするには、次の手順に従います。

1. **生産管理 \> 製造オーダー \> すべての製造オーダー** の順に移動します。
1. **すべての製造オーダー** ページの、アクション ウィンドウで、**新規一括注文** を選択します。
1. **バッチの作成** ダイアログ ボックスに次の値を設定します。

    - **品目番号:** *P0111*
    - **数量:** *10*

1. **作成** を選択してオーダーを作成し、**すべての製造オーダー** ページに戻ります。
1. **フィルター** フィールドを使用して、**品目番号** フィールドが *P0111* に設定されている製造オーダーを検索します。 その後、作成した製造オーダーを選択します。
1. アクション ペインの、**製造オーダー** タブの、**プロセス** グループで、**見積** を選択します。
1. **見積もり** ダイアログ ボックスで、**OK** を選択して見積もりを実行します。
1. アクション ウィンドウの、**製造オーダー** タブの、**プロセス** グループで、**リリース** を選択します。
1. **リリース** ダイアログ ボックスで、作成したバッチ オーダーの番号をメモします。
1. オーダーをリリースするには、**OK** を選択します。

### <a name="configure-the-production-floor-execution-interface"></a>生産現場の実行インターフェースを構成する

まだ行っていない場合 は、リソース *3118* に割り当てられているジョブ (*"切り抜き加工機*) を表示する生産フロア実行インターフェイスを構成します。 指示については、次のセクションを参照してください。

- [生産現場の実行インターフェースを構成する](sdi-scenario-equipment-downtime.md#config-pfe)
- [生産現場の実行インターフェイスのオプション検索を有効にします](sdi-scenario-equipment-downtime.md#enable-pfe-search)

### <a name="start-the-first-job-in-the-batch-order"></a>バッチ オーダーの最初のジョブの開始

バッチ オーダーの最初のジョブを開始するには、次の手順に従います。

1. **生産管理 \> 製造実行 \> 生産現場の実行** に移動します。
1. **バッチ ID** フィールドで、*123* と入力します。 その後、**サインイン** を選択します。
1. 休暇の理由を確認するメッセージが表示された場合、休暇を示すカードのいずれかを選択し、**OK** を選択します。
1. **検索** フィールドに、以前にメモしたバッチ オーダー番号を入力します。 次に、**返品** キーを選択します。
1. 注文を選択してから、**ジョブの開始** を選択します。
1. **ジョブの開始** ダイアログ ボックスで、**開始** を選択します。

## <a name="set-up-the-product-quality-scenario"></a>製品品質のシナリオを設定する

Supply Chain Management で *製品品質* シナリオを設定するには、次の手順に従います。

1. **生産管理 \> 設定 \> Sensor Data Intelligence \> シナリオ** に移動します。
1. **製品品質** シナリオ ボックスで、**構成** を選択して、このシナリオのセットアップ ウィザードを開きます。
1. **センサー** ページで、**新規** を選択してグリッドにセンサーを追加します。 続いて、それに次のフィールドを設定します。

    - **センサー ID** - 使用するセンサーの ID を入力します。 (次の説明に従って、Yyy PI Azure IoT オンライン シュミレーターを使用して設定している場合は、[テスト用にシミュレーションされたオブジェクト名を設定する](sdi-set-up-simulated-sensor.md) にある通り、*Quality* と入力します。)
    - **センサーの説明** – センサーの詳細説明を入力します。

1. ここで追加する各センサーに前の手順を繰り返します。 いつでも戻ってきて、より多くのセンサーを追加することができます。
1. **次へ** を選択します。
1. **業務レコード マッピング** ページの **センサー** セクションで、今追加したセンサーの 1 つのレコードを選択します。
1. **業務レコード マッピング** セクションで、**新規** を選択して、グリッドに行を追加します。
1. 新しい行では、**業務レコード タイプ** フィールドが自動的 に *リソース (WrkCtrTable)* に設定されます。 新しい行で、選択 した 年月を監視するリソースに **業務レコード** を設定します。 (この記事で先に作成したデモ データを使用している場合は、*3118 (提供品切り取り装置)* に設定します。)
1. 前の手順で追加した行に対して業務レコード タイプを選択すると、直後に 2 行目がグリッドに自動的に追加されます。 この行では、**業務レコード タイプ** フィールドは *バッチ属性 (PdsBatchAttrib)* に設定する必要があります。 新しい行で、選択した年月を監視するバッチ属性に **業務レコード** を設定します。 (この記事で先に作成したデモ データを使用している場合は、*濃度、濃度パーセント* に設定します。)
1. **次へ** を選択します。
1. **センサーの有効化** ページで、グリッドで、追加したプログラムを選択し、**有効化** を選択します。 グリッド内で有効化されたそれぞれについて、**有効** な列にチェック マークが表示されます。
1. **完了** を選択します。

## <a name="work-with-the-product-quality-scenario"></a>製品品質の使用

### <a name="view-product-quality-data-on-the-resource-status-page"></a>リソース ステータス ページでの製品品質データを表示する

**リソース ステータス** ページでは、各マシン リソースにマップされたセンサーから受信された製品品質信号のタイムラインをスーパーバイサーが監視できます。 タイムラインを構成するには、次の手順に従います。

1. **生産管理 \>製造の実行 \> リソースのステータス** に移動します。
1. **構成** ダイアログ ボックスで、次のフィールドを設定します。

    - **リソース** - 監視したいリソースを選択します。 (デモ データの場合は、*3118* を選択します。)
    - **時系列 1** - 名前に次の形式を持つレコード (メトリック キー) を選択します: *ProductQuality:&lt;JobId&gt;:&lt;AttributeName&gt;*
    - **表示名** – *バッチ属性値* を入力します。

次の図は、値が許容可能な値の範囲にある場合に **リソース ステータス** ページに表示される製品品質データの例を示します。

![値が範囲にある場合の [リソース ステータス] ページの製品品質データ。](media/sdi-product-quality-in-range.png "値が範囲にある場合の [リソース ステータス] ページの製品品質データ")

次の図は、範囲外の値が検出された場合の製品品質データの例を示しています。

![範囲外の値が検出された場合の [リソース ステータス] ページの製品品質データ。](media/sdi-product-quality-out-of-range.png "範囲外の値が検出された場合の [リソース ステータス] ページの製品品質データ")

### <a name="view-product-quality-data-on-the-notifications-page"></a>[通知] ページでの製品品質データを表示する

**通知** ページで、スーパーバイザーは、センサーがバッチ属性の値を測定し、その値がバッチ属性の定義されたしきい値から外れた場合に発生する通知を見ることができます。 各通知は、変更によって影響を受ける生産ジョブの概要を示し、影響を受けるジョブを別のリソースに再度割り当てオプションとして表示します。

**通知** ページを開くには、**製造管理 \> 照会とレポート \> センサー データ インテリジェンス \> 通知** に移動します。

次の図は、製品品質通知の例です。

![製品品質通知の例。](media/sdi-product-quality-notification.png "製品品質通知の例")

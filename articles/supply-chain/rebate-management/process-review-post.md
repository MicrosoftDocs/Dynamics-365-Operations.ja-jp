---
title: リベートの処理、確認、および転記
description: このトピックでは、リベート管理の案件を処理し、その割引を計算し、生成されたトランザクションを確認し、トランザクションを転記し、転記を確認する方法について説明します。
author: sherry-zheng
ms.date: 02/19/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: TAMRebateDeal
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: chuzheng
ms.search.validFrom: 2021-02-19
ms.dyn365.ops.version: Release 10.0.18
ms.openlocfilehash: 1a9603df8fd3b2c81c37ca95fd1b13d0b6f4004a38b0cf86846486e3b5d41bfa
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/05/2021
ms.locfileid: "6729413"
---
# <a name="process-review-and-post-rebates"></a>リベートの処理、確認、および転記

[!include [banner](../includes/banner.md)]

このトピックでは、リベート管理の案件を処理し、その割引を計算し、生成されたトランザクションを確認し、トランザクションを転記し、転記を確認する方法について説明します。

## <a name="change-the-status-of-a-deal"></a>取引の状態を変更する

各取引に状態を割り当てることで、追跡が可能になります。 この状態は、情報提供のみを目的としています。

1. 契約を選択します ([**すべてのリベート管理契約** ページなど](rebate-management-deals.md))。
1. アクション ペインの **リベート管理取引** タブで、**整備** グループで、**状態の変更** を選択します。
1. **状態の変更** ダイアログ ボックスで、**リベートの状態** フィールドを 新しい状態に設定します。
1. **OK** を選択します。

## <a name="calculate-fifo-purchase-prices"></a>FIFO 購買価格の計算

**価格基準** フィールドが *FIFO* に設定されている [案件](rebate-management-deals.md)のリベートを計算するには、**FIFO 購入価格計算** タスクを定期的に実行する必要があります。 システムでは先入れ先出し (FIFO) ルールを使用して、売却された在庫の値が計算されます。 この値は、仕入先のリベートの計算に使用されます。

**リベート 管理 \> 定期タスク \> FIFO 購買価格の計算** に移動します。 表示されるダイアログ ボックスで、**OK** を選択して計算を実行します。

## <a name="create-source-transactions"></a>ソース トランザクションを作成する

[!INCLUDE [preview-banner-section](../../includes/preview-banner-section.md)]

適用されるリベート管理取引を作成する前または作成した後に、ソース トランザクションを含む販売注文または発注書を作成できます。

販売注文または発注書の出荷または請求書を転記してリベート プロビジョニングを自動的に作成するために、取引明細行を設定できます。 取引明細の **トランザクション タイプ** フィールドを *出荷* または *請求書* に設定し、**転記時の処理** オプションを *はい* に設定します。 **トランザクション タイプ** フィールドが *注文* に設定されている場合、転記時の処理は無効になります。 取引が有効化された後に作成されたソース トランザクションの場合でも、このトピックの後半の[リベート管理取引を処理する](#process-deals) セクションで説明されているように、プロビジョニングを処理できます。

### <a name="enable-price-details"></a>価格の詳細の有効化

ソース トランザクションを作成する前に、売掛金勘定の **価格の詳細の有効化** オプションを有効にする必要があります。

1. **売掛金勘定 \> 設定 \> 売掛金勘定パラメーター** に移動します。
1. **価格** タブの **価格の詳細** クイック タブで、**価格の詳細の有効化** オプションを *はい* に設定します。

### <a name="create-a-source-transaction"></a>ソース トランザクションを作成する

ソース トランザクションを作成するには、次の手順に従います。

1. **販売とマーケティング \> 販売注文 \> すべての販売注文** の順に移動します。
1. **新規** を選択します。

    リベート要求が生成された方法を再現するために、製品と数量が顧客にリベートの対象となる販売注文を作成する必要があります。

1. **顧客 ID** フィールドで、リベート契約を利用できる顧客を入力または選択します。
1. **OK** を選択して販売注文を作成します。
1. **販売注文明細行** クイック タブで、明細行を追加し、次のフィールドを設定します:

    - **品目番号** – リベートの対象となる品目を指定します。
    - **数量** – **基準** フィールドが *数量* に設定された行を含むリベート契約の対象となる数量を指定します。
    - **単価** – **基準** フィールドが *値* に設定された行を含むリベート契約の対象となる価格を指定します。
    - **サイト** – 製品が使用可能で、リベート契約の対象となるサイトを選択します。
    - **倉庫** – 製品が使用可能で、リベート契約の対象となる倉庫を選択します。

1. **販売注文明細行** クイック タブのツールバーで、**販売注文明細行 \> 価格の詳細** を選択します。 このコマンドは、前のセクションの説明に従って価格の詳細を有効にした場合にのみ使用できます。
1. **価格の詳細** ページで、**リベート管理** クイック タブを選択します。 このクイック タブは、現在の注文明細行に適用されるすべてのリベート管理取引を一覧表示し、注文の通貨での見積済リベート金額を表示します。 金額は、将来のリベートの請求の見積のみであることに注意してください。 実際のリベート金額は異なる場合があります。 実際の金額に影響を与える可能性がある要因を次に示します:

    - 定期的なリベート契約の下で顧客が達成した合計売上高。
    - 顧客がすべての数量を返品したか、一部の数量を返したかどうか。
    - 適用された販売注文が、リベート管理契約に対して定義されているトランザクション タイプ (*注文、出荷*、または *請求書*) を達成したかどうか。
    - 取引の **出力** 値。 **出力** フィールドが *品目* に設定されている取引の場合、空白のリベート金額が表示されます。

1. **詳細** クイック タブで、**利益見積** セクションに次のフィールドが含まれていることに注意してください。 これらのフィールドは、リベート管理によって追加されます。 すべて単位ごとの値を示します (**リベート管理** クイック タブのフィールドは明細行の合計値を示します)。

    - **リベート管理のリベート金額** (販売注文のみ)
    - **リベート管理のロイヤリティ金額** (販売注文のみ)
    - **リベート管理の仕入先リベート金額** (販売注文および発注書)

1. **価格の詳細** ページを閉じます。
1. 表示したばかりのリベートの対象とならない販売注文の場合は、次の手順に従ってリベートを除外します。 (ただし、通常、リベートは除外しません。)

    1. **販売注文明細行** クイックタブで、関連する明細行を選択します。
    1. **行の詳細** クイック タブの **価格と割引** タブで、**リベート管理から除外** オプションを *はい* に設定します。 このオプションは発注書には適用されません。 さらに、このオプションが *はい* に設定されている場合は、顧客リベートのみが除外されます。 顧客のロイヤルティ リベートおよび仕入先リベートは引き続き適用されます。

1. アクション ウィンドウの **ピッキングと梱包** タブの **生成** グループで、**梱包明細の転記** を選択します。
1. **パラメーター** クイック タブの **数量** フィールドで、*すべて* を選択します。
1. **OK** を選択します。
1. 操作の確認を求められたら、**OK** を選択します。
1. アクション ペインの、**請求書** タブで、**生成** グループから **請求書** を選択します。
1. **パラメーター** クイック タブの **数量** フィールドで、*すべて* または *梱包明細* を選択します。
1. **OK** を選択します。
1. 操作の確認を求められたら、**OK** を選択します。

## <a name="process-rebate-management-deals"></a><a name="process-deals"></a>リベート管理取引を処理する

取引を処理すると、設定されているすべての関連するリベートやロイヤリティを計算します。 計算できる状態にある計算期間となっており、状態が  *有効* である選択された案件のみが処理されます。 処理が完了すると、一連のトランザクションが生成され、これを確認してから転記することができます。

> [!NOTE]
> いずれの場合も、リベートは各取引の **調整** 設定 (*取引* または *明細*) で指定されたレベルで処理されます。 単一行の計算は、**調整** フィールドが *明細* に設定されている案件に対してのみ行うことができます。

### <a name="process-all-lines-for-one-or-more-deals"></a>ひとつまたは複数の取引ですべての明細を処理する

1. 作業する取引の種類に応じて、適切な[リベート取引一覧ページ](rebate-management-deals.md)を開きます。
1. 処理する各取引の行を選択します (または、処理する取引を開きます)。
1. アクション ペインの **リベート管理契約** タブの **生成** グループで、次のいずれかのコマンドを選択します :

    - **処理 \> プロビジョニング** - 関連するリベート契約ごとに一連の見越計上を繰り入れますが、転記しません。 このメニュー項目は、**リベート出力** フィールドが *項目* に設定されている取引では使用できません。
    - **処理 \> リベート管理** - 各取引のリベートの価値を提供する一連のトランザクションを処理します。
    - **処理 \> 損金処理** – リベート取引と指定期間の各ソース トランザクションに関して、プロビジョニングおよびリベート管理用に転記された金額間の差異を処理します。 このメニュー項目は、**リベート出力** フィールドが *項目* に設定されている取引では使用できません。

1. 表示されるダイアログ ボックスで、**開始日** フィールドと **終了日** フィールドを設定して計算の日付範囲を定義します。
1. **OK** を選択して計算を実行します。

### <a name="process-one-or-more-specific-deal-lines-for-a-selected-deal"></a>選択された取引に対して、ひとつまたは複数の特定の取引明細行を処理する

1. 作業する取引の種類に応じて、適切な[リベート取引一覧ページ](rebate-management-deals.md)を開きます。
1. 明細行を処理する取引を開きます。
1. 右上隅の **明細行** タブを選択します。
1. **リベート管理** クイック タブで、処理する契約行ごとに明細行を選択します。
1. **リベート管理** クイック タブ のツール バーで、次のいずれかのコマンドを選択します。 (これらのコマンドは、**調整** フィールドが *明細行* に設定されている取引でのみ利用可能です。)

    - **処理 \> プロビジョニング** - 関連する取引の明細ごとに一連の見越計上を繰り入れますが、転記しません。 このメニュー項目は、**リベート出力** フィールドが *項目* に設定されている取引では使用できません。
    - **処理 \> リベート管理** - 各取引明細行のリベートの価値を提供する一連のトランザクションを処理します。
    - **処理 \> 損金処理** – リベート取引と指定期間の各ソース トランザクションに関して、プロビジョニングおよびリベート管理用に転記された金額間の差異を処理します。 このメニュー項目は、**リベート出力** フィールドが *項目* に設定されている取引では使用できません。 

1. 表示されるダイアログ ボックスで、**開始日** フィールドと **終了日** フィールドを設定して計算の日付範囲を定義します。
1. **OK** を選択して計算を実行します。

### <a name="process-deals-using-a-batch-job"></a>バッチ ジョブを使用した取引の処理

特定の取引や取引明細行を処理する代わりに、バッチジョブを実行して複数の取引を同時に処理することができます。 必要に応じて、レコード フィルターの適用や、定期的なスケジュールの設定を行います。 バッチ ジョブを使用して取引を処理するには、次の手順に従います。

1. 次の手順のいずれかを実行します。

    - **リベート管理 \> 定期処理タスク \> 処理 \> プロビジョニング** に移動して、関連する取引ごとに一連の発生額をプロビジョニングしますが、転記しません。
    - **リベート管理\> 定期タスク \> 処理 \> リベート管理** に移動し、 各取引のリベートの値を提供する一連のトランザクションを処理します。
    - **リベート管理 \> 定期タスク \> 処理 \> 損金処理** に移動して、新たなリベート取引の計算ができるように、以前に転記した取引を損金処理して償却します。

1. 表示されるダイアログ ボックスの **パラメーター** クイック タブの **期間** セクションで、**開始日** フィールドと **終了日** フィールドを設定して、計算に使用するトランザクションの日付範囲を定義します。
1. **保証期間** セクションで、**開始日** と **終了日** フィールドを設定して、算出対象となる保証の日付範囲を定義します。
1. **含めるレコード** クイックタブでは、バッチジョブが処理する案件のセットを制限するフィルターを設定できます。 これらの設定は、他のタイプのバッチ ジョブに対して使用する場合と同様に機能します。
1. **バックグラウンドで実行** クイック タブでは、必要に応じてバッチ処理やスケジュール設定のオプションを設定することができます。 これらの設定は、他のタイプのバッチ ジョブに対して使用する場合と同様に機能します。
1. **OK** を選択して、計算の実行、または計算のスケジュール設定をします。

### <a name="process-deals-by-using-the-rebate-workbench"></a>リベート ワークベンチを使用した取引の処理

[!INCLUDE [preview-banner-section](../../includes/preview-banner-section.md)]

特定の取引や取引明細行を処理する代わりに、*リベート ワークベンチ* を使用して複数の取引を同時に処理することができます。 必要に応じて、レコード フィルターの適用や、定期的なスケジュールの設定を行います。 行を選択する必要はありません。 システムは、設定した日付とフィルターの要件を満たすすべての明細行を処理します。

リベート ワークベンチを使用して取引を処理するには、次の手順に従います。

1. **リベート管理 \> リベート管理取引 \> リベート ワークベンチ** に移動します。
1. アクション ペインの **リベート ワークベンチ** タブの **処理** グループで、次のいずれかのコマンドを選択します:

    - **処理 \> プロビジョニング** - 関連する取引の明細ごとに一連の見越計上を繰り入れますが、見越計上は転記しません。
    - **処理 \> リベート管理** - 各取引明細行のリベートの価値を提供する一連のトランザクションを処理します。
    - **処理 \> 損金処理** – リベート取引と指定期間の各ソース トランザクションに関して、プロビジョニングおよびリベート管理用に転記された差異を処理します。

1. **リベート管理** ダイアログ ボックスの **期間** セクションで、**開始日** フィールドと **終了日** フィールドを設定して、計算の日付範囲を定義します。
1. **保証期間** セクションで、**開始日** と **終了日** フィールドを設定して、算出対象となる保証の日付範囲を定義します。
1. **含めるレコード** クイックタブでは、バッチジョブが処理する案件のセットを制限するフィルターを設定できます。 これらの設定は、他のタイプのバッチ ジョブに対して使用する場合と同様に機能します。
1. **バックグラウンドで実行** クイック タブでは、必要に応じてバッチ処理やスケジュール設定のオプションを設定することができます。 これらの設定は、他のタイプのバッチ ジョブに対して使用する場合と同様に機能します。
1. **OK** を選択して、計算の実行、または計算のスケジュール設定をします。

## <a name="view-and-edit-rebate-management-transactions"></a>リベート管理トランザクションの表示と編集

ひとつまたは複数の案件を処理すると、システムがトランザクションを作成し、転記する前に閲覧や、編集することができます。

### <a name="view-and-edit-rebate-management-transactions-by-using-the-rebate-deals-list-page"></a>リベート契約リスト ページを使用したリベート管理トランザクションの表示と編集

リベート契約リスト ページを使用したリベート管理トランザクションを表示および編集するには、次の手順を実行します。

1. 次の手順のいずれかを実行します。

    - トランザクションを表示する取引を選択します (例 : [**すべてのリベート管理契約** ページ など](rebate-management-deals.md))。 アクション ペインの、**リベート管理契約** タブ上の **トランザクション** グループで、表示するトランザクションの種類に応じて **トランザクション** または **保証トランザクション** を選択します。
    - 取引を開いて詳細を表示します (例 : [**すべてのリベート管理契約** ページ など](rebate-management-deals.md))。 **リベート管理** クイック タブで、取引明細行を選択してトランザクションを表示します。 続いてツールバー上で、表示するトランザクションのタイプに応じて、**トランザクション** や **保証トランザクション** を選択します。 (これらのボタンは、**調整** フィールドが *明細行* に設定されている取引でのみ利用可能です。)

1. **リベート管理日トランザクション** または **リベート管理保証トランザクション** ページが表示されます。 これにはグリッドが含まれており、各行はひとつのリベート、または保証期間のトランザクションの集合を表しています。 グリッドで行を選択し、アクション ペインで **ソーストランザクション** を選択すると、その行に属するトランザクションが表示されます。
1. 表示されるページには、選択した行に属している選択したタイプのトランザクションの一覧が表示されます。 各トランザクションは、トランザクションの種類に応じて関連する詳細情報が表示されます。 保証トランザクションの場合は、一覧のみを表示できます。 他のタイプのトランザクションについては、このページで次のアクションを実行できます :

    - ページ上のすべての請求されたトランザクションの合計金額を確認するには、**請求金額** フィールドを表示します。
    - トランザクションに関する詳細を表示するには、目的のトランザクションを選択し、**一般**、**財務分析コード**、**分析コード** タブを選択します。
    - 適用する減額を表示するには、アクション ペインで **トランザクションの減額** を選択します。 詳細については、[リベート減額の原則](rebate-reduction-principle.md)を参照してください。
    - 請求プロセスを使用している場合に、トランザクションを請求済み、または未請求のいずれかにマークするには、関連する行を選択してから、アクション ペインで以下のコマンドのいずれかを選択します。 ([**リベート管理パラメータ** ページ ](rebate-management-parameters.md)で、請求プロセスを有効にできます。)

        - **請求済 \> すべて** - すべてのトランザクションを請求済としてマークします。
        - **請求済 \> 選択済** - 選択したトランザクションを請求済としてマークします。
        - **未請求 \> すべて** - すべてのトランザクションを未請求としてマークします。
        - **未請求 \> 選択済** - 選択したトランザクションを未請求としてマークします。

    - アクション ウィンドウの **転記** を選択して、すべての関連する明細行の請求を転記します。 要求プロセスを使用している場合 (**請求の処理を使用する** オプションが **リベート管理パラメーター** ページで有効になっている場合)、**請求済** とマークされている明細行のみが転記されます。 それ以外の場合は、選択したリベート トランザクションのすべてのソース トランザクションが転記されます。 **転記** ボタンは、リベート トランザクションの場合にのみ使用できます。 プロビジョニングおよび損金処理トランザクションには使用できません。 **転記** ダイアログ ボックスでは、**開始日** と **終了日** フィールドが自動的に設定されます。 **転記日** フィールドで **OK** を選択します。
    - オープンなトランザクション、または未転記のトランザクションに表示される金額を調整するには、トランザクションを選択し、次のいずれかの手順に従います :

        - **訂正された金額** フィールドの値を編集します。
        - アクション ペインで、**訂正の設定** を選択します。 その後、表示されるドロップダウン ダイアログ ボックスの **訂正された金額** フィールドに値を入力します。

> [!NOTE]
> 請求プロセスを使用している場合、次の期間を処理すると、トランザクション リストには、以前の転記で未請求であったトランザクションと、選択した期間の新しいトランザクションが含まれます。

### <a name="view-and-edit-rebate-management-transactions-by-using-the-rebate-workbench"></a>リベート ワークベンチを使用したリベート管理トランザクションの表示と編集

[!INCLUDE [preview-banner-section](../../includes/preview-banner-section.md)]

リベート ワークベンチを使用したリベート管理トランザクションを表示および編集するには、次の手順を実行します。

1. **リベート管理 \> リベート管理取引 \> リベート ワークベンチ** に移動します。
1. **表示** フィールドを *未転記* に設定します。
1. **リベート ワークベンチ** ページはトランザクションの一覧を表示します。 各トランザクションは、関連する詳細を提供します。 これらの詳細はトランザクション タイプによって異なります。 このページで、次のアクションを行うことができます:

    - トランザクションに関する詳細を表示するには、目的のトランザクションを選択し、**一般**、**財務分析コード**、**分析コード** タブを選択します。
    - 請求プロセスを使用する場合は、トランザクションを請求済または未請求としてマークできます。 関連する行を選択してから、アクション ペインの **リベート ワークベンチ** タブで、次のいずれかのコマンドを選択します。 ([**リベート管理パラメーター**](rebate-management-parameters.md) ページ で、請求プロセスを有効にします。)

        - **請求済** – 選択したトランザクションを請求済としてマークします。
        - **未請求** – 選択したトランザクションを未請求としてマークします。

    - 1 つ以上の明細行の請求を転記するには、関連する明細行を選択します。 次に、アクション ウィンドウの **リベート ワークベンチ** タブで、**転記** を選択します。 **転記** ボタンは、プロビジョニング、リベート、および損金処理トランザクションに使用できます。 **転記** ダイアログ ボックスでは、**開始日** と **終了日** フィールドが自動的に設定されます。 **転記日** フィールドで **OK** を選択します。
    - オープンなトランザクション、または未転記のトランザクションに表示される金額を調整するには、トランザクションを選択し、次のいずれかの手順に従います :

        - **訂正された金額** フィールドの値を編集します。
        - アクション ウィンドウの **リベート ワークベンチ** タブで、**訂正の設定** を選択します。 その後、表示されるドロップダウン ダイアログ ボックスの **訂正された金額** フィールドに値を入力します。

> [!NOTE]
> 請求プロセスを使用している場合、次の期間を処理すると、トランザクション リストには、以前の転記で未請求であったトランザクションと、選択した期間の新しいトランザクションが含まれます。

## <a name="post-rebates-transactions"></a>リベート トランザクションを転記する

処理されたプロビジョニングの値、リベート管理金額、および損金処理を転記するには、転記プロセスを実行する必要があります。 転記プロセスにより、プロビジョニング、リベート管理、または損金処理トランザクションが転記済としてマークされ、ターゲット トランザクションが作成されます。 ターゲット トランザクションを確認する必要がない場合は、これらのトランザクションが自動的に転記されるよう設定できます。

### <a name="set-up-the-system-to-post-all-target-transactions-automatically"></a>すべてのターゲット トランザクションが自動的に転記されるようにシステムを設定する

転記プロビジョニング、リベート管理金額や損金処理により生成されたすべてのターゲット トランザクションをすぐに転記するようシステムを設定するには、**リベート管理のパラメーター** ページで、**仕訳帳の自動転記** または **自由形式の請求書の自動転記** オプションをオンにします。 詳細については、[リベート管理のパラメーター](rebate-management-parameters.md) を参照してください。

### <a name="post-transactions-for-all-lines-for-one-or-more-deals"></a>ひとつまたは複数の取引ですべての明細のトランザクションを転記する

関連する取引を処理した後、以下の手順で、 1 つまたは複数の取引のすべての明細行について、生成された取引を確認し、転記します。

1. 作業する取引の種類に応じて、適切な[リベート取引一覧ページ](rebate-management-deals.md)を開きます。
1. 転記する各取引の行を選択します (または、転記する取引を開きます)。
1. アクション ペインの **リベート管理契約** タブの **生成** グループで、次のいずれかのコマンドを選択します :

    - **転記 \> プロビジョニング** - 作成した利用可能な発生取引を転記します。
    - **転記 \> リベート管理** - 作成した利用可能なリベート トランザクションを転記します。
    - **転記 \> 損金処理** - 作成した利用可能な損金処理トランザクションを転記します。

1. 表示されたダイアログ ボックスで、**転記日付け** フィールドを設定します。 続いて、**開始日** と **終了日**  フィールドを設定して、転記する必要のあるトランザクションの日付範囲を定義します。
1. **OK** を選択して、トランザクションを転記します。

### <a name="post-transactions-for-one-or-more-specific-deal-lines-for-a-selected-deal"></a>選択された案件のひとつ、または複数の特定の取引明細行に対するトランザクションの転記

関連する取引を処理した後、以下の手順で、選択した取引の 1 つ以上の特定の取引明細行について、生成されたトランザクションを確認し、転記します。 この手順は、**調整基準** フィールドが *明細行* に設定されている取引でのみ利用可能です。

1. 作業する取引の種類に応じて、適切な[リベート取引一覧ページ](rebate-management-deals.md)を開きます。
1. トランザクションの転記する明細行のある取引を開きます。
1. 右上隅の **明細行** タブを選択します。
1. **リベート管理** クイック タブで、転記する契約行ごとに明細行を選択します。
1. **リベート管理** クイック タブ のツール バーで、次のいずれかのコマンドを選択します。 (これらのコマンドは、**調整** が *明細行* に設定されている取引でのみ利用可能です。)

    - **転記 \> プロビジョニング** - 作成した利用可能な発生取引を転記します。
    - **転記 \> リベート管理** - 作成した利用可能なリベート トランザクションを転記します。
    - **転記 \> 損金処理** - 作成した利用可能な損金処理トランザクションを転記します。

1. 表示されたダイアログ ボックスで、**転記日付け** フィールドを設定します。 続いて、**開始日** と **終了日**  フィールドを設定して、転記する必要のあるトランザクションの日付範囲を定義します。
1. **OK** を選択して、トランザクションを転記します。

### <a name="post-transactions-using-a-batch-job"></a>バッチ ジョブを使用したトランザクションの転記

特定の取引や取引行のトランザクションを転記する代わりに、バッチジョブを実行して複数の取引のトランザクションを同時に転記することができます。 必要に応じて、レコード フィルターの適用や、定期的なスケジュールの設定を行います。 バッチ ジョブを使用してトランザクションを転記するには、次の手順に従います。

1. 次の手順のいずれかを実行します。

    - 作成した利用可能な発生トランザクションを転記するには、**リベート管理 \> 定期処理タスク \> 転記 \>プロビジョニング** に移動します。
    - 作成した利用可能なリベート トランザクションを転記するには、**リベート管理 \> 定期処理タスク \> 転記 \>リベート管理** に移動します。
    - 作成した利用可能な損金処理トランザクションを転記するには、**リベート管理 \> 定期処理タスク \> 転記 \> 損金処理** に移動します。

1. 表示されるダイアログ ボックスの **パラメータ** クイック タブの **期間** セクションで、**転記日付** フィールドを設定します。 続いて、**開始日** と **終了日**  フィールドを設定して、転記する必要のあるトランザクションの日付範囲を定義します。
1. **保証期間** セクションで、**開始日** と **終了日** フィールドを設定して、転記の必要がある保証の日付範囲を定義します。
1. **含めるレコード** クイックタブでは、バッチジョブが処理する案件のセットを制限するフィルターを設定できます。 これらの設定は、他のタイプのバッチ ジョブに対して使用する場合と同様に機能します。
1. **バックグラウンドで実行** クイック タブでは、必要に応じてバッチ処理やスケジュール設定のオプションを設定することができます。 これらの設定は、他のタイプのバッチ ジョブに対して使用する場合と同様に機能します。
1. **OK** を選択して、計算の実行、または計算のスケジュール設定をします。

### <a name="post-transactions-by-using-the-rebate-workbench"></a>リベート ワークベンチを使用したトランザクションの転記

[!INCLUDE [preview-banner-section](../../includes/preview-banner-section.md)]

プロビジョニング、リベート、または損金処理トランザクションを処理した後、次の手順に従って、リベート ワークベンチを使用し、すべての取引の 1 つ以上の特定のトランザクション明細行に対して生成されたトランザクションを確認および転記します。

1. **リベート管理 \> リベート管理取引 \> リベート ワークベンチ** に移動します。
1. グリッドで、転記する各トランザクションの明細行の行を選択します。 未転記のプロビジョニング、リベートや損金処理トランザクションを選択できます。 次のルールが適用されます。

    - システムはまた、選択した明細行と同じ **リベート トランザクション番号** の値を持つすべての明細行を転記します。
    - システムは、請求済としてマークされていない *リベート* トランザクション タイプの明細行を転記しません。
    - 既に転記されている明細行を選択する場合、転記された明細行はスキップされます。
    - **転記** ボタンは、未転記の明細行を 1 つ以上選択した場合にのみ使用できます。

1. アクション ペインの、**リベート ワークベンチ** タブの **処理** グループで、**転記** を選択します。
1. **転記** ダイアログ ボックスで、**転記日付け** フィールドを設定します。 **開始日** および **終了日** フィールドは、選択した明細行の最も早い **開始日** の値と最新の **終了日** の値に基づいて自動的に設定されます。
1. **OK** を選択して、トランザクションを転記します。

## <a name="review-rebate-management-journals"></a><a name="review-journals"></a>リベート管理仕訳帳のレビュー

トランザクションが転記された後は、結果の仕訳帳、ドキュメント、品目を確認できます。 リベートやロイヤルティの対象トランザクションは、転記プロファイルに設定されている支払いタイプとリベートの出力タイプに基づいています。 たとえば、リベートの出力が *項目* に設定されている場合、顧客リベート用に販売注文が作成され、仕入先リベート用に発注書が作成されます。 これらの注文はターゲット トランザクションを通じて表示できます。 また、支払いに買掛金勘定を使用するように設定されている場合、顧客のリベートに対して、顧客に設定されている仕入先の請求書が作成されます。

### <a name="review-journals-by-using-the-rebate-deals-list-page"></a>リベート取引リスト ページを使用した仕訳帳を確認する

リベート管理契約に関連付けられている仕訳帳のエントリを確認するには、次の手順に従います。

1. 作業する取引の種類に応じて、適切な[リベート取引一覧ページ](rebate-management-deals.md)を開きます。
1. 仕訳帳エントリを検査する取引を選択します。
1. アクション ウィンドウの、**リベート管理契約** タブ上の **トランザクション** グループで、表示するトランザクションの種類に応じて **トランザクション** または **保証トランザクション** のどちらかを選択します。
1. **表示** フィールドを *すべて* または *転記済* に設定します。
1. 検査するトランザクションの集合を検索して選択し、アクション ペインで、次のいずれかのボタンを選択します。 (これらのボタンは、選択したトランザクションの集合に関連する転記が存在する場合にのみ使用できます。)

    - **ターゲット トランザクション** - 選択した取引によって生成された関連仕訳帳などのタイプのドキュメントを確認します。
    - **項目** – 選択した取引により生成された関連する販売注文または発注書を確認します。

1. 関連する仕訳帳、ドキュメント、品目の一覧が表示されます。 仕訳帳、ドキュメント、品目に関する詳細情報を表示するには、その行を選択し、アクション ペインで **詳細の表示** を選択します。

### <a name="review-journals-by-using-the-rebate-workbench"></a>リベート ワークベンチを使用した仕訳帳を確認する

[!INCLUDE [preview-banner-section](../../includes/preview-banner-section.md)]

リベート ワークベンチを使用して仕訳帳を確認するには、次の手順に従います。

1. **リベート管理 \> リベート管理取引 \> リベート ワークベンチ** に移動します。
1. **表示** フィールドを _すべて_ または _転記済_ に設定します。
1. 検査するプ明細行を見つけて選択します。 そして、アクション ペイン、**リベート ワークベンチ** タブの、**表示** グループで、**ターゲット トランザクション** を選択します。 このボタンは、選択した明細行に関連する転記が存在する場合にのみ使用できます。
1. 関連する仕訳帳、ドキュメント、品目の一覧が表示されます。 仕訳帳、ドキュメント、品目に関する詳細情報を表示するには、その行を選択し、アクション ペインで **詳細の表示** を選択します。

## <a name="rebate-management-transactions-on-the-deduction-workbench"></a>控除ワークベンチに対するリベート管理トランザクション

[!INCLUDE [preview-banner-section](../../includes/preview-banner-section.md)]

次の **支払タイプ** のいずれかの値を持つリベート管理トランザクションを転記すると、システムは関連する顧客アカウントの顧客控除仕訳帳または自由書式の請求書を作成します。

- 顧客控除
- 税請求書顧客控除
- 取引支出
- レポート

ターゲット トランザクションを作成して転記すると、そのトランザクションは、**控除ワークベンチ** ページ (**販売とマーケティング \> 取引割引 \> 控除 \> 控除ワークベンチ**) の未処理トランザクションとして使用できます。 未処理のトランザクションには *リベート管理* の **請求タイプ** 値があり、トレーサビリティを有効にするために **リベート トランザクション番号** 値を使用できます。 この日付は、リベート管理ターゲット トランザクションの転記日に設定されます。 控除ワークベンチを使用して、同じ顧客アカウントの既存の控除に対して未処理のトランザクションを決済するには、アクション ペインで **管理 \> 一致** を選択します。

詳細については、[控除ワークベンチを使用した控除の管理](deduction-workbench.md) を参照してください。

## <a name="purge-unposted-transactions"></a>未転記トランザクションを削除する

[!INCLUDE [preview-banner-section](../../includes/preview-banner-section.md)]

プロビジョニング、リベート、または損金処理トランザクションを処理した後は、次の手順に従って、選択した未転記トランザクションを削除します。

1. **リベート管理 \> リベート管理取引 \> リベート ワークベンチ** に移動します。
2. **表示** フィールドを *未転記* に設定します。
3. 削除するトランザクションを検索して選択します。 次に、アクション ペインの、**リベート ワークベンチ** タブの **処理** グループで、**削除** を選択します。
4. **OK** を選択して、未転記トランザクションを削除します。

## <a name="cancel-a-posted-provision"></a>転記された規定のキャンセル

[!INCLUDE [preview-banner-section](../../includes/preview-banner-section.md)]

プロビジョニングを処理して転記した後、次の手順に従って、転記されたプロビジョニング トランザクションをキャンセルします。

1. **リベート管理 \> リベート管理取引 \> リベート ワークベンチ** に移動します。
2. **表示** フィールドを *転記済* に設定します。
3. キャンセルするプロビジョニング トランザクションを検索して選択します。 次に、アクション ペインの、**リベート ワークベンチ** タブの **処理** グループで、**プロビジョニングのキャンセル** を選択します。
4. **OK** を選択して、トランザクションを取り消します。

これらのプロビジョニングの取消は、関連する[リベート管理仕訳帳](#review-journals) にも表示されます。

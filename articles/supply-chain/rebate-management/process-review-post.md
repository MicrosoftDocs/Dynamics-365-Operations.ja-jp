---
title: リベートの処理、確認、および転記
description: このトピックでは、リベート管理の案件を処理し、その割引を計算し、生成されたトランザクションを確認し、トランザクションを転記し、転記を確認する方法について説明します。
author: sherry-zheng
ms.date: 02/19/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: TAMRebateDeal
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: chuzheng
ms.search.validFrom: 2021-02-19
ms.dyn365.ops.version: Release 10.0.18
ms.openlocfilehash: e255c60889fdb49dfd8a1fd01be839b6405b02c6
ms.sourcegitcommit: 890a0b3eb3c1f48d786b0789e5bb8641e0b8455e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/20/2021
ms.locfileid: "5919872"
---
# <a name="process-review-and-post-rebates"></a>リベートの処理、確認、および転記

[!include [banner](../includes/banner.md)]

このトピックでは、リベート管理の案件を処理し、その割引を計算し、生成されたトランザクションを確認し、トランザクションを転記し、転記を確認する方法について説明します。

## <a name="change-the-status-of-a-deal"></a>取引の状態を変更する

各取引に状態を割り当てることで、追跡が可能になります。 この状態は、情報提供のみを目的としています。

1. 契約を選択します ([**すべてのリベート管理契約** ページなど](rebate-management-deals.md))。
1. アクション ペインの **リベート管理取引** タブで、**整備** グループで、**状態の変更** を選択します。
1. **状態の変更** ダイアログ ボックスで、**リベートの状態** フィールドを 新しい状態に設定します。
1. **OK** を選択します。

## <a name="calculate-fifo-purchase-prices"></a>FIFO 購買価格の計算

**価格基準** フィールドが *FIFO* に設定されている [案件](rebate-management-deals.md)のリベートを計算するには、**FIFO 購入価格計算** タスクを定期的に実行する必要があります。 システムでは先入れ先出し (FIFO) ルールを使用して、売却された在庫の値が計算されます。 この値は、仕入先のリベートの計算に使用されます。

**リベート 管理 \> 定期タスク \> FIFO 購買価格の計算** に移動します。 表示されるダイアログ ボックスで、**OK** を選択して計算を実行します。

## <a name="process-rebate-management-deals"></a>リベート管理取引を処理する

取引を処理すると、設定されているすべての関連するリベートやロイヤリティを計算します。 計算できる状態にある計算期間となっており、状態が  *有効* である選択された案件のみが処理されます。 処理が完了すると、一連のトランザクションが生成され、これを確認してから転記することができます。

> [!NOTE]
> いずれの場合も、リベートは各取引の **調整** 設定 (*取引* または *明細*) で指定されたレベルで処理されます。 単一行の計算は、**調整** フィールドが *明細* に設定されている案件に対してのみ行うことができます。

### <a name="process-all-lines-for-one-or-more-deals"></a>ひとつまたは複数の取引ですべての明細を処理する

1. 作業する取引の種類に応じて、適切な[リベート取引一覧ページ](rebate-management-deals.md)を開きます。
1. 処理する各取引の行を選択します (または、処理する取引を開きます)。
1. アクション ペインの **リベート管理契約** タブの **生成** グループで、次のいずれかのコマンドを選択します :

    - **処理 \> プロビジョニング** - 関連するリベート契約ごとに一連の見越計上を繰り入れますが、転記しません。
    - **処理 \> リベート管理** - 各取引のリベートの価値を提供する一連のトランザクションを処理します。
    - **処理 \> 損金処理** - 新規リベート取引のトランザクションを計算できるよう、以前に計上されたトランザクションを取り消して償却します。

1. 表示されるダイアログ ボックスで、**開始日** フィールドと **終了日** フィールドを設定して計算の日付範囲を定義します。
1. **OK** を選択して計算を実行します。

### <a name="process-one-or-more-specific-deal-lines-for-a-selected-deal"></a>選択された取引に対して、ひとつまたは複数の特定の取引明細行を処理する

1. 作業する取引の種類に応じて、適切な[リベート取引一覧ページ](rebate-management-deals.md)を開きます。
1. 明細行を処理する取引を開きます。
1. 右上隅の **明細行** タブを選択します。
1. **リベート管理** クイック タブで、処理する契約行ごとに明細行を選択します。
1. **リベート管理** クイック タブ のツール バーで、次のいずれかのコマンドを選択します。 (これらのコマンドは、**調整** フィールドが *明細行* に設定されている取引でのみ利用可能です。)

    - **処理 \> プロビジョニング** - 関連する取引の明細ごとに一連の見越計上を繰り入れますが、転記しません。
    - **処理 \> リベート管理** - 各取引明細行のリベートの価値を提供する一連のトランザクションを処理します。
    - **処理 \> 損金処理** - 新規リベート取引のトランザクションを計算できるよう、以前に計上されたトランザクションを取り消して償却します。

1. 表示されるダイアログ ボックスで、**開始日** フィールドと **終了日** フィールドを設定して計算の日付範囲を定義します。
1. **OK** を選択して計算を実行します。

### <a name="process-deals-using-a-batch-job"></a>バッチ ジョブを使用した取引の処理

特定の取引や取引明細行を処理する代わりに、バッチジョブを実行して複数の取引を同時に処理することができます。 必要に応じて、レコード フィルターの適用や、定期的なスケジュールの設定を行います。 バッチ ジョブを使用して取引を処理するには、次の手順に従います。

1. 次の手順のいずれかを実行します。

    - **リベート管理 \> 定期処理タスク \> 処理 \> プロビジョニング** に移動して、関連する取引ごとに一連の発生額をプロビジョニングしますが、転記しません。
    - **リベート管理\> 定期タスク \> 処理 \> リベート管理** に移動し、 各取引のリベートの値を提供する一連のトランザクションを処理します。
    - **リベート管理 \> 定期タスク \> 処理 \> 損金処理** に移動して、新たなリベート取引の計算ができるように、以前に転記した取引を損金処理して償却します。

1. 表示されるダイアログ ボックスの **パラメーター** クイック タブの **期間** セクションで、**開始日** フィールドと **終了日** フィールドを設定して、計算に使用するトランザクションの日付範囲を定義します。
1. **保証期間** セクションで、**開始日** と **終了日** フィールドを設定して、算出対象となる保証の日付範囲を定義します。
1. **含めるレコード** クイックタブでは、バッチジョブが処理する案件のセットを制限するフィルターを設定できます。 これらの設定は、他のタイプのバッチ ジョブに対して使用する場合と同様に機能します。
1. **バックグラウンドで実行** クイック タブでは、必要に応じてバッチ処理やスケジュール設定のオプションを設定することができます。 これらの設定は、他のタイプのバッチ ジョブに対して使用する場合と同様に機能します。
1. **OK** を選択して、計算の実行、または計算のスケジュール設定をします。

## <a name="view-and-edit-rebate-management-transactions"></a>リベート管理トランザクションの表示と編集

ひとつまたは複数の案件を処理すると、システムがトランザクションを作成し、転記する前に閲覧や、編集することができます。

1. 次の手順のいずれかを実行します。

    - トランザクションを表示する取引を選択します (例 : [**すべてのリベート管理契約** ページ など](rebate-management-deals.md))。 アクション ペインの、**リベート管理契約** タブ上の **トランザクション** グループで、表示するトランザクションの種類に応じて **トランザクション** または **保証トランザクション** を選択します。
    - 取引を開いて詳細を表示します (例 : [**すべてのリベート管理契約** ページ など](rebate-management-deals.md))。 **リベート管理** クイック タブで、取引明細行を選択してトランザクションを表示します。 続いてツールバー上で、表示するトランザクションのタイプに応じて、**トランザクション** や **保証トランザクション** を選択します。 (これらのボタンは、**調整** フィールドが *明細行* に設定されている取引でのみ利用可能です。)

1. **リベート管理日トランザクション** または **リベート管理保証トランザクション** ページが表示されます。 これにはグリッドが含まれており、各行はひとつのリベート、または保証期間のトランザクションの集合を表しています。 グリッドで行を選択し、アクション ペインで **ソーストランザクション** を選択すると、その行に属するトランザクションが表示されます。
1. 表示されるページには、選択した行に属している選択したタイプのトランザクションの一覧が表示されます。 各トランザクションは、トランザクションの種類に応じて関連する詳細情報が表示されます。 保証トランザクションの場合は、一覧のみを表示できます。 他のタイプのトランザクションについては、このページで次のアクションを実行できます :

    - ページ上のすべての請求されたトランザクションの合計金額を確認するには、**請求金額** フィールドを表示します。
    - トランザクションに関する詳細を表示するには、目的のトランザクションを選択し、**一般**、**財務分析コード**、**分析コード** タブを選択します。
    - 適用する減額を表示するには、アクション ペインで **トランザクションの減額** を選択します。 詳細については、[リベート減額の原則](rebate-reduction-principle.md)を参照してください。
    - 請求プロセスを使用している場合に、トランザクションを請求済み、または未請求のいずれかにマークするには、関連する行を選択してから、アクション ペインで以下のコマンドのいずれかを選択します。 ([**リベート管理パラメータ** ページ ](rebate-management-parameters.md)で、請求プロセスを有効にできます。)

        - **請求済 \> すべて** - すべてのトランザクションを請求済としてマークします。
        - **請求済 \> 選択済** - 選択したトランザクションを請求済としてマークします。
        - **未請求 \> すべて** - すべてのトランザクションを未請求としてマークします。
        - **未請求 \> 選択済** - 選択したトランザクションを未請求としてマークします。

    - 複数の明細行の請求を転記するには、関連する明細行を選択し、アクション ペインで **転記** を選択します。 (**転記** ボタンは、リベート トランザクションの場合にのみ使用できます。 プロビジョニングと損金処理では使用出来ません。)**転記** ダイアログ ボックスに、 **開始日** と **終了日** フィールドは自動的に設定されます。 **転記日** フィールドで **OK** を選択します。
    - オープンなトランザクション、または未転記のトランザクションに表示される金額を調整するには、トランザクションを選択し、次のいずれかの手順に従います :

        - **訂正された金額** フィールドの値を編集します。
        - アクション ペインで、**訂正の設定** を選択します。 その後、表示されるドロップダウン ダイアログ ボックスの **訂正された金額** フィールドに値を入力します。

> [!NOTE]
> 次の期間を処理すると、トランザクションリストには、以前の転記で未請求であったトランザクションと、選択した期間の新しいトランザクションが含まれます。

## <a name="post-rebates-transactions"></a>リベート トランザクションを転記する

リベートや控除の値を転記するには、転記処理を実行する必要があります。ただし、自動的に転記するようにシステムを設定している場合は除きます。

### <a name="set-up-the-system-to-post-all-transactions-automatically"></a>すべての取引が自動的に転記されるようにシステムを設定する

トランザクションが生成されたタイミングですぐに転記するよう設定するには、**リベート管理のパラメーター** ページで **仕訳帳の自動転記** または **自由形式の請求書の自動転記** オプションをオンにします。 詳細については、[リベート管理のパラメーター](rebate-management-parameters.md) を参照してください。

### <a name="post-transactions-for-all-lines-for-one-or-more-deals"></a>ひとつまたは複数の取引ですべての明細のトランザクションを転記する

自動転記を使用していない場合は、関連する取引を処理した後、以下の手順で、1つまたは複数の取引のすべての明細行について、生成された取引を確認し、転記します。

1. 作業する取引の種類に応じて、適切な[リベート取引一覧ページ](rebate-management-deals.md)を開きます。
1. 転記する各取引の行を選択します (または、転記する取引を開きます)。
1. アクション ペインの **リベート管理契約** タブの **生成** グループで、次のいずれかのコマンドを選択します :

    - **転記 \> プロビジョニング** - 作成した利用可能な発生取引を転記します。
    - **転記 \> リベート管理** - 作成した利用可能なリベート トランザクションを転記します。
    - **転記 \> 損金処理** - 作成した利用可能な損金処理トランザクションを転記します。

1. 表示されたダイアログ ボックスで、**転記日付け** フィールドを設定します。 続いて、**開始日** と **終了日**  フィールドを設定して、転記する必要のあるトランザクションの日付範囲を定義します。
1. **OK** を選択して、トランザクションを転記します。

### <a name="post-transactions-for-one-or-more-specific-deal-lines-for-a-selected-deal"></a>選択された案件のひとつ、または複数の特定の取引明細行に対するトランザクションの転記

自動転記を使用していない場合は、関連するトランザクションを処理した後、以下の手順で、選択したトランザクションの1つまたは複数の特定のトランザクション明細行について、生成されたトランザクションを確認し、転記します。

1. 作業する取引の種類に応じて、適切な[リベート取引一覧ページ](rebate-management-deals.md)を開きます。
1. トランザクションの転記する明細行のある取引を開きます。
1. 右上隅の **明細行** タブを選択します。
1. **リベート管理** クイック タブで、転記する契約行ごとに明細行を選択します。
1. **リベート管理** クイック タブ のツール バーで、次のいずれかのコマンドを選択します。 (これらのコマンドは、**調整** が *明細行* に設定されている取引でのみ利用可能です。)

    - **転記 \> プロビジョニング** - 作成した利用可能な発生取引を転記します。
    - **転記 \> リベート管理** - 作成した利用可能なリベート トランザクションを転記します。
    - **転記 \> 損金処理** - 作成した利用可能な損金処理トランザクションを転記します。

1. 表示されたダイアログ ボックスで、**転記日付け** フィールドを設定します。 続いて、**開始日** と **終了日**  フィールドを設定して、転記する必要のあるトランザクションの日付範囲を定義します。
1. **OK** を選択して、トランザクションを転記します。

### <a name="post-transactions-using-a-batch-job"></a>バッチ ジョブを使用したトランザクションの転記

特定の取引や取引行のトランザクションを転記する代わりに、バッチジョブを実行して複数の取引のトランザクションを同時に転記することができます。 必要に応じて、レコード フィルターの適用や、定期的なスケジュールの設定を行います。 バッチ ジョブを使用してトランザクションを転記するには、次の手順に従います。

1. 次の手順のいずれかを実行します。

    - 作成した利用可能な発生トランザクションを転記するには、**リベート管理 \> 定期処理タスク \> 転記 \>プロビジョニング** に移動します。
    - 作成した利用可能なリベート トランザクションを転記するには、**リベート管理 \> 定期処理タスク \> 転記 \>リベート管理** に移動します。
    - 作成した利用可能な損金処理トランザクションを転記するには、**リベート管理 \> 定期処理タスク \> 転記 \> 損金処理** に移動します。

1. 表示されるダイアログ ボックスの **パラメータ** クイック タブの **期間** セクションで、**転記日付** フィールドを設定します。 続いて、**開始日** と **終了日**  フィールドを設定して、転記する必要のあるトランザクションの日付範囲を定義します。 
1. **保証期間** セクションで、**開始日** と **終了日** フィールドを設定して、転記の必要がある保証の日付範囲を定義します。
1. **含めるレコード** クイックタブでは、バッチジョブが処理する案件のセットを制限するフィルターを設定できます。 これらの設定は、他のタイプのバッチ ジョブに対して使用する場合と同様に機能します。
1. **バックグラウンドで実行** クイック タブでは、必要に応じてバッチ処理やスケジュール設定のオプションを設定することができます。 これらの設定は、他のタイプのバッチ ジョブに対して使用する場合と同様に機能します。
1. **OK** を選択して、計算の実行、または計算のスケジュール設定をします。

## <a name="review-rebate-management-journals"></a>リベート管理仕訳帳のレビュー

トランザクションが転記された後は、結果の仕訳帳、ドキュメント、品目を確認できます。 リベートやロイヤルティの対象トランザクションは、転記プロファイルに設定されている支払いタイプとリベートの出力タイプに基づいています。 たとえば、リベートの出力が *品目* に設定されている場合は、販売注文が作成され、対象トランザクション経由で表示できます。 また、支払いに買掛金勘定を使用するように設定されている場合、顧客のリベートに対して、顧客に設定されている仕入先の請求書が作成されます。

リベート管理契約に関連付けられている仕訳帳のエントリを確認するには、次の手順に従います。

1. 作業する取引の種類に応じて、適切な[リベート取引一覧ページ](rebate-management-deals.md)を開きます。
1. 仕訳帳エントリを検査する取引を選択します。
1. アクション ペインの、**リベート管理契約** タブ上の **トランザクション** グループで、表示するトランザクションの種類に応じて **トランザクション** または **リベート トランザクション** を選択します。
1. **表示** フィールドが *すべて* または *転記済* に設定されていることを確認してください。
1. 検査するトランザクションの集合を検索して選択し、アクション ペインで、次のいずれかのボタンを選択します。 (これらのボタンは、選択したトランザクションの集合に関連する転記が存在する場合にのみ使用できます。)

    - **ターゲット トランザクション** - 選択した取引によって生成された関連仕訳帳などのタイプのドキュメントを確認します。
    - **品目** - 選択した取引で発生した関連する品目を確認します。

1. 関連する仕訳帳、ドキュメント、品目の一覧が表示されます。 仕訳帳、ドキュメント、品目に関する詳細情報を表示するには、その行を選択し、アクション ペインで **詳細の表示** を選択します。

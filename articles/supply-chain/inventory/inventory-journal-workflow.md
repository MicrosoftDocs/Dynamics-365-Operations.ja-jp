---
title: 在庫仕訳帳の承認ワークフロー
description: このトピックでは、さまざまな種類の現物在庫取引の在庫仕訳帳の承認ワークフローを設定方法と使用方法について説明します。 在庫仕訳帳のワークフローは、承認済の在庫仕訳帳のみをトランザクションに転記できるようにするのに役立ちます。
author: sherry-zheng
manager: tfehr
ms.date: 07/21/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: InventJournalTableWorkflowDropDialog
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: chuzheng
ms.search.validFrom: 2020-07-21
ms.dyn365.ops.version: Release 10.0.13
ms.openlocfilehash: 596182dfd7430e4d1e35ffebb795fbcf98d45e33
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/15/2021
ms.locfileid: "5247913"
---
# <a name="inventory-journal-approval-workflows"></a>在庫仕訳帳の承認ワークフロー

[!include [banner](../includes/banner.md)]

このトピックでは、発行および領収書、在庫移動、部品表 (BOM)、および物理的な在庫の調整など、さまざまなタイプの現物在庫取引で使用する在庫仕訳帳のワークフローを設定して使用する方法について説明します。 在庫仕訳帳のワークフローは、承認済の在庫仕訳帳のみをトランザクションに転記できるようにするのに役立ちます。

> [!NOTE]
> 在庫仕訳帳のワークフローは、在庫管理モジュールを使用して記録された取引にのみ適用されます。 倉庫管理モジュールからトリガーされた在庫仕訳帳では動作しません。

## <a name="turn-on-the-inventory-journal-approval-workflows-feature"></a>在庫仕訳帳の承認ワークフロー機能をオンにする

この機能を使用するには、システム上で有効にする必要があります。 管理者は、[機能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) 設定を使用して、機能の状態を確認し、有効にすることができます。 **機能管理** ワークスペースで、この機能は次のようにリストされています。

- **モジュール:** *在庫と倉庫管理*
- **機能名:** *在庫仕訳帳承認ワークフロー*

## <a name="create-your-inventory-journal-approval-workflows"></a>在庫仕訳帳の承認ワークフローの作成

この機能を設定するには、制御対象とする在庫の仕訳タイプごとにワークフローを作成する必要があります。 在庫仕訳帳のタイプごとに異なる承認階層とワークフローのステップを持つことができるため、在庫仕訳帳のタイプごとに個別のワークフローを構成することができます。

ワークフローはバージョン管理に対応しており、それぞれにワークフロー IDとアクティブなバージョンが存在します。 新たなワークフローのそれぞれのバージョンは、作成時にすぐにアクティブにするか、非アクティブのままにするかを選択できます。 同じ仕訳帳のタイプに対して異なるワークフローが必要な場合は、当該の仕訳帳タイプに対して複数のワークフローを作成し、それぞれのワークフローをそのタイプで使用する別の仕訳帳名に割り当てます。

在庫仕訳帳の承認ワークフローの作成方法 :

1. **在庫管理 \> 設定\> 在庫管理ワークフロー** に移動します。
1. アクション ウィンドウで、**新規** を選択します。
1. ワークフローを設定する在庫仕訳帳のタイプを選択します :
    - **在庫タグ集計仕訳帳**
    - **在庫所有権変更仕訳**
    - **在庫移動仕訳帳**
    - **在庫移動仕訳帳**
    - **在庫集計仕訳帳**
    - **在庫 BOM 仕訳帳**
    - **在庫調整仕訳帳**

    ![作成ワークフロー ダイアログ ボックス](media/journal-workflow-create-workflow.png "作成ワークフロー ダイアログ ボックス")

1. ワークフロー エディタ アプリがマシン上で起動します。 (このアクションの承認が要求される場合があります。)必要に応じてワークフローの設計に利用してください。 ワークフロー エディターの使用方法については、[ワークフロー システムの概要](../../fin-ops-core/fin-ops/organization-administration/overview-workflow-system.md)を参照してください。
1. ワークフロー エディター アプリを保存して閉じた後、このワーク フローのバージョンをアクティブにするか、非アクティブのままにしておくかを選択する必要があります。

> [!NOTE]
> ワークフローではバージョン管理を提供しており、作成したバージョンの一覧を表示し、どのバージョンがアクティブであるかを選択できます。 利用可能なバージョンのリストを表示し、どのバージョンを有効化するかを選択するには、**在庫管理ワークフロー** ページに一覧表示されているワークフローを選択します。 [アクション] ペインで、**ワークフロー** タブを開き、**バージョン** を選択します。 各ワークフロー ID に対しては、一度に 1 つのバージョンのみをアクティブにすることができます。

## <a name="assign-approval-workflows-to-inventory-journal-names"></a>在庫仕訳帳に承認ワークフローを割り当てる

次に、各在庫仕訳帳の名称に在庫仕訳帳のワークフローを割り当てます。 在庫仕訳帳の種類ごとに、複数の在庫仕訳帳名を設定することができます。

在庫仕訳帳のワークフローと在庫仕訳帳名を関連付ける方法 :

1. **在庫管理 \> 設定 \> 在庫仕訳帳名 \> 在庫** に移動します。
1. リスト列から仕訳帳名を選択すると、設定ページが表示されます。
1. **全般** クイック タブ で、**承認ワークフロー** を **はい** に設定します。 アクションの承認を求めるメッセージが表示されたら、**はい** を選択します。

    ![仕訳帳名にワークフローを割り当てる](media/journal-workflow-journal-name.png "仕訳帳名にワークフローを割り当てる")

1. **ワークフロー** のドロップダウン リストを開き、承認ワークフローを選択します。 このリストには、ワークフロー エディター アプリを使用して作成したそれぞれのアクティブなワークフローが表示されます。

## <a name="create-an-inventory-journal-and-send-it-for-approval"></a>在庫仕訳帳を作成して送信し、承認を得る

在庫仕訳帳名と一致する在庫仕訳帳の承認ワークフローを関連付けた後、その名前を使用して新しい在庫仕訳帳を作成し、ワークフローを使用してこれらの仕訳帳を送信し、承認を得ることができます。 ワークフローで設定した承認者が承認すまでは、在庫仕訳帳を投稿することはできません。

1. ナビゲーション ウィンドウで、**在庫管理 \> 仕訳帳の入力 \> 項目** を展開し、在庫仕訳帳のタイプを選択します。
1. **新規** を選択して、選択したタイプの新しい仕訳帳を作成します。
1. **在庫仕訳帳の作成** ダイアログ ボックスが開きます。 必要に応じてフォームに入力し、**OK** を選択して仕訳帳を保存します。
1. 必要に応じて仕訳帳を完成させます。
1. 承認ワークフローに関連付けられた在庫仕訳帳を作成、または開くと、アクション ペインで **ワークフロー** ボタンがアクティブになります。 承認のために仕訳帳を送信する準備ができたら、**ワークフロー** ボタンを選択してドロップダウン ダイアログ ボックスを開き、**送信** を選択します。 承認要求が関連する承認者に送信されます。この承認者にはワークフローで設定された通知方法を使用して通知がされます。

    ![承認のために仕訳帳を送信する](media/journal-workflow-inventory-journal.png "承認のために仕訳帳を送信する")

承認要求を取り消すには、該当する仕訳帳を開き、**ワークフロー** ボタンを選択し、**取り消し** を選択します。 これにより、ワークフローがリセットされます。

仕訳帳が承認されると、投稿できるようになります。 仕訳帳を投稿するには、アクション ペインから **投稿** を選択します。 **投稿** ボタンがアクティブになっていない場合は、仕訳帳がまだ承認されていないことを意味します。

## <a name="respond-to-an-inventory-journal-approval-request"></a>在庫仕訳帳の承認要求に応答する

あなたが承認者の場合は、承認が必要になるたびにメッセージを受け取ることになります (関連するワークフローで設定されています)。 その後、仕訳帳の承認要求を承認または拒否するには、以下の操作を行います :

1. ナビゲーション ウィンドウで、**在庫管理 \> 仕訳帳の入力 \> 項目** を展開し、在庫仕訳帳のタイプを選択します。
1. 関連する仕訳帳を開き、確認します。
1. アクションペインの **ワークフロー** ボタンを選択すると、ドロップダウン ダイアログ ボックスが開きます。 次のいずれかを選択してください。
    - **承認** - 申請を承認します。
    - **拒否**  - 申請を否認します。
    - **その他 \> 要求の変更** - 依頼元にメッセージを送信して、特定の内容を変更してから再提出するように依頼します。
    - **その他 \> 代理** - 承認を他のユーザーに委任します。
    - **その他 \> 取り消し** - 承認要求を取り消します (ワークフローがリセットされます)。
    - **その他 \> ワークフロー履歴** - これまでの承認ワークフローの履歴を参照します。

## <a name="review-the-approval-history"></a>承認の履歴を確認する

他のタイプのワークフローと同様に、**ワークフローの履歴** ページを使用して、任意の仕訳帳の承認ワークフローの履歴を表示することができます。

仕訳帳のワークフロー履歴を確認します。

1. ナビゲーション ウィンドウで、**在庫管理 \> 仕訳帳の入力 \> 項目** を展開し、在庫仕訳帳のタイプを選択します。
1. 関連する仕訳を開きます。
1. アクションペインの **ワークフロー** ボタンを選択すると、ドロップダウン ダイアログ ボックスが開きます。 **ワークフロー履歴** を選択します。 詳細については、[ワークフロー履歴を確認する](../../fin-ops-core/fin-ops/organization-administration/tasks/view-workflow-history.md)を参照してください。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
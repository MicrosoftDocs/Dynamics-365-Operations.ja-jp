---
title: 確認および転送
description: このトピックでは、確認および転送機能の使用方法について説明します。これにより、ユーザーは、これらの積荷に関連するすべての作業を完了する前に、倉庫から積荷を出荷することができます。
author: mirzaab
manager: AnnBe
ms.date: 07/01/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Retail, Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-07-01
ms.dyn365.ops.version: Release 10.0.8
ms.openlocfilehash: 488eed23972022f9437e62a462ae5f70d6833a67
ms.sourcegitcommit: a7a7303004620d2e9cef0642b16d89163911dbb4
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/01/2020
ms.locfileid: "3530561"
---
# <a name="confirm-and-transfer"></a>確認および転送

[!include [banner](../includes/banner.md)]

*確認および転送*機能により、ユーザーは、これらの積荷に関連するすべての作業を完了する前に、倉庫から積荷を出荷することができます。 完全にピッキングされていない積荷明細行を含む出荷を受け取ると、ユーザーは、残りの数量を新しい積荷に分割するか、足りない数量をキャンセルするように求められます。

新しい、または変化する状況のために、計画的および部分的に積載された積荷を適応させる必要がある積荷分割サポート シナリオを許可するように設定されたシステム。

クライアントには、部分的に積載された積荷を、出荷済として確認できるようにするロジックが含まれています。 このロールオーバーが必要であり、設定で許可されている場合は、残りのすべての出荷と積荷明細行 (明細行の全体または一部の数量を含む) は、新しく作成された積荷と出荷にロールオーバーされます。 出荷および積荷作成の最初の基準に基づいて、新しい出荷と積荷が自動的に作成され、その主要な属性は変わりません。 また、作業指示書がまだ作成されておらず、ユーザーがキャンセルが必要であると判断した場合には、残りの数量を自動的にキャンセルするオプションもあります。

この機能は、すべての積荷が 1 台のトラックに収まらない場合や、積荷の残りの部分の出荷準備が整う前に、一部の積荷が倉庫から出ていくシナリオをサポートします。 このようなシナリオでは、残りの製品を新しい積荷、つまり新しいトラックに移すことができます。 この機能は、他の方法では全積荷出荷を必要とする積荷でも使用できるため、輸送管理者が非標準もしくは予期しないシナリオを解決できるように、更なる柔軟性を提供します。

積荷を分割すると、*確認および転送*機能によって次のアクションが実行されます。

- 必要に応じて、新しい積荷と出荷が作成されます。 各積荷または出荷には、元の積荷または出荷と同じ属性が割り当てられます。 例外は積荷状態で、作業状態に基づいて再計算されます。
- ユーザーには、新しい積荷が作成されたことが通知されます。 ユーザーには、新しい積荷の ID についても通知されます。
- 分割された積荷明細行、作業ヘッダー、および作業明細行が、新しい積荷情報および出荷情報で更新されます。
- 出荷全体が分割されている場合、出荷は維持され、積荷参照のみが更新されます。 出荷を分割する必要がある場合は、新しい出荷が作成されます。

残りの数量がキャンセルされると、まだピッキングされておらず、キャンセルされていない作業に関連のない積荷明細行の数量が、積荷から削除されます。 作業が進行中の場合は、ユーザーは積荷の分割のみを行うことができます。 残りの数量をキャンセルすることはできません。

次の基準をすべて満たす積荷のみを分割できます。

- ピッキング済の数量が 1 つ以上、積荷明細行に含まれています。
- 積荷状態は積載済よりも小さくなっています。
- 積荷明細行データがありません。 (このデータは、ステージング場所でのライセンス プレートの結合を通して作成され、*確認および転送*機能は、ライセンス プレートの結合をサポートしていません。)
- 現在、梱包場所に梱包待ちの在庫はありません。 (*確認および転送*機能は、梱包ステーションにピッキングされているが、まだ梱包されていない在庫はサポートしていません。)

> [!NOTE]
> この機能は、ピッキング前に積荷を計画および作成することはできず、ピッキング完了後に使用可能な輸送スペースを積載する倉庫で使用する必要がある輸送積載機能とは異なります。
>
> *確認および転送*機能は、通常、積荷が事前に計画および作成されているが、利用可能な輸送手段 (トラックなど) に収まらないなどの例外が発生する場合に使用されます。

## <a name="turn-on-confirm-and-transfer"></a>確認および転送をオンにする

*確認および転送*機能を使用するには、システム上で有効にする必要があります。 管理者は、[機能の管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)設定を使用して、機能の状態を確認し、必要に応じて有効にすることができます。 **機能管理** ワークスペースで、この機能は次のようにリストされています。

- **モジュール:** *倉庫管理*
- **機能名:** *確認および転送*

## <a name="set-up-confirm-and-transfer"></a>確認および転送を設定する

*確認および転送*機能を使用するには、すべての関連する積荷テンプレートでこの機能を有効にする必要があります。 さらに、要件に応じて、この機能をサポートする作業テンプレートを準備することもできます。 このトピックで後ほど説明するシナリオの例を使用する場合は、このセクションの説明に従ってシステムを設定します。 (そのシナリオは **USMF** デモ データに基づいています。)

### <a name="prepare-your-load-templates"></a>積荷テンプレートを準備する

1. **倉庫管理 \> 設定 \> 積荷 \> 積荷テンプレート**の順に移動します。
1. アクション ウィンドウで**編集**を選択し、ページを編集モードにします。
1. 機能をオンにする既存の各テンプレートの**出荷確認中の積荷分割を許可する**のチェック ボックスを選択します。 または、**新規**を選択して新しいテンプレートを作成し、必要に応じてコンフィギュレーションします。 このテンプレートを使用して作成するすべての積荷は、この機能を継承します。 (**USMF** のデモ データを使用している場合は、**20' コンテナー**積荷テンプレートの機能をオンにします。)

### <a name="prepare-your-work-templates"></a>作業テンプレートを準備する

この設定は、すべての状況で必要になるわけではありません。 ここに示されている例では、このトピックの後半で提供されるシナリオ例をサポートするために、作業を出荷によって分割できることを示しています。 他の方法でも、この結果を得ることができます。

1. **倉庫管理 \> 設定 \> 作業 \> 作業テンプレート**の順に移動します。
1. ページの上部にあるグリッドで、*確認および転送*機能を設定する既存の作業テンプレートを選択します。 (**USMF** のデモ データを使用している場合は、**51 ステージにピック**作業テンプレートを選択します。) 別の方法として、新しい作業テンプレートを作成することもできます。
1. アクション ウィンドウで**クエリの編集**を選択して、**販売**ダイアログ ボックスを開きます。
1. **販売**ダイアログ ボックスの**並べ替え**タブで、**追加**を選択してグリッドに行を追加します。
1. 新しい行で、次の値を設定します。

    - **テーブル:** *一時的な作業トランザクション*
    - **派生テーブル:** *一時的な作業トランザクション*
    - **フィールド:** *出荷 ID*
    - **検索の方向:** *昇順*

1. **OK** を選択して設定を保存し、**販売**ダイアログ ボックスを閉じます。
1. グループ化がリセットされたことを示すメッセージが表示された場合は、**はい**を選択して続行します。
1. **作業テンプレート** ページの上部にあるグリッドで、今編集したテンプレートを選択し、アクション ウィンドウで**作業ヘッダーの区切り**を選択します。
1. アクション ウィンドウで**編集**を選択し、ページを編集モードにします。
1. グリッドで、次の値を設定します。

    - **テーブル名:** *一時的な作業トランザクション*
    - **フィールド名:** *出荷 ID*
    - **このフィールドでグループ化する:** このチェック ボックスをオンにします。

1. アクション ウィンドウで、**保存**を選択します。
1. ページを閉じます。

## <a name="scenario"></a>シナリオ

このシナリオでは、ピッキング プロセスがまだ完了していないが、今までにピッキングされた品目をトラックに読み込んで出荷する必要がある場合の例を示します。 したがって、ユーザーはピッキングされていない積荷明細行を新しい積荷に分割することができます。 すべてのデータの関係が自動的に更新されます。

> [!NOTE]
> このシナリオで説明されている特定の値は、**USMF** のデモ データに基づいています。 機能の使用方法をデモンストレーションまたは学習しながら、このデモ データを使用することをお勧めします。 **USMF** デモ データを使用していない場合は、必要に応じて独自の値に置き換えます。

### <a name="step-1-create-a-load-that-has-multiple-load-lines"></a>手順 1: 複数の積荷明細行を持つ積荷の作成

この機能を使用するには、複数の積荷明細行を含む積荷が必要です。 ピッキング場所に、作成する販売注文のすべての品目に十分な在庫があることを確認する必要もあります。 場所のディレクディブの設定 ( **倉庫管理 \>設定 \>場所のディレクティブ**) を確認し、販売注文のピッキングに使用されるピッキング場所を記録します。 在庫を調整する必要がある場合には、手動による移動を作成したり、補充を使用したり、またはその他のフローを必要に応じて使用します。

適切な積荷を作成するには、次の手順に従って、まず 3 つの販売注文を作成します。

1. **販売とマーケティング \> 販売注文 \> すべての販売注文**の順に移動します。
1. アクション ウィンドウで**新規**を選択して、**販売注文の作成**ダイアログ ボックスを開きます。
1. **販売注文の作成**ダイアログ ボックスでは、少なくとも次の値を設定します。

    - **顧客**クイック タブで、**顧客 ID** フィールドを *US-004* (*Cave Wholesales*) に設定します。
    - **一般**クイック タブの**倉庫**フィールドを*51*に設定します。

1. **OK** を選択し販売注文を作成し、**販売注文の作成**ダイアログ ボックスを閉じます。
1. 新しい販売注文が開かれます。 **販売注文明細行**グリッドで、次の値を含む明細行を追加します。

    - **品目番号:** *M9200*
    - **数量:** *40*
    - **単位:** *個*

1. グリッドの上部にある**在庫**メニューで、**引当**を選択します。
1. アクション ウィンドウで**引当ロット**を選択し、**引当**を開きます。
1. 販売明細行で在庫を引当してから、**引当**ページを閉じます。
1. 同じ顧客および倉庫に対して 2 番目の販売注文を追加するには、手順 1 ~ 4 を繰り返します。
1. 次の値を持つ 2 つの販売明細行を追加します。 各明細行を追加した後、手順 6 ~ 8 の説明に従って、在庫の引当を行います。

    - **行 1:** **品目番号**フィールドを *M9200* に、**数量**フィールドを *30* に、**単位**フィールドを*個*に設定します。
    - **行 2:** **品目番号**フィールドを *M9201* に、**数量**フィールドを *20* に、**単位**フィールドを*個*に設定します。

1. 同じ顧客および倉庫に対して 3 番目の販売注文を追加するには、手順 1 ~ 4 を繰り返します。
1. 次の値を持つ 2 つの販売明細行を追加します。 各明細行を追加した後、手順 6 ~ 8 の説明に従って、在庫の引当を行います。

    - **行 1:** **品目番号**フィールドを *M9201* に、**数量**フィールドを *20* に、**単位**フィールドを*個*に設定します。
    - **行 2:** **品目番号**フィールドを *M9202* に、**数量**フィールドを *60* に、**単位**フィールドを*個*に設定します。

#### <a name="load-planning-workbench"></a>積荷計画ワークベンチ

積荷計画ワークベンチは、積荷テンプレート ID を使用して出荷を作成し、販売注文明細行を倉庫にリリースします。

1. **倉庫管理 \> 積荷 \> 積荷計画ワークベンチ**に移動します。
1. **倉庫**フィールドで、*51* を選択します。

    次に、作成した販売注文の積荷を構築します。

1. **販売明細行**タブのグリッドで、新しい販売注文の販売明細行を選択します。
1. アクション ウィンドウの、**供給と需要**タブの**追加**グループで、**新しい積荷へ**を選択します。
1. **積荷テンプレートの割り当て**ダイアログ ボックスの、**積荷テンプレート ID** フィールドで、*20' コンテナー*を選択します。
1. **OK** を選択します。
1. **積荷計画ワークベンチ**の**積荷**セクションのグリッドで、倉庫 *51* に新しく作成された積荷 ID を検索します。 右にスクロールして、**出荷確認中の積荷分割を許可する**の列が表示されるようにします。 積荷に対してチェック ボックスをオンにする必要があります。
1. 積荷を選択します。
1. グリッド上の**リリース** メニューで、**倉庫にリリース**を選択して作業を作成します。
1. **倉庫に積荷をリリースする**のダイアログ ボックスで、**含めるレコード** クイック タブが積荷 ID を表示していることを確認します。
1. **OK** を選択します。

    システムが出荷と作業を作成している際に、「処理中」というメッセージが表示される場合があります。

1. **積荷計画ワークベンチ** ページの**積荷**セクションでは、出荷ステータスが*ウェーブ済*になります。 積荷を選択し、グリッド上にある**関連情報**メニューで**ウェーブ詳細**ページを開き、作成された出荷 ID を表示します。 完了したら、**ウェーブ** ページを閉じます。
1. **積荷計画ワークベンチ** ページの**積荷**セクションで、積荷を選択し、グリッド上の**関連情報**メニューで**作業詳細**を選択し、販売注文に対して作成した作業を表示します。
1. 作成した作業 ID をメモします。 作業 ID に関連付けられている販売注文番号と出荷 ID を表示するには、右方向にスクロールする必要がある場合があります。

### <a name="step-2-set-up-the-execution-flow-for-mobile-devices"></a>手順 2: モバイル デバイスの実行フローの設定

モバイル デバイスのタスクでは、作業 ID やライセンス プレート ID などの情報を、ユーザーが入力する必要があります。 この情報は、通常フィールドで、ドキュメント、パッケージ、またはラッキングに記載されているバーコードの形式で、倉庫ユーザー向けに提供されます。 モバイル デバイスの手順を完了するには、トランザクションの作業 ID と、トランザクションにおける品目と場所のライセンス プレート ID が識別されていることを確認します。

1. 倉庫 *51* のユーザー ID とパスワードを使用して、モバイル デバイスにサインインします。
1. **出荷**を選択します。
1. **販売ピッキング**を選択します。
1. 作業 ID またはライセンス プレート ID を入力するためのオプションがあります。 最初の販売注文の作業 ID を入力し、**入力**を選択します。
1. **Loc** フィールドに、ピッキング場所を確認するために表示される場所を入力します。 **入力**を選択します。
1. **LP** フィールドに、ライセンス プレート ID を入力します。 ライセンス プレート ID は、選択した場所からピッキングされる品目、倉庫、および品目の場所に一致する必要があります。 完了したら、**入力**を選択します。
1. **品目**フィールドに、ピッキングされた品目を確認する品目番号を入力し、**入力**を選択します。
1. **数量**フィールドに、ピッキングされた品目の数量を入力し、**入力**を選択します。
1. **ターゲット LP** フィールドに、ターゲット ライセンス プレート ID を入力します。 ターゲット ライセンス プレートは、ユーザーが定義します。 覚えておけるライセンス プレート ID を入力してください。 *19112301* のように、現在の日付と 2 桁のシーケンス (YYMMDD\#\#) の形式で使用することをお勧めします。 完了したら、**入力**を選択します。
1. 表示される情報を確認します。 この情報は、プット トランザクションの*プット* データになる*ピック*情報です。 完了したら、**入力**を選択します。

    - **作業が完了しました**というメッセージが表示されます。

1. 2 番目の販売注文の作業 ID について、手順 4 ~ 10 を繰り返します。

次の手順では、ピッキングされた 2 つのライセンス プレートをトラックに積載します。

1. 倉庫 *51* のユーザー ID とパスワードを使用して、モバイル デバイスにサインインします。
1. **出荷**を選択します。
1. **販売積荷**を選択します。
1. 前の手順の最初の作業 ID に対して作成したユーザー定義のターゲット ライセンス プレート ID を入力します。 次に、**入力**を選択すると、ターゲットのライセンス プレートが**ステージ**の場所に配置されます。
1. ターゲットのライセンス プレート ID を再度入力し、**入力**を選択してライセンス プレートを**ベイ ドア**の場所に配置します。
1. 2 番目の作業 ID に対して作成したターゲットのライセンス プレート ID について、手順 4 ~ 5 を繰り返します。

2 つの作業 ID がクローズ (積載済) になります。

### <a name="step-3-confirm-the-outbound-shipment"></a>手順 3: 出荷の確認

この手順では、積荷のピッキング済の品目を出荷し、まだピッキングされていない品目の新しい積荷を作成するために、積荷に関して完了した 2 つの販売注文と作業を確認します。 出荷の確認は、**積荷の詳細**ページで行う必要があります。

1. **倉庫管理 \> 積荷 \> 積荷計画ワークベンチ**に移動します。
1. **積荷**セクションのグリッドで、作成した積荷 ID の行を選択します。
1. 積荷 ID のリンクを選択して、**積荷の詳細**ページを開きます。
1. **積荷の詳細**ページのアクション ウィンドウの**出荷と入荷**タブにある**確認**グループで、**出荷**を選択して確認を開始します。
1. **出荷確認**ダイアログ ボックスの、**出荷確認時の積荷分割メソッド**のフィールドで、*数量を新しい積荷に分割*を選択します。
1. **OK** を選択します。

    「処理中」というメッセージが表示される場合があります。

    積荷の出荷が確認されたこと、および分割した数量から新しい積荷が作成されたことを示す情報メッセージが表示されます。

**積荷計画ワークベンチ** ページを更新すると、新しく作成された積荷が表示されます。

トランザクション関係が次のように更新されていることを確認することもできます。

- 残りの (未処理の) 出荷および出荷明細行が、新しい積荷 ID で更新されます。
- 販売注文は、新しい積荷 ID にリンクされます。
- 元の積荷には、残りの積荷明細行は含まれません。
- 残りの作業は、新しい積荷 ID で更新されています。
- ウェーブは変わりません。
- 新しい積荷のステータスは正しく更新されます。 (作業ステータスが_処理中_の場合は、積荷ステータスも_処理中_である必要があります。)

## <a name="notes-and-tips"></a>メモとヒント

- **積荷テンプレート** パラメーターをオフにして積荷を作成した後、積荷プロセスが開始する前に、**出荷確認中の積荷分割を許可する**のパラメーターをオンにすることもできます。 目的の積荷に移動し、ヘッダー ビューでパラメーターをオンにします。
- **数量を新しい積荷に分割**するオプションは、残りの作業ヘッダーのステータスが*処理中*になっている場合にも機能します。 したがって、オーダーのピッキングが既に実行されている場合でも、その機能を使用できます。
- ステータスが*オープン*または*処理中*の作業が残っているときに、**未履行の数量をキャンセル**を選択すると、次のエラー メッセージが表示されます。「積荷の残りの数量をキャンセルできません。 積荷に対して未処理の作業があります。」
- 未処理の作業はないが、積荷に未リリースの積荷明細行がある際に、**未履行の数量をキャンセル**を選択すると、次のエラー メッセージが表示されます。「品目の数量が過少配送に定義された割合を超えているため、積荷の出荷を確認できませんでした。」 エラーを回避するには、未リリースの積荷明細行の**過少配送**率を 100 % に設定します。 未リリースの明細行は新しい積荷に移動されませんが、現在の積荷は過少配送として確認されます。 この場合、元の注文を再度リリースすることはできません。 したがって、これを別の方法で処理する必要があります。

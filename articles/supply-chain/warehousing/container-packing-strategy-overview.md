---
title: コンテナー梱包計画
description: このトピックでは、コンテナー梱包計画間の違いについて説明し、その例を示します。
author: GalynaFedorova
ms.date: 06/11/2021
ms.topic: article
ms.search.form: WHSWaveTemplateTable, InventLocationIdLookup, WHSContainerType, WHSContainerGroup, WHSContainerizationTable, WHSContainerizationBreak, WHSCreateContainerBreak, WHSContainerStructure, WHSContainerTable
audience: Application User
ms.reviewer: kamaybac
ms.custom: intro-internal
ms.search.region: Global
ms.author: gfedorova
ms.search.validFrom: 2021-06-11
ms.dyn365.ops.version: 10.0.19
ms.openlocfilehash: ab34cee7fd495ec26f6b20da2aa43895f49f677c
ms.sourcegitcommit: 9166e531ae5773f5bc3bd02501b67331cf216da4
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/03/2022
ms.locfileid: "8676386"
---
# <a name="container-packing-strategies"></a>コンテナー梱包計画

[!include [banner](../includes/banner.md)]

*コンテナー梱包計画* は、コンテナー間で品目配賦を定義するために使用できる計画です。 このトピックでは、*オープンのコンテナーすべてに梱包* 計画と *現在のコンテナーにのみ梱包* 計画の違いについて説明します。

- **オープンのコンテナーすべてに梱包** – システムは、コンテナー詰めのサイクル中に既に作成されたすべてのオープン コンテナーを確認し、品目がそのうちの 1 つに適合することを確認します。 梱包中に、システムは各品目をチェックして以前に作成されたコンテナーのいずれかに適合するかどうかを判断します。 品目が既存のコンテナーに適合しない場合は、システムにより新しいコンテナーが作成され、注文全体の梱包が終了するまで続行されます。

    たとえば、*n* 注文済品目はコンテナー詰めを必要とします。 最悪の場合、システムが既存のコンテナーに適合しない品目を処理するたびに、(\[(*n* – 1) × (*n* + 1)\] ÷ 2) の合計のチェックを実行し、品目が既存のコンテナーに適合するかどうかを評価します。

- **現在のコンテナーにのみ梱包** – システムにより、最後に作成されたコンテナーのみをチェックして品目がそれに適合するかどうかを確認する必要があります。 梱包中に、システムは各品目をチェックして最後に作成されたコンテナーに適合するかどうかを判断します。 品目がそのコンテナーに適合しない場合は、システムにより新しいコンテナーが作成され、注文全体の梱包が終了するまで続行されます。

    たとえば、*n* 注文済品目はコンテナー詰めを必要とします。 最悪の場合、システムは (*n* – 1) の合計のチェックを実行し、品目がコンテナーに適合するかどうかを評価します。

## <a name="example-of-the-flow-for-container-packing-strategies"></a>コンテナー梱包計画のフローの例

コンテナー詰めに対して次の項目を設定します。

| 項目 | 現物分析コード (幅 × 奥行き × 高さ) | 太さ |
|---|---|---|
| HDMI ケーブル 6' | 1 × 1 × 1 | 1 |
| HDMI ケーブル 12' | 2 × 1 × 1 | 1 |
| HDMI ケーブル 18' | 3 × 1 × 1 | 2 |

梱包に使用される次のボックスも設定します。

| コンテナー | 現物分析コード (長さ × 幅 × 高さ) | 太さ | 量 |
|---|---|---|---|
| 中規模なボックス | 6 × 3 × 2 | 10 | 100 |

最後に、次の製品と数量を含む注文を設定します。

| 販売注文明細行 | 件数 |
|---|---|
| HDMI ケーブル 12' | 9 |
| HDMI ケーブル 18' | 8 |
| HDMI ケーブル 6' | 13 |

次の表では、*オープンのコンテナーすべてに梱包* 計画を使用する場合と *現在のコンテナーにのみ梱包* 計画を使用する場合にコンテナー詰めがどのように機能するかを要約します。

| すべてのオープン コンテナーに梱包 | 現在のコンテナーに梱包 |
|---|---|
| <p>HDMI ケーブル 12':</p><ol><li>新規コンテナー、CONT0001 を作成します。</li><li>9 個をコンテナー CONT0001 に配置します。</li></ol> | <p>HDMI ケーブル 12':</p><ol><li>新規コンテナー、CONT0001 を作成します。</li><li>9 個をコンテナー CONT0001 に配置します。</li></ol> |
| <p>HDMI ケーブル 18':</p><ol><li>品目がコンテナー CONT0001 に適合するかどうかを確認します。</li><li>新規コンテナー、CONT0002 を作成します。</li><li>5 個をコンテナー CONT0002 に配置します。</li><li>新規コンテナー、CONT0003 を作成します。</li><li>3 個をコンテナー CONT0003 に配置します。</li></ol> | <p>HDMI ケーブル 18':</p><ol><li>品目がコンテナー CONT0001 に適合するかどうかを確認します。</li><li>新規コンテナー、CONT0002 を作成します。</li><li>5 個をコンテナー CONT0002 に配置します。</li><li>新規コンテナー、CONT0003 を作成します。</li><li>3 個をコンテナー CONT0003 に配置します。</li></ol> |
| <p>HDMI ケーブル 6':</p><ol><li>品目がコンテナー CONT0001 に適合するかどうかを確認します。</li><li>1 個をコンテナー CONT0001 に配置します。</li><li>品目がコンテナー CONT0002 に適合するかどうかを確認します。</li><li>品目がコンテナー CONT0003 に適合するかどうかを確認します。</li><li>4 個をコンテナー CONT0003 に配置します。</li><li>新規コンテナー、CONT0004 を作成します。</li><li>8 個をコンテナー CONT0004 に配置します。</li></ol> | <p>HDMI ケーブル 6':</p><ol><li>品目がコンテナー CONT0003 に適合するかどうかを確認します。</li><li>4 個をコンテナー CONT0003 に配置します。</li><li>新規コンテナー、CONT0004 を作成します。</li><li>9 個をコンテナー CONT0004 に配置します。</li></ol> |

## <a name="example-scenario-pack-single-orders-per-container"></a>シナリオ例: コンテナーごとの単一の注文の梱包

このセクションでは、複数の注文を 1 つの出荷に連結するためにシステムが設定されているシナリオを示します。 したがって、複数の製品を含むすべての注文が独自のコンテナーに梱包されるのを確認するために、販売注文からコンテナー詰めが行われます。

この機能を使用すると、各コンテナーに 1 つの販売注文のみを梱包する必要があるシナリオを処理できるため、物流センターは小売店舗間で完全なコンテナーをクロスドッキングすることができます。 小売シナリオ (小売店舗ごとの注文およびクロスドッキング用の物流センターへの出荷) に加えて、この技術は、リーン サプライ チェーン (Just-In-Time 生産ラインごとの販売注文) でも一般的に使用されます。

このシナリオでは、コンテナー詰めの *現在のコンテナーにのみ梱包* 計画を使用して、梱包中に評価されるコンテナーの数を減少する方法を示します。

### <a name="prerequisites"></a>必要条件

#### <a name="turn-on-the-consolidate-shipments-feature-in-your-system"></a>システムで出荷連結機能をオンにする

このシナリオでは、*出荷連結* 機能を使用します。 この機能をシステムで使用できない場合は、[機能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) を使用してオンにする必要があります。

#### <a name="make-demo-data-available"></a>デモ データを有効化する

このシナリオでは、Microsoft Dynamics 365 Supply Chain Management に用意されている標準のデモ データに含まれる値とレコードを参照します。 ここで提供されている値を使用するには、デモデータがインストールされている環境で作業し、開始する前に法人を **usmf** に設定します。

### <a name="inspect-or-create-container-types"></a>コンテナー タイプの検査または作成

コンテナー タイプを検査したり、必要に応じて新しいコンテナー タイプを作成するには、次の手順に従います。

1. **Warehouse Management** \> **設定** \> **コンテナー** \> **コンテナー タイプ** の順に移動します。
1. 次の各コンテナー タイプがデモ データで利用できることを確認します。 必要に応じてコンテナー タイプを編集または作成します。

    - コンテナー タイプ 1:

        - **コンテナー タイプ コード:** *ボックス - 大*
        - **説明:** *大型ボックス*
        - **最大正味重量:** *100*
        - **容積:** *400*
        - **期間:** *4*
        - **幅:** *10*
        - **高さ:** *10*

    - コンテナー タイプ 2:

        - **コンテナー タイプ コード:** *ボックス - 中*
        - **説明:** *中型ボックス*
        - **最大正味重量:** *50*
        - **容積:** *200*
        - **期間:** *2*
        - **幅:** *10*
        - **高さ:** *10*

    - コンテナー タイプ 3:

        - **コンテナー タイプ コード:** *ボックス - 小*
        - **説明:** *小型ボックス*
        - **最大正味重量:** *20*
        - **容積:** *100*
        - **期間:** *1*
        - **幅:** *10*
        - **高さ:** *10*

### <a name="inspect-or-create-container-groups"></a>コンテナー グループの検査または作成

コンテナー グループを検査したり、必要に応じて新しいコンテナー グループを作成するには、次の手順に従います。

1. **倉庫管理** \> **設定** \> **コンテナー** \> **コンテナー グループ** の順に移動します。
1. 次のコンテナー グループがデモ データで利用できることを確認します。 利用できない場合は、**新規** を選択して作成します。

    - **コンテナー グループ ID:** *ボックス*
    - **説明:** *ボックス サイズ*

1. *ボックス* コンテナー グループの **詳細** クイックタブで、次の明細行が存在することを確認します。 存在しない場合は、**新規** を選択して追加します。

    - 明細行 1:

        - **シーケンス番号:** *1*
        - **コンテナー タイプ:** *ボックス-大*
        - **コンテナー使用率の割合:** *100*

    - 明細行 2:

        - **シーケンス番号:** *2*
        - **コンテナー タイプ:** *ボックス - 中*
        - **コンテナー使用率の割合:** *100*

    - 明細行 3:

        - **シーケンス番号:** *3*
        - **コンテナー タイプ:** *ボックス - 小*
        - **コンテナー使用率の割合:** *100*

### <a name="create-a-new-container-build-template"></a>新しいコンテナー構築テンプレートの作成

新しいコンテナー構築テンプレートを作成するには、次の手順に従います。

1. **倉庫管理** \> **設定** \> **コンテナー** \> **コンテナー構築テンプレート** の順に移動します。
1. **新規** を選択して、次の設定を持つコンテナー構築テンプレートを作成します。

    - **シーケンス番号:** *1*
    - **コンテナー テンプレート ID:** *ボックス*
    - **コンテナー グループ ID:** *ボックス*
    - **基準クエリ タイプ:** *販売配賦ライン*
    - **ウェーブ ステップ コード:** *234*
    - **分割ピッキングを許可する:** *はい*
    - **コンテナー梱包計画:** *現在のコンテナーにのみ梱包*
    - **ディレクティブ出荷単位ごとの梱包:** *いいえ*

1. 新しいテンプレートの行がまだ選択されている間に、アクション ウィンドウで **クエリの編集** を選択します。
1. 標準のクエリ エディター ダイアログ ボックスが表示されます。 **並べ替え** タブで、**追加** を選択して次の設定を持つ行を追加します。

    - **テーブル:** *一時的な作業トランザクション*
    - **派生テーブル:** *一時的な作業トランザクション*
    - **フィールド:** *注文番号*
    - **検索の方法:** *昇順*

    > [!IMPORTANT]
    > その他すべてのオープン コンテナーのサイクル オーバーを回避し、1 つのコンテナーを一度にチェックしてプロセスを高速化するには、注文番号による並べ替えに加えて *現在のコンテナーにのみ梱包* 計画を使用します。 この組み合わせは、作業テンプレートのワーク ブレイクのように機能します。

1. **OK** を選択してクエリ エディター ダイアログ ボックスを閉じます。
1. 新しいテンプレートの行がまだ選択されている間に、アクション ウィンドウで **コンテナー混合の制約** を選択します。

    1 つの注文の品目を 1 つのコンテナーに入れる制約を追加します。 他の注文からの品目は別のコンテナーに配置されます。

1. **新規** を選択して、次の設定を持つ混合の制約を作成します。

    - **テーブル:** *販売注文*
    - **フィールドの選択:** *SalesId* (フィールドはグリッドに *販売注文* として表示されます。)

1. **OK** を選択して制約を追加します。
1. ページを閉じます。

### <a name="set-up-a-wave-template-for-containerization"></a>コンテナー詰めのウェーブ テンプレートの設定

ウェーブ テンプレートを設定するには、次の手順に従います。

1. **倉庫管理 \> 設定 \> ウェーブ \> ウェーブ テンプレート** の順に移動します。
1. 一覧 ウィンドウで、**ウェーブ テンプレート タイプ** フィールドを *出荷* に設定します。
1. 一覧で **63 コンテナー詰め** テンプレートを選択します。
1. アクション ウィンドウで、**編集** を選択します。
1. **メソッド** クイックタブの **選択したメソッド** 列で、次の行を確認します。

    - **メソッド名:** *コンテナー詰め*
    - **名前:** *コンテナー詰め*

1. 明細行の **ウェーブ ステップ コード** フィールドを *234* に設定します。

### <a name="set-up-a-work-template"></a>作業テンプレートを設定する

作業テンプレートを設定するには、次の手順に従います。

1. **倉庫管理 \> 設定 \> 作業 \> 作業テンプレート** の順に移動します。
1. **作業指示書タイプ** フィールドを *販売注文* に設定します。
1. **概要** グリッドで、コンテナーごとの単一の注文の梱包で使用する作業テンプレートを検索および選択します。 このシナリオでは **63 ピッキングからコンテナー** テンプレートを選択します。
1. アクション ウィンドウで、**クエリの編集** を選択します。
1. 標準のクエリ エディター ダイアログ ボックスが表示されます。 **並べ替え** タブで、次の明細行を追加します。

    - 明細行 1:

        - **テーブル:** *一時的な作業トランザクション*
        - **派生テーブル:** *一時的な作業トランザクション*
        - **フィールド:** *出荷 ID*
        - **検索の方法:** *昇順*

    - 明細行 2:

        - **テーブル:** *一時的な作業トランザクション*
        - **派生テーブル:** *一時的な作業トランザクション*
        - **フィールド:** *注文番号*
        - **検索の方法:** *昇順*

    - 明細行 3:

        - **テーブル:** *一時的な作業トランザクション*
        - **派生テーブル:** *一時的な作業トランザクション*
        - **フィールド:** *コンテナー ID*
        - **検索の方法:** *昇順*

1. **OK** を選択してクエリ エディター ダイアログ ボックスを閉じます。
1. 次のメッセージが表示されます: "グループはリセットされますが、続行しますか?" **はい** を選択して続行します。
1. While the **63 ピッキングからコンテナー** テンプレートがまだ選択されている間に、アクション ウィンドウで **作業ヘッダーの分割** を選択します。

    次に、作業を分割する設定を適用して、注文の各コンテナーが 1 つの作業指示書にリンクされるようにします。

1. **作業ヘッダーの分割** ページ (**出荷 ID**、**注文番号**、**コンテナー ID**) で各行の **このフィールドでグループ化する** チェック ボックスを選択します。
1. ページを閉じます。

### <a name="set-up-shipment-consolidation-policies"></a>出荷連結ポリシーの設定

出荷連結ポリシーを設定するには、次の手順に従います。

1. **倉庫管理  \> 設定 \> 倉庫へのリリース \> 出荷統合ポリシー** に移動します。
1. 一覧ウィンドウで、**ポリシー タイプ** フィールドを *販売注文* に設定します。
1. 一覧で、**既定** ポリシーを選択します。
1. アクション ウィンドウで、**編集** を選択します。
1. **連結フィールド** クイックタブの **選択したフィールド** の一覧で、**フィールド名** フィールドが *注文番号* に設定されている行を選択します。
1. **削除** ボタンの ![左方向キー。](media/backward-button.png) を選択する フィールドを **残りのフィールド** の一覧に移動するには。
1. アクション ウィンドウで、**保存** を選択します。

### <a name="set-up-physical-dimensions-for-the-product"></a>製品の現物分析コードの設定

このシナリオで使用される製品の現物分析コードを設定するには、次の手順に従います。

1. **製品管理情報 \> 製品 \> リリースされた製品** の順に移動します。
1. **品目番号** フィールドが *A0001* に設定されている製品を選択します。
1. アクション ペインの **在庫の管理** タブの **倉庫** グループで、**現物分析コード** を選択します。
1. **現物分析コード** ページのグリッドには次の明細行が表示されます。

    - **ユニット:** *pcs*
    - **総重量:** *3.00*
    - **幅:** *2.00*
    - **奥行き:** *2.00*
    - **高さ:** *4.00*
    - **容積:** *16.00*

1. ページを閉じます。
1. **品目番号** フィールドが *A0002* に設定されている製品を選択します。
1. アクション ペインの **在庫の管理** タブの **倉庫** グループで、**現物分析コード** を選択します。
1. **現物分析コード** ページのグリッドには次の明細行が表示されます。

    - **ユニット:** *pcs*
    - **総重量:** *4.00*
    - **幅:** *3.00*
    - **奥行き:** *1.00*
    - **高さ:** *3.00*
    - **容積:** *9.00*

### <a name="create-sales-order-1"></a>販売注文の作成 1

販売注文を作成するには、次の手順に従います。

1. **販売とマーケティング \> 販売注文 \> すべての販売注文** の順に移動します。
1. アクション ウィンドウで、**新規** を選択します。
1. 新しい販売注文を作成するためのダイアログ ボックスが表示されます。 次の値を設定します。

    - **顧客アカウント:** *US-001*
    - **倉庫:** *63*

1. **OK** を選択して販売注文を作成し、ダイアログ ボックスを閉じます。
1. 新しい販売注文が開かれます。 **販売注文明細行** クイックタブで、次の販売明細行を追加します。

    - 明細行 1:

        - **品目番号:** *A0001*
        - **数量:** *2*

    - 明細行 2:

        - **品目番号:** *A0002*
        - **数量:** *2*

1. 最初の明細行を選択し、**在庫 \> 予約** を選択します。
1. **予約** ページで、**ロットの予約** を選択します。 その後、ページを閉じます。
1. 2 つ目の明細行について前の 2 つの手順を繰り返します。
1. ページを閉じます。

### <a name="create-sales-order-2"></a>販売注文の作成 2

2 つ目の販売注文を作成売るには、次の手順に従います。

1. **販売とマーケティング \> 販売注文 \> すべての販売注文** の順に移動します。
1. アクション ウィンドウで、**新規** を選択します。
1. 新しい販売注文を作成するためのダイアログ ボックスが表示されます。 次の値を設定します。

    - **顧客アカウント:** *US-001*
    - **倉庫:** *63*

1. **OK** を選択して販売注文を作成し、ダイアログ ボックスを閉じます。
1. 新しい販売注文が開かれます。 **販売注文明細行** クイックタブで、次の販売明細行を追加します。

    - 明細行 1:

        - **品目番号:** *A0001*
        - **数量:** *4*

    - 明細行 2:

        - **品目番号:** *A0002*
        - **数量:** *4*

1. 最初の明細行を選択し、**在庫 \> 予約** を選択します。
1. **予約** ページで、**ロットの予約** を選択します。 その後、ページを閉じます。
1. 2 つ目の明細行について前の 2 つの手順を繰り返します。
1. ページを閉じます。

### <a name="create-the-load"></a>積荷の作成

このシナリオで作成した各注文に対して積荷を作成し、それを倉庫にリリースするには、次の手順に従います。

1. **倉庫管理 \> 積荷 \> 積荷計画ワークベンチ** に移動します。
1. **販売明細行** タブで、このシナリオに対して作成した販売注文から、すべての販売注文明細行を検索して選択します。
1. アクション ウィンドウの、**供給と需要** タブの **追加** グループで、**新しい積荷へ** を選択します。 選択した注文明細行が新しい積荷に追加されます。
1. **積荷のテンプレート割り当て** ダイアログ ボックスの **積荷のテンプレート ID** フィールドで、*40' コンテナー* などの積荷テンプレートを選択します。
1. **OK** を選択してダイアログ ボックスを閉じます。
1. **積荷** セクションで、作成した積荷を見つけて選択します。
1. **リリース \> 倉庫へのリリース** を選択します。
1. **倉庫へのリリース** ダイアログ ボックスで、**OK** を選択し選択した積荷を倉庫にリリースします。

### <a name="verify-the-shipments-and-containers"></a>出荷とコンテナーの検証

次の手順では、作成された出荷を確認できます。 これを使用して、このシナリオで作成した注文を確認し、予期される結果が得られるようにします。

1. **倉庫管理 \> 出荷 \> すべての出荷** に移動します。
1. リリースした積荷に対して作成された出荷を検索して選択します。
1. アクション ウィンドウの **輸送** タブで、**コンテナーの表示** を選択します。
1. 販売注文の品目が 2 つの異なるコンテナーにコンテナー化されているかを確認します。

## <a name="additional-resources"></a>追加リソース

- [コンテナー詰め](wave-containerization.md)

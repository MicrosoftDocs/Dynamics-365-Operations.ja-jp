---
title: ウェーブ テンプレートのグループ化
description: ウェーブ テンプレートのグループ化を使用すると、システムはウェーブ テンプレートの設定を使用して、定義した基準に基づいて、リリース済み明細行を分割して新規または既存のウェーブに割り当てる方法を決定することができます。 この機能は、特定の基準に基づいてウェーブが作成される倉庫で役立ちますが、マネージャーは手動ではなく自動的にウェーブを作成するすることもできます。
author: Mirzaab
ms.date: 07/01/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSWaveTableListPage, WHSWaveTemplateTable
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-07-01
ms.dyn365.ops.version: 10.0.8
ms.openlocfilehash: 0f0419f1a109f043cb1af6a575704c24420639f1
ms.sourcegitcommit: c98d55a4a6e27239ae6b317872332f01cbe8b875
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/02/2022
ms.locfileid: "9218917"
---
# <a name="wave-template-grouping"></a>ウェーブ テンプレートのグループ化

[!include [banner](../includes/banner.md)]

ウェーブ テンプレートのグループ化を使用すると、システムは [ウェーブ テンプレート](tasks/configure-wave-processing.md) の設定を使用して、定義した基準に基づいて、リリース済み明細行を分割して新規または既存のウェーブに割り当てる方法を決定することができます。 この機能は、特定の基準に基づいてウェーブが作成される倉庫で役立ちますが、マネージャーは手動ではなく自動的にウェーブを作成するすることもできます。 この機能を使用すると、システムはグループ化フィールドの値が一致する検出した最初のウェーブに、新しくリリースされた各出荷を追加することができます。 一致するものが見つからない場合は、新しい出荷に対して新しいウェーブが作成されます。

> [!IMPORTANT]
> ウェーブ テンプレートのグループ化は、作業タイプが *生産原材料ピッキング* または *かんばんピッキング* の場合はサポートされていません。 これは、ウェーブ グループ化は出荷に基づいており、これらの作業タイプでは出荷を使用しないためです。

## <a name="turn-on-the-wave-template-grouping-feature"></a>ウェーブ テンプレートのグループ化機能を有効にする

*ウェーブ テンプレートのグループ化* 機能を使用するには、システム上で有効にする必要があります。 管理者は、[機能の管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)設定を使用して、機能の状態を確認し、必要に応じて有効にすることができます。 **機能管理** ワークスペースで、この機能は次のようにリストされています。

- **モジュール:** *倉庫管理*
- **機能名:** *ウェーブ テンプレートのグループ化*

## <a name="set-a-wave-template-to-use-wave-template-grouping"></a><a name="set-up-template"></a> ウェーブ テンプレートのグループ化を使用するためのウェーブ テンプレートの設定

ウェーブ テンプレートのグループ化を使用可能にするには、次の手順に従って、[ウェーブ テンプレート](tasks/configure-wave-processing.md) を設定します。

1. **倉庫管理 \> 設定 \> ウェーブ \> ウェーブ テンプレート** の順に移動します。
1. 左ウィンドウで、設定するウェーブ テンプレートを選択します。 この記事の後半でデモ データを使用してシナリオを実行する準備をしている場合は、**62 出荷の規定** テンプレートを選択します。
1. **編集** を選択し、ページを編集モードにします。
1. **一般** クイック タブで、次の値を設定します。

    - **ウェーブの作成を自動化:** *はい*
    - **未処理のウェーブへの割り当て:** *はい*
    - **倉庫へのリリース時にウェーブを処理する:** *いいえ*

1. アクション ウィンドウで、**クエリの編集** を選択してクエリのダイアログ ボックスを開きます。
1. クエリのダイアログ ボックスの **並べ替え** タブで、並べ替え基準を確認し、ウェーブをグループ化するために使用するフィールドを含むルールがあることを確認します。

    デモ データを使用してシナリオを実行するための準備をしている場合は、次の値を含む行を追加します :

    - **テーブル:** *出荷*
    - **派生テーブル:** *出荷*
    - **フィールド:** *配送サービス*

        > [!NOTE]
        > この値を選択すると、次のメッセージが表示される場合があります: "フィールド配送サービスはインデックス フィールドではありません。 並べ替えを追加しますか ?" **はい** を選択し並べ替えを追加します。

    - **検索の方向:** *昇順*

1. **OK** を選択して変更を保存し、クエリのダイアログ ボックスを閉じます。
1. アクション ウィンドウで、**ウェーブ テンプレートのグループ化** を選択します。
1. **ウェーブ テンプレートのグループ化** ページで、必要に応じて、注文明細行をウェーブにグループ化するために使用する各行の **グループ化** チェック ボックスを選択します。 デモ データを使用してシナリオを実行する準備をしている場合は、*配送サービス* 行の **グループ化** チェック ボックスを選択します。
1. **保存** を選択します。
1. **ウェーブ テンプレートのグループ化** ページを閉じます。
1. **保存** を選択して、テンプレートを保存します。

## <a name="scenario"></a>シナリオ

このセクションでは、この機能の動作と作業方法を学ぶためのスクリプトを説明します。

### <a name="make-sample-data-available"></a>サンプル データを有効化する

ここで指定されたサンプル レコードと値を使用してシナリオを実行するには、標準[デモ データ](../../fin-ops-core/fin-ops/get-started/demo-data.md) がインストールされているシステムを使用する必要があります。 また、開始する前に **USMF** 法人を選択する必要があります。

このシナリオは、実稼働システムで作業するときにこの機能を使用するためのガイダンスとして使用することもできます。 ただし、その場合は、独自の値に置き換える必要があり、標準のデモ データが提供するいくつかのタイプの必要なレコードが不足している可能性があります。

### <a name="scenario-wave-template-grouping"></a>シナリオ: ウェーブ テンプレートのグループ化

このシナリオでは、ウェーブ テンプレートのグループ化を使用して、ウェーブ テンプレートで定義されたグループ化基準に基づいて複数のウェーブを自動的に作成する方法を示します。 このシナリオでは、ウェーブ テンプレートをシステムで設定して、配送サービスごとにウェーブを 1 つ作成します。

開始する前に、この記事の前の [ウェーブ テンプレートのグループ化を使用するためのウェーブ テンプレートの設定](#set-up-template) セクションの説明に従って、ウェーブ テンプレートを準備します。 このシナリオのデモ データを使用する場合は、必ずその手順で提案されるデモ データの値を使用してください。 この設定により、各販売注文に対して設定されている配送サービスに従ってウェーブがグループ化されます。

#### <a name="create-sales-order-1"></a>販売注文の作成 1

1. **販売とマーケティング \> 販売注文 \> すべての販売注文** の順に移動します。
1. **新規** を選択して新しい販売注文を作成します。
1. **販売注文の作成** ダイアログ ボックスでは、次の値を設定します。

    - **顧客** クイック タブで、**顧客 ID** フィールドを *US-004* に設定します。
    - **一般** クイック タブの **倉庫** フィールドを *62* に設定します。

1. **OK** を選択し販売注文を作成し、**販売注文の作成** ダイアログ ボックスを閉じます。
1. 新しい販売注文は、**明細行** ビューで開かれます。 販売注文番号をメモします。
1. **ヘッダー** 表示に切り替えます。
1. **配送** クイック タブの **輸送** セクションで、次の値を設定します。

    - **配送業者:** *航空貨物*
    - **配送サービス :** *Air*

1. **明細行** ビューに戻ります。
1. **販売注文明細行** セクションで、**明細行の追加** を選択し、行をグリッドに追加します。
1. 新しい明細行で、次の値を設定します。

    - **品目番号:** *A0002*
    - **数量:** *2*

1. 新しい注文明細行を選択し、グリッドの上にある **在庫** メニューで、**引当** を選択します。
1. **引当** ページのアクション ウィンドウで、**引当ロット** を選択して、選択した明細行の全数量を倉庫に引当します。
1. **引当** ページを閉じて、販売注文に戻ります。
1. アクション ペインの、**倉庫** タブにある **アクション** グループで、**倉庫にリリース** を選択します。
1. この注文の出荷とウェーブを示す情報メッセージが表示されます。 ウェーブ ID 番号と出荷 ID 番号をメモします。

#### <a name="view-the-wave-that-was-created-from-sales-order-1"></a>販売注文 1 から作成されたウェーブの表示

1. **倉庫管理 \> 出庫ウェーブ \> 出荷ウェーブ \> すべてのウェーブ** の順に移動します。
1. 販売注文から作成されたウェーブ ID を選択します。
1. ウェーブ ID のリンクを選択して、ウェーブ詳細ページを開きます。
1. **ウェーブ明細行** クイック タブに出荷が追加されていることを確認します。

#### <a name="create-sales-order-2"></a>販売注文の作成 2

1. **販売とマーケティング \> 販売注文 \> すべての販売注文** の順に移動します。
1. **新規** を選択して新しい販売注文を作成します。
1. **販売注文の作成** ダイアログ ボックスでは、次の値を設定します。

    - **顧客** クイック タブで、**顧客 ID** フィールドを *US-005* に設定します。
    - **一般** クイック タブの **倉庫** フィールドを *62* に設定します。

1. **OK** を選択し販売注文を作成し、**販売注文の作成** ダイアログ ボックスを閉じます。
1. 新しい販売注文は、**明細行** ビューで開かれます。 販売注文番号をメモします。
1. **ヘッダー** 表示に切り替えます。
1. **配送** クイック タブの **輸送** セクションで、次の値を設定します。

    - **配送業者:** *花の移動*
    - **配送サービス:** *Std*

1. **明細行** ビューに戻ります。
1. **販売注文明細行** セクションで、**明細行の追加** を選択し、行をグリッドに追加します。
1. 新しい明細行で、次の値を設定します。

    - **品目番号:** *A0001*
    - **数量:** *1*

1. 新しい注文明細行を選択し、グリッドの上にある **在庫** メニューで、**引当** を選択します。
1. **引当** ページのアクション ウィンドウで、**引当ロット** を選択して、選択した明細行の全数量を倉庫に引当します。
1. **引当** ページを閉じて、販売注文に戻ります。
1. アクション ペインの、**倉庫** タブにある **アクション** グループで、**倉庫にリリース** を選択します。
1. この注文の出荷とウェーブを示す情報メッセージが表示されます。 ウェーブ ID 番号と出荷 ID 番号をメモします。 ウェーブ ID は、最初の販売注文のウェーブ ID と異なることに注意してください。

#### <a name="view-the-wave-that-was-created-from-sales-order-2"></a>販売注文 2 から作成されたウェーブの表示

1. **倉庫管理 \> 出庫ウェーブ \> 出荷ウェーブ \> すべてのウェーブ** の順に移動します。
1. 2 番目の販売注文から作成されたウェーブ ID を選択します。
1. ウェーブ ID のリンクを選択して、ウェーブ詳細ページを開きます。
1. **ウェーブ明細行** クイック タブに出荷が追加されていることを確認します。

この出荷に対して作成された新しいウェーブは、最初の販売注文とは異なる配送サービスを使用しているためです。

#### <a name="create-sales-order-3"></a>販売注文の作成 3

1. **販売とマーケティング \> 販売注文 \> すべての販売注文** の順に移動します。
1. **新規** を選択して新しい販売注文を作成します。
1. **販売注文の作成** ダイアログ ボックスでは、次の値を設定します。

    - **顧客** クイック タブで、**顧客 ID** フィールドを *US-006* に設定します。
    - **一般** クイック タブの **倉庫** フィールドを *62* に設定します。

1. **OK** を選択し販売注文を作成し、**販売注文の作成** ダイアログ ボックスを閉じます。
1. 新しい販売注文は、**明細行** ビューで開かれます。 販売注文番号をメモします。
1. **ヘッダー** 表示に切り替えます。
1. **配送** クイック タブの **輸送** セクションで、次の値を設定します。

    - **配送業者:** *航空貨物*
    - **配送サービス :** *Air*

1. **明細行** ビューに戻ります。
1. **販売注文明細行** セクションで、**明細行の追加** を選択し、行をグリッドに追加します。
1. 新しい明細行で、次の値を設定します。

    - **品目番号:** *A0001*
    - **数量:** *1*

1. 新しい注文明細行を選択し、グリッドの上にある **在庫** メニューで、**引当** を選択します。
1. **引当** ページのアクション ウィンドウで、**引当ロット** を選択して、選択した明細行の全数量を倉庫に引当します。
1. **引当** ページを閉じて、販売注文に戻ります。
1. アクション ペインの、**倉庫** タブにある **アクション** グループで、**倉庫にリリース** を選択します。
1. この注文の出荷とウェーブを示す情報メッセージが表示されます。 ウェーブ ID 番号と出荷 ID 番号をメモします。 この出荷は、最初の販売注文からの既存のウェーブに割り当てられています。

#### <a name="view-the-wave-for-sales-orders-1-and-3"></a>販売注文 1 および 3 のウェーブの表示

1. **倉庫管理 \> 出庫ウェーブ \> 出荷ウェーブ \> すべてのウェーブ** の順に移動します。
1. 3 番目の販売注文から作成されたウェーブ ID を選択します。
1. ウェーブ ID のリンクを選択して、ウェーブ詳細ページを開きます。
1. 最初の販売注文の出荷と共に、**ウェーブ明細行** クイック タブに出荷が追加されていることを確認します。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
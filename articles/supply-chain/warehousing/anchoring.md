---
title: 固定
description: このトピックでは、 アンカー設定を有効にする方法について説明します。
author: GalynaFedorova
ms.date: 07/29/2021
ms.topic: article
ms.search.form: WHSRFMenuItem
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: v-gfedorova
ms.search.validFrom: 2021-07-29
ms.dyn365.ops.version: 10.0.21
ms.openlocfilehash: a17574cccbdf6f26f0453bda67eabaa16d559cd3
ms.sourcegitcommit: 99bde425ade701ef244c6bca6d411aef94a59b3c
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2021
ms.locfileid: "7505583"
---
# <a name="anchoring"></a>固定

[!include [banner](../includes/banner.md)]

このトピックでは、アンカー設定プロセスの詳細について説明します。 倉庫の作業員がステージング ロケーションまたは積荷ロケーションのいずれかを変更したときに必要な構成と、実行されるロジックについての説明が含まれます。

アンカー設定の機能を使用することで、ステージングや荷積のロケーションを上書きすることができます。 その後、すべてのオープンなプットは、指定した新しいステージングまたは荷積の場ロケーションに送られます。

この機能により、作業者がより効率的に商品を出荷することができます。 次にいくつか例を挙げます。

- 注文 1 の商品をドック 1 のステージング ロケーションにプットする必要がある作業者は、前の荷物がロケーションをクリアしていないため、この作業を完了することができません。 作業者は、ドック 1 のステージング ロケーションが使用可能になるまで待機する代わりに、ドック 2 をステージング ロケーションに使用することを決定します。 そのため、作業者は、提示されているステージ ロケーションを上書きします。 そして、作業に必要な残りの品目のプット ロケーションが、ドック 2 のステージング ロケーションに更新されます。
- 同じ配送に対して複数のピッキングを行う必要がある作業者は、プットされたすべての品目が同じ場所で組み立てられていることを確認できます。 これにより、品目のトラックへの積み込み時間を削減できます。

モバイル デバイスのメニュー項目に対してアンカー設定をするには、**アンカー** オプションを 使用します。 このオプションを *はい* に設定すると、**アンカー元** フィールドを使用して、出荷と積荷のどちらでアンカーするかを指定できます。 **アンカー元** フィールドを *出荷* に設定した場合、それ以降のオープン プットは、その貨物の新しいロケーションに変更されます。 *積荷* に設定すると、それ以降のオープン プットは、その積荷の新しいロケーションに変更されます。

> [!IMPORTANT]
> その後のオープン プットのロケーションは、同じ作業テンプレートの明細行から生成された作業ラインにのみ変更されます。 つまり、同じ作業テンプレートの明細行を起点としたプット ラインをシステムが固定します。

このトピックでは、アンカー設定の動作を示すシナリオを示します。 このシナリオでは、一連の販売注文を作成し、倉庫にリリースします。 その後、提案されたステージング ロケーションを上書きし、残っているすべてのプット アウェイ作業が新しいロケーションに誘導されていることを確認します。

## <a name="scenario-prerequisite-make-demo-data-available"></a>シナリオの前提条件: デモ データを使用可能にする

このトピックのシナリオでは、Microsoft Dynamics 365 Supply Chain Management にて用意されている標準のデモデータに含まれる値とレコードを参照し ます。 ここで提供されている値を使用するには、デモデータがインストールされている環境で作業し、開始する前に法人を *usmf* に設定します。

## <a name="scenario-setup"></a>シナリオの設定

このシナリオ例を実行する前に、関連するモバイル デバイスのメニュー項目のアンカー設定を有効にする必要があります。

### <a name="set-up-a-mobile-device-menu-item-to-enable-anchoring"></a>アンカー設定を有効にするモバイル端末用メニューの設定

以下の手順で、モバイル デバイスのメニュー項目のアンカー設定を有効にします。

1. **倉庫管理 \> 設定 \> モバイル デバイス \> モバイル デバイスのメニュー品目** の順に移動します。
1. リスト ウィンドウで、*販売ピッキング* という名前のレコードを選択します。 既存のレコードにこの名前が存在しない場合は作成します。 次の値をレコードに対して確認または設定します。

    - **メニュー項目名:** *販売ピッキング*
    - **タイトル:** *販売ピッキング*
    - **モード:** *作業*
    - **既存の作業を使用:** *はい*
    - **指示者:** *ユーザー主導*
    - **アンカー設定:** *はい*

        この設定により、セールス ピッキングの際に、複数の作業指示書の明細行をまとめて固定するようになります。

    - **アンカー元:** *積荷*

        この設定により、システムが積荷でアンカーするようになります。

    - **ターゲット ライセンス プレートを上書きする:** *はい*
    - **プット中のライセンス プレートの上書き:** *はい*
    - **ユーザーによる作業のロックの保持:** *はい*
    - **超過ピックを許可:** *はい*

### <a name="set-up-a-work-template-to-enable-staging"></a>作業テンプレートを設定して、ステージングを有効にする

ステージングを有効にするための作業テンプレートを構成するには、次の手順に従います。 この構成は、作業者が注文の品目をステージング ロケーションにぷっとするというシナリオに対応します。

1. **倉庫管理 \> 設定 \> 作業 \> 作業テンプレート** の順に移動します。
1. **ワーク オーダー タイプ** フィールドで、*販売注文* を選択します。
1. グリッドで、**61 SO ステージ** の作業テンプレートを選択します。
1. **作業テンプレートの詳細** セクションで、次の行が存在し、次に示すように構成されていることを確認します:

    - 明細行 1:

        - **作業タイプ:** *ピッキング*
        - **必須:** 選択済 (= *はい*)
        - **作業クラス ID:** *SO ピック*

    - 明細行 2:

        - **作業タイプ:** *プット*
        - **必須:** 選択済 (= *はい*)
        - **ディレクティブコード:** *ステージ*
        - **作業クラス ID:** *SO ピック*

    - 明細行 3:

        - **作業タイプ:** *ピッキング*
        - **必須:** 選択済 (= *はい*)
        - **作業の中止:** *はい*
        - **作業クラス ID:** *SO 積荷*

    - 明細行 4:

        - **作業タイプ:** *プット*
        - **必須:** 選択済 (= *はい*)
        - **ディレクティブコード:** *ベイドア*
        - **作業クラス ID:** *SO 積荷*

1. アクション ウィンドウで、**クエリの編集** を選択してクエリ エディターを開きます。
1. **範囲** タブで、次の明細行が存在していることを確認します:

    - **テーブル:** *一時的な作業トランザクション*
    - **派生テーブル:** *一時的な作業トランザクション*
    - **フィールド :** *倉庫*
    - **基準 :** *61*

1. **並び替え** タブで、次の明細行が存在していることを確認します:

    - **テーブル:** *一時的な作業トランザクション*
    - **派生テーブル:** *一時的な作業トランザクション*
    - **フィールド:** *出荷 ID*
    - **検索の方法:** *昇順*

1. **OK** を選択して設定を適用し、クエリ エディターを閉じます。 変更を受け入れる画面が表示された場合は、変更を受け入れる必要があります。
1. アクション ウィンドウで、**作業ヘッダーの分割** を選択します。
1. **フィールド名** フィールドが *出荷 ID* に設定されている行で、**このフィールドでグループ化** チェック ボックスがオン担っていることを確認します。

### <a name="set-up-license-plates-locations-and-inventory"></a>ライセンス プレート、ロケーション、在庫の設定

販売注文と出荷を作成する前に、必要な場所、ライセンス プレートの変更、および在庫が存在することを確認する必要があります。

1. **倉庫管理 \> 設定 \> 倉庫 \> ライセンス プレート** に移動し、次の 2 つのライセンス プレートを作成します:

    - MyLP1
    - MyLP2

1. **倉庫管理 \> 設定 \> 倉庫 \> ロケーション** に移動し、以下のロケーションが存在しない場合は作成します。

    | 倉庫 | 保管場所   | 場所プロファイル ID | ゾーン ID   |
    |-----------|------------|---------------------|-----------|
    | 61        | 06A01R2S1B | PICK-06             | フロア     |
    | 61        | 06A01R3S1B | PICK-06             | フロア     |
    | 61        | STAGE01    | STAGE               | *(空白)* |
    | 61        | STAGE02    | STAGE               | *(空白)* |
    | 61        | STAGE03    | STAGE               | *(空白)* |
    | 61        | STAGE04    | STAGE               | *(空白)* |

1. 次の倉庫が使用可能であることを確認します。 在庫を調整する必要がある場合には、手動によって移動を作成したり、補充を使用したり、またはその他のフローを使用したりできます。

    | 品目番号 | 件数 | 倉庫 | 保管場所   | ライセンス プレート |
    |-------------|----------|-----------|------------|---------------|
    | A0001       | 100      | 61        | 06A01R2S1B | MyLP1         |
    | A0002       | 100      | 61        | 06A01R3S1B | MyLP2         |

### <a name="create-demand"></a>需要の作成

アンカー設定機能を試す前に、いくつかの要求を作り出す必要があります。 このシナリオでは、同じ顧客に対して 3 件の販売注文を作成します。

1. **販売とマーケティング \> 販売注文 \> すべての販売注文** の順に移動します。
1. **新規** を選択してひとつ目の販売注文を作成します。
1. **販売注文の作成** ダイアログ ボックスでは、次の値を設定します。

    - **顧客アカウント:** *US-001*
    - **倉庫:** *61*

1. **OK** を選択します。
1. 新しい販売注文が開かれます。 **販売注文行** クイック タブに空の明細行が含まれています。 この明細行に次の値を設定します:

    - **品目番号:** *A0001*
    - **数量:** *1*

1. ツール バーで、**明細行の追加** を選択して 2 つ目の発注書明細行を追加し、次の値を設定します:

    - **品目番号:** *A0002*
    - **数量:** *1*

1. 在庫引当のために、注文の各販売明細行に対し、以下の手順で在庫を確保します:

    1. **販売注文明細行** クイック タブで、販売注文の明細行を選択します。
    1. ツール バーで **在庫 \> 予約** を選択します。
    1. **予約** ページの、**ロットの予約** を選択して、ページを閉じます。
    1. アクション ウィンドウで、**保存** を選択します。

1. 手順 2 から 6 を繰り返して、2 番目の販売注文を作成します。 次の値を設定します:

    - **販売注文の作成** ダイアログ ボックス で、次の操作を行います:

        - **顧客アカウント:** *US-001*
        - **倉庫:** *61*

    - 販売注文明細行 1:

        - **品目番号:** *A0001*
        - **数量:** *2*

    - 販売注文明細行 2:

        - **品目番号:** *A0002*
        - **数量:** *2*

1. 販売注文 2 の各明細行の予約を行う場合は、手順 7 を繰り返します。
1. 手順 2 から 6 を繰り返して、3 番目の販売注文を作成します。 次の値を設定します:

    - **販売注文の作成** ダイアログ ボックス で、次の操作を行います:

        - **顧客アカウント:** *US-001*
        - **倉庫:** *61*

    - 販売注文明細行 1:

        - **品目番号:** *A0001*
        - **数量:** *3*

    - 販売注文明細行 2:

        - **品目番号:** *A0002*
        - **数量:** *3*

1. 販売注文 3 の各明細行の予約を行う場合は、手順 7 を繰り返します。

### <a name="use-the-load-planning-workbench-to-create-a-load-and-release-it-to-the-warehouse"></a>積荷計画の Workbench を使用して積荷を作成し、倉庫にリリースする

以下の手順で、このシナリオで作成した注文の積荷を作成し、倉庫にリリースします。

1. **倉庫管理 \> 積荷 \> 積荷計画ワークベンチ** に移動します。
1. **販売明細行** タブで、販売注文 1 および販売注文 2 のすべての販売注文明細行を検索して選択します。
1. アクション ウィンドウの、**供給と需要** タブの **追加** グループで、**新しい積荷へ** を選択します。
1. **積荷のテンプレート割り当て** ダイアログ ボックスの **積荷のテンプレート ID** フィールドで、*Stnd load template* などの積荷テンプレートを選択します。
1. **OK** を選択してダイアログ ボックスを閉じます。
1. **積荷** セクションで、作成した積荷を見つけて選択します。
1. ツール バーで **リリース \> 倉庫へのリリース** を選択します。
1. **倉庫への積荷のリリース** ダイアログ ボックスで、**OK** を選択し、選択した積荷を倉庫にリリースします。
1. **倉庫管理 \> 作業 \> すべての作業** の順に移動して、作成した作業を表示します。 新しい作業の 2 つ (出荷ごとに 1 つ) が必要です。 各作業IDには、ピッキング ロケーションからステージング ロケーションへ、ステージング ロケーションから baydoor へと在庫を運ぶピックとプットの明細行があります。 1 回目の出荷時の **作業 ID** の値は、次の手順で必要になるため、メモしておいてください。

### <a name="sales-order-picking-to-the-staging-location-for-the-first-shipment"></a>初回出荷に使用するステージング ロケーションに対する販売注文ピッキング

1. 倉庫 *61* の作業者として、Warehouse Management モバイル アプリにログインします。 (標準デモ データでは、ユーザー IDに _61_、パスワードに _1_ を使用してサインインできます。)
1. メイン メニューで、**アウトバウンド** を選択します。
1. **アウトバウンド** メニューで、**営業ピッキング** を選択します。
1. **ID** フィールドを選択し、最初の出荷の作業 ID を入力します。
1. 入力内容を確認します。
1. **LP** フィールド に、1 つ目の品目  (*MyLP1*) のライセンス プレート番号を入力します。
1. 入力内容を確認します。
1. **ターゲット LP** フィールドに、任意の数字を入力してください (ターゲットとなるナンバー プレートがすでに存在している必要はありません)。

    処理済みのウェーブから作成されたすべての明細行を、同じターゲットのライセンス プレートにピッキングします。

1. 入力内容を確認します。
1. **LP** フィールド に、2 つ目の品目  (*MyLP2*) のライセンス プレート番号を入力します。
1. 入力内容を確認します。

    たとえば、作業者が注文指示を受けたが、作業で指定されたステージング ロケーションに行くと、そのスペースが既に使用されていたとします。 しかし、作業者は近くの別の場所 (*STAGE03*) が使用可能であることがわかりました。 そのため、ステージング ロケーションの変更が必要となります。 アンカー設定が有効になっているため、システムはこの作業と関連するすべての作業のステージング ロケーションを自動更新します。

1. 推奨されるステージング ロケーションを上書きするには、**ロケーションの上書き** を選択します。
1. **作業例外** フィールドで、*ステージング レーンの変更* を指定します。
1. **ロケーション** フィールドに、新しいステージング ロケーション (*STAGE03*) を入力します。
1. 入力内容を確認します。 "作業が完了しました" というメッセージを受信します。
1. **倉庫管理 \> 作業 \> すべての作業** の順に移動します。
1. 最初の出荷の作業 ID を開きます。 ステージング ロケーションが、モバイル デバイスを使って定義した新しいロケーション (*STAGE03*) に更新されたことを確認します。
1. 2 番目の出荷の作業 ID を開きます。 アンカー設定により、ステージング ロケーションが新しいステージング ロケーション (*STAGE03*) に更新されたことを確認します。

> [!NOTE]
> 同じステージング ロケーションを持ち、同じ作業テンプレートの明細行から生成された残りのすべてのオープンな作業明細行のロケーションが、新しいロケーションに更新されます。

### <a name="use-the-load-planning-workbench-to-add-the-new-sales-order-to-the-existing-load"></a>積荷計画 Workbench を使用して、新しい販売注文を既存の積荷に追加する

次の手順に従って、積荷に注文を追加し、倉庫にリリースします。

1. **倉庫管理 \> 積荷 \> 積荷計画ワークベンチ** に移動します。
1. **販売明細行** タブで、販売注文 3 のすべての販売注文明細行を検索して選択します。
1. アクション ペインの **需要と供給** タブの **追加** グループで、**既存の積荷** を選択すると、選択した注文明細が既存の積荷に追加されます。
1. **OK** を選択してダイアログ ボックスを閉じます。
1. **積荷** セクションで、前述の手順で作成した積荷を見つけて選択します。
1. **リリース \> 倉庫へのリリース** を選択します。
1. **倉庫への積荷のリリース** ダイアログ ボックスで、**OK** を選択し、選択した積荷を倉庫にリリースします。
1. **倉庫管理 \> 作業 \> すべての作業** の順に移動して、作成した作業を表示します。 次の手順で必要になるので、**作業 ID** の値をメモしておきます。

### <a name="sales-order-picking-to-the-staging-location-for-the-third-shipment"></a>3 回目に出荷に使用するステージング ロケーションに対する販売注文のピッキング

1. 倉庫 *61* の作業者としてモバイル アプリにサインインします。
1. メイン メニューで、**アウトバウンド** を選択します。
1. **アウトバウンド** メニューで、**営業ピッキング** を選択します。
1. **ID** フィールドを選択し、3 番目の出荷の作業 ID を入力します。
1. 入力内容を確認します。
1. **LP** フィールド に、1 つ目の品目  (*MyLP1*) のライセンス プレート番号を入力します。
1. 入力内容を確認します。
1. **ターゲット LP** フィールドに、任意の数字を入力してください (ターゲットとなるナンバー プレートがすでに存在している必要はありません)。
1. 入力内容を確認します。
1. **LP** フィールド に、2 つ目の品目  (*MyLP2*) のライセンス プレート番号を入力します。
1. 入力内容を確認します。

    最初の積荷に際して、指定したステージング ロケーションを使用できないことが分かったとします。 そのため、別のステージング ロケーション (*STAGE04*) を使用する必要があります。

1. 推奨されるステージング ロケーションを上書きするには、**ロケーションの上書き** を選択します。
1. **作業例外** フィールドで、*ステージング レーンの変更* を指定します。
1. **ロケーション** フィールドに、新しいステージング ロケーション (*STAGE04*) を入力します。
1. 入力内容を確認します。 "作業が完了しました" というメッセージを受信します。
1. **倉庫管理 \> 作業 \> すべての作業** の順に移動します。
1. 最初の出荷の作業 ID を開きます。 残りのオープンなプットの明細行が完了したプット明細行の作業テンプレート明細に対応していないため、ステージング ロケーションが新しいステージング ロケーション (*STAGE04*) に更新されなかったことを確認します。
1. 2 番目の出荷の作業 ID を開きます。 ステージング ロケーションが完了したプット明細行のステージング ロケーションに対応していないため、ステージング ロケーションが新しいステージング ロケーション (*STAGE04*) に更新されなかったことを確認します。 つまり、完了したしたプット作業の明細行と、残っているオープンな作業の明細行は、ステージング ロケーションが異なっており、この場合、ステージング ロケーションが同じ明細行のみが更新されることになります。
1. 3 番目の出荷の作業 ID を開きます。 ステージング ロケーションが新しいステージング ロケーション (*STAGE04*) に更新されたことを確認します。

[!INCLUDE[footer-include](../../includes/footer-banner.md)]

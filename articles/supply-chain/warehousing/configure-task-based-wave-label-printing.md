---
title: ウェーブ中にウェーブ ラベルの印刷をスケジュールする
description: この記事では、タスク ベースのウェーブ ラベル印刷用の機能を設定および使用する方法について説明します。
author: perlynne
ms.date: 12/02/2022
ms.topic: article
ms.search.form: WHSPostMethod, WHSWavePostMethodTaskConfig, WHSWaveTemplateTable, WHSParameters, WHSWaveTableListPage, WHSWorkTableListPage, WHSWorkTable, BatchJobEnhanced, WHSPlannedWorkOrder
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: 2021-06-09
ms.dyn365.ops.version: 10.0.16
ms.openlocfilehash: e788e5a9206e46ada6490d4a0196c7ea8ca6af15
ms.sourcegitcommit: 04e42c495d018e457fb3b038cadc4fe75ecbba12
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/02/2022
ms.locfileid: "9822365"
---
# <a name="schedule-wave-label-printing-during-wave"></a>ウェーブ中にウェーブ ラベルの印刷をスケジュールする

[!include [banner](../../includes/banner.md)]

ウェーブ プロセスの一部として *ウェーブ ラベル印刷に基づくタスク* 機能を使用すると効率が向上、また、ウェーブ ラベルを作成するシステムと個別作業を行うことができます。

ウェーブ ラベルの印刷を構成するプロセスは複雑で、正確なコンフィギュレーションとマスター データに依存します。 これは、複数のウェーブ レコードの生成が失敗することは珍しくなく、失敗した場合でも、ウェーブ処理の全体がロールバックされます。 *ウェーブ ラベル印刷に基づくタスク* 機能を使用すると、ウェーブ ラベルを誤って印刷するたびに作業と作業明細行を再作成する必要が無いようにします。

*ウェーブ ラベルの印刷に基づくタスク* 機能を使うと、システムは最初に作業と作業明細行が作成されます。 次に、ウェーブ ラベルを作成して印刷します。 最後に、ウェーブ ラベルが正しく作成された場合は、ピッキング用の作業とウェーブがリリースされます。

## <a name="turn-on-the-task-based-wave-label-printing-feature-in-feature-management"></a>機能管理でのタスク ベースのウェーブ ラベル印刷機能の有効

この記事で説明する機能を使用するには、システムで機能を有効にする必要があります。 [機能の管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)ワークスペースを使用して、機能を次に示す順番で有効にします。

1. *組織全体の作業のブロック* - この機能ではスケジュールされた作業作成の手動と自動の両方の構成に必要です。 (Supply Chain Management のバージョン 10.0.21 の時点では、この機能は必須です。この機能は既定で有効になっていて、再度オフにできない状態です)。
1. *ウェーブ ラベル印刷に基づくタスク* – この機能は、ウェーブ ラベルの印刷を別のトランザクション スコープに分割する必要があります。

## <a name="manually-enable-the-new-wave-step-method"></a>新しいウェーブ ステップの方法を手動で有効にする

最初に、新しいウェーブ ステップ メソッドを作成し、並列、非同期タスク処理を有効にする必要があります。

1. **倉庫管理 \> 設定 \> ウェーブ \> ウェーブのプロセス メソッド** に移動します。
1. アクション ウィンドウで、**再生成の方法** を選択します。 *waveLabelPrinting* は、出荷ウェーブ テンプレートで使用できるウェーブ プロセス方法の一覧に追加されることに注意してください。
1. **メソッド名** フィールドが *waveLabelPrinting* に設定されているレコードを選び、アクション ウィンドウで **タスク コンフィグレーション** を選択します。
1. アクション ウィンドウで **新規** を選択して、行をグリッドに追加します。 続いて、新しい行に次のフィールドを設定します:

    - **倉庫** – 作業作成処理をスケジュールするために使用する倉庫を選択します。 (デモ データをテスト目的で使用している場合は、倉庫 *24* を選択できます。)
    - **バッチ タスクの最大数** – バッチ タスクの最大数を指定します。 ほとんどの場合、値は *8* から *16* です。 ただし、最適な設定を試して、使用するシナリオを探すことをお勧めします。
    - **ウェーブを処理するバッチ グループ** – 専用のウェーブを処理するバッチ グループを選択して、バッチ キュー処理を最適化します。

*ウェーブ ラベル印刷* ウェーブ処理方法を使用するように、既存のウェーブ テンプレートを更新します。 または、それを使用する新しいウェーブ テンプレートを作成できます。

1. **倉庫管理 \> 設定 \> ウェーブ \> ウェーブ テンプレート** の順に移動します。
1. アクション ウィンドウで、**編集** を選択します。
1. リスト ウィンドウで、ウェーブ テンプレートを選択して更新します。 (デモ データをテスト目的で使用している場合は、*24 出荷の既定* を選択できます。)
1. **メソッド** クイックタブの **残りのメソッド** 列で、**名前** フィールドが *waveLabelPrinting* に設定されている行を選択します。
1. **追加** (右矢印ボタン) を選び、選択した行を **選択したメソッド** 行へ移動します。
1. **ウェーブ ステップ コード** フィールドで、ウェーブ ラベル テンプレートとウェーブ テンプレートを接続するために使われるウェーブ ステップ コードを入力します。

## <a name="set-wave-task-processing-threshold-data"></a>ウェーブ タスク処理のしきい値データの設定

タスク ベースの処理を使用してウェーブ プロセスを初めて実行する際、システムは既定のウェーブ タスク処理のしきい値データを作成します。 このデータは、ウェーブ処理が非同期に実行されタスク ベース化されるかどうかを制御するために使用され、これによりウェーブ ラベルを並行して処理および作成できます。

既定データでは、最初に作業 ID の最小数に対して、しきい値 *1* が使用されます (`MinimumWorkThresholdForLabelPrinting`)。 したがって、システムで複数の作業 ID を処理する場合、別のトランザクションでウェーブ ラベルのタスク ベース処理は使用されます。 テスト環境では、このデータを `WHSWaveTaskProcessingThresholdParameters` テーブルに手動で挿入または更新することができます。 運用環境で設定を変更するためには、Microsoft サポートに連絡してアップデートを依頼する必要があります。

## <a name="changes-to-the-wave-processing-logic-when-task-based-wave-label-printing-is-used"></a>タスクベースのウェーブ ラベル印刷を使用する場合のウェーブ処理ロジックの変更

ウェーブ ラベルの処理が開始される前の作業処理のしきい値を超えた場合は、タスク ベースの処理が開始されます。 ウェーブ テンプレートが適合する次のウェーブ処理では、ウェーブ ラベル印刷は作業作成後すぐにスタンドアロン *ttsbegin*/*ttscommit* トランザクションで実行されます。 作業リリース (ブロックの解除) が自動的に実行するようにウェーブ テンプレートに対して構成されている場合、ウェーブ ラベル印刷のプロセスが正常に完了した後にのみ発生します。

ウェーブ ラベル生成が失敗した場合 (たとえば、ウェーブ ラべル数量への作業数量の変換に失敗しエラーが発生した場合)、該当するトランザクションだけが失敗します。 以前に作成された作業は凍結されたままです。 エラーを修正し、ウェーブ ラベルを印刷するには、次の手順に従います。

1. **倉庫管理 \> 出庫ウェーブ \> 出荷ウェーブ \> すべてのウェーブ** の順に移動します。
1. グリッドで関連ウェーブを選択します。
1. アクション ペインにある **ウェーブ** タブの **印刷** グループで、**ウェーブ ラベル** を選択します。
1. 画面に表示された指示に従って、印刷用のラベルを送信します。
1. アクション ウィンドウでの **ウェーブ** グループの **ウェーブ** タブで、**リリース** を選択し、手動で選択したウェーブの作業をリリースします。

## <a name="additional-resources"></a>追加リソース

- [ウェーブ ラベルの印刷](configure-wave-label-printing.md)
- [ウェーブ中の作業作成のスケジュール](configure-wave-schedule-work-creation.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]

---
title: ウェーブ中の作業作成のスケジュール
description: このトピックでは、作業作成のスケジュールのウェーブ処理メソッドを設定および使用する方法について説明します。
author: perlynne
ms.date: 01/14/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSPostMethod, WHSWavePostMethodTaskConfig, WHSWaveTemplateTable, WHSParameters, WHSWaveTableListPage, WHSWorkTableListPage, WHSWorkTable, BatchJobEnhanced, WHSPlannedWorkOrder
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-01-14
ms.dyn365.ops.version: 10.0.17
ms.openlocfilehash: 5e9dc9b7cf33f9393f408d8f8a458e9b0ea47639
ms.sourcegitcommit: 8cb031501a2b2505443599aabffcfece50e01263
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/09/2021
ms.locfileid: "7778380"
---
# <a name="schedule-work-creation-during-wave"></a>ウェーブ中の作業作成のスケジュール

[!include [banner](../../includes/banner.md)]

ウェーブ プロセスの一部として *作業作成のスケジュール* 機能を使用すると、並行処理を使用してシステムに作業を作成させることにより、ウェーブ処理のスループットを向上させることができます。

この機能を有効にすると、計画作業が自動的に作成され、最終的にシステムが実際の作業の作成を処理します。 ウェーブ積荷の数が所定のしきい値に達すると、システムは並列の非同期処理を適用することで、より迅速に実際の作業を作成します。

## <a name="turn-on-the-scheduled-work-creation-features-in-feature-management"></a>機能管理でスケジュールされた作業作成機能を有効にする

このトピックで説明する機能を使用するには、システムでこれら機能を有効にする必要があります。 [機能の管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)ワークスペースを使用して、次の機能を次に示す順番で有効にします :

1. **組織全体の作業のブロック** - スケジュールされた作業作成の手動/自動の両方の構成に必要です。 (Supply Chain Management のバージョン 10.0.21 の時点では、この機能は必須です。この機能は既定で有効になっていて、再度オフにできない状態です)。
1. **作業作成のスケジュール** - スケジュールされた作業作成の手動/自動の両方の構成に必要です。
1. **組織全体の 「作業作成のスケジュール」 ウェーブメソッド** - スケジュールされた作業作成の自動設定に必要です。 手動での構成のみを使用する場合は、この機能は不要です。

<a name="Auto-enable-schedule-work-creation"></a>

## <a name="automatically-configure-scheduled-work-creation"></a>スケジュールされた作業の作成を自動的に設定する

*組織全体の 「作業作成のスケジュール」 ウェーブメソッド* 機能を有効にすると、ご利用のシステムでは自動的に次のようになります :

- ウェーブ メソッド(`WHSScheduleWorkCreationWaveStepMethod`) *作業作成のスケジュール* は、すべての法人に並行して実行されるように追加・設定されています。
- **ウェーブ テンプレートのタイプ** を *出荷* に設定し、**テンプレートの状態** を *有効* に設定したすべての法人のウェーブ テンプレートでは、*作業の作成* というメソッドが *作業作成のスケジュール* メソッドに変更されます。 ただし、*作業の作成* メソッドが反復可能であると認められている法人のウェーブ テンプレートは修正されません。
- *作業作成のスケジュール* メソッドのタスク構成は、**倉庫管理プロセスの使用** を有効にしているすべての法人のすべての倉庫に対して作成されます。 これにより、*作業作成のスケジュール* メソッドが既定で並列して実行されます。 **倉庫管理プロセスを使用** を *いいえ* から *はい* に変更した既存の倉庫でも、この方法が既定で並行して実行されます。
- すべての法人はウェーブを一括して処理し、**ロックの待機 (ms)** は、これまで *0* ms に設定されていたものが、既定の *60,000* ms に設定されます。
- 新たに作成したすべてのウェーブ テンプレートには、*作業の作成* メソッドではなく  *作業作成のスケジュール* というウェーブ メソッドが採用されます。

また、ウェーブを一括して処理するように設定されているすべての法人、および *作業作成のスケジュール* メソッドを並行して使用するように設定されているすべての倉庫については、既存のタスクおよびウェーブ処理の設定が維持されます。

必要に応じて、以下のように、*組織全体の 「作業作成のスケジュール」 ウェーブメソッド* 機能を有効にしたときに自動的に行われた設定の一部、またはすべてを手動で元に戻すことができます :

- ウェーブ テンプレートに対しては、**倉庫管理 \> 設定 \> ウェーブ \> ウェーブ テンプレート** にアクセスしてください。 *作業作成のスケジュール* メソッドを *作業の作成* と置き換えます。
- 倉庫のパラメーターに対しては、 **倉庫管理 \> 設定 \> 倉庫管理パラメーター** にアクセスしてください。 **制御処理** タブで、**バッチの処理** と **ロックを待機 (ミリ秒)** の値 を適用します 。
- ウェーブ メソッドに対すしては、**倉庫管理 \> 設定 \> ウェーブ \> ウェーブ プロセスのメソッド** にアクセスしてください。 `WHSScheduleWorkCreationWaveStepMethod` を選択し、アクション ペインで、**タスクの構成** を選択します。 必要に応じて、バッチ タスクの数と、リストされている各倉庫に割り当てられている複数のグループを変更または削除します。

## <a name="manually-configure-scheduled-work-creation"></a>スケジュールされた作業の作成を手動で設定する

[*組織全体の 「作業作成のスケジュール」 ウェーブ メソッド* 機能](#Auto-enable-schedule-work-creation) を有効にしていない場合は、このセクションで説明する手順で、必要に応じてスケジュールされた仕事の作成を手動で設定することができます。

### <a name="manually-enable-batch-processing-of-waves"></a>ウェーブのバッチ処理を手動で有効にする

並列非同期メソッドを利用して倉庫作業を作成するには、ウェーブ プロセスをバッチで実行する必要があります。 これを設定するには:

1.  **倉庫管理 \> 設定 \> 倉庫管理パラメーター** の順に移動します。
1. **全般** タブで **ウェーブのバッチ処理** を *はい* に設定します。 必要に応じて、専用の **ウェーブを処理するバッチ グループ** を選択して、バッチ キューの処理が他のプロセスと同時に実行されないようにすることもできます。
1. システムが複数のウェーブを同時に処理する場合に適用される、**ロック待機 (ミリ秒) 時間** を設定します。 大規模なウェーブ プロセスの場合は、値を *60000* にすることをお勧めします。

### <a name="manually-enable-the-new-wave-step-method-for-existing-wave-templates"></a>既存のウェーブ テンプレートに対して新しいウェーブ ステップ メソッドを手動で有効にする

最初に、新しいウェーブ ステップ メソッドを作成し、並列非同期タスク処理を有効にします。

1.  **倉庫管理 \> 設定 \> ウェーブ \> ウェーブのプロセス メソッド** に移動します。
1.  **メソッドの再生成** を選択して、*WHSScheduleWorkCreationWaveStepMethod* が出荷ウェーブ テンプレートで使用できるウェーブ プロセス メソッドの一覧に追加されていることに注意してください。
1. **メソッド名** *WHSScheduleWorkCreationWaveStepMethod* を含むレコードを選択し、**タスク構成** を選択します。
1. グリッドに新しい行を追加するには、アクション ウィンドウで **新規** を選択して、次の設定を使用します:

    - **倉庫** - 作業作成処理をスケジュールするために使用する倉庫を選択します。
    - **バッチ タスクの最大数** - バッチ タスクの最大数を指定します。 ほとんどの場合、この値は 8-16 の範囲にする必要がありますが、シナリオに基づいて最適な設定を試することをお勧めします。
    - **ウェーブを処理するバッチ グループ** - 専用のウェーブを処理するバッチ グループを選択して、バッチ キュー処理を最適化します。

これで、既存のウェーブ テンプレートを更新 (または新しいテンプレートを作成) して、*作業作成のスケジュール* ウェーブ処理メソッドを使用する準備が整いました。

1.  **倉庫管理 \> 設定 \> ウェーブ \> ウェーブ テンプレート** の順に移動します。
1. アクション ペインで **編集** を選択します。
1. リスト ペインで、更新するウェーブ テンプレートを選択します (デモ データを使用してテストを行っている場合は、*24 出荷の既定* を使用できます)。
1. **メソッド** クイック タブを展開し、**残りのメソッド** グリッドで **名前** *作業作成のスケジュール* の行を選択します。
1. **選択されたメソッド** 列を指す矢印を選択して、選択した行をその列に移動します。 `WHSScheduleWorkCreationWaveStepMethod` または `createWork` を使用する選択済みのメソッドは一度にひとつしかないため、**メソッド名** `createWork` の既存の行は自動的に **残りのメソッド** グリッドに移動します。

## <a name="set-wave-task-processing-threshold-data"></a>ウェーブ タスク処理のしきい値データの設定

システムは、タスク ベースの処理を使用してウェーブ プロセスを初めて実行するときに、既定のウェーブ タスク処理のしきい値データを作成します。 データは、ウェーブ処理を非同期に実行し、タスク ベースにするタイミングを制御するために使用されます。これにより、ウェーブ処理を並行して処理し、作業を作成できます。

既定のデータでは、最初に、最小積荷明細行数 (`MINIMUMWAVELOADLINES`) に対してしきい値 15 が使用されます。 つまり、システムが、15 より多い積荷明細行を含むウェーブを処理すると、非同期タスク処理を使用します。 テスト環境では、このデータを `WHSWaveTaskProcessingThresholdParameters` テーブルに手動で挿入/更新することができます。 運用環境でこの設定を変更する必要がある場合は、マイクロソフトのサポートに連絡してアップデートを依頼する必要があります。

## <a name="work-with-the-scheduled-work-creation"></a>スケジュールされた作業の作成に関する作業

スケジュールされた作業の作成を使用する方法の詳細については、[ウェーブの作成と処理](wave-processing.md) を参照してください。 


[!INCLUDE[footer-include](../../includes/footer-banner.md)]

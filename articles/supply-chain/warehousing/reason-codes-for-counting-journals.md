---
title: 在庫棚卸の理由コード
description: この記事では、棚卸タスクに理由コードを設定および適用する方法について説明します。
author: perlynne
ms.date: 08/02/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: InventCountingReasonCodePolicy, InventCountingReasonCode
audience: Application User
ms.reviewer: kamaybac
ms.custom: 1705903
ms.assetid: 427e01b3-4968-4cff-9b85-1717530f72e4
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: 10.0.21
ms.openlocfilehash: 7d182f1d979543eeec700924d2bd180ee06be8ce
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/03/2022
ms.locfileid: "8857115"
---
# <a name="reason-codes-for-inventory-counting"></a>在庫棚卸の理由コード

[!include [banner](../includes/banner.md)]

理由コードにより、棚卸プロセスおよびそのプロセス中に発生する任意の不一致の結果を分析できます。 パレットの破損または在庫サンプルに基づく在庫調整などの、棚卸を行うための理由を指定できます。 同時に、調整機能を使用して、各在庫調整の理由に基づいて、手持在庫調整の値を適切な相手勘定に転記できます。

## <a name="recommendation"></a>報酬認定

システムを設定する前に、理由コードを操作するための戦略を定義することをお勧めします。 たとえば、次の質問に回答してください。

- 理由コードは倉庫で必須ですか。
- 理由コードは一部の品目に必須またはオプションですか。
- 理由コードがいくつ必要ですか。
- 調整のために、限定された理由コードの一覧を事前に選択する必要がありますか?
- バーコード スキャナーのユーザーはどの理由コードを使用する必要がありますか? 理由コードは事前に選択された、必須、または編集不可能のどれであるべきですか。
- 倉庫作業者にはモバイル スキャナーでさまざまな理由コード動作が必要ですか。 答えがはいの場合は、複数のメニュー項目を作成し、さまざまな人々に割り当てることができます。
- 理由コードは、財務相手勘定の転記を促進する必要がありますか?

## <a name="turn-on-reason-code-features-in-your-system"></a>システムで理由コード機能を有効にする

この記事で説明されているすべての機能がシステムに表示されない場合は、*相手勘定に接続されたコードを使用した手当調整の転記* を有効にする必要があります。 管理者は、[機能の管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)設定を使用して、機能の状態を確認し、必要に応じて有効にすることができます。 **機能管理** ワークスペースで、この機能は次のようにリストされています。

- **モジュール:** *倉庫管理*
- **機能名:** *相手勘定に接続されたコードを使用した手当調整の転記*

## <a name="set-up-reason-codes"></a>理由コードの設定

### <a name="set-up-reason-code-policies"></a>理由コード ポリシーの設定

複数の理由コード ポリシーを作成して、棚卸理由コードをいつどのように適用するかを制御できます。 各理由コード ポリシーには、2 つの棚卸理由コード タイプ (*オプション* または *必須*) のいずれかを持つことができます。 倉庫レベルまたは品目レベルで、棚卸の理由コード ポリシーを使用できます。

理由コード ポリシーを作成するには、次の手順に従います。

1. **在庫管理** \> **設定** \> **在庫** \> **棚卸の理由コード ポリシー** に移動します。
1. アクション ウィンドウで **新規** を選択して、ポリシーをグリッドに追加します。
1. 新しいポリシーの **名前** フィールドを設定します。
1. **棚卸の理由コード ポリシー** フィールドで、*必須* または *オプション* のいずれかを選択し、次の在庫調整プロセスのうちの 1 つで理由コードの選択がオプションまたは必須であるべきかを指定します。

    - 循環棚卸 (モバイル デバイス)
    - スポット棚卸 (モバイル デバイス)
    - しきい値棚卸 (モバイル デバイス)
    - 調整内 (モバイル デバイス)
    - 調整外 (モバイル デバイス)
    - 棚卸仕訳帳 (リッチ クライアント)
    - 数量調整/オンライン棚卸 (リッチ クライアント)

個々の倉庫および製品に対して、理由コード ポリシーを設定することができます。 製品の理由コード設定は、製品の倉庫の設定を変更することができます。

> [!NOTE]
> **棚卸理由コード ポリシー** フィールドが *必須* に設定されている倉庫および品目の場合、理由コードが提供されるまで、集計仕訳帳を完了して閉じることはできません。 詳細については、次のセクションを参照してください。

### <a name="assign-counting-reason-code-policies-to-warehouses"></a>棚卸理由コード ポリシーを倉庫に割り当てる

棚卸理由コード ポリシーを倉庫に割り当てるには、次の手順に従います。

1. **在庫管理** \> **設定** \> **在庫詳細** \> **倉庫** の順に移動します。
1. リスト ウィンドウで、倉庫を選択します。
1. アクション ペインの **倉庫** タブの **設定** グループで、**棚卸理由コード ポリシー** を選択します。 その後、**棚卸理由コード ポリシーの割り当て** ドロップダウン ダイアログ ボックスで、次のいずれかの手順に従います:

    - 各品目のポリシー設定を使用して、棚卸仕訳帳が必須かどうかを判断するには、値を入力しません (または既存の値を削除)。
    - 倉庫の棚卸仕訳帳で理由コードを要求するには、**棚卸理由コード タイプ** フィールドが *必須* に設定されている理由ポリシーを選択します。
    - 倉庫の棚卸仕訳帳で理由コードがオプションである場合は、**棚卸理由コード タイプ** フィールドが *オプション* に設定されている理由ポリシーを選択します。

### <a name="assign-counting-reason-code-policies-to-products"></a>棚卸理由コード ポリシーを製品に割り当てる

棚卸理由コード ポリシーを製品に割り当てるには、次の手順に従います。

1. **製品情報管理** \> **製品** \> **リリース済製品** の順に移動します。
1. グリッドで製品を選択します。
1. アクション ペインの **製品** タブの **設定** グループで、**棚卸理由コード ポリシー** を選択します。 その後、**棚卸理由コード ポリシーの割り当て** ドロップダウン ダイアログ ボックスで、次のいずれかの手順に従います:

    - 倉庫のポリシー設定を使用して、倉庫の棚卸仕訳帳が必須かどうかを判断するには、値を入力しません (または既存の値を削除)。
    - 製品の棚卸仕訳帳で理由コードを要求するには、**棚卸理由コード タイプ** フィールドが *必須* に設定されている理由ポリシーを選択します。 この設定は、倉庫レベルで任意の理由コード設定を上書きします。
    - 製品の棚卸仕訳帳で理由コードがオプションである場合は、**棚卸理由コード タイプ** フィールドが *オプション* に設定されている理由ポリシーを選択します。 この設定は、倉庫レベルで任意の理由コード設定を上書きします。

### <a name="set-up-counting-reason-codes"></a>棚卸理由コードの設定

棚卸理由コードを設定するには、以下の手順に従ってください。

1. **在庫管理** \> **設定** \> **在庫** \> **棚卸の理由コード** に移動します。
1. アクション ウィンドウで **新規** を選択して、行をグリッドに追加します。
1. 新しい行の **棚卸理由コード** と **説明** フィールドを設定します。
1. 相手勘定を割り当てるには、**相手勘定** フィールドで値を入力または選択します。

    > [!NOTE]
    > 相手勘定が棚卸理由コードに割り当てられている場合、棚卸仕訳帳でその棚卸理由コードを使用して転記すると、既定の在庫転記プロファイル勘定ではなく、割り当てられた相手勘定に対して値が転記されます。

### <a name="set-up-counting-reason-code-groups"></a><a name="reason-groups"></a>棚卸理由コード グループを設定する

*棚卸理由コード グループ* は、Warehouse Management モバイル アプリの *調整内* および *調整外* メニュー項目の一部として使用して、棚卸理由コードの一覧を制限できます。 (棚卸理由コード グループの詳細については、この記事の後半にある [調整内および調整外のモバイル デバイス メニュー項目を設定](#setup-adjustment-in-out) セクションを参照してください。)

1. **在庫管理** \> **設定** \> **在庫** \> **棚卸の理由コード グループ** に移動します。
1. アクション ウィンドウで **新規** を選択して、グループを追加します。
1. 新しいグループの **棚卸理由グループ** と **グループの説明** フィールドを設定します。
1. アクション ウィンドウで、**保存** を選択します。
1. **詳細** セクションで、ツールバーの **新規** を選択して、グリッドに行を追加します。 次に、新しい行の **棚卸理由コード** フィールドを設定します。 
1. 前の手順を繰り返して、必要に応じてさらにコードを割り当てます。 グループからコードを削除する必要がある場合は、選択し、ツールバーの **削除** を選択します。

### <a name="set-up-reason-codes-for-mobile-device-menu-items"></a>モバイル デバイス メニュー項目の理由コードを設定する

次の手持調整タイプに対して理由コードを構成できます:

- 循環棚卸
- スポット棚卸
- しきい値棚卸
- 調整内
- 調整外

ほとんどの場合、関連するモバイル デバイス メニュー項目ごとに次の情報を定義できます。

- 棚卸の際に、モバイル デバイスの作業者に理由コードが表示されているかどうか。
- 既定の理由コードがモバイル デバイス メニュー項目に表示されます。
- ユーザーが理由コードを編集できるかどうか。

#### <a name="set-up-mobile-device-menu-items-for-a-counting-process"></a>棚卸プロセスのモバイル デバイス メニュー項目を設定する

棚卸プロセスモバイル デバイスのメニュー項目を設定するには、次の手順を実行します。

1. **倉庫管理** \> **設定** \> **モバイル デバイス** \> **モバイル デバイスのメニュー品目** の順に移動します。
1. リスト ウィンドウで関連するメニュー項目を選択するか、新しいメニュー項目を作成します。
1. アクション ウィンドウで、**循環棚卸** を選択します。
1. **既定の棚卸理由コード** フィールドで、モバイル デバイス メニュー項目が棚卸を行うのに使用されるときに記録されるべき、既定の理由コードを設定します。
1. **棚卸理由コードを表示する** フィールドで、次のいずれかの値を選択します:

    - *行* – 各差異が記録された後に理由コードを表示します。
    - *非表示* – 理由コードを表示しません。

1. **棚卸理由コードを編集する** を *はい* に設定し、作業者が、棚卸中にモバイル デバイスで表示される際に理由コードを編集できるようにします。 作業者がコードを編集できないようにするには、*No* に設定します。

> [!NOTE]
> 棚卸の実行時に任意のモバイル デバイス メニュー項目で **循環棚卸** ボタンを有効にすることができます。 例には、スポット棚卸、ユーザー主導作業、およびシステム主導作業のメニュー項目が含まれます。

#### <a name="set-up-mobile-device-menu-items-for-adjustment-in-and-adjustment-out"></a><a name="setup-adjustment-in-out"></a>調整内および調整外のモバイル デバイス メニュー項目を設定する

調整内および調整外のモバイル デバイスのメニュー項目を設定するには、次の手順を実行します。

1. **倉庫管理** \> **設定** \> **モバイル デバイス** \> **モバイル デバイスのメニュー品目** の順に移動します。
1. アクション ペインで **新規** を選択し、メニュー項目を作成します。
1. 新しいメニュー項目の **モバイル品目名** および **タイトル** フィールドを設定します。
1. **モード** フィールドを *作業* に設定します。
1. **既存の作業を使用** オプションを *いいえ* に設定します。
1. **作業作成プロセス** フィールドで、*調整内* またはを *調整外* を選択します。
1. **一般** クイック タブで、次のフィールドを設定します。 (**作業作成プロセス** フィールドで、*調整内* または *調整外* を選択すると、これらすべてのフィールドが追加されます。)

    - **プロセス ガイドの使用** – *調整外* プロセスを作成する場合は、このオプションを *はい* に設定してください。 *調整外* プロセスを作成する場合、このオプションは常に *はい* に設定されます。
    - **既定の棚卸理由コード** – モバイル デバイス メニュー項目が棚卸を行うのに使用されるときに記録されるべき、既定の理由コードを設定します。
    - **棚卸理由コードを表示する** – 次のいずれかの値を選択します:

        - *行* – 各差異が記録された後に理由コードを表示します。
        - *非表示* – 理由コードを表示しません。

    - **棚卸理由コードを編集する** – このオプションを *はい* に設定し、作業者が、棚卸中にモバイル デバイスで表示される際に理由コードを編集できるようにします。 作業者がコードを編集できないようにするには、*No* に設定します。
    - **棚卸理由コード グループ** – 作業者に対して表示されるオプションの一覧を制限する場合は、理由コード グループを選択します。 理由コード グループの設定方法の詳細については、この記事の前述の [棚卸理由コード グループの設定](#reason-groups) を参照してください。 

> [!NOTE]
> **プロセス ガイドの使用** オプションが *はい* に設定されている *調整内* および *調整外* メニュー項目に棚卸理由コード グループを割り当てると、Warehouse Management モバイル アプリでプロセスの一部として棚卸理由コードの限定されたリストを取得できます。
>
> **プロセス ガイドの使用** オプションは、大きな調整数量が誤って発生する可能性を防ぐのにも役立ちます。 (たとえば、作業者が数量値の代わりに品目番号のバー コードを誤ってスキャンしてしまった場合があります。) この機能を設定するには、関連する各メニュー項目の **プロセス ガイドの使用** オプションを *はい* に設定します。 次に、**倉庫管理 \> 設定 \> 作業者** に移動し、関連する倉庫作業者ごとに **調整数量制限** フィールドを設定して、作業者が登録できる最大調整数量を指定します。

## <a name="processing-that-uses-counting-reason-codes"></a>棚卸理由コードを使用する処理

作業者が Warehouse Management モバイル アプリを使用すると、理由コードが記録されます。 棚卸の承認プロセスが定義されていない限り、記録された理由コードは、直後の棚卸仕訳帳の転記の一部として使用されます。

### <a name="cycle-count-approvals"></a>循環棚卸の承認

棚卸が承認される前に、作業者は、棚卸に関連付けられている理由コードを変更できます。 棚卸が承認されると、棚卸仕訳帳明細行に理由コードが入力されます。

#### <a name="modify-reason-codes-for-cycle-count-approvals"></a>循環棚卸の承認の理由コードの変更

循環棚卸の承認を変更するには、次の手順に従います。

1. **倉庫管理** \> **循環棚卸** \> **循環棚卸作業が検討保留** の順に移動します。
1. グリッドで循環棚卸を選択します。
1. アクション ウィンドウの、**作業** タブで、**循環棚卸** を選択します。 次に、**理由コード** フィールドで、新しい理由コードを選択します。

理由コードは、*棚卸仕訳帳* タイプの棚卸仕訳帳の仕訳帳明細行に追加されます。

1. **在庫管理** \> **仕訳入力** \> **品目棚卸** \> **棚卸** の順に移動します。
2. 棚卸仕訳帳の明細行の詳細の、**棚卸理由コード** フィールドで、現在の状態に一致する理由コードを選択します。

### <a name="view-the-reason-codes-recorded-in-the-counting-history"></a>棚卸履歴に記録されている理由コードを表示する

棚卸履歴に記録された理由コードを表示するには、次の手順に従います。

1. **在庫管理** \> **照会およびレポート** \> **棚卸履歴** の順に移動します。
1. リスト ウィンドウで品目棚卸レコードを選択します。
1. **棚卸理由コード** フィールドで、理由コードを通して記録された棚卸履歴を表示します。

### <a name="use-reason-codes-for-quantity-adjustment-or-online-counting"></a>数量調整またはオンライン棚卸の理由コードを使用する

数量調整またはオンライン棚卸の理由コードを使用するには、次の手順に従います。

1. **在庫管理 \> 照会およびレポート \> 手持在庫リスト** の順に移動します。
1. アクション ウィンドウで **数量調整** を選択します。
1. **数量調整** を選択し、次に **棚卸理由コード** フィールドで、理由コードを選択します。

[!INCLUDE[footer-include](../../includes/footer-banner.md)]

---
title: ゾーンしきい値の補充
description: ゾーンに基づいた補充では、最小/最大 (最小/最大) 補充方法が使用されますが、個々の場所ではなく、倉庫ゾーン全体が評価されます。 したがって、倉庫管理者はピッキング ゾーンで追加の在庫が必要になるタイミングをより迅速に知ることができます。
author: Mirzaab
ms.date: 07/01/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSReplenishmentTemplates, WHSLocDirHint, WHSLocDirTable, WHSRequestType
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-07-01
ms.dyn365.ops.version: 10.0.8
ms.openlocfilehash: f3e94cc79f0daac9107f9876ac8414d2c4cff366
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/29/2021
ms.locfileid: "7569002"
---
# <a name="zone-threshold-replenishment"></a>ゾーンしきい値の補充

[!include [banner](../includes/banner.md)]

ゾーンに基づいた補充では、最小/最大 (最小/最大) [補充](replenishment.md) 方法が使用されますが、個々の場所ではなく、倉庫ゾーン全体が評価されます。 したがって、倉庫管理者はピッキング ゾーンで追加の在庫が必要になるタイミングをより迅速に知ることができます。

この機能の設定は、場所に基づく補充の設定に似ています。 ただし、最小/最大補充用のテンプレートを設定する場合は、しきい値を場所ごとに評価するかゾーンごとに評価するかを指定することもできます。 ゾーンに基づく評価を設定する場合は、ゾーン選択クエリに特定のゾーンを追加する必要があります。

場所に基づく最小/最大の補充と同様に、ゾーンに基づく最小/最大の補充とは、選択された品目の補充作業の作成をトリガーする最小在庫しきい値の設定を基にしています。 この補充作業により、在庫がゾーンの指定された最大しきい値まで増加します。

> [!NOTE]
> 製品バリアントのゾーンの補充プロセスは、現在のリリースではサポートされていません。


場所に基づく最小/最大補充とは異なり、ゾーンに基づく最小/最大補充では、場所が特定の品目を格納するかどうかを評価するために固定の場所を必要としません。 したがって、ゾーンに基づく補充では、倉庫内の各品目または品目バリアントに対して固定の場所がない場合でも、最小/最大補充を使用できます。 ゾーンの数量が指定された最小しきい値を下回ると、補充作業が作成されます。 場所のディレクティブによって、在庫が配置される特定の場所が決定されます。

## <a name="turn-on-the-zone-threshold-replenishment-feature"></a>ゾーンしきい値の補充機能を有効にする

*ゾーンしきい値の補充* 機能を使用するには、システム上で有効にする必要があります。 管理者は、[機能の管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)設定を使用して、機能の状態を確認し、必要に応じて有効にすることができます。 **機能管理** ワークスペースで、この機能は次のようにリストされています。

- **モジュール:** *倉庫管理*
- **機能名:** *ゾーンしきい値の補充*

## <a name="set-up-zone-based-replenishment"></a><a name="setup"></a>ゾーンに基づく補充の設定

ゾーンに基づく補充を設定するには、システムのいくつかの部分をコンフィギュレーションする必要があります。 このセクションでは、さまざまな設定を紹介し、このトピックの最後にシナリオを実行する場合に入力できるデモ データの値を示します。

### <a name="set-up-directive-codes"></a>ディレクティブ コードの設定

[ディレクティブ コード](control-warehouse-location-directives.md)では、作業テンプレートで使用する場所テンプレートを定義する際に、より具体的に指定することができます。 各コードでは、各タイプのテンプレートをコンフィギュレーションする際に参照できる共通の値を設定します。

#### <a name="view-and-edit-directive-codes"></a>ディレクティブ コードの表示と編集

ディレクティブ コードを表示または編集するには、**倉庫管理\>設定\>ディレクティブ コード** に移動します。

#### <a name="prepare-demo-data-directive-codes"></a>デモ データのディレクティブ コードの準備

この例では、ディレクティブ コードを準備する方法を示します。 このトピックの最後にあるシナリオを実行する場合は、ここで提供されているデモ データの値を使用します。 それ以外の場合は、独自の値を使用します。

1. **USMF** 法人を選択して、デモ データを操作します。
1. **倉庫管理 \> 設定 \> ディレクティブ コード** に移動します。
1. アクション ウィンドウで **新規** を選択して、行をグリッドに追加します。
1. 新しい行で、次の値を設定します。

    - **ディレクティブ コード:** _Zone replen_
    - **ディレクティブの説明:** _ゾーンの補充_

1. **保存** を選択して新しいコードを保存します。

### <a name="set-up-replenishment-templates"></a>補充テンプレートを設定します

[最小/最大補充のテンプレート](tasks/set-up-min-max-replenishment-process.md)は、ピッキング場所で最適なレベルを維持する上での主要なメカニズムです。 これらのテンプレートでは、倉庫での在庫の補充に使用されるルールを設定する必要があります。 テンプレートを使用できる補充には、ゾーンに基づく補充が含まれます。

#### <a name="view-and-edit-replenishment-templates"></a>補充テンプレートの表示と編集

補充テンプレートは、場所が補充されるタイミングと方法を制御するルールのセットです。 テンプレートを選択して、補充を実行するタイミングと方法を制御します。 補充テンプレートを表示または編集するには、**倉庫管理\>設定\>補充\>補充テンプレート** の順に移動します。

#### <a name="prepare-a-demo-data-replenishment-template"></a>デモ データの補充テンプレートの準備

この例では、補充テンプレートを準備する方法を示します。 このトピックの最後にあるシナリオを実行する場合は、ここで提供されているデモ データの値を使用します。 それ以外の場合は、独自の値を使用します。

1. **USMF** 法人を選択して、デモ データを操作します。
1. **倉庫管理\>設定\>補充\>補充テンプレート** の順に移動します。
1. **編集** を選択し、ページを編集モードにします。
1. アクション ペインで **新規** を選択して、行を **概要** グリッドに追加します。
1. 新しい行で、次の値を設定します。 他のすべてのフィールドの既定値を受け入れます。

    - **補充テンプレート:** _Zone min/max replen_
    - **説明:** _ゾーンの最小/最大補充_
    - **補充タイプ:** _最小または最大_

1. **保存** を選択します。
1. **概要** グリッドで新しい行が選択されている状態で、**補充テンプレートの詳細** グリッドの上にある **新規** を選択し、作成した *Zone Min/Max replen* 補充テンプレートに関連付けられている行を追加します。
1. 新しい行で、次の値を設定します。

    - **シーケンス番号:** _1_ を入力します。
    - **説明:** _ゾーン補充をピック_ と入力します。
    - **補充単位:** _ea_ を選択します。
    - **要求タイプ:** このフィールドは空白のままにします。
    - **ディレクティブ コード:** このフィールドは、補充テンプレートを場所のディレクティブにリンクします。 作成済みのデモ データのディレクティブ コード (_Zone replen)_ を選択します。
    - **作業テンプレート** このフィールドは空白のままにしておきます。
    - **最小数量:** このフィールドは、補充がトリガーされる数量を設定します。 _50_ と入力します。
    - **最大数量:** このフィールドは、ゾーンに存在できる品目の最大数量を設定します。 生成された補充作業により、在庫がこの数量まで増加します。 _150_ と入力します。
    - **単位:** このフィールドでは、最小値と最大値の単位が設定されます。 _ea_ を選択します。
    - **需要の増加:**_切り上げ_ を選択します。
    - **空の固定の場所を補充する:** このチェック ボックスをオンにします。
    - **固定の場所のみを補充する:** このチェック ボックスをオフにします。
    - **製品クエリ モード:** _製品クエリ_ を選択します。
    - **補充のしきい値のスコープ:** このフィールドは、テンプレートをゾーン別に評価するか、特定の場所別に評価するかを定義します。 _ゾーン_ を選択します。
    - **倉庫:** _61_ を選択します。

1. **補充テンプレートの詳細** グリッドの上にある **製品の選択** を選択します。
1. **製品クエリ** ダイアログ ボックスの **範囲** タブで **追加** を選択して、グリッドに行を追加します。
1. 新しい行で、次の値を設定します。

    - **テーブル:** _品目_
    - **派生テーブル:** _品目_
    - **フィールド:** _品目番号_
    - **基準:** _A0001_

1. **OK** を選択してクエリを保存し、ダイアログ ボックスを閉じます。
1. **補充テンプレートの詳細** グリッドの上にある **補充するゾーンの選択** を選択します。
1. **ゾーン クエリ** ダイアログ ボックスの **範囲** タブで、グリッドに行を追加します。
1. 新しい行で、次の値を設定します。

    - **テーブル:** _倉庫ゾーン_
    - **派生テーブル:** _倉庫ゾーン_
    - **フィールド:** _ゾーン ID_
    - **基準:** _FLOOR_

1. **OK** を選択してクエリを保存し、ダイアログ ボックスを閉じます。

### <a name="set-up-location-directives"></a>場所ディレクティブを設定します

場所に基づく最小/最大補充とは異なり、ゾーンに基づく最小/最大補充では、システムが出荷作業のピック場所だけでなくゾーン全体を評価するため、ピック場所ディレクティブとプット場所ディレクティブの両方を設定する必要があります。

#### <a name="view-and-edit-location-directives"></a>場所ディレクティブの表示と編集

場所ディレクティブを表示または編集するには、**倉庫管理\>設定\>場所ディレクティブ** に移動します。

設定を使用して、必要なピック場所ディレクティブとプット場所ディレクティブを作成する方法の例については、次のセクションを参照してください。

#### <a name="prepare-demo-data-location-directives"></a>デモ データの場所ディレクティブの準備

デモ データを準備して、このトピックの最後にあるシナリオで使用できるようにするには、ピック用とプット用の 2 つの場所ディレクティブを作成する必要があります。

##### <a name="create-a-replenishment-pick-directive"></a>補充ピック ディレクティブの作成

1. **USMF** 法人を選択して、デモ データを操作します。
1. **倉庫管理 \> 設定 \> 場所のディレクティブ** に移動します。
1. 左ウィンドウで、**作業指示のタイプ** フィールドを _補充_ に設定します。
1. アクション ペインで、**新規** を選択して新しいディレクティブを作成します。
1. 次の値を設定します。

    - **シーケンス番号:** 規定値を受け入れます。
    - **名前:** _ゾーン ピック_ と入力します。
    - **作業タイプ:** _ピック_ を選択します。
    - **サイト:** _6_ を選択します。
    - **倉庫:** _61_ を選択します。
    - **ディレクティブ コード:** このフィールドは空白のままにします。
    - **マルチ SKU:** このオプションを _いいえ_ に設定します。

1. Select **保存** を選択して、これまでにコンフィギュレーションした設定を持つディレクティブを作成します。
1. **明細行** クイック タブで、**新規** を選択してグリッドに明細行を追加します。
1. 新しい明細行で、次の値を設定します。

    - **シーケンス番号:** _1_ を入力します。
    - **開始数量:** _0_ と入力します。
    - **上限数量:** _10000000_ と入力します。
    - **ユニット:** このフィールドは空白のままにします。
    - **数量の検索:** _なし_ を選択します。
    - **単位ごとに制限:** このチェック ボックスをオフにします。
    - **単位に切り上げ:** このチェックボックスをオフにします。
    - **梱包数量の検索:** このチェックボックスをオフにします。
    - **分割を許可** このチェック ボックスをオンにします。

1. **保存** を選択して新しい行を保存します。
1. **行** グリッドで新しい行がまだ選択されている間に、**場所ディレクティブ アクション** クイック タブで **新規** を選択し、グリッドに行を追加します。
1. 新しい行で、次の値を設定します。

    - **シーケンス番号:** _1_ を入力します。
    - **名前:** _バルクからピック_ と入力します。
    - **固定の場所の使用:** _固定の場所および固定されていない場所_ を選択します。
    - **マイナス在庫を許可:** このチェックボックスをオフにします。
    - **バッチが有効:** このチェックボックスをオフにします。
    - **戦略:** _なし_ を選択します。

1. **保存** を選択して新しいアクションを保存します。
1. 新しいアクションがまだ選択されている間に、**場所ディレクティブ アクション** グリッドの上にある **クエリの編集** を選択します。
1. クエリ ダイアログ ボックスが表示され、補充する場所を選択できます。 **範囲** タブで、**追加** を選択してグリッドに新しい行を追加します。
1. 新しい行で、次の値を設定します。

    - **テーブル:** _場所_
    - **派生テーブル:** _場所_
    - **フィールド:** _ゾーン ID_
    - **基準:** _BULK_

1. **OK** を選択してクエリを保存し、ダイアログ ボックスを閉じます。
1. **保存** を選択し、場所のディレクティブを保存します。

##### <a name="create-a-replenishment-put-directive"></a>補充プット ディレクティブの作成

1. **場所ディレクティブ** ページの左ウィンドウで、**作業指示のタイプ** フィールドがまだ _補充_ に設定されていることを確認します。
1. アクション ペインで、**新規** を選択して別の新しいディレクティブを作成します。
1. 次の値を設定します。

    - **シーケンス番号:** 規定値を受け入れます。
    - **名前:** _ゾーン プット_ と入力します。
    - **作業指示のタイプ:** _プット_ を選択します。
    - **サイト:** _6_ を選択します。
    - **倉庫:** _61_ を選択します。
    - **ディレクティブ コード:** _Zone replen_ を選択して、この場所ディレクティブを以前作成したコードを使用して作成した補充テンプレートにリンクします。
    - **マルチ SKU:** このオプションを _いいえ_ に設定します。

1. Select **保存** を選択して、これまでにコンフィギュレーションした設定を持つディレクティブを作成します。
1. **明細行** クイック タブで、**新規** を選択してグリッドに明細行を追加します。
1. 新しい明細行で、次の値を設定します。

    - **シーケンス番号:** _1_ を入力します。
    - **開始数量:** _0_ と入力します。
    - **上限数量:** _10000000_ と入力します。
    - **ユニット:** このフィールドは空白のままにします。
    - **数量の検索:** _なし_ を選択します。
    - **単位ごとに制限:** このチェック ボックスをオフにします。
    - **単位に切り上げ:** このチェックボックスをオフにします。
    - **梱包数量の検索:** このチェックボックスをオフにします。
    - **分割を許可** このチェック ボックスをオンにします。

1. **保存** を選択して新しい行を保存します。
1. **行** グリッドで新しい行がまだ選択されている間に、**場所ディレクティブ アクション** クイック タブで **新規** を選択し、グリッドに行を追加します。
1. 新しい行で、次の値を設定します。

    - **シーケンス番号:** _1_ を入力します。
    - **名前:** _ゾーン プット_ と入力します。
    - **固定の場所の使用:** _固定の場所および固定されていない場所_ を選択します。
    - **マイナス在庫を許可:** このチェックボックスをオフにします。
    - **バッチが有効:** このチェックボックスをオフにします。
    - **戦略:** _連結_ を選択します。

1. **保存** を選択して新しいアクションを保存します。
1. 新しいアクションがまだ選択されている間に、**場所ディレクティブ アクション** グリッドの上にある **クエリの編集** を選択します。
1. クエリ ダイアログ ボックスが表示され、補充するゾーンを選択できます。 このゾーンは、補充テンプレートで指定されているものと同じゾーンである必要があります。 **範囲** タブで、**追加** を選択してグリッドに新しい行を追加します。
1. 新しい行で、次の値を設定します。

    - **テーブル:** _場所_
    - **派生テーブル:** _場所_
    - **フィールド:** _ゾーン ID_
    - **基準:** _FLOOR_

1. **OK** を選択してクエリを保存し、ダイアログ ボックスを閉じます。
1. **保存** を選択し、場所のディレクティブを保存します。

## <a name="scenario"></a>シナリオ

このセクションでは、機能の使用方法を示すサンプル シナリオを提供します。

### <a name="prepare-the-sample-data-that-is-required-for-the-sample-scenario"></a>サンプル シナリオに必要なサンプル データの準備

シナリオの作業を開始する前に、サンプル データを有効にして、このトピックのこのセクションおよび前のセクションの説明に従って機能を設定する必要があります。

#### <a name="use-the-usmf-legal-entity"></a>USMF 法人を使用します

指定されたサンプル レコードと値を使用してシナリオを実行するには、標準の [デモデータ](../../fin-ops-core/dev-itpro/deployment/deploy-demo-environment.md) がインストールされているシステムを使用する必要があります。 また、開始する前に **USMF** 法人を選択する必要があります。

#### <a name="prepare-additional-sample-data"></a>追加のサンプル データの準備

**USMF** 法人を選択したら、このトピックの前の[ゾーンに基づく補充の設定](#setup) で説明しているように、必要な追加のサンプル データを追加し ます。

#### <a name="check-your-on-hand-inventory"></a>手持在庫の確認

このサンプル シナリオをサポートするのに十分な在庫がシステムに含まれていることを確認するには、次の手順を実行します。

1. 品目 *A0001* の手持在庫が、補充テンプレートで指定されているピック ゾーン (*FLOOR*) の 2 つの異なる場所にあることを確認します。 ただし、合計在庫は、補充テンプレートで指定された最小数量 (*50*) より小さくする必要があります。 これにより、1 つの場所だけでなく、ゾーン全体の計算がどのように行われるかをシミュレートすることができます。 **必要に応じて、いずれかの倉庫プロセスを使用して在庫を調整します。**
1. 補充作業がゾーン ID *BULK* から品目をピックする必要があるゾーン ピック場所ディレクティブで指定されたバルクの場所に、品目 *A0001* の十分な在庫があることを確認します。 合計在庫は、補充テンプレートで指定された最大数量 (*150*) より大きくする必要があります。
1. 次はオプションですが、推奨されます。以下の手順に従って在庫調整仕訳帳を作成します。

    1. **在庫管理\>仕訳入力\>品目\>在庫調整** の順に移動します。
    1. **新規** を選択します。
    1. **在庫仕訳帳の作成** ダイアログ ボックスの **倉庫** フィールドで、*61* を選択します。
    1. **OK** を選択します。
    1. **仕訳帳明細行** クイック タブで、**新規** ボタンを使用して、グリッドに 3 行を追加し、次の値を設定します。 各行の設定が完了したら、**保存** を選択します。

        - **行 1:**

            - **品目番号:** *A0001*
            - **サイト:** *6*
            - **倉庫:** *61*
            - **場所:** *02A01R1S1B*
            - **ライセンス プレート:** 一覧で既存のライセンス プレートを選択するか、新しいライセンス プレートを作成します。
            - **数量:** *1000*

        - **行 2:**

            - **品目番号:** *A0001*
            - **サイト:** *6*
            - **倉庫:** *61*
            - **場所:** *07A01R2S1B*
            - **ライセンス プレート:** 一覧で既存のライセンス プレートを選択するか、新しいライセンス プレートを作成します。
            - **数量:** *15*

        - **行 3:**

            - **品目番号:** *A0001*
            - **サイト:** *6*
            - **倉庫:** *61*
            - **場所:** *07A01R1S1B*
            - **ライセンス プレート:** 一覧で既存のライセンス プレートを選択するか、新しいライセンス プレートを作成します。
            - **数量:** *10*

    1. アクション ペインで、**検証** を選択します。 次のステップに進む前に検出されたエラーに対処します。
    1. アクション ペインで **転記** を選択して、在庫を倉庫に転記します。

### <a name="sample-scenario-run-zone-based-minmax-replenishment"></a>サンプル シナリオ: ゾーンに基づく最小/最大補充の実行

前提条件のサンプル データをすべて設定したら、次の手順に従って補充をトリガーできます。

1. **倉庫管理\>補充\>補充** の順に移動します。
1. **補充** ダイアログ ボックスの **対象に含めるレコード** クイック タブで、**フィルター** を選択します。
1. **照会** ダイアログ ボックスの **範囲** タブで、既定のテーブル行を次のように編集します。

    - **テーブル:** _補充テンプレート_ を選択します。
    - **派生テーブル:** _補充テンプレート_ を選択します。
    - **フィールド:** _補充テンプレート_ を選択します。
    - **基準:** _Zone min/max replen_ を選択します。 この補充テンプレートは、このシナリオのデモ データを準備している間に作成した補充テンプレートです。

1. **OK** を選択してクエリを保存し、**補充** ダイアログ ボックスに戻ります。
1. **OK** を選択して、補充テンプレートを実行します。

これで、補充作業が作成されて *BULK* ゾーンから在庫をピックし、*FLOOR* ゾーンに補充します。

## <a name="notes-and-tips"></a>メモとヒント

この機能を使用するためのメモとヒントを次に示します。

- 目的のゾーンに移動する補充作業を設定するには、次のいずれかの方法で補充テンプレートの行と場所ディレクティブをリンクできます。

    - 場所ディレクティブ ヘッダー クエリを編集し、選択した補充テンプレートの行をフィルタ処理します。
    - 補充テンプレートの行でディレクティブ コードを使用し、それをプット場所ディレクティブと一致させます。

- 動的な場所を使用している場合、場所ディレクティブ アクションが **連結** 戦略を使用するように設定されている場合は、最初に使用可能な場所または在庫が含まれている場所に対して補充作業が作成されます。
- ゾーンではなく固定の場所を使用する場合は、[標準の最小/最大補充](tasks/set-up-min-max-replenishment-process.md)を使用する必要があります。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
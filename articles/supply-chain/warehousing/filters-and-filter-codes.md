---
title: 倉庫トランザクション用製品フィルターの構成
description: このトピックでは、製品フィルターやフィルター コードを構成し、倉庫の在庫品目を分類する方法について説明します。 また、特定の品目を注文できる顧客や特定の仕入先から購入できる品目を指定するために、フィルターを使用することもできます。
author: Mirzaab
manager: tfehr
ms.date: 01/04/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSFilters,WHSFilterGroupTable,EcoResProductDetailsExtended,WHSFilterGenerallyAvail
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-01-04
ms.dyn365.ops.version: Release 10.0.16
ms.openlocfilehash: 922ff818e069f41c139cc00db9161dc6e113888b
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/15/2021
ms.locfileid: "4973738"
---
# <a name="configure-product-filters-for-warehouse-transactions"></a>倉庫トランザクション用製品フィルターの構成

[!include [banner](../includes/banner.md)]

このトピックでは、製品フィルターやフィルター コードを構成し、倉庫の在庫品目を分類する方法について説明します。 また、特定の品目を注文できる顧客や特定の仕入先から購入できる品目を指定するために、フィルターを使用することもできます。

また、製品フィルターを設定および使用して、自動的に倉庫の在庫品目を整理し、フィルター処理された品目をフィルター グループに結合することができます。 フィルターは、品目を処理プロセス、購買プロセス、および販売プロセスのカテゴリに分類するために使用できます。 品目の処理方法が重量や処理制限に基づく場合は、品目をグループ化したり、個別に分けたりすることができます。 また、品目を購入または販売できる顧客または仕入先を指定できます。

## <a name="prerequisites"></a>必要条件

次の表に、開始する前に準備が整っている必要のある前提条件を示します。

| 前提条件 | 指示 |
|---|---|
| **リリース済製品の詳細** ページで製品の構成を開始する前に、製品の保管分析コード グループに対する倉庫処理を有効にする必要があります。 | **製品情報管理 \> 設定 \> 分析コードとバリアント グループ \> 保管分析コード グループ** に移動し、**倉庫管理プロセスの使用** オプションが *はい* に設定されている保管分析コード グループを選択または作成します。 |
| 顧客フィルターまたは仕入先フィルター、あるいはその両方を使用する場合は、倉庫管理パラメーターでその使用を有効にする必要があります。 | **倉庫管理 \> 設定 \> 倉庫管理パラメーター** の順に移動します。 **製品フィルター** タブで、**顧客フィルターの有効化** オプション、および/または **仕入先フィルターの有効化** オプションを *はい* に設定します。 |

## <a name="set-up-product-filters"></a>製品フィルターの設定

製品フィルターには、列挙 (列挙型) 値である、最大 10 個の **フィルター タイトル** 特性があります。 これらの列挙値は、製品フィルターを作成するときに選択できます。 *コード 1* から *コード 10* の列挙値はシステム定義であり、品目の特定の特性または属性を表します。 たとえば、*コード 1* は危険物分類を持つ品目を表すことができます。 *コード 2* は、仕入先だけが購入できる品目を表すことができます。 次に、製品フィルターは、**フィルタータイトル** 値に関連付けられた特定の **フィルター コード** 値を定義します。

1. **倉庫管理 \> 設定 \> 製品フィルター \> 製品フィルター** に移動します。
1. アクション ペインで **新規** を選択して、製品フィルターをグリッドに追加します。
1. **フィルター タイトル** フィールドで、値を選択します。
1. **フィルター コード** フィールドに値を入力します。

    ![製品フィルターを設定する](media/Product_Filters10.png "製品フィルターを設定する")

1. **説明** フィールドに、コードの名前を入力します。 たとえば、*コード 2* は仕入先を表すことができます。 その後、特定の仕入先または仕入先グループに対して製品フィルターを作成できます。 詳細については、このトピックの後半の [仕入先フィルター コードの設定](#vendor-product-filters) セクションを参照してください。

    ![製品フィルターのセット](media/Product_Filters.png "製品フィルターのセット")

## <a name="set-up-product-filter-groups"></a>製品フィルター グループの設定

フィルター グループを使用して、フィルター コードをグループ化できます。 この機能は、グループが場所のディレクティブのクエリで使用され、一連のコードではなくグループを検索する場合に役立ちます。 各フィルター グループは、品目グループに関連付けられます。

> [!IMPORTANT]
> すべての製品フィルター グループが *コード 4* より大きいフィルター コード (つまり、*コード 5* から *コード 10*) を使用できるわけではありません。 たとえば、リリースされた製品に対して、すべての製品フィルター コードが追加されますが、フィルター コードのグループは更新されません。 この動作は、今後のリリースで更新される可能性があります。

フィルター グループを設定するには、次の手順に従います。

1. **倉庫管理 \> 設定 \> 製品フィルター \> 製品フィルター グループ** に移動します。
1. アクション ウィンドウで、**新規** を選択します。
1. **グループ 1** と **グループ 2** フィールドで、品目を分類するために使用する名前を入力します。
1. **詳細** クイックタブで **新規** を選択して、明細行を追加します。
1. **開始日時** フィールドおよび **終了日時** フィールドに、フィルター グループの開始日と終了日を入力します。
1. **品目グループ** フィールドで、製品フィルターを適用する品目グループを選択します。
1. **コード 1** から **コード 10** のフィールドで、必要に応じて、グループに含めるフィルター コードを選択します。

    ![品目グループ](media/ProdFilterGroup.png "品目グループ")

> [!NOTE]
> ページを閉じる際にエラー メッセージが表示された場合は、コード設定が存在しない可能性があります。 **品目グループ** ページで、**品目グループにフィルタ コード1を割り当てる**、**品目グループにフィルタ コード 2を割り当てる** などのチェック ボックスを選択して、品目グループに対してコードを必須にすることができます。

## <a name="set-up-filter-codes-on-item-groups"></a>品目グループでフィルター コードの設定

品目グループにフィルター コードを設定して、その品目グループに関連付けられた製品に必要なコードを作成できます。

品目グループでフィルター コードを設定するには、次の手順に従います。

1. **在庫管理 \> 設定 \> 在庫 \> 品目グループ** の順に移動します。
1. アクション ペインで **新規** を選択し、品目グループを作成します。
1. **品目グループ** フィールドに、名前を入力します。
1. **名前** フィールドに、説明を入力します。
1. **倉庫** クイックタブの **必須フィルター** セクションで、品目グループに関連付けられている製品に指定する必要がある フィルター コードのチェック ボックスを選択します。

    リリースされた製品を更新するには、**リリース済製品の詳細** ページを開き、アクション ペインで **編集** を選択します。 その後、コードに関連付けられたフィルターは、**倉庫** クイックタブで使用可能になります。

    ![品目グループ](media/ItemGroup10.png "品目グループ")

1. **品目グループ フィルター** セクションで、品目の既定フィルター グループであるフィルター グループと一致する必要があるフィルターのチェック ボックスを選択します。

    たとえば、**フィルター コード 1 を使用** と **フィルター コード 2 を使用** が選択された場合、フィルター グループを選択する前に、品目のフィルター コード 1 とフィルター コード 2 は両方とも品目グループ用のフィルター グループ設定に一致している必要があります。 新しい品目を作成すると、選択したフィルター グループが、**リリース済製品の詳細** ページの **倉庫** クイックタブにある **グループ 1** フィールドと **グループ 2** フィールドの既定のフィルター グループになります。

> [!IMPORTANT]
> 製品フィルター コードは、高度な倉庫管理を使用する品目に対してのみ有効になります。

## <a name="specify-filter-codes-for-released-products"></a>リリースされた製品のフィルター コードを指定

リリースされた製品に対してフィルター コードを指定するには、次の手順に従います。 たとえば、フィルタ コードを使用して、特定の仕入先が購入する危険な製品をグループ化できます。

1. **製品管理情報 \> 製品 \> リリースされた製品** の順に移動します。
1. アクション ペインで **新規** を選択して、製品を作成します。
1. **新たにリリースされた製品** ダイアログ ボックスで、新しい製品の基準を作成するために必要なデータを入力し、**OK** を選択します。

    製品に関連付けられた品目グループがフィルター コードに対して構成されていないと、製品フィルター コードは使用できません。

    詳細については、[新しい製品の作成](../pim/tasks/create-new-product.md) を参照してください。

1. **倉庫** クイックタブの **製品フィルター コード** セクションで、必要に応じて **コード 1** から **コード 10** までのフィールドでフィルター コードを選択して、製品のフィルター コードを指定します。

## <a name="set-up-generally-available-items"></a>一般に入手可能な品目の設定

顧客のみ、仕入先のみ、または顧客と仕入先の両方に、特定の在庫品目を入手可能にできます。

> [!NOTE]
> 顧客フィルターおよび仕入先フィルターは、一般に入手可能に設定されている品目には適用されません。

一般に入手可能な品目を設定するには、次の手順に従います。

1. **倉庫管理 \> 設定 \> 製品フィルター \> 一般に入手可能な製品** に移動します。
1. アクション ペインで **新規** を選択して、レコードを作成します。
1. **顧客または仕入先** フィールドで、*顧客*、*仕入先*、または *すべて* を選択して、品目を顧客、仕入先、またはその両方が利用できるようにします。
1. **開始日時** フィールドに、品目が使用可能になる日時を入力します。
1. **品目グループ** フィールドで、品目グループを選択します。
1. **コード 1** から **コード 10** フィールドで、フィルター コードを選択して、一般的に使用できる品目を制限します。

    品目グループを選択して、一般に入手可能にその品目グループを設定します。 これらのフィールドでフィルター コードを選択することで、使用できる品目を制限します。

## <a name="set-up-customer-product-filters"></a>顧客製品フィルターの設定

このオプションの手順を使用して、**一般に入手可能な品目** ページのフィルター設定で使用可能になる品目に加えて、顧客が使用できる品目を指定できます。 1 人の顧客に複数のフィルターを設定できます。

顧客フィルター コードを設定するには、次の手順に従います。

1. **販売とマーケティング \> 顧客 \> すべての顧客** に移動します。
1. 顧客を選択する。
1. アクション ペインにある **顧客** タブの **設定** グループで、**製品フィルター** を選択します。
1. **製品フィルター コード** ページのアクション ペインで、**新規** を選択します。
1. **開始日時** フィールドおよび **終了日時** フィールドに、選択した品目グループの開始日と終了日を入力します。
1. **品目グループ** フィールドで、品目グループを選択します。
1. **コード 1** から **コード 10** のフィールドで、基準として使用するフィルター コードを選択し、選択した品目グループの顧客が使用できる品目を制限します。 品目グループに設定されているすべてのフィルター コードを選択する必要があります。

## <a name="set-up-vendor-product-filters"></a><a name="vendor-product-filters"></a>仕入先製品フィルターの設定

このオプションの手順を使用して、**一般に入手可能な品目** ページのフィルター設定で使用可能になる品目に加えて、仕入先が使用できる品目を指定できます。 1 つの仕入先に複数のフィルターを設定できます。

仕入先フィルター コードを設定するには、次の手順に従います。

1. **調達 \> 仕入先 \> すべての仕入先** の順に移動します。
1. 仕入先を選択してください。
1. アクション ペインにある **仕入先** タブの **設定** グループで、**製品フィルター** を選択します。
1. **フィルター コード** ページのアクション ペインで、**新規** を選択します。
1. **開始日時** フィールドおよび **終了日時** フィールドに、選択した品目グループの開始日と終了日を入力します。
1. **品目グループ** フィールドで、品目グループを選択します。
1. **コード 1** から **コード 10** のフィールドで、基準として使用するフィルター コードを選択し、選択した品目グループの仕入先が使用できる品目を制限します。 品目グループに設定されているすべてのフィルター コードを選択する必要があります。

> [!NOTE]
> 仕入先製品フィルターの設定は、関連付けられた保管分析コード グループに対して倉庫管理プロセスが有効になっているリリースされた製品に適用されます。 フィルター コードは、ユーザーが購買注文明細行を作成する際に、特定の仕入先から特定の品目を購入できるかどうかをシステムで決定するために使用されます。 Microsoft Dynamics 365 Supply Chain Management では、仕入先承認を処理する 2 つの方法があります。 **承認済仕入先チェック メソッド** フィールドが *警告のみ* または *不許可* に設定されているリリースされた製品が 1 つ以上存在する場合、これらの品目に対して両方の仕入先承認方法を有効にできます。 この状況では、ユーザーが購買注文明細行を作成するときに問題が発生する可能性があります。

## <a name="see-also"></a>参照

[詳細については、ブログ記事 WMS-倉庫フィルター コードを参照してください](http://blog.dynamics-for-operations.com/2017/09/26/wms-warehouse-filter-codes/)

---
title: GS1 バーコード
description: この記事では、倉庫内でラベルをスキャンできるよう、GS1 バーコードと QR コードを設定する方法について説明します。
author: Mirzaab
ms.date: 03/21/2022
ms.topic: article
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-08-02
ms.dyn365.ops.version: 10.0.25
ms.openlocfilehash: e1c1c274054ed1c14c9b3fc0595baa029bf3124d
ms.sourcegitcommit: 203c8bc263f4ab238cc7534d4dd902fd996d2b0f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/23/2022
ms.locfileid: "9336368"
---
# <a name="gs1-bar-codes"></a>GS1 バーコード

[!include [banner](../includes/banner.md)]

倉庫作業者は、モバイル デバイス スキャナーを使用して品目、パレット、またはコンテナーの移動を登録する際に、いくつかのタスクを完了する必要があります。 これらのタスクには、バーコードのスキャンと、モバイル デバイスへの情報の手動入力の両方が含まれます。 バーコードは、Microsoft Dynamics 365 Supply Chain Management を使用して定義および管理する会社固有の形式を使用します。

出荷ラベル用の GS1 バーコードが開発され、会社間のデータ交換に関するグローバル標準が提供されました。 これらは、GS1-128 などの線形 (1D) コード (バーコード形式) と、GS1 DataMatrix や GS1 QR コードなどの 2D コードの両方で使用できます。 GS1 バーコードは、データをエンコードするだけでなく、事前定義された *アプリケーション識別子* のリストを使用してそのデータの意味を定義することもできます。 GS1 標準では、データ形式と、エンコードに使用できるさまざまな種類のデータを定義します。 古いバーコード標準とは異なり、GS1 バーコードは、複数のデータ要素を持つ場合があります。 したがって、1 つのバーコード スキャンで、バッチや有効期限など、複数のタイプの製品情報を取得できます。

Supply Chain Management での GS1 サポートにより、GS1 形式のバーコードを使用してパレットとコンテナにラベルが付けられている倉庫でのスキャン プロセスが大幅に簡素化されます。 倉庫作業員は、GS1 バー コードの 1 回のスキャンで、必要なすべての情報を抽出できます。 GS1 バーコードは、複数のスキャンを実行したり、手動で情報を入力したりする必要をなくすことで、タスクに関連する時間を短縮するのに役立ちます。 同時に、精度も向上します。

物流マネージャーは、必要なアプリケーション識別子のリストを設定し、それぞれを適切なモバイル デバイスのメニュー項目に関連付ける必要があります。 アプリケーション識別子は、移動や梱包の目的で、倉庫全体でグローバル設定として使用できます。 したがって、すべての出荷ラベルは統合フォームを使用します。

特に他で述べない限り、この記事では *バーコード* という用語を使用して線形 (1D) バーコードと 2D バーコードを参照します。

## <a name="the-gs1-bar-code-format"></a>GS1 バーコード形式

GS1 一般仕様では、GS1 バーコードに使用できる項目と、バーコードのデータを制御する方法を指定します。 ここでは、この記事の簡単な概要を示します。 詳細については、GS1が発行する [GS1 の一般仕様](https://www.gs1.org/docs/barcodes/GS1_General_Specifications.pdf)を参照してください。 GS1 仕様ドキュメントは定期的に更新され、GS1 の一般仕様リリース 22.0 に関する最新の情報が提供されます。

GS1 バーコードでは次のコードが使用されます。

- **線形または 1D バーコード** – GS1-128 および GS1 DataBar
- **2D バーコード** – GS1 DataMatrix、GS1 QR バーコード、および GS1 ドットコード

GS1-128 には、GS1 についての特別な情報が記載されています。これは、通常の Code-128 線形バーコード、GS1 DataMatrix、および GS1 QR コードの特殊なケースです。 GS1 バージョンと GS1 以外のバージョンの違いは、バーコード データの最初の文字として特殊文字 (FNC1) が存在することです。 FNC1 文字が存在することは、GS1 仕様に従ってバーコード内のデータを解釈する必要があることを示します。

バーコード自体のデータは複数のデータ要素で構成され、各要素はフィールドの先頭のアプリケーション識別子で識別されます。 通常、データは人が読み取り可能な形式で表現され、アプリケーション識別子はかっこ内に示されます。 次に例を示します: `(01) 09521101530001 (17) 210119 (10) AB-123`。 このバーコードには、次の 3 つの要素があります。

- **アプリケーション識別子 01** – 品目の GS1 国際取引品目番号 (GTIN)。
- **アプリケーション識別子 17** – 有効期限。
- **アプリケーション識別子 10** – バッチ番号。

各要素について、データは定義済みの長さまたは可変長のいずれかを持つ場合があります。 長さがあらかじめ定義されているアプリケーション識別子の固定リストがあります。 他のすべてのアプリケーション識別子は長さが可変であり、GS1 アプリケーション識別子リストではデータの最大長と形式が指定されます。 たとえば、アプリケーション識別子 01 には、事前に定義された長さの 16 文字 (アプリケーション識別子自体に対して 2 文字、GTIN に対して 14 文字) があり、アプリケーション識別子 17 には、事前に定義された長さの 8 文字 (アプリケーション識別子自体に対して 2 文字、日付に対して 6 文字) があります。 ただし、アプリケーション識別子 10には、アプリケーション識別子自体に対して 2 つの数字、および最大 20 文字の英数字があります。

要素をまとめる際、要素が可変長要素に従っている場合、区切り文字を使用する必要があります。 この区切り記号は、特殊な FNC1 文字またはグループ区切り文字 (ASCII コード 29 および 16 進数コード 1D を含む印刷不可能な文字) のいずれかです。 区切り記号は最後の要素の後に使用できません。 長さを事前に定義した要素の後にも区切り記号を使用できません。ただし、存在していても重大なエラーではありません。

アプリケーション識別子 01、17、10 を含むバーコードの前の例のバーコード データでは、Code-128、QR コード、または DataMatrix 記号が、`<FNC1>`**`01`**`09521101530001`**`17`**`210119`**`10`**`AB-123` としてエンコードされます (アプリケーション識別子は太字で示されます)。 グループ区切り記号を追加する必要をなくすため、ベスト プラクティスとして、長さが可変である要素を最後に配置してください。 ただし、区切り記号が必須である別の要素順序を使用することもできます。 次に例を示します: `<FNC1>`**`01`**`09521101530001`**`10`**`AB-123<GS>`**`17`**`210119`。

### <a name="dates-and-decimal-numbers"></a>日付および小数

日付は常に *YYMMDD* 形式で表され、GS1 仕様によって年の世紀が決定されます。 49 年前から 50 年後 (現在の年から数えて) の日付のみ表現できます。

一部のデータ要素には小数が含まれています。 たとえば、アプリケーション識別子 3100、3101、...3105 は、正味重量 (キログラム) を表します。 これらのアプリケーション識別子には、事前定義の長さ 10 も設定されているので、数量に対して 6 つの数値を使用できます。 小数点以下の位置は、アプリケーション識別子の最後の数値によって指定されます。 したがって、このアプリケーション識別子ファミリは *310n* と表現できます。 GS1 標準では、小数点以下 1 桁以上の数字 (小数点以下最大 5 桁) が常に必要と規定されています。

さまざまなアプリケーション識別子によって数値 *123456* が解釈される方法を示す例を次に示します (太字で表示)。

- **`3100`**`123456` &rarr; 123456 (整数)
- **`3101`**`123456` &rarr; 12345.6 (小数点以下 1 桁)
- **`3102`**`123456` &rarr; 1234.56 (小数点以下 2 桁)
- **`3103`**`123456` &rarr; 123.456 (小数点以下 3 桁)
- **`3104`**`123456` &rarr; 12.3456 (小数点以下 4 桁)
- **`3105`**`123456` &rarr; 1.23456 (小数点以下 5 桁)

## <a name="scanning-gs1-bar-codes-in-supply-chain-management"></a>Supply Chain Management での GS1 バーコードのスキャン

倉庫作業員は、GS1 バーコードをスキャンするため、モバイル デバイスに組み込みまたは接続されたスキャナーを使用します。 その後、スキャナーは、スキャンしたバーコードを一連のキーボード イベントとして Warehouse Management モバイル アプリに送信します。 この操作方法は、*キーボード ウェッジ* または *ウェッジ* とも呼ばれます。 その後、モバイル アプリは受信したテキストを Supply Chain Management に送信します。 システムは、入力データを受信するときに、まず、データが実際に GS1 バーコードであることを示す、構成済みのいずれかの接頭語で始まるかどうかを判別します ([グローバル GS1 オプションの設定](#set-gs1-options) セクションを参照)。 スキャンしたデータがそれらの接頭語のいずれかで始まる場合、システムは GS1 パーサーを使用してデータを解析し、アプリケーション識別子に従って個々のデータ要素を抽出します。 データが変更された後、現在の入力フィールドまたは複数のフィールドにスキャンしたデータが入力されます。

### <a name="configuration-of-bar-code-scanner-hardware-and-software"></a>バーコード スキャナーのハードウェアとソフトウェアのコンフィギュレーション

Supply Chain Management で GS1 バーコードの認識とでコードを正しく行うには、ハードウェア スキャナーまたはサポート側ソフトウェアを構成して、次の作業を実行する必要があります。

- スキャンしたバーコードに接頭語を追加し、システムで GS1 バーコードが認識されるようにします。
- 印刷不可能な ASCII グループ区切り文字 (ASCII コード 29 または 16 進数コード 1D) を、チルダ (~) などの印刷可能な文字に変換します。

スキャンしたバーコードに接頭語を追加することもできますが、1 つのオプションとして、*AIM 識別子* とも呼ばれる ISO/IEN 15424 コード識別子を追加することができます。 この 3 文字の識別子は先頭が `]` で、その後に使用されるコードを識別する 1 文字を持ち、その後に、さらにモディファイアーとして使用される数値を持ちます。 たとえば、AIM 識別子 `]C1` は Code 128 バーコード (文字 `C` のため) を指定し、モディファイアー `1` はデータの先頭の位置に FNC1 文字があることを指定します。 一方、`]C0` は、データの先頭の文字として他の文字を持つ Code 128 バーコードです。

次の 5 つのコード識別子は、アプリケーション識別子要素を持つ GS1 バーコードに対応しています。

- `]C1` – 先頭の位置 (`1`) に FNC1 文字を持つ Code 128 (`C`)。GS1-128 とも呼ばれます。
- `]e0` – GS1 DataBar。
- `]d2` – 先頭の位置 (`2`) に ECC 200 および FNC1 を持つ DataMatrix (`d`)。GS1 DataMatrix とも呼ばれます。
- `]Q3` – 先頭の位置 (`3`) に FNC1 を持つ QR コード (`Q`) モデル 2 記号。GS1 QR コードとも呼ばれます。
- `]J1` – GS1 DotCode。

これらの識別子を使用する場合、GS1 以外のバーコードとの互換性を確保するには、GS1 識別子に対応しない識別子を削除するようにスキャナーまたはスキャン ソフトウェアを構成する必要があります。 たとえば、"通常の" Code 39 バーコードをスキャンした場合、接頭語 `]A0` が追加されます。 システムはこの接頭語を GS1 接頭語の 1 つとして理解しないため、データとして解釈し、予期しない結果を生成します。

> [!NOTE]
> 便宜上、バージョン 2.0.17.0 以降の Warehouse Management モバイル アプリでは、前の一覧に含まれていない AIM 接頭語が削除されます。 この動作によって、スキャナーを構成して AIM 接頭語を追加できるが、不要な接頭語を削除できないケースがサポートされます。

### <a name="single-and-multiple-field-scanning"></a>単一および複数のフィールドのスキャン

データは、バーコードから解析された後、モバイル デバイス フロー コントロールに供給されます。 交互に処理される 2 つの方法があります。

- **単一フィールドのスキャン** – この方法は、バーコードのスキャン先のフィールドのみ入力します。 たとえば、カーソルが **品目** フィールドにあるときにバーコード `<FNC1>`**`01`**`09521101530001`**`17`**`210119`**`10`**`AB-123` をスキャンした場合、バーコードの GTIN `09521101530001` がそのフィールドに入力されます。 カーソルが **バッチ ID** フィールドにあるときに同じバーコードをスキャンした場合、バーコードのバッチ番号 `AB-123` が入力されます。 このモードは、すべてのフローのすべてのフィールドで機能し、必要なのは GS1 の一般的な設定を構成することのみです。 バーコードに複数の要素が含まれている場合も、バーコードを複数回スキャンする必要があります。一度に 1 つのバーコードだけがモバイル デバイス フローに入力されるためです。 [一般的な GS1 の設定の確立](#generic-gs1-setup) セクションで説明されているように、この動作は、GS1 の一般的な設定によって制御されます。
- **複数のフィールドのスキャン** – この方法は、1 つのバーコードをスキャンするときに、追加のデータをモバイル デバイス フロー状態にプッシュすることにより、複数のフィールドにデータを入力します。 たとえば、このポリシーは、アプリケーション識別子 01 を `ItemId` コントロールに、アプリケーション識別子 10に `InventBatchId` フィールドにプッシュするように構成されています。 この場合、バーコード `<FNC1>`**`01`**`09521101530001`**`17`**`210119`**`10`**`AB-123` をスキャンすると、両方の変数のデータが同時にプッシュされます。 したがって、フロー内の品目番号やバッチ番号の入力はシステムによって求められません。 [モバイル デバイス メニュー項目として GS1 ポリシーを設定する](#policies-for-menus) セクションで説明されているように、この動作は、メニュー項目にリンクされている GS1 ポリシーによって制御されます。

> [!WARNING]
> 既定の GS1 ポリシーは、予期しない動作なしで動作することがテストされています。 ただし、メニュー項目にリンクされている GS1 ポリシーをカスタマイズすると、フローは特定の時点で一部のデータが使用できると予想しないため、予期しない動作が発生する可能性があります。

## <a name="turn-on-the-gs1-feature"></a>GS1 機能をオンにする

この機能は使用する前にシステムでオンにする必要があります。 管理者は、[機能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) 設定を使用して、機能の状態を確認し、有効にすることができます。 **機能管理** ワークスペースで、この機能は次のようにリストされています。

- **モジュール:** *倉庫管理*
- **機能名:** *GS1 バーコードのスキャン*

### <a name="turn-on-the-enhanced-parser-for-gs1-barcodes-feature"></a>GS1 バーコードの拡張パーサー機能を有効にする

GS1 バーコードを使用する場合、*GS1 バーコードの拡張パーサー* 機能もオンにすることをお勧めします。 この機能により、GS1 バーコード パーサーの実装が改善されます。 次の改善点が追加されます。

- これは、記号データ解析に関する GS1 一般仕様アルゴリズムに従っており、記号内のデータが仕様に従って有効であるかどうかを検証します。
- **識別子の最大長** 値を設定する必要はありません。また、構成されているアプリケーション識別子から最も長い接頭語照合が使用されます。
- これにより、文字 *n* を使用して任意の数と照合することで、小数点以下のアプリケーション識別子の構成を容易に行うことができます。 たとえば、個別のアプリケーション識別子 (*3101*、*3102*、*3103* など) ではなく、1 つのアプリケーション (*310n*) だけ構成することができます。
- 誤ってエンコードされたデータがフィールド データとして解釈される問題が修正されます。
- これは、他のコンテキストで再利用可能な別のクラスとして用意されており、フロー フィールドにデータが入力される前にスキャンされたデータを操作するために拡張ポイントを使用できるようになります。

## <a name="set-up-global-gs1-options"></a><a name="set-gs1-options"></a>グローバル GS1 オプションの設定

**倉庫管理パラメーター** ページでは、グローバル GS1 オプションを確立するための設定が提供されます。

グローバル GS1 オプションを設定するには、次の手順を実行します。

1. **倉庫管理 \> 設定 \> 倉庫管理パラメーター** の順に移動します。
1. **バーコード** クイックタブで、次のフィールドを設定します:

    - **FNC1 文字**、**Datamatrix 文字**、および **QR コード文字** – GS1 バーコードの各タイプに接頭語として解釈する文字を指定します。
    - **グループ区切り記号** – ASCII グループ区切り文字を置き換える文字を指定します。
    - **識別子の最大の長さ** – アプリケーション識別子に対して許可される最大文字数を指定します。 システムで *拡張 GS1 パーサー* 機能が有効になっている場合、このフィールドは必須ではありません。

> [!NOTE]
> 接頭語は、バーコードが GS1 標準に従ってエンコードされていることをシステムに通知します。 最大 3 つの接頭語 (**FNC1 文字**、**Datamatrix 文字**、および **QR コード文字**) を同時にさまざまな目的で使用できます。

## <a name="gs1-application-identifiers"></a>GS1 アプリケーション識別子

GS1 形式は、データをエンコードするだけでなく、事前定義されたアプリケーション識別子のリストを使用してデータの意味を定義することもできます。 物流マネージャーは、必要なアプリケーション識別子のリストを設定し、それぞれを適切なモバイル デバイスのメニュー項目に関連付ける必要があります。 識別子は、移動や梱包の目的で、倉庫全体でグローバル設定として使用できます。 したがって、すべての出荷ラベルは統合フォームを使用します。

システムはデータ、特に事前定義されたアプリケーション識別子を使用して、関連するスキャン情報に適用するルールを確立します。

各アプリケーション識別子は、スキャンされたバーコードの後続の文字を暗号化された情報のブロックと見なす必要があることをシステムに通知します。 アプリケーション識別子の設定によって、システムでどのようにバーコードを解釈し、システムの値として保存するかが定義されます。

物流マネージャは、標準の国際申請識別子を使用したり、独自の識別子を作成することができます。

### <a name="load-the-standard-application-identifiers"></a>標準アプリケーション識別子の読み込み

すぐに開始するには、一般的な国際申請識別子のリストを読み込む必要があります。 その後、必要に応じてリストを拡張または編集できます。

標準アプリケーション識別子を読み込むには、次の手順を実行します。

1. **倉庫管理 \> 設定 \> GS1 \> GS1 アプリケーション識別子** に移動します。
1. アクション ウィンドウで **既定の設定を作成する** を選択します。

> [!WARNING]
> **既定の設定の作成** コマンドは、現在定義されているアプリケーション識別子をすべて削除し、標準リストに置き換えます。 ただし、既定の設定を読み込んだ後に、必要に応じてリストをカスタマイズできます。

### <a name="set-up-custom-application-identifiers"></a>カスタム アプリケーション識別子の設定

会社で使用するアプリケーション識別子の一部またはすべてが標準セットと異なる場合は、独自のコードを最初から作成するか、必要に応じて標準セットをカスタマイズできます。

GS1 独自のアプリケーション識別子を設定およびカスタマイズするには、次の手順を実行します。

1. **倉庫管理 \> 設定 \> GS1 \> GS1 アプリケーション識別子** に移動します。
1. 次の手順のいずれかを実行します。

    - 新しい識別子を作成するには: アクション ウィンドウで **新規** を選択します。
    - 既存の識別子を編集するには: 識別子を選択し、アクション ウィンドウで **編集** を選択します。

1. 新規または選択した識別子に次のフィールドを設定します:

    - **申請識別子** – 申請識別子の ID コードを入力します。 通常、このコードは 2 桁の整数ですが、それより長くなることもあります。 小数値の場合、最後の桁は小数点以下の桁数を示します。 詳細については、このリストの後半にある **小数** チェック ボックスの説明を参照してください。 *GS1 バーコードの拡張パーサー* 機能が有効になっている場合、アプリケーション識別子の最後の文字として文字 *n* を使用することで、すべての小数点以下桁数バリアントに対して単一のアプリケーション識別子を作成できます。 たとえば、小数点以下の数数値の個別のアプリケーション識別子 (*3101*、*3102*、*3103* など) ではなく、1 つのアプリケーション (*310n*) だけ構成することができます。
    - **説明** – 識別子の簡単な説明を入力します。
    - **固定長** – このアプリケーション識別子を使用してスキャンされる値の文字数が固定されている場合は、このチェック ボックスをオンにします。 値の長さが変動する場合は、このチェック ボックスをオフにします。 この場合、**倉庫管理 パラメーター** ページで指定したグループ区切り文字を使用して、値の終了を指定する必要があります。
    - **長さ** – このアプリケーション識別子を使用してスキャンされる値に表示できる最大文字数を入力します。 **固定長** チェック ボックスをオンにすると、正確にこの文字数が予想されます。
    - **タイプ** – このアプリケーション識別子 (*数値*、*英数字*、または *日付*) を使用してスキャンされる値のタイプを選択します。 日付と数値をバーコード データで表す方法の詳細については、[日付および小数](#dates-and-decimal-numbers) セクションを参照してください。
    - **小数** – 値に黙示の小数点が含まれる場合は、このチェック ボックスをオンにします。 このチェック ボックスがオンの場合、システムはアプリケーション識別子の最後の桁を使用して小数点以下の桁数を決定します。 日付と数値をバーコード データで表す方法の詳細については、[日付および小数](#dates-and-decimal-numbers) セクションを参照してください。

> [!WARNING]
> すべてのアプリケーション識別子に対して **固定長** チェック ボックスを設定することは許可されていますが、GS1 一般仕様に従って事前に定義された長さのアプリケーション識別子のサブセットにのみ使用する必要があります。 拡張 GS1 パーサーには、事前に定義された長さを持つすべてのアプリケーション識別子のリストが既に含まれています。

> [!NOTE]
> **倉庫管理パラメーター ページ** で指定された **グループ区切り値** は、アプリケーション識別子の後に続く値の長さが固定の場合はオプションです。

## <a name="establish-the-generic-gs1-setup"></a><a name="generic-gs1-setup"></a>ジェネリック GS1 設定の確立

ジェネリック GS1 設定は、一般的なマッピングのコレクションを確立します。 これらのマッピングは、モバイル アプリの各関連する入力フィールドと、スキャンされるバーコードの値の解釈方法およびフィールドへの格納方法を制御するアプリケーション識別子と一致します。 既定では、これらの設定は、すべてのモバイル デバイス メニュー項目のすべてのスキャンに適用されます。 ただし、これらは、特定のメニュー項目に割り当てられた GS1 ポリシーによって、1 つ以上の特定のフィールドに対して上書きできます。

ジェネリック GS1 設定では、一度にスキャンできる値は 1 つのみです。 したがって、1 回のスキャンで複数のフィールド値を読み込む場合は、関連するメニュー項目に対して GS1 ポリシーを設定する必要があります。

GS1 ポリシーの詳細については、次のセクションを参照してください。

### <a name="load-the-standard-generic-gs1-setup"></a>標準ジェネリック GS1 設定の読み込み

**GS1 ジェネリック設定** ページでは、既定の設定によって作成されるモバイル デバイス フィールドと標準アプリケーション識別子の間の標準マッピング セットを読み込みます。

ジェネリック GS1 設定を確立するには、**倉庫管理 \> 設定 \> GS1 \> GS1 ジェネリック設定** に移動します。 次に、**既定の設定の作成** を選択し、モバイル デバイス メニュー項目で一般に使用される各フィールドに適切なアプリケーション識別子を自動的に割り当てます。

> [!WARNING]
> ジェネリック GS1 設定が既に存在する場合は、**既定の設定の作成** コマンドはそれを完全に削除し、標準設定を読み込みます。

### <a name="customize-the-standard-generic-gs1-setup"></a>標準ジェネリック GS1 設定のカスタマイズ

ジェネリック GS1 をカスタマイズするには、次の手順に従います。

1. **倉庫管理 \> 設定 \> GS1 \> GS1 ジェネリック設定** に移動します。
1. 次の手順のいずれかを実行します。

    - 新しいマッピングを作成するには: アクション ウィンドウで **新規** を選択します。
    - 既存のマッピングを編集するには: マッピングを選択し、アクション ウィンドウで **編集** を選択します。

1. 新規または選択したマッピングに次のフィールドを設定します:

    - **フィールド** – 受け取る値を割り当てるモバイル アプリの入力フィールドを選択または入力します。 値は、作業者に表示される表示名ではありません。 代わりに、基になるコードのフィールドに割り当てられるのはキー名です。 既定の設定では、役立つ可能性が高いフィールドのコレクションが提供され、各フィールドの直観的なキー名とそれに対応するプログラムされた機能が含まれています。 ただし、実装に適した選択を見つけるために、開発パートナーに相談する必要があります。
    - **アプリケーション識別子** – **GS1 アプリケーション識別子** ページで定義されている適切なアプリケーション識別子を選択します。 この識別子は、指定されたフィールドに対する値としてバーコードを解釈して格納する方法を確立します。 アプリケーション識別子を選択すると、**説明** フィールドはアプリケーション識別子の説明を表示します。

## <a name="set-up-gs1-policies-to-be-to-mobile-device-menu-items"></a><a name="policies-for-menus"></a>モバイル デバイス メニュー項目としての GS1 ポリシーの設定

GS1 標準の目的は、作業者が 1 つのバーコードを 1 回スキャンするときに複数の値を読み込めるようにすることです。 この目的を達成するには、物流マネージャが、多値バーコードの解釈方法を示す GS1 ポリシーを設定する必要があります。 後で、モバイル デバイス メニュー項目にポリシーを割り当て、作業者が特定のメニュー項目を使用している間にスキャンした場合の、バーコードの解釈方法を制御できます。

メニュー項目に GS1 ポリシーを割り当てない場合、システムでは 1 つの値のみを取得できます。 この値は、ジェネリック GS1 設定で指定されているように、作業者がスキャンを実行するときに選択されるモバイル アプリ入力に適用されます。 GS1 ポリシーがメニュー項目に割り当てられている場合でも、ジェネリック GS1 設定を使用して、選択したフィールドに最初のバー コード値がマップされます。 ただし、適用されるポリシーで指定された追加のフィールド値を取得できます。

### <a name="load-the-standard-specific-gs1-policies"></a>標準固有の GS1 ポリシーの読み込み

すぐに開始するには、一連の GS1 ポリシーを読み込みます。 その後、必要に応じてポリシーを拡張または編集できます。

標準アプリケーション識別子を読み込むには、次の手順を実行します。

1. **倉庫管理 \> 設定 \> GS1 \> GS1 ポリシー** に移動します。
1. アクション ウィンドウで **既定の設定を作成する** を選択します。

> [!WARNING]
> **既定の設定の作成** コマンドは、現在定義されているポリシーをすべて削除し、標準の一連のポリシーに置き換えます。 ただし、既定の設定を読み込んだ後に、必要に応じてポリシーをカスタマイズできます。

### <a name="set-up-custom-specific-gs1-policies"></a>カスタム固有の GS1 ポリシーの設定

> [!WARNING]
> 一部の GS1 ポリシーは、使用するすべてのモバイル フローでは機能しない場合があります。 カスタム GS1 ポリシーを構成する場合、フローの異なるポイントでスキャンされるさまざまな情報を使用することで、モバイル デバイス フローをテストする必要があります。この方法で、フローが予想どおりに動作するかどうかを判別できます。

GS1 ポリシーを設定し、カスタマイズするには、以下の手順に従ってください。

1. **倉庫管理 \> 設定 \> GS1 \> GS1 ポリシー** に移動します。
1. 次の手順のいずれかを実行します。

    - 新しいポリシーを作成するには: アクション ウィンドウで **新規** を選択します。
    - 既存のポリシーを編集するには: 一覧ウィンドウでポリシーを選択します。

1. 新規または選択されたポリシーのヘッダーで、次のフィールドを設定します:

    - **ポリシー名** – ポリシーの名前を入力します。
    - **説明** – ポリシーの簡単な説明を入力します。

1. ヘッダーの下のクイック タブで、現在のポリシーに必要なフィールド名をアプリケーション識別子にマップします。 ツールバーのボタンを使用して、必要に応じて行を追加または削除します。 各行で、次のフィールドを設定します:

    - **フィールド** – 受け取る値を割り当てるモバイル アプリの入力フィールドを選択または入力します。 値は、作業者に表示される表示名ではありません。 代わりに、基になるコードのフィールドに割り当てられるのはキー名です。 既定の設定では、役立つ可能性が高いフィールドのコレクションが提供され、各フィールドの直観的なキー名とそれに対応するプログラムされた機能が含まれています。 ただし、実装に適した選択を見つけるために、開発パートナーに相談する必要があります。
    - **アプリケーション識別子** – **GS1 アプリケーション識別子** ページで定義されている適切なアプリケーション識別子を選択します。 この識別子は、指定されたフィールドに対する値としてバーコードを解釈して格納する方法を確立します。 アプリケーション識別子を選択すると、**説明** フィールドはアプリケーション識別子の説明を表示します。
    - **並べ替え** – 各多値バーコードには一連のアプリケーション識別子が含まれ、各識別子の後に値が続きます。 適用できる GS1 ポリシーは、各データベース フィールドにマップされるアプリケーション識別子を識別します。 ただし、バーコードが同じアプリケーション識別子を複数回使用する場合、システムはアプリケーション識別子がコードに表示される順序を使用して、それらをフィールドにマップします。 アプリケーション識別子を 1 つ以上の他の行と共有する行の場合、このフィールドを使用して、一致する行が処理される順序を確立します。 並べ替え値が最も小さい行が最初に処理されます。

> [!NOTE]
> 同じアプリケーション識別子を複数含むバーコードの場合は、**並べ替え** フィールドを使用してフィールドの順序を確立する *必要があります*。

## <a name="assign-gs1-policies-to-mobile-device-menu-items"></a>モバイル デバイス メニュー項目への GS1 ポリシーの割り当て

既定では、すべてのモバイル デバイス メニュー項目は、ジェネリック GS1 の設定に従って作業者が 1 つの値をスキャンできる入力フィールドを提供します。 作業者が任意のモバイル デバイス メニュー項目に対して 1 回のスキャンで複数のフィールド値をスキャンするには、次の手順に従って GS1 ポリシーを割り当てる必要があります。

1. **倉庫管理 \> 設定 \> モバイル デバイス \> モバイル デバイスのメニュー品目** の順に移動します。
1. メニュー項目を作成または開きます。
1. **一般** クイック タブで、メニュー項目に適用されるポリシーに **GS1 ポリシー** フィールドを設定します。

## <a name="gs1-setup-example"></a>GS1 の設定例

この例は、GS1 オプションが次の方法で設定されているシステムに適用されます。

- **倉庫管理パラメーター** ページでは、次のグローバル設定が確立されます:

    - **FNC1 文字:** *\]C1*
    - **グループ区切り:** *\~*

- **GS1 アプリケーション識別子** ページでは、次のアプリケーション識別子がこの例に関連しています。

    | アプリケーション識別子 | 説明 | 固定長 | 期間 | 種類 | 小数 |
    |---|---|---|---|---|---|
    | 01 | GTIN | 選択済 | 14 | 数値 | 精算済 |
    | 10 | バッチ番号 | 精算済 | 20 | 英数字 | 精算済 |
    | 17 | 有効期限 | 選択済 | 6 | 日 | 精算済 |
    | 30 | 入荷数量 | 精算済 | 8 | 数値 | 精算済 |

- **GS1 のジェネリック設定** ページでは、ジェネリック GS1 ポリシーに対する次の設定がこの例に関連しています。

    | フィールド | アプリケーション識別子 | 説明 |
    |---|---|---|
    | ItemId | 01 | GTIN |

- **GS1 ポリシー** ページでは、**ポリシー名** フィールドが *購買受信* に設定されているポリシーが表示されます。 このポリシーは次の行が含まれています。

    | フィールド | アプリケーション識別子 | 説明 | 並べ替え |
    |---|---|---|---|
    | ExpDate | 17 | 有効期限 | 0 |
    | InventBatchId | 10 | バッチ番号 | 0 |
    | 数量 | 30 | 入荷数量 | 0 |

- **モバイル デバイス メニュー項目** ページに、*購買受信* という名前のメニュー項目があります。 その **GS1 ポリシー** フィールドは *購買受信* に設定されています。

発注書に対する商品が倉庫に到着した後、作業員は次の手順に従います。

1. モバイル デバイスで、**購買受信** のメニュー項目を選択します。
1. 発注書番号を入力します。
1. **品目** フィールドを選択し、次のバーコードをスキャンします: `]C10100000012345678~3030~10b1~17220215`。

この例では設定が確立されているため、システムはスキャンされたバーコードを次のように解析します。

| フィールド キー | アプリケーション ID | 先頭値 | メモ |
|---|---|---|---|
| ItemId | 01 | 00000012345678 | 作業者が **品目** フィールドにスキャンしたため、バーコードの最初の値がそのフィールドにマップされます。 マッピングは、GS1 ジェネリック設定から取得されます。 |
| 数量 | 30 | 30 | 1 回のスキャンで複数のフィールド値が取得されるため、このマッピングと残りのすべてのマッピングは、**購買受信** メニュー項目に割り当てられた GS1 ポリシーから取得されます。 この値は、受け取った数量です。 |
| InventBatchId | 10 | b1 | この値はバッチ ID です。 |
| ExpDate | 17 | 220215 | 日付形式は YYMMDD です。 このため、有効期限は 2022 年 2 月 15 日です。 |

その後、入庫が登録され、関連するデータベースの値は、1 回のスキャン後に入力されます。

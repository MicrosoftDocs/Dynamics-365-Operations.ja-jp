---
title: GS1 バーコードと QR コード
description: このトピックでは、倉庫内でラベルをスキャンできるよう、GS1 バーコードと QR コードを設定する方法について説明します。
author: Mirzaab
ms.date: 08/02/2021
ms.topic: article
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-08-02
ms.dyn365.ops.version: 10.0.21
ms.openlocfilehash: 702985ef9726690829e35e43d270477be318fc41
ms.sourcegitcommit: 89655f832e722cefbf796a95db10c25784cc2e8e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2022
ms.locfileid: "8075217"
---
# <a name="gs1-bar-codes-and-qr-codes"></a>GS1 バーコードと QR コード

[!include [banner](../includes/banner.md)]
[!INCLUDE [preview-banner](../includes/preview-banner.md)]
<!-- Preview until 10.0.25 GA -->

倉庫作業者は、モバイル デバイス スキャナーを使用して品目、パレット、またはコンテナーの移動を登録する際に、いくつかのタスクを完了する必要があります。 これらのタスクには、バーコードのスキャンと、モバイル デバイスへの情報の手動入力の両方が含まれます。 バーコードは、Microsoft Dynamics 365 Supply Chain Management を使用して定義および管理する会社固有の形式を使用します。

出荷ラベル用の GS1 バーコードおよび QR コード形式が開発され、会社間のデータ交換に関するグローバル標準が提供されました。 GS1 形式は、データをエンコードするだけでなく、事前定義された *アプリケーション識別子* のリストを使用してデータの意味を定義することもできます。 GS1 標準では、データ形式と、エンコードに使用できるさまざまな種類のデータを定義します。 古いバーコードとは異なり、GS1 バーコードは、複数のデータ要素を持つ場合があります。 したがって、1 つのバーコード スキャンで、バッチや有効期限など、複数のタイプの製品情報を取得できます。

Supply Chain Management での GS1 サポートにより、GS1 形式のコードを使用してパレットとコンテナにラベルが付けられている倉庫でのスキャン プロセスが大幅に簡素化されます。 倉庫作業員は、GS1 バー コードの 1 回のスキャンで、必要なすべての情報を抽出できます。 GS1 バーコードは、複数のスキャンを実行したり、手動で情報を入力したりする必要をなくすことで、タスクに関連する時間を短縮するのに役立ちます。 同時に、精度も向上します。

物流マネージャーは、必要なアプリケーション識別子のリストを設定し、それぞれを適切なモバイル デバイスのメニュー項目に関連付ける必要があります。 アプリケーション識別子は、移動や梱包の目的で、倉庫全体でグローバル設定として使用できます。 したがって、すべての出荷ラベルは統合フォームを使用します。

特に他で述べない限り、このトピックでは *バーコード* という用語を使用してバーコードと QR コードを参照します。

## <a name="turn-on-the-gs1-feature"></a>GS1 機能をオンにする

この機能を使用するには、システム上で有効にする必要があります。 管理者は、[機能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) 設定を使用して、機能の状態を確認し、有効にすることができます。 **機能管理** ワークスペースで、この機能は次のようにリストされています。

- **モジュール:** *倉庫管理*
- **機能名:** *GS1 バーコードのスキャン*

## <a name="set-up-global-gs1-options"></a>グローバル GS1 オプションの設定

**倉庫管理パラメーター** ページでは、グローバル GS1 オプションを確立するための設定が提供されます。

グローバル GS1 オプションを設定するには、次の手順を実行します。

1. **倉庫管理 \> 設定 \> 倉庫管理パラメーター** の順に移動します。
1. **バーコード** クイックタブで、次のフィールドを設定します:

    - **FNC1 文字** – バーコードを解析するときに接頭語として解釈される文字を指定します。
    - **Datamatrix 文字** – datamatrix を解析するときに接頭語として解釈される文字を指定します。
    - **QR コード 文字** – QR コードを解析するときに接頭語として解釈される文字を指定します。
    - **グループ区切り** – バーコードまたは QR コードの各部分を識別する文字を指定します。
    - **識別子の最大の長さ** – アプリケーション識別子に対して許可される最大文字数を指定します。

> [!NOTE]
> 接頭語は、バーコードが GS1 標準に従って暗号化されていることをシステムに通知します。 最大 3 つの接頭語 (**FNC1 文字**、**Datamatrix 文字**、および **QR コード文字**) を同時にさまざまな目的で使用できます。

## <a name="gs1-application-identifiers"></a>GS1 アプリケーション識別子

GS1 形式は、データをエンコードするだけでなく、事前定義されたアプリケーション識別子のリストを使用してデータの意味を定義することもできます。 物流マネージャーは、必要なアプリケーション識別子のリストを設定し、それぞれを適切なモバイル デバイスのメニュー項目に関連付ける必要があります。 識別子は、移動や梱包の目的で、倉庫全体でグローバル設定として使用できます。 したがって、すべての出荷ラベルは統合フォームを使用します。

システムはデータ、特に事前定義されたアプリケーション識別子を使用して、関連するスキャン情報に適用するルールを確立します。

各アプリケーション識別子は、スキャンされたバーコードの後続の文字を暗号化された情報のブロックと見なす必要があることをシステムに通知します。 アプリケーション識別子の設定によって、システムでどのようにバーコードを解釈し、システムの値として保存するかが定義されます。

物流マネージャは、標準の国際申請識別子を使用したり、独自の識別子を作成することができます。

### <a name="load-the-standard-application-identifiers"></a>標準アプリケーション識別子の読み込み

すぐに開始するには、一般的な国際申請識別子のリストを読み込む必要があります。 その後、必要に応じてリストを拡張または編集できます。

標準アプリケーション識別子を読み込むには、次の手順を実行します。

1. **倉庫管理 \> 設定 \> GS1 \> GS1 アプリケーション識別子** に移動します。
1. アクション ウィンドウで **既定の設定を作成する** を選択します。

> [!WARNING]
> **既定の設定の作成** コマンドは、現在定義されているアプリケーション識別子をすべて削除し、標準リストに置き換えます。 ただし、既定の設定を読み込んだ後に、必要に応じてリストをカスタマイズできます。

### <a name="set-up-custom-application-identifiers"></a>カスタム アプリケーション識別子の設定

会社で使用するアプリケーション識別子の一部またはすべてが標準セットと異なる場合は、独自のコードを最初から作成するか、必要に応じて標準セットをカスタマイズできます。

GS1 独自のアプリケーション識別子を設定およびカスタマイズするには、次の手順を実行します。

1. **倉庫管理 \> 設定 \> GS1 \> GS1 アプリケーション識別子** に移動します。
1. 次の手順のいずれかを実行します。

    - 新しい識別子を作成するには: アクション ウィンドウで **新規** を選択します。
    - 既存の識別子を編集するには: 識別子を選択し、アクション ウィンドウで **編集** を選択します。

1. 新規または選択した識別子に次のフィールドを設定します:

    - **申請識別子** – 申請識別子の ID コードを入力します。 通常、このコードは 2 桁の整数ですが、それより長くなることもあります。 小数値の場合、最後の桁は小数点以下の桁数を示します。 詳細については、このリストの後半にある **小数** チェック ボックスの説明を参照してください。
    - **説明** – 識別子の簡単な説明を入力します。
    - **固定長** – このアプリケーション識別子を使用してスキャンされる値の文字数が固定されている場合は、このチェック ボックスをオンにします。 値の長さが変動する場合は、このチェック ボックスをオフにします。 この場合、**倉庫管理 パラメーター** ページで指定したグループ区切り文字を使用して、値の終了を指定する必要があります。
    - **長さ** – このアプリケーション識別子を使用してスキャンされる値に表示できる最大文字数を入力します。 **固定長** チェック ボックスをオンにすると、正確にこの文字数が予想されます。
    - **タイプ** – このアプリケーション識別子 (*数値*、*英数字*、または *日付*) を使用してスキャンされる値のタイプを選択します。 日付で、予想される形式は YYMMDD (スペースまたはハイフンなし) です。
    - **小数** – 値に黙示の小数点が含まれる場合は、このチェック ボックスをオンにします。 このチェック ボックスがオンの場合、システムはアプリケーション識別子の最後の桁を使用して小数点以下の桁数を決定します。 たとえば、アプリケーション識別子が *3205* の場合、値の右端の 5 桁は、小数点以下として解釈されます。

> [!NOTE]
> **倉庫管理パラメーター** ページで指定されたグループ区切りは、アプリケーション識別子の後に続く値の長さが固定されている場合、またはその長さが最大化されている場合 (アプリケーション識別子に対して設定されている **長さ** の値に等しい場合) はオプションです。

## <a name="establish-the-generic-gs1-setup"></a>ジェネリック GS1 設定の確立

ジェネリック GS1 設定は、一般的なマッピングのコレクションを確立します。 これらのマッピングは、モバイル アプリの各関連する入力フィールドと、スキャンされるバーコードの値の解釈方法およびフィールドへの格納方法を制御するアプリケーション識別子と一致します。 既定では、これらの設定は、すべてのモバイル デバイス メニュー項目のすべてのスキャンに適用されます。 ただし、これらは、特定のメニュー項目に割り当てられた GS1 ポリシーによって、1 つ以上の特定のフィールドに対して上書きできます。

ジェネリック GS1 設定では、一度にスキャンできる値は 1 つのみです。 したがって、1 回のスキャンで複数のフィールド値を読み込む場合は、関連するメニュー項目に対して GS1 ポリシーを設定する必要があります。

GS1 ポリシーの詳細については、次のセクションを参照してください。

### <a name="load-the-standard-generic-gs1-setup"></a>標準ジェネリック GS1 設定の読み込み

**GS1 ジェネリック設定** ページでは、既定の設定によって作成されるモバイル デバイス フィールドと標準アプリケーション識別子の間の標準マッピング セットを読み込みます。

ジェネリック GS1 設定を確立するには、**倉庫管理 \> 設定 \> GS1 \> GS1 ジェネリック設定** に移動します。 次に、**既定の設定の作成** を選択し、モバイル デバイス メニュー項目で一般に使用される各フィールドに適切なアプリケーション識別子を自動的に割り当てます。

> [!WARNING]
> ジェネリック GS1 設定が既に存在する場合は、**既定の設定の作成** コマンドはそれを完全に削除し、標準設定を読み込みます。

### <a name="customize-the-standard-generic-gs1-setup"></a>標準ジェネリック GS1 設定のカスタマイズ

ジェネリック GS1 をカスタマイズするには、次の手順に従います。

1. **倉庫管理 \> 設定 \> GS1 \> GS1 ジェネリック設定** に移動します。
1. 次の手順のいずれかを実行します。

    - 新しいマッピングを作成するには: アクション ウィンドウで **新規** を選択します。
    - 既存のマッピングを編集するには: マッピングを選択し、アクション ウィンドウで **編集** を選択します。

1. 新規または選択したマッピングに次のフィールドを設定します:

    - **フィールド** – 受け取る値を割り当てるモバイル アプリの入力フィールドを選択または入力します。 値は、作業者に表示される表示名ではありません。 代わりに、基になるコードのフィールドに割り当てられるのはキー名です。 既定の設定では、役立つ可能性が高いフィールドのコレクションが提供され、各フィールドの直観的なキー名とそれに対応するプログラムされた機能が含まれています。 ただし、実装に適した選択を見つけるために、開発パートナーに相談する必要があります。
    - **アプリケーション識別子** – **GS1 アプリケーション識別子** ページで定義されている適切なアプリケーション識別子を選択します。 この識別子は、指定されたフィールドに対する値としてバーコードを解釈して格納する方法を確立します。 アプリケーション識別子を選択すると、**説明** フィールドはアプリケーション識別子の説明を表示します。

## <a name="set-up-gs1-policies-that-you-can-assign-to-mobile-device-menu-items"></a>モバイル デバイス メニュー項目に割り当て可能な GS1 ポリシーの設定

GS1 標準の目的は、作業者が 1 つのバーコードを 1 回スキャンするときに複数の値を読み込めるようにすることです。 この目的を達成するには、物流マネージャが、多値バーコードの解釈方法を示す GS1 ポリシーを設定する必要があります。 後で、モバイル デバイス メニュー項目にポリシーを割り当て、作業者が特定のメニュー項目を使用している間にスキャンした場合の、バーコードの解釈方法を制御できます。

メニュー項目に GS1 ポリシーを割り当てない場合、システムでは 1 つの値のみを取得できます。 この値は、ジェネリック GS1 設定で指定されているように、作業者がスキャンを実行するときに選択されるモバイル アプリ入力に適用されます。 GS1 ポリシーがメニュー項目に割り当てられている場合でも、ジェネリック GS1 設定を使用して、選択したフィールドに最初のバー コード値がマップされます。 ただし、適用されるポリシーで指定された追加のフィールド値を取得できます。

### <a name="load-the-standard-specific-gs1-policies"></a>標準固有の GS1 ポリシーの読み込み

すぐに開始するには、一連の GS1 ポリシーを読み込みます。 その後、必要に応じてポリシーを拡張または編集できます。

標準アプリケーション識別子を読み込むには、次の手順を実行します。

1. **倉庫管理 \> 設定 \> GS1 \> GS1 ポリシー** に移動します。
1. アクション ウィンドウで **既定の設定を作成する** を選択します。

> [!WARNING]
> **既定の設定の作成** コマンドは、現在定義されているポリシーをすべて削除し、標準の一連のポリシーに置き換えます。 ただし、既定の設定を読み込んだ後に、必要に応じてポリシーをカスタマイズできます。

### <a name="set-up-custom-specific-gs1-policies"></a>カスタム固有の GS1 ポリシーの設定

GS1 ポリシーを設定し、カスタマイズするには、以下の手順に従ってください。

1. **倉庫管理 \> 設定 \> GS1 \> GS1 ポリシー** に移動します。
1. 次の手順のいずれかを実行します。

    - 新しいポリシーを作成するには: アクション ウィンドウで **新規** を選択します。
    - 既存のポリシーを編集するには: 一覧ウィンドウでポリシーを選択します。

1. 新規または選択されたポリシーのヘッダーで、次のフィールドを設定します:

    - **ポリシー名** – ポリシーの名前を入力します。
    - **説明** – ポリシーの簡単な説明を入力します。

1. ヘッダーの下のクイック タブで、現在のポリシーに必要なフィールド名をアプリケーション識別子にマップします。 ツールバーのボタンを使用して、必要に応じて行を追加または削除します。 各行で、次のフィールドを設定します:

    - **フィールド** – 受け取る値を割り当てるモバイル アプリの入力フィールドを選択または入力します。 値は、作業者に表示される表示名ではありません。 代わりに、基になるコードのフィールドに割り当てられるのはキー名です。 既定の設定では、役立つ可能性が高いフィールドのコレクションが提供され、各フィールドの直観的なキー名とそれに対応するプログラムされた機能が含まれています。 ただし、実装に適した選択を見つけるために、開発パートナーに相談する必要があります。
    - **アプリケーション識別子** – **GS1 アプリケーション識別子** ページで定義されている適切なアプリケーション識別子を選択します。 この識別子は、指定されたフィールドに対する値としてバーコードを解釈して格納する方法を確立します。 アプリケーション識別子を選択すると、**説明** フィールドはアプリケーション識別子の説明を表示します。
    - **並べ替え** – 各多値バーコードには一連のアプリケーション識別子が含まれ、各識別子の後に値が続きます。 適用できる GS1 ポリシーは、各データベース フィールドにマップされるアプリケーション識別子を識別します。 ただし、バーコードが同じアプリケーション識別子を複数回使用する場合、システムはアプリケーション識別子がコードに表示される順序を使用して、それらをフィールドにマップします。 アプリケーション識別子を 1 つ以上の他の行と共有する行の場合、このフィールドを使用して、一致する行が処理される順序を確立します。 並べ替え値が最も小さい行が最初に処理されます。

> [!NOTE]
> 同じアプリケーション識別子を複数含むバーコードの場合は、**並べ替え** フィールドを使用してフィールドの順序を確立する *必要があります*。

## <a name="assign-gs1-policies-to-mobile-device-menu-items"></a>モバイル デバイス メニュー項目への GS1 ポリシーの割り当て

既定では、すべてのモバイル デバイス メニュー項目は、ジェネリック GS1 の設定に従って作業者が 1 つの値をスキャンできる入力フィールドを提供します。 作業者が任意のモバイル デバイス メニュー項目に対して 1 回のスキャンで複数のフィールド値をスキャンするには、次の手順に従って GS1 ポリシーを割り当てる必要があります。

1. **倉庫管理 \> 設定 \> モバイル デバイス \> モバイル デバイスのメニュー品目** の順に移動します。
1. メニュー項目を作成または開きます。
1. **一般** クイック タブで、メニュー項目に適用されるポリシーに **GS1 ポリシー** フィールドを設定します。

## <a name="gs1-setup-example"></a>GS1 の設定例

この例は、GS1 オプションが次の方法で設定されているシステムに適用されます。

- **倉庫管理パラメーター** ページでは、次のグローバル設定が確立されます:

  - **FNC1 文字:** *\]C1*
  - **グループ区切り:** *\~*

- **GS1 アプリケーション識別子** ページでは、次のアプリケーション識別子がこの例に関連しています。

    | アプリケーション識別子 | 説明 | 固定長 | 期間 | 種類 | 小数 |
    |---|---|---|---|---|---|
    | 01 | GTIN | 選択済 | 14 | 数値 | 精算済 |
    | 10 | バッチ番号 | 精算済 | 20 | 英数字 | 精算済 |
    | 17 | 有効期限 | 選択済 | 6 | 日 | 精算済 |
    | 30 | 入荷数量 | 精算済 | 8 | 数値 | 精算済 |

- **GS1 のジェネリック設定** ページでは、ジェネリック GS1 ポリシーに対する次の設定がこの例に関連しています。

    | フィールド | アプリケーション識別子 | 説明 |
    |---|---|---|
    | ItemId | 01 | GTIN |

- **GS1 ポリシー** ページでは、**ポリシー名** フィールドが *購買受信* に設定されているポリシーが表示されます。 このポリシーは次の行が含まれています。

    | フィールド | アプリケーション識別子 | 説明 | 並べ替え |
    |---|---|---|---|
    | ExpDate | 17 | 有効期限 | 0 |
    | InventBatchId | 10 | バッチ番号 | 0 |
    | 数量 | 30 | 入荷数量 | 0 |

- **モバイル デバイス メニュー項目** ページに、*購買受信* という名前のメニュー項目があります。 その **GS1 ポリシー** フィールドは *購買受信* に設定されています。

発注書に対する商品が倉庫に到着した後、作業員は次の手順に従います。

1. モバイル デバイスで、**購買受信** のメニュー項目を選択します。
1. 発注書番号を入力します。
1. **品目** フィールドを選択し、次のバーコードをスキャンします: *\]C10100000012345678\~3030\~10b1\~17220215*。

この例では設定が確立されているため、システムはスキャンされたバーコードを次のように解析します。

| フィールド キー | アプリケーション ID | 先頭値 | メモ |
|---|---|---|---|
| ItemId | 01 | 00000012345678 | 作業者が **品目** フィールドにスキャンしたため、バーコードの最初の値がそのフィールドにマップされます。 マッピングは、GS1 ジェネリック設定から取得されます。 |
| 数量 | 30 | 30 | 1 回のスキャンで複数のフィールド値が取得されるため、このマッピングと残りのすべてのマッピングは、**購買受信** メニュー項目に割り当てられた GS1 ポリシーから取得されます。 この値は、受け取った数量です。 |
| InventBatchId | 10 | b1 | この値はバッチ ID です。 |
| ExpDate | 17 | 220215 | 日付形式は YYMMDD です。 このため、有効期限は 2022 年 2 月 15 日です。 |

その後、入庫が登録され、関連するデータベースの値は、1 回のスキャン後に入力されます。

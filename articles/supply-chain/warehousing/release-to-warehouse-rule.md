---
title: 倉庫へのリリースのルール
description: このトピックでは、倉庫にリリースする際に柔軟性を提供する、倉庫へのリリースのルール機能に関する情報を提供します。 部分的に引当済の注文明細行のリリースをシステムが許可するかどうかを制御する構成オプションを追加します。
author: mirzaab
manager: tfehr
ms.date: 07/01/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSParameters
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Retail, Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-07-01
ms.dyn365.ops.version: Release 10.0.7
ms.openlocfilehash: 27030e8dd58b290d80f6b00cbd250e09c1e50819
ms.sourcegitcommit: f64fce03ec52f844b05a9e8cac286cb201385002
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/16/2020
ms.locfileid: "3597339"
---
# <a name="release-to-warehouse-rule"></a>倉庫へのリリースのルール

[!include [banner](../includes/banner.md)]

*倉庫へのリリースのルール*機能は、倉庫へのリリース時の柔軟性を提供します。 各倉庫の構成オプションを追加します。 このオプションを使用して、その倉庫に対して部分的に引当済の注文明細行をリリースできるようにするかどうかを指定できます。 この機能は、注文明細行の数量の一部が供給元に対してマークされているが、残りの部分は倉庫で処理できるような場合に、高度なクロスドッキング機能と連携して使用されます。 したがって、明細行をリリースして、使用可能な在庫数量の倉庫処理を続行できるようにすることができます。

## <a name="turn-on-and-initialize-the-release-to-warehouse-rule-feature"></a>倉庫へのリリースのルール機能をオンにして初期化する

### <a name="turn-on-the-feature"></a>機能をオンにする

*倉庫へのリリースのルール*機能を使用するには、システム上で有効にする必要があります。 管理者は、[機能の管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)設定を使用して、機能の状態を確認し、必要に応じて有効にすることができます。 **機能管理** ワークスペースで、この機能は次のようにリストされています。

- **モジュール:** *倉庫管理*
- **機能名 :** *倉庫へのリリースのルール*

### <a name="initialize-the-feature"></a>機能の初期化

システムでこの機能が有効になったら、この機能を初期化して、すべての倉庫についてルールを正しい初期状態に設定する必要があります。

- 倉庫管理が有効になっていない倉庫では、ルールは**適用不可**に初期設定されます。
- 倉庫管理が有効になっている倉庫では、ルールは**部分引当の許可**に初期設定されます。

機能を初期化し、すべての倉庫に倉庫へのリリースのルールを設定するには、次の手順に従います。

1. **倉庫管理 \> 設定 \> 倉庫管理パラメーター**の順に移動します。
1. **倉庫管理パラメーター** ページの**一般**タブの**会社情報**セクションで、**倉庫へのリリースを初期化**ルールのリンクを選択します。 (このリンクが表示されていない場合は、機能が有効になっていないか、既に初期化されています。)
1. アクションを確認するメッセージが表示されたら、**はい**を選択して機能を初期化します。

## <a name="set-the-release-to-warehouse-rule-for-each-warehouse"></a><a name="set-option-warehouse"></a>各倉庫に倉庫へのリリースのルールを設定する

この機能を有効にして初期化した後は、すべての倉庫の初期設定が前のセクションで説明したようになります。 この設定は、次の手順で個々の倉庫に対して変更できます。

1. **倉庫管理 \> 設定 \> 倉庫 \> 倉庫**の順に移動します。
1. 構成する倉庫を選択します。
1. **編集**を選択し、ページを編集モードにします。
1. **倉庫**クイック タブにある**引当**セクションの**在庫引当要件**フィールドで、注文の部分的なリリースを許可するかどうかが制御されます。 次の値からいずれか 1 つを選択します。

    - **適用不可** – この機能を最初にオンにして初期化すると、この値は倉庫管理が有効になっていないすべての倉庫に自動的に割り当てられます。 この値は変更できません。 この値は、倉庫管理が有効になっている倉庫では使用できません。
    - **部分的な引当の許可** – 注文は、任意の数量が引当されたときにリリースできます。 引当されていない数量を高度なクロスドッキングとしてマークするかどうかを評価し、その数量を必要に応じてマークします。 マーキングが存在しない場合、引当済数量に対してのみ作業が作成されます。 この機能を最初にオンにして初期化すると、この値は倉庫管理が有効になっているすべての倉庫に自動的に割り当てられます。 この値は、倉庫管理が有効になっていない倉庫では使用できません。
    - **完全引当を要求** – 注文は、数量全体が引当されている場合にのみリリースできます。 合計数量が現物引当されているか、クロスドッキングが計画されている場合は、リリースすることはできません。 この値は、倉庫管理が有効になっていない倉庫では使用できません。

1. **保存** を選択します。

## <a name="scenarios"></a>シナリオ

このセクションでは、この機能の動作と使用方法を学ぶための 2 つのシナリオを提供します。

### <a name="make-sample-data-available"></a>サンプル データを有効化する

指定されたサンプル レコードと値を使用してこれらのシナリオを実行するには、標準の[デモ データ](../../fin-ops-core/dev-itpro/deployment/deploy-demo-environment.md) がインストールされているシステムを使用する必要があります。 また、開始する前に **USMF** 法人を選択する必要があります。

これらのシナリオは、実稼働システムで作業するときにこの機能を使用するためのガイダンスとして使用することもできます。 ただし、その場合は、独自の値に置き換える必要があり、標準のデモ データが提供するいくつかのタイプの必要なレコードが不足している可能性があります。

### <a name="scenario-1-require-full-release-no-planned-cross-docking"></a><a name="scenario1"></a>シナリオ 1: 完全リリースを必須にする (計画されたクロスドッキングなし)

このシナリオでは、**完全引当を要求**するように設定されている倉庫に対して機能がどのように動作するかを示します。

1. **倉庫管理 \> 設定 \> 倉庫 \> 倉庫**の順に移動します。
1. 倉庫 _62_ については、このトピックで前述の[各倉庫に倉庫へのリリースのルールを設定する](#set-option-warehouse) セクションで説明したように、**在庫引当要件**フィールドを**完全引当を要求する**に設定します。
1. **販売とマーケティング \> 販売注文 \> すべての販売注文**の順に移動します。
1. **新規**を選択して新しい販売注文を作成します。
1. **販売注文の作成**ダイアログ ボックスでは、次の値を設定します。

    - **顧客**クイック タブで、**顧客 ID** フィールドを _US-004_ に設定します。
    - **一般**クイック タブの**倉庫**フィールドを _62_ に設定します。

1. **OK** を選択して新しい販売注文を作成し、ダイアログ ボックスを閉じます。
1. 新しい販売注文が開かれます。 **販売注文行**セクションのグリッドに空白行が含まれています。 この明細行で、次の値を設定します。

    - **品目番号:** *A0001*
    - **数量:** *2*

1. **行の追加**を選択して新しい行を追加し、次の値を設定します。

    - **品目番号:** *A0002*
    - **数量:** *2*

1. 最初の注文明細行を選択し、グリッドの上にある**在庫**メニューで、**引当**を選択します。
1. **引当**ページで、**引当ロット**を選択して、選択した明細行の全数量を倉庫に引当します。
1. **引当**ページを閉じて、販売注文に戻ります。
1. 2 番目の注文明細行を引当しないでください。
1. アクション ウィンドウの**倉庫**タブで、**倉庫へのリリース**を選択します。
1. 次のエラー メッセージが表示されることに注意してください。「すべての数量を現物引当する必要があります。」 したがって、注文に対する作業、出荷、または積荷がシステムによって作成されることはありません。

    > [!NOTE]
    > 2 つ目の明細行を部分的に引当した場合も、同じエラー メッセージが表示されます。

### <a name="scenario-2-allow-partial-release"></a>シナリオ 2: 部分的なリリースの許可

このシナリオでは、**部分的なリリースを許可**するように設定されている倉庫に対して機能がどのように動作するかを示します。

1. **倉庫管理 \> 設定 \> 倉庫 \> 倉庫**の順に移動します。
1. 倉庫 _62_ については、このトピックで前述の[各倉庫に倉庫へのリリースのルールを設定する](#set-option-warehouse) セクションで説明したように、**在庫引当要件**フィールドを**部分的なリリースを許可する**に設定します。
1. [前のシナリオ](#scenario1) のように、**販売とマーケティング \> 販売注文 \> すべての販売注文**に移動して、倉庫 _62_ から顧客アカウント _US-004_ に販売注文を作成します。 の 2 つの注文明細行を追加します。

    - **明細行 1:** **品目番号**フィールドを _A0001_ に、**数量**フィールドを _2_ に、**単位**フィールドを _Pcs_ に設定します。
    - **明細行 2:** **品目番号**フィールドを _A0002_ に、**数量**フィールドを _2_ に、**単位**フィールドを _Pcs_ に設定します。

1. [前のシナリオ](#scenario1) のように、注文明細行 1 に対して全数量を引当ますが、注文明細行 2 は引当しません。
1. アクション ウィンドウの**倉庫**タブで、**倉庫へのリリース**を選択します。
1. この時点では、エラー メッセージは表示されないことに注意してください。 代わりに、必要に応じて作業、出荷、および積荷が作成され、結果が表示されます。
1. 出荷、積荷、および作業に関する情報を表示するには、グリッドの上にある**倉庫**メニューのオプションを使用します。

    - **明細行 1:** **出荷詳細**、**積荷の詳細**、および**作業の詳細**の 3 つのオプションがあります。 注文が倉庫にリリースされたときに作成された出荷、積荷、および作業の詳細を表示するには、各オプションを選択します。
    - **明細行 2:** **作業の詳細**オプションのみを使用できます。 選択すると、在庫が引当されていないため、作業が作成されていないことを確認できます。 したがって、出荷または積荷は作成されていません。

> [!NOTE]
> 2 つ目の明細行が部分的に引当されている場合は、同じ結果が予想されます。 この場合、引当済の明細行の数量に対して作業が作成されますが、引当されていない数量に対しては作成されません。

---
title: 作業テンプレートと場所ディレクティブを使用した倉庫作業の制御
description: このトピックでは、作業テンプレートと場所ディレクティブを使用して作業が倉庫のどこでどのように実行されるかを決定する方法を説明します。
author: perlynne
manager: AnnBe
ms.date: 02/05/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSLocDirFailure, WHSLocDirHint, WHSLocDirTable, WHSLocDirTableUOM, WHSRFMenuItem, WHSWork, WHSWorkClass, WHSWorkPool, WHSWorkTemplateTable
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: 72921
ms.assetid: 377ab8af-5b0c-4b5e-a387-06ac1e1820c0
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 4645cf36201aa1b87c22ba4dbfb1b8d8117f425a
ms.sourcegitcommit: fb7d0efd97754f1ae0b5aa765d0eeb3f57b8078f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/05/2020
ms.locfileid: "3028031"
---
# <a name="control-warehouse-work-by-using-work-templates-and-location-directives"></a>作業テンプレートと場所ディレクティブを使用した倉庫作業の制御

[!include [banner](../includes/banner.md)]

このトピックでは、作業テンプレートと場所ディレクティブを使用して作業が倉庫のどこでどのように実行されるかを決定する方法を説明します。

倉庫作業者がモバイル デバイスで受信する指示は、様々な倉庫プロセスとタスクを定義するために設定した Dynamics 365 Supply Chain Management 作業テンプレートによって決定されます。 作業テンプレートは、各倉庫プロセスについて作業がどのように実行されるかを決定します。 場所ディレクティブと作業テンプレートを関連付けることで、作業が倉庫の特定の物理的領域で実行されることを保証できます。

## <a name="work-templates"></a>作業テンプレート
**作業テンプレート**ページで、倉庫で実行しなければならない作業を定義することができます。 通常、倉庫の作業はアクションの 1 ペアで構成されます: 倉庫作業者は 1 つの場所の手持在庫をピッキングし、次にピッキングした在庫を別の場所に配置します。 

作業テンプレートはヘッダーおよび関連付けられた行で構成されます。 各作業テンプレートは特定の *[作業オーダー タイプ]* のためのものです。 作業オーダー タイプの多くは、発注書または販売注文などの元伝票に関連付けられます。 しかし、他の作業 オーダー タイプは循環棚卸などの別の倉庫プロセスを表します。 *[作業プール ID]* を使用して、作業をグループに整理できます。 

作業ヘッダー定義の設定を使って、いつ新しい作業を作成するかを決定できます。 たとえば、ピッキング明細行の最大数とピッキングの最長予想時間を設定できます。 販売注文のピッキング プロセスの作業がその値のいずれかを超える場合、その作業は 2 つの作業に分割されます。 

作業明細行は、作業を処理するために必要な物理的なタスクを表します。 たとえば、出庫倉庫プロセスについて、倉庫内の品目をピッキングするための作業明細行と、ステージング領域にこれらの品目を配置するための別の明細行がある可能性があります。 そして、ステージングから品目をピッキングするための追加の明細行、および載荷プロセスの一部として、トラックに品目を配置するための別の明細行がある可能性があります。 作業テンプレートの明細行に、*[ディレクティブ コード]* を設定できます。 ディレクティブ コードは、場所ディレクティブに関連付けられており、倉庫の作業が倉庫内の正しい場所で処理されることを保証します。 

特定の作業テンプレートがいつ使用されるかを制御するクエリを設定できます。 たとえば、特定のテンプレートが、特定の倉庫での作業にのみ使用できるように、制限を設定できます。 販売元に応じて、出荷販売注文の処理作業の作成に使用される複数のテンプレートがある場合もあります。 システムは、**順序番号**フィールドを使用して、使用できる作業テンプレートの評価順序を決定します。 したがって、特定の作業テンプレートに極めて特殊なクエリがある場合、低い番号順序を与える必要があります。 そうすれば、そのクエリは他のより一般的なクエリより先に評価されます。 

作業プロセスを停止、または一時停止するには、作業明細行の**作業の停止**設定を使用できます。 この場合、作業を実行する作業者は、作業明細行の次のステップを実行するよう求められません。 次のステップに進むには、その作業者か別の作業者が、作業をもう一度選択する必要があります。 作業テンプレート明細行のさまざまな *[作業クラス ID]* を使用して、作業内のタスクを分割することもできます。

## <a name="location-directives"></a>場所のディレクティブ
場所ディレクティブは、棚卸資産移動のピッキングとプットの場所を識別するのにに役立つルールです。 たとえば、販売注文トランザクションでは、場所ディレクティブにより、品目がピッキングされる場所とピッキングされた品目が置かれる場所が決定されます。 場所ディレクティブはヘッダーおよび関連付けられた行から構成され、**場所ディレクティブ**ページで作成することができます。 

各場所ディレクティブは、ヘッダー上で、販売注文、補充、又は原材料のピッキングのような、ディレクティブが使用される棚卸資産トランザクションのタイプを指定する *[作業 オーダー タイプ]* と関連付けられる必要があります。 *[作業タイプ]* は、場所ディレクティブをピッキングまたはプット作業に使用するか、棚卸または棚卸資産状態の変化などの他の倉庫プロセスに使用するかを指定します。 *[サイト]* と *[倉庫]* を指定する必要があります。 ヘッダーで指定する *[ディレクティブ コード]* を使って、場所ディレクティブを一つ以上の作業テンプレートに関連付けられます。 

作業テンプレートについて、特定の場所ディレクティブをいつ使用するかを決定するクエリを設定できます。 たとえば、電子商取引が販売注文元である場合、倉庫の専用の領域から棚卸資産をピッキングしなければならないことを指定できます。 システムは、**順序番号**フィールドを使用して、使用できる場所ディレクティブの評価順序を決定します。 

場所ディレクティブの明細行が、ルールを検索する場所検索ルールの適用に対し追加の制限を設定します。 ディレクティブを適用すべき最小数量と最大数量を指定でき、ディレクティブが特定の棚卸資産ユニットのためのものであることも指定できます。 たとえば、測定単位がパレットである場合、パレットの品目を特定の場所に配置できます。 数量が複数の場所に分割できるかどうかも指定できます。 場所ディレクティブ ヘッダーのように、各場所ディレクティブ明細行には、明細行を評価する順序を決定する順序番号があります。 

場所ディレクティブには 1 つの追加の詳細レベルがあります: *場所ディレクティブのアクション*。 各明細行について複数の場所ディレクティブのアクションを定義できます。 この場合も、アクションが評価される順序を決定する番号順序が使用されます。 このレベルでは、倉庫内の最適な場所を検索する方法を定義するクエリを設定できます。 事前に定義された**戦略**設定を使用して最適な場所を検索することもできます。

## <a name="location-directives-configuration-details"></a>場所のディレクティブ コンフィギュレーションの詳細 

 ### <a name="sequence-number"></a>一連番号
 
数字は、位置情報のディレクティブが選択した順序タイプに対して処理されるシーケンスを示します。 メニュー上で、**上へ移動**および**下へ移動**を使用して、変更できます。
 
 ### <a name="work-type"></a>作業タイプ
 
これは実効する作業のタイプです。 使用可能な作業のタイプは、**作業オーダー タイプ**フィールドで選択した在庫トランザクションのタイプに基づいています。
-   **保留** - 作業タイプが**保留**と等しいとは、場所ディレクティブが受入、生産または在庫調整から在庫をシステムに配置または設置するための最善な場所を見つけることを意味します。 また、ステージの場所または最終ベイ ドアの出荷場所へ配置を定義するために使用することもできます。
-   **ピッキング** - 作業タイプが**ピッキング**と等しいとは、倉庫が物理的に在庫の引当を (作業の作成) から、最善の場所を見つけることを意味します。 作業が完了していない場合でも、ピッキングは完了することができます (ピッキングの作業明細行は終了可能)。 ユーザーは、ピッキング ステップである物理的なピッキングを完了できます。 ユーザーは、モバイル デバイスからをキャンセルし、後で作業を完了できます。 ただし、最終的な配置が完了すると、作業ヘッダーは終了します。 
-   **棚卸、調整、カスタム、在庫状態を変更、ライセンス プレートの構築、印刷、ステータスの変更、入れ子になったライセンス プレートに梱包** : これらは、どの場所ディレクティブ設定でも使用できません。 これは列挙型で、作業オーダー タイプに接続されたフィルタリングはありません。 

### <a name="directive-code"></a>ディレクティブ コード

作業のテンプレートまたは補充のテンプレートに関連付ける、ディレクティブ コードを選択します。 **ディレクティブ コード**フォーム上で、新しいコードを作成することができ、作業および補充テンプレートと場所ディレクティブの間を接続するために使用できます。 また、どの作業テンプレート ラインと場所ディレクティブ間のリンクにも設置できます (ベイドアまたはステージの場所など)。

コードが設定されている場合、作業を生成するとき、システムはシークエンスで場所ディレクティブを検索することはなく、検索がディレクティブ コードになるので注意してください。 つまり、ステージング材料のような作業テンプレートを使い、特別なステップのために使われている中でより具体的にすることもできます。 

### <a name="site"></a>サイト

サイトは、場所ディレクティブがサイトおよび有効である倉庫を必要とするため、必須項目です。 

### <a name="warehouse"></a>倉庫

倉庫は、場所ディレクティブがサイトおよび有効である倉庫を必要とするため、必須項目です。

### <a name="multiple-sku"></a>マルチ SKU

これにより、ベイドアのような場所の複数の最小在庫管理単位 (SKU) が許可されます。 **複数の SKU** を選択した場合、配置場所は作業で指定されますが (予測)、複数の項目配置を処理することはできません (作業が、単一 SKU 配置ではなく、ピッキングおよび設置される別の SKU を含む場合)。 **複数の SKU** を選択しない場合、配置が一種類の SKU しかないときのみ配置場所は指定されます。 両方の処理を使用するには、複数の SKU オンのラインと複数の SKU オフのラインの 2 つを指定する必要があります。 これらは、同じ構造体と設定が必要です。 配置操作については、作業 ID 上で単一および複数の SKU を区別しなくても、同一の場所ディレクティブが必要です。 複数の項目のオーダーがある場合は、ピッキングのために設定が必要です。

### <a name="sequence-number"></a>一連番号

選択した作業タイプのために場所のディレクティブ明細行を処理するシーエンスを入力してください。 シーケンスの調整が必要な場合は、**上に移動**および**下に移動**を使用します。

### <a name="fromto-quantity"></a>開始/終了数量

ミドル グリッド シーケンスが選択されるときのために、数量の範囲を指定する機能を提供します。 個別単位で開始/終了範囲を指定できます。

### <a name="unit"></a>単位

ディレクティブを適用すべき最小数量と最大数量を指定でき、ディレクティブが特定の棚卸資産ユニットのためのものであることも指定できます。 行の単位フィールドは、数量の評価に対してのみ使用されます。

場所ディレクティブの明細行を該当するか確認する場合は、場所ディレクティブ行で指定された個別単位の数量に基づきます。 場所ディレクティブの明細行が達するたびに、システムは需要単位を行指定された単位に変換しようとします。 UOM 換算が存在しない場合は、次の行で続行されます。 

### <a name="locate-quantity"></a>数量の検索

このオプションは、倉庫の配置/検索数量に対してのみ使用されます。 これは、配置作業タイプに対してのみです。 有効な値は、

-   **ライセンス プレートの数量** - 数量が「開始」と「終了」の数量範囲内であるかどうかを評価する場合は、受信されるライセンス プレートの数量を使用してください。
-   **使用されている数量** - 数量が「開始」と「終了」の数量範囲内であるかどうかを評価する場合は、特定のトランザクション中に使用される数量を使用してください。
-   **残余数量** - 数量が「開始」と「終了」の数量範囲内であるかどうかを評価する場合は、現在チェック インされた発注書ラインで受信した残余数量を使用してください。
-   **予測数量** - 数量が「開始」と「終了」の数量範囲内であるかどうかを評価する場合は、すでに受信したものとは無関係に、発注書ラインの合計数量を使用してください。

### <a name="restrict-by-unit"></a>単位ごとに制限

これにより、測定単位または複数の測定単位に特化させる場所ディレクティブの明細行が実行できます。 数量を受信ときに特定の場所のセットからパレットを引当する場合、ミドル グリッド シーケンスは特定のシーケンスを「PL」に制限し、パレットより少ない数量はシーケンスを選択しません。 単位を設定するには、**単位で制限**を選びます。 行を複数の単位に制限することもできます。 これは、ピッキング タイプの場所ディレクティブでのみ機能します。 

### <a name="round-up-to-unit"></a>単位に丸める

このフィールドは、**単位で制限**フィールドと共に使用されます。 場合ディレクティブの明細行の**単位で制限**が「ボックス」に設定されている場合、**単位に切り上げ**で、原材料ピッキング用にディレクティブから生成された作業を材料取り扱い単位の倍数に切り上げる必要があります (**単位で制限**で指定済)。 これは原材料消費ピッキングのみで動作し、タイプ ピッキングの場所ディレクティブのみで動作することに注意してください。

### <a name="locate-packing-qty"></a>梱包数量の検索

梱包数量が販売注文、移動オーダー、または製造オーダーで指定されている場合、場所内の梱包数量と場所のみを選択するようにシステムを制限します。 これは、ピッキング タイプの場所ディレクティブでのみ機能します。

### <a name="allow-split"></a>分割を許可

これは、場所ディレクティブが複数の倉庫の場所全体で受信した数量または引当した数量に分割することが許可されているか、または全体数量が単一の場所に配置する必要や作業を作成するために単一の場所から引当する必要があるかを指定します。 

### <a name="sequence-number"></a>一連番号

この数量は、選択した作業タイプのために場所ディレクティブを処理するシーケンスです。 この順序は、必要に応じて修正できます。 ただし、処理は常にシーケンス内で実行されるので、シーケンス番号の使用に注意が必要です。 

### <a name="name"></a>氏名

場所ディレクティブのアクション名を入力します。 名前を指定する場合は、明確にしてください。

### <a name="fixed-location-usage"></a>固定の場所の使用 

-   **固定および固定以外の場所** - 場所ディレクティブはすべての場所を考慮します。
-   **製品の固定の場所のみ** - 場所ディレクティブは製品の固定の場所のみ考慮します。
-   **製品バリアントの固定の場所のみ** - 場所ディレクティブは製品バリアントの固定の場所のみ考慮します。

### <a name="allow-negative-inventory"></a>マイナス在庫を許可

場所ディレクティブ内の指定された倉庫の場所で負の在庫を許可するように選択します。 

### <a name="batch-enabled"></a>バッチが有効 

バッチが有効な品目に対してバッチ戦略を使用するように選択します。 ラインは**有効なバッチ**がバッチ品目なしで設定される場所に到達すると、その処理は次のアクション ラインで続行されます。 

### <a name="strategy"></a>戦略

-   **連結** - この戦略は、同様の品目が既に利用可能な場合、特定の場所の品目を統合するために使用されます。 これは、場所ディレクティブの配置タイプでのみ機能します。 配置の共通設定は、最初のアクション行に連結され、そして 2 回目に連結なしの配置を試みます。 商品の連結は後にピッキングをより効率的にします。
-   **梱包数量の照合**: この戦略では、正確な数量を持つライセンスプレートを含む場所が検索されます。 ライセンスプレートで管理されていない場所に対して使用することはできません。 この戦略は、ピッキング作業タイプの場所ディレクティブのみで機能します。
-   **FEFO バッチ引当** - この戦略は、在庫がバッチ有効期限を使用して配置され、バッチの引当に割り当てられたときに使用されます。 バッチが有効な品目に対してのみ、この戦略を使用できます。 これは、ピッキング作業タイプの場所ディレクティブのみで機能します。 
-   **全 LP への切り上げ** - この戦略は、ピッキングする品目に割り当てられているライセンス プレート (LP) の数量を照合するため、棚卸資産の数量を切り上げるために使用します。 この戦略は、ピッキング タイプの場所ディレクティブの補充タイプに対してのみ使用できます。 
-   **作業を受け取らない空の場所** - この戦略は、空の場所を検索するために使用されます。 その場所に物理的棚卸資産がなく、入荷作業が予定されていない場合、その場所は空であると見なされます。 この戦略は、場所ディレクティブの配置タイプに対してのみ使用されます。 

### <a name="example-of-the-use-of-location-directives"></a>場所ディレクティブの使用例

この例では、入荷ドックに登録されたばかりの在庫品目のために倉庫内で使用されていない収容能力を場所ディレクティブが検索する必要がある発注書プロセスについて考慮します。 最初に、既存の手持在庫との連結によって倉庫内の使用されていない収容能力を検索する必要があります。 連結ができない場合、空の場所を見つける必要があります。 

このシナリオでは、2 つの場所ディレクティブ アクションを定義する必要があります。 順序の最初のアクションでは、**連結**戦略を使用する必要があり、2番目では、**作業を受け取らない空の場所**戦略を使用する必要があります。 倉庫内に収容能力がもうない場合、オーバーフローのシナリオを処理する 3 番目のアクションを定義しない限り、可能性として二通りの結果があります: 場所が定義されていなくても作業を作成できる、または作業作成プロセスが失敗する。 **場所ディレクティブ エラー**ページの設定で、結果を決定します。そのページで、各作業オーダー タイプごとに**場所のディレクティブ エラーで作業を停止する**オプションを選択するかどうか決定できます。

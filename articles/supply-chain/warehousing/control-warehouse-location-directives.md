---
title: "作業テンプレートと場所ディレクティブを使用した倉庫作業の制御"
description: "この記事では、作業テンプレートと場所ディレクティブを使用して作業が倉庫のどこでどのように実行されるかを決定する方法を説明します。"
author: perlynne
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
ms.search.form: WHSLocDirFailure, WHSLocDirHint, WHSLocDirTable, WHSLocDirTableUOM, WHSRFMenuItem, WHSWork, WHSWorkClass, WHSWorkPool, WHSWorkTemplateTable
audience: Application User
ms.reviewer: bis
ms.search.scope: Core, Operations
ms.custom: 72921
ms.assetid: 377ab8af-5b0c-4b5e-a387-06ac1e1820c0
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: 2771a31b5a4d418a27de0ebe1945d1fed2d8d6d6
ms.openlocfilehash: 269631124e9cab89a85bf4ff6936f3cd5d1dab2a
ms.contentlocale: ja-jp
ms.lasthandoff: 11/03/2017

---

# <a name="control-warehouse-work-by-using-work-templates-and-location-directives"></a><span data-ttu-id="296ce-103">作業テンプレートと場所ディレクティブを使用した倉庫作業の制御</span><span class="sxs-lookup"><span data-stu-id="296ce-103">Control warehouse work by using work templates and location directives</span></span>

[!include[banner](../includes/banner.md)]


<span data-ttu-id="296ce-104">この記事では、作業テンプレートと場所ディレクティブを使用して作業が倉庫のどこでどのように実行されるかを決定する方法を説明します。</span><span class="sxs-lookup"><span data-stu-id="296ce-104">This article describes how to use work templates and location directives to determine how and where work is carried out in the warehouse.</span></span>

<span data-ttu-id="296ce-105">倉庫作業者がモバイル デバイスで受信する指示は、Microsoft Dynamics 365 for Finance and Operations で設定し、様々な倉庫プロセスとタスクを定義した作業テンプレートによって決定されます。</span><span class="sxs-lookup"><span data-stu-id="296ce-105">The instructions that warehouse workers receive on a mobile device are determined by the work templates that you set up in Microsoft Dynamics 365 for Finance and Operations to define the various warehouse processes and tasks.</span></span> <span data-ttu-id="296ce-106">作業テンプレートは、各倉庫プロセスについて作業がどのように実行されるかを決定します。</span><span class="sxs-lookup"><span data-stu-id="296ce-106">Work templates determine how the work is performed for each warehouse process.</span></span> <span data-ttu-id="296ce-107">場所ディレクティブと作業テンプレートを関連付けることで、作業が倉庫の特定の物理的領域で実行されることを保証できます。</span><span class="sxs-lookup"><span data-stu-id="296ce-107">By linking a location directive to work templates, you can help guarantee that work occurs in specific physical areas of the warehouses.</span></span>

## <a name="work-templates"></a><span data-ttu-id="296ce-108">作業テンプレート</span><span class="sxs-lookup"><span data-stu-id="296ce-108">Work templates</span></span>
<span data-ttu-id="296ce-109">[**作業テンプレート**] ページで、倉庫で実行しなければならない作業を定義することができます。</span><span class="sxs-lookup"><span data-stu-id="296ce-109">The **Work templates** page lets you define the work operations that must be performed in the warehouse.</span></span> <span data-ttu-id="296ce-110">通常、倉庫の作業はアクションの 1 ペアで構成されます: 倉庫作業者は 1 つの場所の手持在庫をピッキングし、次にピッキングした在庫を別の場所に配置します。</span><span class="sxs-lookup"><span data-stu-id="296ce-110">Typically, warehouse work operations consist of a pair of actions: a warehouse worker picks up on-hand inventory in one location and then puts the picked inventory down in another location.</span></span> 

<span data-ttu-id="296ce-111">作業テンプレートはヘッダーおよび関連付けられた行で構成されます。</span><span class="sxs-lookup"><span data-stu-id="296ce-111">Work templates consists of a header and associated lines.</span></span> <span data-ttu-id="296ce-112">各作業テンプレートは特定の *[作業オーダー タイプ]* のためのものです。</span><span class="sxs-lookup"><span data-stu-id="296ce-112">Each work template is for a specific *work order type*.</span></span> <span data-ttu-id="296ce-113">作業オーダー タイプの多くは、発注書または販売注文などの元伝票に関連付けられます。</span><span class="sxs-lookup"><span data-stu-id="296ce-113">Many work order types are associated with source documents, such as purchase or sales orders.</span></span> <span data-ttu-id="296ce-114">しかし、他の作業 オーダー タイプは循環棚卸などの別の倉庫プロセスを表します。</span><span class="sxs-lookup"><span data-stu-id="296ce-114">However, other work order types represent separate warehouse processes, such as cycle counting.</span></span> <span data-ttu-id="296ce-115">*[作業プール ID]* を使用して、作業をグループに整理できます。</span><span class="sxs-lookup"><span data-stu-id="296ce-115">The *work pool ID* lets you organize work into groups.</span></span> 

<span data-ttu-id="296ce-116">作業ヘッダー定義の設定を使って、いつ新しい作業を作成するかを決定できます。</span><span class="sxs-lookup"><span data-stu-id="296ce-116">The settings in the work header definition can be used to determine when a new piece of work should be created.</span></span> <span data-ttu-id="296ce-117">たとえば、ピッキング明細行の最大数とピッキングの最長予想時間を設定できます。</span><span class="sxs-lookup"><span data-stu-id="296ce-117">For example, you can set a maximum number of pick lines and a maximum expected pick time.</span></span> <span data-ttu-id="296ce-118">販売注文のピッキング プロセスの作業がその値のいずれかを超える場合、その作業は 2 つの作業に分割されます。</span><span class="sxs-lookup"><span data-stu-id="296ce-118">Then, if the work for a sales order picking process exceeds either of those values, that work is split into two pieces of work.</span></span> 

<span data-ttu-id="296ce-119">作業明細行は、作業を処理するために必要な物理的なタスクを表します。</span><span class="sxs-lookup"><span data-stu-id="296ce-119">The work lines represent the physical tasks that are required in order to process the work.</span></span> <span data-ttu-id="296ce-120">たとえば、出庫倉庫プロセスについて、倉庫内の品目をピッキングするための作業明細行と、ステージング領域にこれらの品目を配置するための別の明細行がある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="296ce-120">For example, for an outbound warehouse process, there might be a work line for picking up the items within the warehouse and another line for putting those items into a staging area.</span></span> <span data-ttu-id="296ce-121">そして、ステージングから品目をピッキングするための追加の明細行、および載荷プロセスの一部として、トラックに品目を配置するための別の明細行がある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="296ce-121">There can then be an additional line for picking the items from staging, and another line for putting the items into a truck as part of the loading process.</span></span> <span data-ttu-id="296ce-122">作業テンプレートの明細行に、*[ディレクティブ コード]* を設定できます。</span><span class="sxs-lookup"><span data-stu-id="296ce-122">You can set a *directive code* on work template lines.</span></span> <span data-ttu-id="296ce-123">ディレクティブ コードは、場所ディレクティブに関連付けられており、倉庫の作業が倉庫内の正しい場所で処理されることを保証します。</span><span class="sxs-lookup"><span data-stu-id="296ce-123">A directive code is linked to a location directive and therefore helps guarantee that the warehouse work is processed in the correct location in the warehouse.</span></span> 

<span data-ttu-id="296ce-124">特定の作業テンプレートがいつ使用されるかを制御するクエリを設定できます。</span><span class="sxs-lookup"><span data-stu-id="296ce-124">You can set up a query to control when a particular work template is used.</span></span> <span data-ttu-id="296ce-125">たとえば、特定のテンプレートが、特定の倉庫での作業にのみ使用できるように、制限を設定できます。</span><span class="sxs-lookup"><span data-stu-id="296ce-125">For example, you can set a limitation so that a particular template can be used for work only in a specific warehouse.</span></span> <span data-ttu-id="296ce-126">販売元に応じて、出荷販売注文の処理作業の作成に使用される複数のテンプレートがある場合もあります。</span><span class="sxs-lookup"><span data-stu-id="296ce-126">Alternatively, you might have several templates that are used to create work for outbound sales order processing, depending on the sales origin.</span></span> <span data-ttu-id="296ce-127">システムは、[**順序番号**] フィールドを使用して、使用できる作業テンプレートの評価順序を決定します。</span><span class="sxs-lookup"><span data-stu-id="296ce-127">The system uses the **Sequence number** field to determine the order that the available work templates are assessed in.</span></span> <span data-ttu-id="296ce-128">したがって、特定の作業テンプレートに極めて特殊なクエリがある場合、低い番号順序を与える必要があります。</span><span class="sxs-lookup"><span data-stu-id="296ce-128">Therefore, if you have a very specific query for a particular work template, you should give it a low sequence number.</span></span> <span data-ttu-id="296ce-129">そうすれば、そのクエリは他のより一般的なクエリより先に評価されます。</span><span class="sxs-lookup"><span data-stu-id="296ce-129">That query will then be evaluated before other, more general queries.</span></span> 

<span data-ttu-id="296ce-130">作業プロセスを停止、または一時停止するには、作業明細行の [**作業の停止**] 設定を使用できます。</span><span class="sxs-lookup"><span data-stu-id="296ce-130">To stop or pause a work process, you can use the **Stop work** setting on the work line.</span></span> <span data-ttu-id="296ce-131">この場合、作業を実行する作業者は、作業明細行の次のステップを実行するよう求められません。</span><span class="sxs-lookup"><span data-stu-id="296ce-131">In that case, the worker who is performing the work won't be asked to perform the next work line step.</span></span> <span data-ttu-id="296ce-132">次のステップに進むには、その作業者か別の作業者が、作業をもう一度選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="296ce-132">To move on to the next step, that worker or another worker must select the work again.</span></span> <span data-ttu-id="296ce-133">作業テンプレート明細行のさまざまな*[作業クラス ID]*を使用して、作業内のタスクを分割することもできます。</span><span class="sxs-lookup"><span data-stu-id="296ce-133">You can also separate the tasks within a piece of work by using a different *work class ID* on the work template lines.</span></span>

## <a name="location-directives"></a><span data-ttu-id="296ce-134">場所のディレクティブ</span><span class="sxs-lookup"><span data-stu-id="296ce-134">Location directives</span></span>
<span data-ttu-id="296ce-135">場所ディレクティブは、棚卸資産移動のピッキングとプットの場所を識別するのにに役立つルールです。</span><span class="sxs-lookup"><span data-stu-id="296ce-135">Location directives are rules that help identify pick and put locations for inventory movement.</span></span> <span data-ttu-id="296ce-136">たとえば、販売注文トランザクションでは、場所ディレクティブにより、品目がピッキングされる場所とピッキングされた品目が置かれる場所が決定されます。</span><span class="sxs-lookup"><span data-stu-id="296ce-136">For example, in a sales order transaction, a location directive determines where the items will be picked, and where the picked items will be put.</span></span> <span data-ttu-id="296ce-137">場所ディレクティブはヘッダーおよび関連付けられた行から構成され、[**場所ディレクティブ**] ページで作成することができます。</span><span class="sxs-lookup"><span data-stu-id="296ce-137">Location directives consist of a header and associated lines, and you create them on the **Location directives** page.</span></span> 

<span data-ttu-id="296ce-138">各場所ディレクティブは、ヘッダー上で、販売注文、補充、又は原材料のピッキングのような、ディレクティブが使用される棚卸資産トランザクションのタイプを指定する*[作業 オーダー タイプ]*と関連付けられる必要があります。</span><span class="sxs-lookup"><span data-stu-id="296ce-138">On the header, each location directive must be associated with a *work order type* that specifies the type of inventory transaction that the directive will be used for, such as sales orders, replenishment, or raw material picking.</span></span> <span data-ttu-id="296ce-139">*[作業タイプ]*は、場所ディレクティブをピッキングまたはプット作業に使用するか、棚卸または棚卸資産状態の変化などの他の倉庫プロセスに使用するかを指定します。</span><span class="sxs-lookup"><span data-stu-id="296ce-139">The *work type* specifies whether the location directive will be used for picking or putting work, or for some other warehouse process, such as counting or inventory status changes.</span></span> <span data-ttu-id="296ce-140">*[サイト]*と*[倉庫]*を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="296ce-140">You must also specify a *site* and a *warehouse*.</span></span> <span data-ttu-id="296ce-141">ヘッダーで指定する*[ディレクティブ コード]*を使って、場所ディレクティブを一つ以上の作業テンプレートに関連付けられます。</span><span class="sxs-lookup"><span data-stu-id="296ce-141">A *directive code* that you specify on the header can be used to link the location directive to one or more work templates.</span></span> 

<span data-ttu-id="296ce-142">作業テンプレートについて、特定の場所ディレクティブをいつ使用するかを決定するクエリを設定できます。</span><span class="sxs-lookup"><span data-stu-id="296ce-142">As for work templates, you can set up a query to determine when a particular location directive is used.</span></span> <span data-ttu-id="296ce-143">たとえば、電子商取引が販売注文元である場合、倉庫の専用の領域から棚卸資産をピッキングしなければならないことを指定できます。</span><span class="sxs-lookup"><span data-stu-id="296ce-143">For example, you can specify that when e-commerce is the origin of a sales order, the inventory must be picked up from a dedicated area in the warehouse.</span></span> <span data-ttu-id="296ce-144">システムは、[**順序番号**] フィールドを使用して、使用できる場所ディレクティブの評価順序を決定します。</span><span class="sxs-lookup"><span data-stu-id="296ce-144">The system uses the **Sequence number** field to determine the order that the available location directives are assessed in.</span></span> 

<span data-ttu-id="296ce-145">場所ディレクティブの明細行が、ルールを検索する場所検索ルールの適用に対し追加の制限を設定します。</span><span class="sxs-lookup"><span data-stu-id="296ce-145">The location directive lines set additional restrictions on the application of the location finding rules.</span></span> <span data-ttu-id="296ce-146">ディレクティブを適用すべき最小数量と最大数量を指定でき、ディレクティブが特定の棚卸資産ユニットのためのものであることも指定できます。</span><span class="sxs-lookup"><span data-stu-id="296ce-146">You can specify a minimum quantity and a maximum quantity that the directive should apply to, and you can specify that the directive should be for a specific inventory unit.</span></span> <span data-ttu-id="296ce-147">たとえば、測定単位がパレットである場合、パレットの品目を特定の場所に配置できます。</span><span class="sxs-lookup"><span data-stu-id="296ce-147">For example, if the unit of measure is pallets, the items in pallets can be put in a specific location.</span></span> <span data-ttu-id="296ce-148">数量が複数の場所に分割できるかどうかも指定できます。</span><span class="sxs-lookup"><span data-stu-id="296ce-148">You can also specify whether the quantity can be split across multiple locations.</span></span> <span data-ttu-id="296ce-149">場所ディレクティブ ヘッダーのように、各場所ディレクティブ明細行には、明細行を評価する順序を決定する順序番号があります。</span><span class="sxs-lookup"><span data-stu-id="296ce-149">Like the location directive header, each location directive line has a sequence number that determines the order that the lines are assessed in.</span></span> 

<span data-ttu-id="296ce-150">場所ディレクティブには 1 つの追加の詳細レベルがあります: [*場所ディレクティブのアクション*]。</span><span class="sxs-lookup"><span data-stu-id="296ce-150">Location directives have one additional level of detail: *location directive actions*.</span></span> <span data-ttu-id="296ce-151">各明細行について複数の場所ディレクティブのアクションを定義できます。</span><span class="sxs-lookup"><span data-stu-id="296ce-151">You can define multiple location directive actions for each line.</span></span> <span data-ttu-id="296ce-152">この場合も、アクションが評価される順序を決定する番号順序が使用されます。</span><span class="sxs-lookup"><span data-stu-id="296ce-152">Once again, a sequence number is used to determine the order that the actions are assessed in.</span></span> <span data-ttu-id="296ce-153">このレベルでは、倉庫内の最適な場所を検索する方法を定義するクエリを設定できます。</span><span class="sxs-lookup"><span data-stu-id="296ce-153">On this level, you can set up a query to define how to find the best location in the warehouse.</span></span> <span data-ttu-id="296ce-154">事前に定義された [**戦略**] 設定を使用して最適な場所を検索することもできます。</span><span class="sxs-lookup"><span data-stu-id="296ce-154">You can also use predefined **Strategy** settings to find an optimal location.</span></span>

### <a name="example-of-the-use-of-location-directives"></a><span data-ttu-id="296ce-155">場所ディレクティブの使用例</span><span class="sxs-lookup"><span data-stu-id="296ce-155">Example of the use of location directives</span></span>

<span data-ttu-id="296ce-156">この例では、入荷ドックに登録されたばかりの在庫品目のために倉庫内の使用されていない収容能力を場所ディレクティブが検索する必要がある発注書プロセスについて考慮します。</span><span class="sxs-lookup"><span data-stu-id="296ce-156">For this example, we will consider a purchase order process where the location directive must find free capacity within a warehouse for inventory items that have just been registered at the receiving dock.</span></span> <span data-ttu-id="296ce-157">最初に、既存の手持在庫との連結によって倉庫内の使用されていない収容能力を検索します。</span><span class="sxs-lookup"><span data-stu-id="296ce-157">First, we want to try to find free capacity within the warehouse by consolidating with existing on-hand inventory.</span></span> <span data-ttu-id="296ce-158">連結ができない場合、空の場所を見つける必要があります。</span><span class="sxs-lookup"><span data-stu-id="296ce-158">If consolidation isn't possible, we then want to find an empty location.</span></span> 

<span data-ttu-id="296ce-159">このシナリオでは、二つの場所ディレクティブ アクションを定義する必要があります。</span><span class="sxs-lookup"><span data-stu-id="296ce-159">For this scenario, we must define two location directive actions.</span></span> <span data-ttu-id="296ce-160">順序の最初のアクションでは、[**連結**] 戦略を使用する必要があり、2番目では、[**作業を受け取らない空の場所**] 戦略を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="296ce-160">The first action in the sequence must use the **Consolidate** strategy, and the second should use the **Empty location with no incoming work** strategy.</span></span> <span data-ttu-id="296ce-161">倉庫内に収容能力がもうない場合、オーバーフローのシナリオを処理する 3 番目のアクションを定義しない限り、可能性として二通りの結果があります: 場所が定義されていなくても作業を作成できる、または作業作成プロセスが失敗する。</span><span class="sxs-lookup"><span data-stu-id="296ce-161">Unless we define a third action to handle an overflow scenario, two outcomes are possible when there is no more capacity in the warehouse: work can be created even though no locations are defined, or the work creation process can fail.</span></span> <span data-ttu-id="296ce-162">[**場所ディレクティブ エラー**] ページの設定で、結果を決定します。そのページで、各作業オーダー タイプごとに[**場所のディレクティブ エラーで作業を停止する**] オプションを選択するかどうか決定できます。</span><span class="sxs-lookup"><span data-stu-id="296ce-162">The outcome is determined by the setup on the **Location directive failures** page, where you can decide whether to select the **Stop work on location directive failure** option for each work order type.</span></span>





---
title: 機能管理の概要
description: このトピックでは、機能管理の機能および使用方法について説明します。
author: ChrisGarty
ms.date: 10/05/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: FeatureManagementWorkspace
audience: IT Pro, Application user
ms.reviewer: sericks
ms.custom: intro-internal
ms.search.region: Global
ms.author: cgarty
ms.search.validFrom:
- month/year of release that feature was introduced in
- in format yyyy-mm-dd
ms.dyn365.ops.version: 10.0.2
ms.openlocfilehash: e3cb0c637d47e3267cf63e956c8a7ea45d0623bd
ms.sourcegitcommit: 92ff867a06ed977268ffaa6cc5e58b9dc95306bd
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/03/2021
ms.locfileid: "6336719"
---
# <a name="feature-management-overview"></a>機能管理の概要

[!include [banner](../../includes/banner.md)]

機能は、すべてのリリースで追加および更新されます 機能管理エクスペリエンスは、各リリースで提供されている機能のリストを表示できるワークスペースを提供します。 既定では、新機能が無効になっています。 ワークスペースを使用してそれらを有効にし、それらのドキュメントを参照できます。

## <a name="the-feature-management-workspace"></a>機能管理ワークスペースの使用

**機能管理** ワークスペースを開くには、ダッシュボードで適切なタイルを選択します。 このページには、機能管理エクスペリエンスにサポートされているすべてのリリースの機能一覧が表示されます。 時間の経過と共に、Microsoft は機能管理エクスペリエンスを強化して、機能を管理できる多くの機能が含まれるようにします。

機能一覧には、次の情報が含まれます。

- **機能名** – 追加された機能の説明。
- **有効な状態** – シンボルは、機能がオンになっているか (チェック マーク)、オンになっていないか (空白)、オン (時計) にスケジュール設定されているか、強制的にオン (ロック) であるか、オンにする前に注意が必要か (警告)、有効にできないか (X) を示します。 表示されている設定は、すべての法人に使用されます。 機能が有効になっている場合でも、セキュリティによって制御されることに注意してください。 したがって、この機能はセキュリティ ロールに基づいてアクセス権を持つユーザーのみが使用できるようになります。 このオプションは、ユーザーがアクセス権を持つ法人でのみ使用できます。
- **有効な日付** – 機能がオンになった日付、またはオンにするようにスケジュールされている日付。
- **追加機能** – 機能が環境に追加された日付。 月単位のリリース サイクルで環境を更新すると、この日付が自動的に入力されます。
- **モジュール** – 新しい機能によって影響を受けるモジュール。

機能を選択すると、詳細が機能一覧の右側にある詳細ウィンドウに表示されます。 ウィンドウの上部には、機能名、機能が追加された日付、機能によって影響を受けたモジュール、および **詳細情報** リンクが表示されます。 機能のドキュメントを表示するには、このリンクを選択します。 ドキュメントを使用できない場合は、一時的なページに移動します。 詳細ウィンドウには、機能に関する独自のコメントを追加できる **コメント** フィールドもあります。

**機能管理** ワークスペースには、いくつかのタブも含まれ、それぞれに機能一覧が表示されます。

- **新しい** – このタブでは、毎月の更新後から追加されたすべての機能を表示します。 毎月の更新をスキップした場合、タブには、最後に更新した日から追加されたすべての新機能が表示されます。 最新の機能は、一覧の先頭に表示されます。 新しい機能の合計数も、ページ上部のタイル上に表示されます。
- **無効** – このタブには、まだオンになっていない機能がすべて表示されます。 最新の機能は、一覧の先頭に表示されます。 まだオンになっていない新しい機能の合計数も、ページ上部のタイル上に表示されます。
- **スケジュール済** – このタブでは、将来的にオンになるようスケジュールされているすべての機能を表示します。 最も早くスケジュールされた日付を持つ機能が一覧の先頭に表示されます。 スケジュールの新しい機能の合計数も、ページ上部のタイル上に表示されます。
- **すべて** – このタブには、すべての機能が表示されます。 最新の機能は、一覧の先頭に表示されます。

## <a name="turn-on-a-feature"></a>機能をオンにする

機能がオンになっていない場合、**直ちに有効化** ボタンが詳細ウィンドウに表示されます。 このボタンを使用して機能をオンにすることができます。

- オンにする機能を選択し、詳細ウィンドウで **直ちに有効化** を選択します。 機能はオンになっています。

一部の機能は、オンにした後にオフにすることはできません。 オンにしようとしている機能をオフにできない場合は、警告が表示されます。 この時点で、**キャンセル** を選択して操作をキャンセルし、機能をオフのままにしておくことができます。 ただし、**有効化** を選び機能をオンにすると、後でオフにすることはできなくなります。

一部の機能では、有効にする前に追加情報を提供するメッセージが表示されます。 これらの機能は黄色の警告記号で示されます。 機能が有効になったときに何が起こるかをよりよく理解するため、追加情報を注意深くお読みください。 ただし、**有効化** を選択して機能を有効にすることはできます。

一部の機能には、アクションが実行されるまで機能を有効にできないというメッセージが表示されます。 これらの機能は赤い X 記号で示されます。 機能を有効にする前に、説明に記載されているアクションを実行する必要があります。 たとえば、コンフィギュレーション キーが無効になるまで機能を使用できない場合は、まずコンフィギュレーション キーを無効にしてから、機能管理に戻って機能を有効にする必要があります。

機能をオンにすると、詳細ウィンドウの **詳細情報** リンクの下にメッセージが表示されます。 このメッセージは、機能がオンになったことを示すか、機能が有効になる予定の今後の日付を示します。 メッセージは、機能一覧から機能を選択するたびに表示されます。

**スケジュール済** タブには、将来的にオンになる予定の機能が表示されます。A バッチ処理によって、システムの日付で表されるタイムゾーンに基づき、指定された日付の午前 0 時にそれらの設定がオンになります。

## <a name="reschedule-a-feature"></a>機能の再スケジュール

将来的に機能がオンになる予定の場合、**スケジュール** ボタンが詳細ウィンドウに表示されます。 このボタンを使用して、**有効日** の値を別の日付に変更することができます。

1. 再スケジュールするスケジュール済機能を選択し、詳細ウィンドウで **スケジュール** を選択します。
2. 表示されるダイアログ ボックス内の **有効日** フィールドで、機能をオンにする新しい日付を指定します。
3. **有効化** を選択し機能を再スケジュールまたは **無効化** を選択しスケジュールをキャンセルします。

## <a name="turn-off-a-feature"></a>機能をオフにする

機能が既にオンになっていた場合、**無効化** ボタンが詳細ウィンドウに表示されます。 このボタンを使用して機能をオフにすることができます。 **無効化** ボタンは、オンにした後にオフにすることができない場合、使用できません。

- オフにする機能を選択し、詳細ウィンドウで **無効化** を選択します。 機能がオフになっており、**有効日** フィールドがクリアされました。

機能をオフにすると、詳細ウィンドウの **詳細情報** リンクの下にメッセージが表示されます。 このメッセージは、機能がまだオンになっていないことを示しています。 メッセージは、機能一覧から機能を選択するたびに表示されます。 オンになっていない機能が、**有効ではない** タブに表示されます。

## <a name="features-that-must-be-turned-on"></a>オンにする必要がある機能

時々、更新時に自動的にオンにする必要がある重要な機能を配信することができます。 これらの機能は、**有効日** フィールドで指定された日付に自動的にオンになります。 これらの機能では、詳細ウィンドウの **詳細情報** リンクの下にメッセージが表示されます。 このメッセージは、その機能がオンになっていることを示しているか、または将来的にオンにする日を示します。 メッセージは、機能一覧から機能を選択するたびに表示されます。

## <a name="enable-all-features"></a>すべての機能を有効にする

既定では、環境に追加されたすべての機能がオフになります。 **すべてを有効にする** ボタンを選択することにより、すべての機能を有効にできます。 

**すべてを有効にする** を選択すると、次の情報を提供する必要のあるオプションが表示されます。
- 有効にする前に確認が必要なすべての機能のリスト。 リストの機能を有効にする場合は、**確認を必要とする機能を有効にする** ボタンに対して **はい** を選択します。
- 有効にできないすべての機能のリストが表示されます。 これらの機能は有効になりません。

有効にできるすべての機能が有効になります。 機能が既に将来有効になるようにスケジュールされている場合、スケジュールは変更されません。 

## <a name="turn-on-all-features-automatically"></a>すべての機能を自動的にオンにする

既定では、環境に追加されたすべての機能が、必須機能である場合を除き、オフになります。 ただし、新しい機能をすべて自動的にオンにする場合は、ワークスペース タイトルの下にあるドロップダウン リストを使用して、新しい機能が追加されたときに発生する動作を変更することができます。

- `Enable new features automatically` を選択して、環境に追加されたときにすべての新機能を自動的にオンにします。
- `Do not enable new features automatically` を選択して、環境に追加されたときにすべての新機能を既定でオフにします。


すべての機能を自動的に有効にすると、**すべての機能を有効にする** ボタンをクリックしたときに、有効になるすべての機能が有効になります。 確認が必要な機能や、アクションが実行されるまで有効にできない機能は有効になりません。

## <a name="check-for-updates"></a>更新プログラムの確認

機能は、各更新後に環境に追加されます。 ただし、**更新の確認** ボタンをクリックすると、手動で更新を確認できます。 更新後にシステムに追加された機能は、機能のリストに追加されます。 たとえば、リリース後にフライトされた機能が有効になっている場合は、更新を確認でき、その機能がリストに追加されます。

## <a name="assigning-roles"></a>ロールの割り当て

**機能管理** ワークスペースは、システム管理者によって、そしてまた機能マネージャー ロールまたは機能ビューアー ロールに割り当てられたユーザーによって開かれます。 この 2 つのロールは、機能管理エクスペリエンスをサポートするために作成されたものです。 機能マネージャー ロールのユーザーは、すべての機能を有効または無効にすることができます。 また、機能の **コメント** フィールドを更新することもできます。 機能ビューアー ロールのユーザーは、**機能管理** ワークスペースの表示のみを実行できます。 機能を有効または無効にすることはできません。

機能マネージャー ロールおよび機能ビューアー ロールは、ユーザーの既存のセキュリティを上書きするものではありません。 ユーザーが機能をオンにしたりオフにしたりできるかどうかを制御するだけです。 機能自体へのアクセスは提供されません。

## <a name="features-that-use-configuration-keys"></a>構成キーを使用する機能

機能で構成キーを使用する場合、構成キーがオンになっていても、**機能管理** ワークスペースでは使用可能な機能の一覧にその機能は表示されません。 構成キーをオンにした後、**更新プログラムを確認** のメニュー項目を使用して、機能リストを更新する必要があります。 機能は、機能一覧に表示されます。

構成キーをオフにしても、機能は機能一覧から削除されません。

## <a name="data-entities"></a>データ エンティティ

**機能管理** という名のデータ エンティティを使用すると、1 つの環境から機能管理設定をエクスポートして、別の環境にインポートできます。 このエンティティは、既存の機能だけを更新します。 エンティティのビジネス ロジックは、インポートが完了したときに、**機能管理** ワークスペースで使用されているものと同じルールが適用されることを保証するためにも役立ちます。 たとえば、インポート時に日付を削除することによって、必須機能設定を上書きすることはできません。

次の例では、**機能管理** エンティティを使用してデータをインポートした場合に発生する処理について説明します。

- **有効化** フィールドの値を **はい** に変更すると、機能がオンとなり、**有効日** フィールドが現在の日付に設定されます。
- **有効化** フィールドの値を **いいえ** に変更、または **EnableDate** フィールドをブランクのままにすると、機能がオフとなり、**有効日** フィールドがクリアになります。 必須機能、またはオンにした後オフにできない機能をオフにすることはできません。
- **Enabledate** フィールドの値を未来の日付に変更する場合、その日付に対して機能がスケジュールされます。
- **有効化** フィールドの値を **はい** に変更し、**EnableDate** フィールドの値を未来の日付に変更した場合、機能はその日付にスケジュールされます。 
- **有効化** フィールドの値を **いいえ** に変更したが、さらに **EnableDate** フィールドの値を未来の日付に変更した場合、機能はその日付にスケジュールされます。
- 機能がオンになっていて、未来の日付に設定された **EnableDate** フィールドを追加する場合、機能はオンのままです。 機能を再スケジュールするには、**有効化** フィールドを **いいえ** に変更する必要があります。

## <a name="feature-management-and-flighting"></a>機能管理とフライティング

機能管理を使用すると、各リリースで提供される機能を管理できます。 フライティングを使用すると、Microsoft チームが限られた数の顧客に機能をリリースして、すべての顧客に影響を与えることなく機能をテストおよび検証できるようにすることができます。 機能管理は、すべての機能のフライティングを制御するものではありません。

## <a name="new-features-are-optional-for-12-months"></a>新機能は 12 ヶ月間のオプションです

新しい非クリティカル機能がインストールされている場合は、12 ヶ月の期間に対してのオプションになります。 これにより、ユーザーと組織は、いつ機能を採用するかを事前に計画し、日常業務に対するテストを行うことができます。 詳細については、[1 つのバージョン サービスに関してよく寄せられる質問](../one-version.md#what-about-new-features)を参照してください。

## <a name="using-feature-management-to-turn-on-isv-features-or-custom-features"></a>機能管理を使用して ISV 機能またはカスタム機能をオンにする

現時点において機能管理は、独立系ソフトウェア ベンダー (ISVs) やカスタム機能からの機能には使用できません。 ただし、機能管理を強化するため、Microsoft はより多くの機能を追加しています。 これらの強化が完了した後、Microsoft により、すべての機能に機能管理が使用できるようになり、使用する機能の更新手順が提供されます。

## <a name="frequently-asked-questions-faq"></a>よく寄せられる質問 (FAQ)

### <a name="when-are-features-added-removed-or-changed"></a>機能はいつ追加、削除、または変更されますか? 
機能は、コードの変更によって追加、削除、および変更されます。 これらの変更を受け取るには、環境を更新する必要があります。

### <a name="does-a-feature-become-mandatory-automatically"></a>機能は自動的に必須になりますか? 
いいえ、必須となる機能は自動アクションではありません。 製品チームは、コードの変更を行う必要があります。

### <a name="when-do-features-become-mandatory"></a>機能が必須になるのはいつですか? 
ポリシーでは、すべての新機能は 12 か月間オプトインされ、機能を有効にするまで変更管理は必要ありません。 製品チームは、その期間が終了した後に機能を必須にするかどうかを選択できます。 

### <a name="why-isnt-there-a-specific-mandatory-enabled-date"></a>特定の "必須の有効日" がないのはなぜですか? 
更新リリースのタイミングは変動し、環境更新のタイミングは変動し、顧客は一部の更新をスキップすることもできます。 その結果、特定の日付を決定することは困難です。 

### <a name="wheres-the-documentation-for-features-that-are-mandatory"></a>必須の機能のドキュメントはどこにありますか? 
このドキュメントは、各 Dynamics 365 アプリケーション チームから提供されます。 多くの場合、これらの機能は、[クライアント機能の状態の更新](/dynamics365-release-plan/2021wave1/finance-operations/finance-operations-crossapp-capabilities/updates-client-feature-states)または[削除済みまたは非推奨の機能](../../../dev-itpro/migration-upgrade/deprecated-features.md)に記載されています。 

### <a name="is-there-an-in-product-notification-or-signal-that-a-feature-is-going-to-be-mandatory-enabled"></a>機能が必須で有効になるという製品内の通知またはシグナルはありますか? 
機能の必須化に関連する通知メカニズムは、現在存在しません。

### <a name="do-features-ever-get-enabled-without-the-customer-knowing-about-it"></a>顧客が知らないうちに機能が有効になることはありますか? 
はい、機能的に影響がない場合は、既定で機能を有効にすることができます。

### <a name="what-is-feature-flighting-and-how-does-it-relate-to-feature-management"></a>機能のフライティングとはどういったもので、機能管理とどのように関係しますか? 
機能フライトは、Microsoft が制御するリアルタイムのオン/オフ スイッチです。 これらは、機能管理によって提供される顧客コントロールとは別のものです。 
- プライベート プレビュー機能は、フライト オンになるまで機能管理に一覧表示されません。 実稼動環境では、顧客は、特別なプログラムに参加することに同意する必要があります。
- パブリック プレビューとリリース済み (一般に入手可能な) 機能は、フライト オフにならない限り、機能管理に一覧表示されます。 機能をフライト オフにすることは、重大な問題が発見された場合の製品チームの最終手段であり、通常は顧客ごとの操作になります。

### <a name="do-features-ever-get-flighted-off-without-the-customer-knowing-about-it"></a>顧客が知らないうちに機能がフライト オフになることはありますか? 
はい、機能が機能的に影響がない環境の機能に影響を与える場合は、既定で有効にすることができます。

### <a name="how-can-feature-enablement-be-checked-in-code"></a>コードで機能の有効化をどのように確認することができますか?
**FeatureStateProvider** クラスの **isFeatureEnabled** メソッドを使用して、機能クラスのインスタンスを渡します。 例: 

```xpp
if (FeatureStateProvider::isFeatureEnabled(BatchContentionPreventionFeature::instance()))
```

### <a name="how-can-feature-enablement-be-checked-in-metadata"></a>メタデータで機能の有効化をどのように確認することができますか?
**FeatureClass** プロパティを使用して、一部のメタデータが機能に関連付けられていることを示すことができます。 **BatchContentionPreventionFeature** など、機能に使用されるクラス名を使用する必要があります。 このメタデータは、その機能でのみ表示されます。 **FeatureClass** プロパティは、メニュー、メニュー項目、列挙値、およびテーブル/ビュー フィールドで使用できます。

### <a name="what-is-a-feature-class"></a>機能クラスとは?
機能管理の機能は、*機能クラス* として定義されます。 機能クラスは、**IFeatureMetadata** を実装し、機能クラス属性を使用して機能管理ワークスペースに対して識別します。 **FeatureStateProvider** API を使用したコード、および **FeatureClass** プロパティを使用したメタデータで有効化を確認できる、使用可能な機能クラスの例は数多くあります。 例: 

```xpp
[ExportAttribute(identifierStr(Microsoft.Dynamics.ApplicationPlatform.FeatureExposure.IFeatureMetadata))]
internal final class BankCurrencyRevalGlobalEnableFeature implements IFeatureMetadata
```

### <a name="what-is-the-ifeaturelifecycle-implemented-by-some-feature-classes"></a>いくつかの機能クラスによって実装されている IFeatureLifecycle とは何ですか?
IFeatureLifecycle は、機能ライフサイクル ステージを示すための Microsoft 社内のメカニズムです。 機能は次のとおりです。
- `PrivatePreview` - フライトが表示される必要があります。
- `PublicPreview` - 既定で表示されますが、機能がプレビュー中であるという警告が表示されます。
- `Released` - 完全にリリースされました。



[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]

---
title: Dynamics 365 for Finance and Operations プラットフォーム更新プログラム 20 (2018 年 9 月) の新機能および変更された機能
description: このトピックでは、Dynamics 365 for Finance and Operation プラットフォーム更新プログラム 20 の新機能または変更された機能について説明します。 このバージョンは 2018 年 9 月にリリースされました。
author: tonyafehr
manager: AnnBe
ms.date: 01/22/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Developer, IT Pro
ms.reviewer: josaw
ms.search.scope: Operations
ms.custom: ''
ms.assetid: a765a61c-52a3-45c5-b578-68b9249c592a
ms.search.region: Global
ms.author: tfehr
ms.search.validFrom: 2017-09-30
ms.dyn365.ops.version: Platform update 16, Platform update 17, Platform update 18, Platform update 19, Platform 20
ms.openlocfilehash: e629739cac660efdd466074928f43e77e220e53d
ms.sourcegitcommit: 3ba95d50b8262fa0f43d4faad76adac4d05eb3ea
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/27/2019
ms.locfileid: "2180494"
---
# <a name="whats-new-or-changed-in-dynamics-365-for-finance-and-operations-platform-update-20-september-2018"></a>Dynamics 365 for Finance and Operations プラットフォーム更新プログラム 20 (2018 年 9 月) の新機能および変更された機能

[!include [banner](../includes/banner.md)]

このトピックでは、Dynamics 365 for Finance and Operations プラットフォーム更新プログラム 20 の新機能または変更された機能について説明します。 このバージョンは 2018 年 9 月にリリースされ、ビルド番号は 7.0.5030 です。

> [!NOTE]
> このプラットフォームのリリースは累積されます。 プラットフォーム更新 16、プラットフォーム更新 17、プラットフォーム更新 18、プラットフォーム更新 19、プラットフォーム更新 20 からの新しい機能および変更された機能、およびそれ以前のすべての更新プログラムが含まれています。

### <a name="announcing-the-dynamics-365-october-18-release-notes"></a>Dynamics 365 2018 年 10 月リリース ノートの発表

当社のビジネス アプリやプラットフォームの次回および最近リリースされた機能について検討中ですか?

[2018 年 10 月リリース ノートを確認](https://go.microsoft.com/fwlink/?linkid=870424). あらゆる詳細情報を端から端まで徹底的に捕捉して一元化しました。計画を策定する際に 1 つのドキュメントでそれらの情報を参照できます。

### <a name="platform-update-20-bug-fixes"></a>プラットフォーム アップデート 20 のバグ修正プログラム

プラットフォーム更新 20 の一部である更新プログラムのそれぞれに含まれるバグ修正については、Lifecycle Services (LCS) にログインし、次のリンクを使用します。

- [プラットフォーム更新 20 KB 記事](https://go.microsoft.com/fwlink/?linkid=2022870&clcid=0x409)
- プラットフォーム更新 19 は一般提供向けにリリースされていないため、KB 記事はありません
- [プラットフォーム更新 18 KB 記事](https://go.microsoft.com/fwlink/?linkid=2025682&clcid=0x409)
- [プラットフォーム更新 17 KB 記事](https://go.microsoft.com/fwlink/?linkid=875608&clcid=0x409)
- プラットフォーム更新 16 は一般提供向けにリリースされていないため、KB 記事はありません

## <a name="restyled-web-client"></a>再編成された Web クライアント 

Finance and Operations Web クライアントは、Microsoft Fluent Design に合わせて調整のプロセスを開始しました。 その結果、プラットフォーム更新プログラム 20 を使用しているユーザーには、次のような製品内のいくつかの再編成要素が表示されます。 

-  **一般的な形式スタイル** - 複数のページ要素に小規模だが有効なスタイル変更が加えられました。 クイック タブやグリッドには、これらのコントロールの外観をページから浮き出すボックス シャドウが表示されるようになりました。 この同じ扱いは、入力フィールドにホバーしたときにも適用されます。 レコード コンテキスト フィールドおよびクイック タブ ヘッダーには、重要度を維持しつつ追加のスペースを削除するために小さい太字のフォントが使用されます。 

-  **ダッシュ ボード** - ダッシュボードのワークスペース カードがよりタイルのような外観になり、白の背景色およびボックス シャドウによりページの背景から目立つようになっています。 ワークスペース タイトルのスペースを十分に確保するため、フォント サイズと太さも調整されています。 

    次の画像は、プラットフォーム更新プログラム 20 より前のワークスペース カードのダッシュボード上での表示方法を示しています。

    ![古いダッシュボード](media/prePU20-dashboard-cropped.png  "古いダッシュボード")
  
    次の画像は、プラットフォーム更新プログラム 20 以降でのワークスペース カードの表示方法を示しています。

    ![新しいダッシュボード](media/postPU20-dashboard-cropped.png  "新しいダッシュボード")

-  **アクション ウィンドウ** - アクション ウィンドウには、テーマ性に優れた背景色は表示されなくなり、代わりに、アクション ウィンドウには灰色の背景色が表示されます。 これは、Fluent に対応するためだけでなく、ユーザーが背景色はっきりとした違いが原因でページの残りの部分をアクション ウィンドウに関連付けないといういくつかの操作性問題に対処するためにも行われました。

    次の画像は、プラットフォーム更新プログラム 20 より前のアクション ウィンドウの表示方法を示しています。

    ![古い詳細ページ](media/prePU20-customers-actionpane.png  "古い詳細ページ")

    次の画像は、プラットフォーム更新プログラム 20 以降でのアクション ウィンドウの表示方法を示しています。

    ![新しい詳細ページ](media/postPU20-customers-actionpane.png  "新しい詳細ページ")

-  **フィルター ウィンドウ** - フィルタ ウィンドウは、明るい背景色、フィールドをフィルター処理する錠剤のような外観、ウィンドウ上部の [フィルター フィールドの追加] ボタンの位置変更によって、完全に再編成されました。

    次の画像は、プラットフォーム更新プログラム 20 より前のフィルター ウィンドウの表示方法を示しています。

    ![古いリスト ページ](media/prePU20-customers-cropped.png  "古いリスト ページ")

    次の画像は、プラットフォーム更新プログラム 20 以降でのフィルター ウィンドウの表示方法を示しています。

    ![新しいリスト ページ](media/postPU20-customers-cropped.png  "新しいリスト ページ")

-  **情報ボックス ウィンドウ**- 情報ボックス ウィンドウも外観が変更されました。 このウィンドウは、開いたときにページの高さ全体に広がり、最も重要な点として、折りたたまれたバージョンが見つけやすくなり、右側にある見落としやすいアイコンではなく、画面の右端に沿って **関連情報** ブレードとして表示されるようになりました。  

    次の画像は、プラットフォーム更新プログラム 20 より前の情報ボックス ウィンドウの表示方法を示しています。

    ![古い情報ボックス ウィンドウ](media/prePU20-expandedFactBox-cropped.png  "古い情報ボックス ウィンドウ")
  
    次の画像は、プラットフォーム更新プログラム 20 以降での情報ボックス ウィンドウの表示方法を示しています。  

    ![新しい情報ボックス ウィンドウ](media/postPU20-expandedFactBox-cropped.png  "新しい情報ボックス ウィンドウ")


## <a name="adding-and-removing-columns-in-a-grid-is-easier"></a>グリッドでの列の追加と削除の方がより簡単に

ユーザーがグリッドに行う最も一般的な変更は、列の追加、削除、サイズ変更、および順序変更などです。 この更新では、**列の追加** および **この列を非表示にする** アクションを直接グリッド列ヘッダーのコンテキスト メニューにプロモートすることにより列の追加と削除をより簡単にしました。

## <a name="improved-behavior-of-non-replacing-lookups"></a>非置き換えルックアップの動作の改良

Finance and Operations の一部のルックアップは、*非置き換え*です。つまり、ルックアップから値を選択しても、既にフィールドにある内容は置き換えられず、このフィールドに選択した値が追加されます。 たとえば、**高度なフィルター/並べ替え** ダイアログ ボックスのルックアップは既定で非置き換えです。

非置き換えルックアップの動作は、次のように改良されました。

- 非置換ルックアップでは先行入力動作がオフになります。
- ルックアップ グリッド内への配置に使用するルックアップが開かれた後に入力した文字だけが使用されます。
- ルックアップが開かれる前にフィールドになった内容に、ルックアップから選択した値が付加されます (つまり、ルックアップが開いているときに入力した文字はすべて、ルックアップから選択した値を追加したときに置き換えられます)。
- 非置き換えルックアップに新しいアイコンが表示され、通常のルックアップと区別しすくなりました。

これらの調整により、ユーザーは **高度なフィルター/並べ替え** ダイアログ ボックスを使用してデータをフィルター処理できるようになります。

## <a name="suppressing-hyperlinks"></a>ハイパーリンクを非表示にする

開発者は、**EnableFormRef** プロパティを **いいえ** に設定することで、フォームでハイパーリンクを非表示にすることができます。 このプロパティは、フォームおよびフォーム拡張機能の両方で設定できます。 ハイパーリンクが非表示になると、右クリック コンテキスト メニューの対応する **詳細を表示** オプションの非表示になります。

現在ユーザーが一部のハイパーリンクをクリックすると、ナビゲーションが試みられてエラー メッセージが表示されます。開くターゲット フォームがないためです。 このようなシナリオでハイパーリンクを非表示にすると、わかりにくいハイパーリンクがなくなってユーザー エクスペリエンスが向上します。

## <a name="chain-of-command-on-nested-types"></a>入れ子にされた型のコマンド チェーン

今回のリリースでは、データ ソースやコントロールを含む、フォーム内の入れ子になった型でコマンド チェーンを有効にしました。 これにより、フォームに関連する幅広い拡張シナリオでコマンド チェーンを使用できるようになります。 詳細については、[プラットフォーム更新 16 以降ではフォームで入れ子になったクラス メソッドをラップ可能](../../dev-itpro/extensibility/method-wrapping-coc.md#methods-on-types-nested-within-forms-can-be-wrapped-in-platform-update-16-and-later)を参照してください。 プラットフォーム更新 16 以降ではフォーム内で入れ子になったタイプのメソッドをラップできます。

## <a name="change-form-patterns-to-custom-using-form-extensions"></a>フォームの拡張機能を使用してフォーム パターンをカスタムに変更する

この更新では、フォームの拡張機能を使用して、フォームのパターンをカスタムに変更できます。 これにより、拡張するフォームの構造の柔軟性が高まります。 ただし、将来のフォームの更新がカスタマイズと競合しないように、基本構造は同じままです。

## <a name="client-internet-connection"></a>クライアント インターネット接続

クライアント インターネット接続オプションにより、管理者は、インターネット接続が利用可能であってもクライアントが行う外部接続を手動でオフにすることができます。 これらは、問題のトラブルシューティングや、インターネット接続が利用できない場合にクライアントがどのように見えるか確認するために使用できます。 詳細については、[クライアント インターネット接続](../../dev-itpro/user-interface/client-disconnected.md)を参照してください。

## <a name="data-management-updates"></a>データ管理の更新

プラットフォーム更新 20 では、テキスト修飾子を使用する場合のエクスポート中に切り捨てられるデータに関連する問題が修正されています。 テキスト修飾子の使用は、システムがデータ値をテキスト修飾子文字で埋めることを意味しているため、データ値の長さの合計が大きくなります。 問題は、ロジックが増加した長さを正しく処理しないため、切り捨てされることにありました。

この更新では、非バッチ モードで空の複合エンティティをエクスポートするときの問題も修正されます。 データ管理ワークスペースの読み込みのパフォーマンスを向上させるため、**partitionID** と **DefinitionGroup** で構成される一意でないインデックスが追加されました。

以前、ファイルを使用してデータがインポートされ、ステージング テーブル内の列と同じ名前の列があって列がマップされていないと、ステージング テーブル内の列がデータ プロジェクトのマッピングの詳細の値を既定値に設定するように構成されていた場合は、インポートが失敗しました。 これは修正されました。

エンティティの子コンポーネントでコンフィギュレーション キーが無効になっている場合、Excel アドイン ユース ケースに影響を与える OData フローではエンティティ全体を使用できませんでした。 DIXF と同じ方法でコンフィギュレーション キーを受け入れるようにロジックが修正されています。

プラットフォーム更新 15 に更新した後、一部の環境ではエンティティ リストの更新が完了せず、特定のエンティティが使用不可になりました。 これで、すべてのエンティティのロジックが既定で利用可能になります。つまり、コンフィギュレーション キー チェックが失敗した場合はエンティティが有効でなくなります。

特定の状況下では、エンティティ リストの更新がまだ処理中のときに実行された場合、データ ジョブは失敗していました。 これは、エンティティの更新の結果マッピング エラーがある場合が発生しました。 これは、フローにおけるマッピング エラーをチェックする検証を追加し、ユーザーに適切なメッセージを提供することで解決されました。 バッチおよび統合ジョブの場合、失敗を調査できるようにメッセージが記録されるようになりました。

以前、キューから API を取り出すとき、blob にアップロードされるファイルが存在しなかった場合は、API は引き続き応答で URL を返していました。 これは、返される URL が NULL となり、NULL である理由も返されるように修正されました。

OData フローは、ユーザー セキュリティ特権も過度にチェックしていました。 これは、OData 呼び出し処理中に行われるチェックの回数が最適化されるように最適化されました。

## <a name="data-task-automation"></a>データ タスクの自動化

Microsoft Dynamics 365 for Finance and Operations のデータ タスクの自動化により、さまざまな種類のデータ タスクを簡単に繰り返し、各タスクの結果を検証することができます。 データ タスクの自動化は、実装フェーズにあるプロジェクトで非常に便利です。 たとえば、データ プロジェクトの作成およびコンフィギュレーションを自動化することができます。 また、デモ データおよび高品質の構成データ、およびデータ移行に関連する他のタスクなどの、インポート/エクスポート オペレーションの実行を構成およびトリガーすることができます。 また、タスクの結果の検証を使用して、データ エンティティの自動テストを作成することもできます。

詳細については、[データ タスクの自動化](../../dev-itpro/data-entities/data-task-automation.md)の差し込みデータの概要を参照してください。

## <a name="extensibility-enhancements"></a>拡張性の強化

プラットフォーム更新 20 には、次の拡張機能が含まれます。

- フォーム拡張を含むユーザー設定パターンを使用するようフォームの変更を有効にします。 これにより、元のパターンに適合しないタブとその他のフォーム パーツを ISV が追加できるようになります。 開発者は、**パターンをカスタムに設定する**アクションと**元のパターンを復元する**アクションを使用できるようになりました。
- 一般データ保護規制 (GDPR) のデータ分類情報を提供できるように、拡張機能が **TableField.AssetClassification** を変更できます。
- フォーム拡張メソッドが、他の拡張機能を使用することで追加されるメソッドおよびコントロールを呼び出すことができるようにします。 たとえば、拡張機能によって追加されるボタンおよびメソッドがフォームにある場合、そのフォームへの将来の拡張機能は新しいボタンおよびメソッドを呼び出すことができるようになります。
- 設定に基づくステートメントのクエリ オブジェクト サポートを追加するには、update\_recordset メソッドを使用します。
- クエリ拡張機能がルート データ ソースを結合クエリに追加できるようにします。
- 拡張機能を使用して範囲のビューに追加できるようにします。
- データ エンティティ ビュー拡張機能で **SupportsSetBasedSqlOperations** の設定を有効にします。 **はい** は、基本要素を含むすべての拡張機能が **はい** に設定されている場合にのみ設定できます。 任意の拡張機能または基本要素に、**いいえ** に設定された値がある場合、ランタイム結果は **いいえ** になります。
- フォーム拡張機能がワークフローをフォームに追加できるようにするには、**WorkflowEnabled**、**WorkflowDataSource**、**WorkflowType** を編集します。
- フォーム メソッドのコマンド チェーンを有効にします。 これにより、拡張機能が **canSubmitToWorkflow** メソッドを上書きすることによってワークフローをフォームに追加できるようにします。 対象となるフォーム メソッドが X++ をオーバーライドしないカーネル メソッドの場合、ターゲット フォームを再コンパイルする必要があります。
- データ エンティティのコマンド チェーンを有効にします。
- データ ソースやコントロールを含む、フォーム内の入れ子になった型でコマンド チェーンを有効にします。

すべての拡張機能の詳細については、[拡張機能のホーム ページ](https://docs.microsoft.com/dynamics365/unified-operations/dev-itpro/extensibility/extensibility-home-page) を参照してください。

## <a name="performance-improvement-in-the-visual-studio-development-environment"></a>Visual Studio 開発環境でのパフォーマンスの向上

この更新には、X++ コード エディターおよびメタデータ プロパティ ウィンドウを使用しているときのエクスペリエンスを向上させるための修正プログラムが含まれています。 これには、次のものが含まれます。

- X++ コード エディターでラベル ID の上にマウス ポインターをポイントすると、場合によっては、Visual Studio が「フリーズ」していました。 このバグは解決されました。
- 特に大きいファイルを操作するときは、X++ コード エディターを開く操作が高速になりました。 参照先アセンブリの読み込みのプロセスを最適化しました。
- プロパティ ウィンドウから EDT プロパティ ルックアップを開く操作が大幅に向上しました。 場合によっては、時間は 8 秒から 0.03 秒に短縮されました。

## <a name="performance-improvements-in-the-web-client-that-may-affect-test-automation-code"></a>テスト自動化コードに影響を与える可能性がある Web クライアントでのパフォーマンスの向上

この更新では、エンド ユーザーに表示されないコントロールにバインドされているデータは、コントロールが表示されるまでサーバーに送信されません。 フォーム アダプターまたは SysTest フレームワークを使用するテスト自動化を使用する場合、テスト コードを変更する必要があります。 詳細については、[テスト オートメーション コードに影響を与える可能性があるパフォーマンスの向上](https://community.dynamics.com/365/financeandoperations/b/newdynamicsax/archive/2018/05/08/performance-improvements-that-may-break-automated-test-code)のブログ投稿を参照してください。

## <a name="personalization-tools"></a>個人用設定ツール

**個人用設定** ツール バーでは、必須フィールドと、必須フィールドが含まれるセクションを非表示にできるようになりました。 これにより、ビジネス ロジックにより既定に設定されている必須フィールドが表示されない、簡略化された経験を作成できます。 非表示の必須フィールドは、保存しようとするときに空の場合には一時的に表示されます。

**個人用設定**ツールバーが開いている場合、ページはまだ読み取り専用ですがより対話型になりました。 具体的には、FactBox ウィンドウを展開または折りたたんだり、通常ページで行うのと同じ方法で、**個人用設定**ツールバーが開いている間にセクションを展開したり折りたたむことができます。 折りたたみ可能なセクションまたはタブ (クイック タブを非表示にするなど) に個人用設定の変更を適用するには、キーボード フォーカスを得るときまたはその上にマウス ポインターを移動するときに、折りたたみ可能なセクションまたはタブの横に表示されるボタンをトリガーします。

個人用設定の詳細については、[ユーザー エクスペリエンスのパーソナライズ](personalize-user-experience.md)を参照してください。

## <a name="batch-manager-security-role"></a>バッチ マネージャーのセキュリティ ロール

プラットフォーム更新 20 より前では、バッチ ジョブを管理するシステム管理者や IT 管理者セキュリティ ロールにユーザーを割り当てる必要がありました。 プラットフォーム更新 20 のリリースには、より対象を絞り込んだロール、バッチ マネージャーがあります。 このセキュリティ ロールでは、ユーザーはバッチ ジョブをコピーする、ジョブを実行するユーザーを変更する、ジョブを実行できる時間範囲を指定するアクセス許可を持ちます。 バッチ管理セキュリティ特権は、バッチ管理者セキュリティ ロールの一部です。これにより、ユーザーはアド ホック バッチ ジョブを作成して、他のユーザーに権限を付与できます。

詳細については、「[バッチ管理者ロール](../../dev-itpro/sysadmin/runby.md)」を参照してください。

## <a name="copy-batch-job"></a>バッチ ジョブのコピー

別の法人の同じバッチ ジョブのコピーを作成し、コピー バッチ ジョブ機能を使用して、定期的なアイテムを含む既存のバッチ ジョブとバッチ タスクをコピーできます。

説明、会社、スケジュールの開始日および時間、繰り返し、およびアカウントごとの実行を同時に設定することができます。 バッチ ジョブをコピーするときに、元のジョブから警告と依存関係もコピーされます。

詳細については、[バッチ ジョブのコピー](../../dev-itpro/sysadmin/copy-batch-job.md)を参照してください。

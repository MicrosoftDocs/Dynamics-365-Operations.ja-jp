---
title: ワークフローでの承認ステップのコンフィギュレーション
description: このトピックでは、承認ステップのプロパティをコンフィギュレーションする方法について説明します。
author: ChrisGarty
ms.date: 08/23/2017
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User, IT Pro
ms.reviewer: sericks
ms.custom: 192161
ms.assetid: 8b478e3d-d6b4-403b-aae0-f639a71ca36c
ms.search.region: Global
ms.author: cgarty
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 84ff82dcb9f4ce930b4f1122790f7989c56fac35
ms.sourcegitcommit: 3a7f1fe72ac08e62dda1045e0fb97f7174b69a25
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2022
ms.locfileid: "8070780"
---
# <a name="configure-approval-steps-in-a-workflow"></a>ワークフローでの承認ステップのコンフィギュレーション

[!include [banner](../includes/banner.md)]


[!INCLUDE [PEAP](../../../includes/peap-1.md)]

このトピックでは、承認ステップのプロパティをコンフィギュレーションする方法について説明します。

ワークフロー エディターで承認ステップを設定するには、承認ステップを右クリックし、**プロパティ** をクリックして、**プロパティ** ページを開きます。 それから承認ステップのプロパティをコンフィギュレーションするには、次の手順に従います。

## <a name="name-the-step"></a>ステップに名前を付ける
承認ステップの名前を入力するには、次の手順に従います。

1. 左ウィンドウで **基本設定** をクリックします。
2. **名前** フィールドに、承認ステップの固有の名前を入力します。

## <a name="enter-a-subject-line-and-instructions"></a>件名行と指示を入力する

この承認ステップに割り当てられるユーザーに対して件名行と指示を入力する必要があります。 たとえば、購買要求の承認ステップをコンフィギュレーションする場合には、そのステップに割り当てられるユーザーに対して、**購買要求** ページの件名行と指示が表示されます。 件名行はページのメッセージ バーに表示されます。 ユーザーはメッセージ バーのアイコンをクリックすることで、指示を表示できます。 次に手順に従って、件名行と指示を入力します。

1. 左ウィンドウで **基本設定** をクリックします。
2. **作業項目の件名** フィールドで、件名行を入力します。
3. 件名行をカスタマイズするには、プレースホルダーを挿入します。 プレースホルダーは、件名行がユーザーに表示されるときに、適切なデータに置き換えられます。 次の手順に従って、プレースホルダーを挿入します。

    1. テキスト ボックス内で、プレースホルダを表示する場所をクリックします。
    2. **プレースホルダーの挿入** をクリックします。
    3. 表示されるリストで、挿入するプレースホルダーを選択します。
    4. **挿入** をクリックします。

4. 件名行の翻訳を追加するには、次の手順に従います。

    1. **翻訳** をクリックします。
    2. 表示されるページで、**追加** をクリックします。
    3. 表示される一覧で、テキストを入力する言語を選択します。
    4. **翻訳テキスト** フィールドで、テキストを入力します。
    5. テキストをカスタマイズする場合は、ステップ 3 の説明に従い、プレースホルダーを挿入します。
    6. **閉じる** をクリックします。

5. **作業項目の指示** フィールドで、指示を入力します。
6. 指示を個人向けのものにするには、プレースホルダーを挿入します。 プレースホルダーは、指示行がユーザーに表示されるときに、適切なデータに置き換えられます。 次の手順に従って、プレースホルダーを挿入します。

    1. テキスト ボックス内で、プレースホルダを表示する場所をクリックします。
    2. **プレースホルダーの挿入** をクリックします。
    3. 表示されるリストで、挿入するプレースホルダーを選択します。
    4. **挿入** をクリックします。

7. 指示行の翻訳を追加するには、次の手順に従います。

    1. **翻訳** をクリックします。
    2. 表示されるページで、**追加** をクリックします。
    3. 表示される一覧で、テキストを入力する言語を選択します。
    4. **翻訳テキスト** フィールドで、テキストを入力します。
    5. テキストをカスタマイズする場合は、ステップ 6 の説明に従い、プレースホルダーを挿入します。
    6. **閉じる** をクリックします。

## <a name="assign-the-approval-step"></a>承認ステップを割り当てる

承認ステップの割り当て先のユーザーを指定するには、次の手順に従います。

1. 左ウィンドウで、**割り当て** をクリックします。
2. **割り当てタイプ** タブで、次の表のいずれかのオプションを選択し、オプションの追加手順を実行してから、手順 3 に進みます。

    <table>
    <thead>
    <tr>
    <th>オプション</th>
    <th>承認ステップが割り当てられたユーザー</th>
    <th>追加手順</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>参加者</td>
    <td>特定のグループまたはロールに割り当てられたユーザー</td>
    <td>
    <ol>
    <li><strong>参加者のタイプ</strong> 一覧の <strong>ロール ベース</strong> タブの、<strong>参加者</strong> を選択したのち、ステップの割り当て先のグループまたはロールのタイプを選択します。</li>
    <li><strong>参加者</strong> の一覧で、ステップを割り当てる先のグループまたはロールのタイプを選択します。</li>
    </ol>
    </td>
    </tr>
    <tr>
    <td>階層</td>
    <td>特定の組織階層内のユーザー</td>
    <td>
    <ol>
    <li><strong>階層タイプ</strong> 一覧の <strong>階層選択</strong> タブの、<strong>階層</strong> を選択したのち、ステップの割り当て先の階層グループを選択します。</li>
    <li>システムは、一定範囲のユーザー名を階層から取得する必要があります。 これらの名前は、ステップを割り当てることができるユーザーを表します。 システムで取得するユーザー名の範囲について、その開始点と終了点を指定するには、次の手順に従います。 <ol>
    <li>開始点を指定するには、<strong>開始</strong> 一覧から人物を選択します。</li>
    <li>終了点を指定するには、<strong>条件の追加</strong> をクリックします。 次に、階層のどこで名前の取得を止めるかを示す条件を入力します。</li>
    </ol>
    </li>
    <li><strong>階層オプション</strong> で、ステップを割り当てる範囲内のユーザーを指定します。 <ul>
    <li><strong>取得したすべてのユーザーに割り当てる</strong> – ステップは範囲内のすべてのユーザーに割り当てられます。</li>
    <li><strong>取得した最後のユーザーのみに割り当てる</strong> – ステップは、範囲内の最後のユーザーのみに割り当てられます。</li>
    <li><strong>次の条件のユーザーを除外します</strong> – ステップは、特定の条件に該当する範囲内のどのユーザーにも割り当てられません。 条件を指定するには、<strong>条件の追加</strong> をクリックします。</li>
    </ul>
    </li>
    </ol>
    </td>
    </tr>
    <tr>
    <td>ワークフロー ユーザー</td>
    <td>現在のワークフロー内のユーザー</td>
    <td>
    <ul>
    <li><strong>ワークフロー ユーザー</strong> 一覧の、<strong>ワークフロー ユーザー</strong> タブの、<strong>ワークフロー ユーザー</strong> を選択したのち、ワークフローに参加するユーザーを選択します。</li>
    </ul>
    </td>
    </tr>
    <tr>
    <td>ユーザー</td>
    <td>特定のユーザー</td>
    <td>
    <ol>
    <li><strong>ユーザー</strong> を選択したのち、<strong>ユーザー</strong> タブをクリックします。</li>
    <li><strong>利用可能なユーザー</strong>の一覧には、すべてのシステム ユーザーが含まれます。 ステップを割り当てるユーザーを選択し、そのユーザーを <strong>選択されたユーザー</strong> リストに移動します。</li>
    </ol>
    </td>
    </tr>
    </tbody>
    </table>

3. **期限** タブの、**期間** フィールドで、この承認ステップに到達したドキュメントに対して、ユーザーが処理または対応しなければならない期限を指定します。 次のいずれかのオプションを選択します。

    - **時間** – ユーザーが対応しなければならない期限を時間数で入力します。 続いて、組織で使用しているカレンダーを選択し、組織の週間労働時間に関する情報を入力します。
    - **日数** – ユーザーが対応しなければならない期限を日数で入力します。 続いて、組織で使用しているカレンダーを選択し、組織の週間労働時間に関する情報を入力します。
    - **週** – ユーザーが対応しなければならない期限を週数で入力します。
    - **月** – ユーザーの対応期限の曜日、週で選択します。 たとえば、その月の第 3 週の金曜日までに対応するよう指定できます。
    - **年** – ユーザーの対応期限の曜日、週、月で選択します。 たとえば、12 月の第 3 週の金曜日までに対応するよう指定できます。

    割り当てられている時間内にユーザーがドキュメントを処理しなかった場合、そのドキュメントは期限超過になります。 期限超過のドキュメントは、このページの **エスカレーション** 領域で選択したオプションに基づいて、エスカレートされます。

4. 承認ステップを複数のユーザーまたはユーザー グループに割り当てる場合は、**完了ポリシー** タブで、次のいずれかのオプションを選択します。

    - **1 人の承認者** – ドキュメントに適用されるアクションは、最初に対応した人物によって決定されます。 たとえば、康介は USD 15,000 の経費精算書を送信済です。 その経費精算書は、現在は政美、健一郎、および隆志に割り当てられています。 このドキュメントに最初に対応するのが政美の場合は、彼女が行うアクションがドキュメントに適用されます。 たとえば、政美が経費報告書を却下した場合、ドキュメントは却下され、康介に送り返されます。 政美が経費精算書を承認した場合、ドキュメントは承認を受けるために綾に送信されます。

        ![承認プロセスのあるワークフロー。](./media/workflow_multipleusersinstep.gif)

    - **過半数の承認者** – ドキュメントに適用されるアクションは、過半数の承認者が対応したときに決定されます。 たとえば、康介は USD 15,000 の経費精算書を送信済です。 その経費精算書は、現在は政美、健一郎、および隆志に割り当てられています。 最初に対応する 2 人の承認者が政美と健一郎であれば、その 2 人の取るアクションがドキュメントに適用されます。

        - 政美がドキュメントを承認しても、健一郎がドキュメントを却下した場合、ドキュメントは却下され、康介に送り返されます。
        - 政美と健一郎の両方がドキュメントを承認した場合、ドキュメントは承認を受けるために綾に送信されます。

    - **承認者の割合** – ドキュメントに適用されるアクションは、特定の割合の承認者が対応したときに決定されます。 たとえば、康介は USD 15,000 の経費精算書を送信済です。 経費精算書は、現在は政美、健一郎、および隆志に割り当てられていて、割合として **50** が入力済だとします。 最初に対応する 2 人の承認者が政美と健一郎であれば、その 2 人の取るアクションがドキュメントに適用されます。それは、承認者の 50% という条件を満たしているためです。

        - 政美がドキュメントを承認しても、健一郎がドキュメントを却下した場合、ドキュメントは却下され、康介に送り返されます。
        - 政美と健一郎の両方がドキュメントを承認した場合、ドキュメントは承認を受けるために綾に送信されます。

    - **すべての承認者** – すべての承認者がドキュメントを承認する必要があります。 それ以外の場合、ワークフローは続行できません。 たとえば、康介は USD 15,000 の経費精算書を送信済です。 その経費精算書は、現在は政美、健一郎、および隆志に割り当てられています。 政美と健一郎がドキュメントを承認しても、隆志がドキュメントを却下した場合、ドキュメントは却下され、康介に送り返されます。 承認者全員 (政美、健一郎、および隆志) がドキュメントを承認した場合、ドキュメントは承認を受けるために綾に送信されます。

## <a name="specify-when-the-approval-step-is-required"></a>承認ステップがいつ必要になるかを指定する

承認ステップがいつ必要になるかを指定できます。 承認ステップは、常に必要とすることも、指定条件を満たす場合にのみ必要とすることもできます。

### <a name="the-approval-step-is-always-required"></a>承認ステップを常に必要とする場合

承認ステップが常に必要な場合は、次の手順に従います。

1. 左ウィンドウで、**条件** をクリックします。
2. **このステップを常に実行** オプションを選択します。

### <a name="the-approval-step-is-required-in-specific-conditions"></a>承認ステップを特定の条件下で必要とする場合

特定の条件を満たす場合にのみ必要になる承認プロセスをコンフィギュレーションできます。 たとえば、購買要求ワークフローの承認ステップをコンフィギュレーションする場合は、購買要求の合計金額が USD 10,000 を超える場合にのみ承認ステップを発生させると都合がよいこともあります。 承認ステップがどのような場合になるかを指定するには、次の手順に従います。

1. 左ウィンドウで、**条件** をクリックします。
2. **次の条件が満たされた場合にのみこのステップを実行** オプションを選択します。
3. 条件を入力します。
4. 必要に応じて、追加条件を入力します。
5. 入力した条件が正しくコンフィギュレーションされていることを確認するには、次の手順を実行します。

    1. **テスト** をクリックします。
    2. **ワークフロー条件のテスト** ページで、**条件の検証** 領域で、レコードを選択します。
    3. **テスト** をクリックします。 システムによってレコードが評価され、定義した条件を満たすかどうかが判定されます。
    4. **OK**、または **キャンセル** をクリックして、**プロパティ** ページに戻ります。

## <a name="specify-what-happens-when-the-document-is-overdue"></a>ドキュメントが期限超過の場合の処置を指定する

割り当てられている時間内にユーザーがドキュメントを処理しなかった場合、そのドキュメントは期限超過になります。 期限超過したドキュメントは、承認を受けるために別のユーザーにエスカレートする (自動的に割り当てる) ことができます。 期限超過したドキュメントをエスカレートするには、次の手順に従います。

1. 左ウィンドウで、**エスカレーション** をクリックします。
2. **エスカレーション パスを使用** チェック ボックスをオンにし、エスカレーション パスを作成します。 ドキュメントは、エスカレーション パスにリストされるユーザーに自動的に割り当てられます。 たとえば、次の表に、エスカレーション パスを示します。

    | 順番 | エスカレーション パス      |
    |----------|----------------------|
    | 1        | 割り当て先: 奈緒美     |
    | 2        | 割り当て先: 悦子      |
    | 3        | 最終アクション: 拒否 |

    この例では、奈緒美に、期限超過のドキュメントが割り当てられます。 割り当てられている時間内に奈緒美が対応しない場合は、悦子にドキュメントが割り当てられます。 割り当てられている時間内に悦子が対応しない場合は、システムによりドキュメントが却下されます。

3. エスカレーション パスにユーザーを追加するには、**エスカレーションの追加** をクリックします。 **割り当てタイプ** タブで、次の表のいずれかのオプションを選択し、オプションの追加手順を実行してから、ステップ 4 に進みます。

    <table>
    <thead>
    <tr>
    <th>オプション</th>
    <th>ドキュメントのエスカレート先のユーザー</th>
    <th>追加手順</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>階層</td>
    <td>特定の組織階層内のユーザー</td>
    <td>
    <ol>
    <li><strong>階層タイプ</strong> 一覧の <strong>階層選択</strong> タブの、<strong>階層</strong> を選択したのち、ドキュメントをエスカレートする先の階層グループを選択します。</li>
    <li>システムは、一定範囲のユーザー名を階層から取得する必要があります。 これらの名前は、ドキュメントのエスカレート先に指定できるユーザーを表します。 システムで取得するユーザー名の範囲について、その開始点と終了点を指定するには、次の手順に従います。 <ol>
    <li>開始点を指定するには、<strong>開始</strong> 一覧から人物を選択します。</li>
    <li>終了点を指定するには、<strong>条件の追加</strong> をクリックします。 次に、階層のどこで名前の取得を止めるかを示す条件を入力します。</li>
    </ol>
    </li>
    <li><strong>階層オプション</strong> で、ドキュメントをエスカレートできる範囲内のユーザーを指定します。 <ul>
    <li><strong>取得したすべてのユーザーに割り当てる</strong> – ドキュメントは範囲内のすべてのユーザーにエスカレートされます。</li>
    <li><strong>取得した最後のユーザーのみに割り当てる</strong> – ドキュメントは、範囲内の最後のユーザーのみにエスカレートされます。</li>
    <li><strong>次の条件のユーザーを除外します</strong> – ドキュメントは、特定の条件に該当する範囲内のどのユーザーにもエスカレートされません。 条件を指定するには、<strong>条件の追加</strong> をクリックします。</li>
    </ul>
    </li>
    </ol>
    </td>
    </tr>
    <tr>
    <td>ワークフロー ユーザー</td>
    <td>現在のワークフロー内のユーザー</td>
    <td>
    <ul>
    <li><strong>ワークフロー ユーザー</strong> 一覧の、<strong>ワークフロー ユーザー</strong> タブの、<strong>ワークフロー ユーザー</strong> を選択したのち、ワークフローに参加するユーザーを選択します。</li>
    </ul>
    </td>
    </tr>
    <tr>
    <td>ユーザー</td>
    <td>特定のユーザー</td>
    <td>
    <ol>
    <li><strong>ユーザー</strong> を選択したのち、<strong>ユーザー</strong> タブをクリックします。</li>
    <li><strong>利用可能なユーザー</strong>の一覧には、すべてのユーザーが含まれます。 ドキュメントをエスカレートするユーザーを選択し、そのユーザーを <strong>選択されたユーザー</strong> リストに移動します。</li>
    </ol>
    </td>
    </tr>
    </tbody>
    </table>

4. **期限** タブの、**期間** フィールドで、ドキュメントに対して、ユーザーが処理または対応しなければならない期限を指定します。 次のいずれかのオプションを選択します。

    - **時間** – ユーザーが対応しなければならない期限を時間数で入力します。 続いて、組織で使用しているカレンダーを選択し、組織の週間労働時間に関する情報を入力します。
    - **日数** – ユーザーが対応しなければならない期限を日数で入力します。 続いて、組織で使用しているカレンダーを選択し、組織の週間労働時間に関する情報を入力します。
    - **週** – ユーザーが対応しなければならない期限を週数で入力します。
    - **月** – ユーザーの対応期限の曜日、週で選択します。 たとえば、その月の第 3 週の金曜日までに対応するよう指定できます。
    - **年** – ユーザーの対応期限の曜日、週、月で選択します。 たとえば、12 月の第 3 週の金曜日までに対応するよう指定できます。

5. エスカレーション パスに追加するユーザーごとに、ステップ 3～4 を繰り返します。 ユーザーの順序は、変更できます。
6. エスカレーション パスに含まれるユーザーが、割り当てられた時間内に対応しない場合、システムによってドキュメントが自動的に処理されます。 システムによる処理を指定するには、**アクション** 行を選択し、**アクションの終了** タブでアクションを選択します。


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
---
title: 番号順序の概要
description: 番号順序は、ID が必要なマスター データ レコードおよびトランザクション レコードに対して読みやすい固有の ID を生成するために使用されます。
author: SunilGarg
ms.date: 07/25/2019
ms.topic: overview
ms.prod: ''
ms.technology: ''
ms.search.form: NumberSequenceTableListPage, NumberSequenceConfiguration
audience: Application User, IT Pro
ms.reviewer: sericks
ms.custom:
- "15461"
- intro-internal
ms.assetid: 6e19bd1d-192b-4da2-8573-84f6e1ce98ef
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 48e395cc3e3ccd0f93ab9523add455ef16f612ba
ms.sourcegitcommit: 3754d916799595eb611ceabe45a52c6280a98992
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/15/2022
ms.locfileid: "7985684"
---
# <a name="number-sequences-overview"></a>番号順序の概要

[!include [banner](../includes/banner.md)]

番号順序は、ID が必要なマスター データ レコードおよびトランザクション レコードに対して読みやすい固有の ID を生成するために使用されます。 ID が必要なマスタ データ レコードまたはトランザクション レコードは、*参照* と呼ばれます。

参照先に新しいレコードを作成するには、事前に番号順序を設定して参照先に関連付ける必要があります。 **組織管理** のページを使用して番号順序を設定することをお勧めします。 モジュール固有の設定が必要な場合、モジュールのパラメータ ページを使用してそのモジュールでの参照用に番号順序を指定できます。 たとえば、**売掛金勘定** および **買掛金勘定** で、特定の顧客または仕入先に固有の番号順序を割り当てるために番号順序グループを設定できます。

番号順序を設定した場合、番号順序を使用する組織を定義する範囲を指定する必要があります。 範囲は、**共有**、**会社**、**法人**、または **作業単位** のいずれかにすることができます。 **法人** および **会社** の範囲は、**会計カレンダー期間** と組み合わせ、より具体的な番号順序を作成することができます。

番号順序の形式は、区分で構成されます。 **共有** 以外の範囲の番号順序には、その範囲に対応する区分を含めることができます。 たとえば、**法人** の範囲の番号順序には、法人の区分を含めることができます。 番号順序の形式で範囲の区分を含めることで、その番号を見て特定のレコードの範囲を識別できます。

範囲に対応する区分に加え、番号順序の形式には **定数** および **英数字区分** を含めることができます。 **定数** の区分には、変更されない一連の文字、番号、または記号が含まれます。 **英数区分** の区分には、番号が使用されるたびに繰り上げる一連の文字または番号が含まれます。 番号記号 (\#) は数字の繰り上げに、アンパサンド (&) は文字の繰り上げに使用します。 たとえば、\#\#\#\#\#\_2017 という形式を指定した場合、00001\_2017, 00002\_2017 という順序で番号が割り当てられます。

## <a name="number-sequence-examples"></a>番号順序の例

次の例では、区分を使用して番号順序の形式を作成する方法を示します。 特に、例では、範囲の区分を使用した場合の影響を示します。

### <a name="expense-report-numbers"></a>経費精算書番号

次の例では、経費精算書番号が **CS** という名前の法人に設定されます。

- **地域:** 旅費交通費
- **参照:** 経費精算書番号
- **スコープ:** 法人
- **法人:** CS

| 区分  | 区分のタイプ | 値     |
|-----------|--------------|-----------|
| 区分 1 | 法人 | CS        |
| 区分 2 | 定数     | -EXPENSE- |
| 区分 3 | 英数字 | \#\#\#\#  |

**書式設定された番号の例**: CS-EXPENSE-0039

他の法人に対して同様の番号順序の形式を設定できます。 たとえば、**RW** という名前の法人の場合、法人の区分の値のみ変更すると、書式設定された番号は RW-EXPENSE-0039 です。 また、他の法人について番号順序全体の形式を変更することもできます。 たとえば、法人の範囲の区分を省略して、Exp-0001 のような書式設定された番号を作成できます。

### <a name="sales-order-numbers"></a>販売注文番号

次の例では、会社 ID **CEU** に対して販売注文番号を設定します。

- **領域:** 販売
- **参照:** 販売注文
- **スコープ:** 会社
- **会社:** CEU

| 区分  | セグメント タイプ | 先頭値    |
|-----------|--------------|----------|
| 区分 1 | 定数     | SO-      |
| 区分 2 | 英数字 | \#\#\#\# |

:**書式設定された番号の例**: SO-0029

範囲の区分が形式に含まれていない場合でも、法人 ID の番号付けが再開されます。 すべての法人 ID に同じ形式を使用した場合、各法人で同じ番号が使用されます。 たとえば、販売注文番号 SO-0029 が各法人で使用されます。 また、他の法人 ID について番号順序全体の形式を変更することもできます。

### <a name="purchase-requisition-numbers"></a>購買要求番号

次の例では、購買要求番号が組織全体で使用されます。

- **領域:** 購買
- **参照:** 購買要求
- **スコープ:** 共有

| 区分  | セグメント タイプ | 先頭値    |
|-----------|--------------|----------|
| 区分 1 | 定数     | 要求      |
| 区分 2 | 英数字 | \#\#\#\# |

**書式設定された番号の例**: Req0052

範囲が **共有** であるため、番号順序の形式は組織全体で使用されます。 組織の一部に異なる番号順序の形式を設定することはできません。

## <a name="performance-considerations-for-number-sequences"></a>番号順序のパフォーマンスに関する考慮事項

番号順序を設定する前に、番号順序のコンフィギュレーションがシステムのパフォーマンスにどのように影響を及ぼすかについて次の情報を考慮してください。

### <a name="continuous-and-non-continuous-number-sequences"></a>連続する番号順序と連続しない番号順序

番号順序は、連続または非連続にすることができます。 連続する番号順序は番号をスキップしませんが、番号が順次に使用されないことがあります。 連続しない番号順序の番号は順次に使用されますが、番号がスキップされることがあります。 たとえば、ユーザーがトランザクションをキャンセルした場合、番号は生成されますが、使用されません。 連続する番号順序では、その番号は後で再利用されます。 連続しない番号順では、その番号は使用されません。

通常、連続する番号順序は、発注書、販売注文、請求書などの外部ドキュメントに必要です。 ただし、新しいドキュメントまたはレコードが作成されるたびにシステムがデータベースから番号を要求するため、連続する番号順序がシステムの応答時間に悪影響を及ぼすことがあります。

連続しない番号順序を使用する場合、**番号順序** ページにある **パフォーマンス** クイック タブの **事前割り当て** を有効にすることができます。 事前に割り当てする番号の数量を指定すると、システムではそれらの番号を選択し、メモリに格納します。 事前に割り当てた数量を使用した後にのみ、新しい番号がデータベースから要求されます。

連続する番号順序の使用が法的な要求事項でない限り、パフォーマンス向上のために連続しない番号順序を使用することをお勧めします。

### <a name="automatic-cleanup-of-number-sequences"></a>番号順序の自動クリーンアップ

電源障碍、アプリケーションのエラー、またはその他の予期しないエラーが発生した場合、システムでは連続する番号順序に対して番号を自動的に再利用できません。 クリーンアップ プロセスを手動または自動で実行して、失われた番号を復元することができます。

クリーンアップ プロセスを計画する際は、サーバーの使用を慎重に検討してください。 クリーンアップはピーク時間外にバッチ ジョブで実行することをお勧めします。


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]

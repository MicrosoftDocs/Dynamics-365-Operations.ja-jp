<span data-ttu-id="76440-101">環境間でデータベースをコピーする場合、環境再プロビジョニング ツールを実行し、すべての Retail コンポーネントを最新の状態にしない限り、コピーしたデータベースは完全には機能しません。</span><span class="sxs-lookup"><span data-stu-id="76440-101">If you copy a database between environments, the copied database won't be fully functional until you run the Environment reprovisioning tool to make sure that all Retail components are up to date.</span></span>

<span data-ttu-id="76440-102">以下のステップに従って、環境再プロビジョニング ツールを実行します。</span><span class="sxs-lookup"><span data-stu-id="76440-102">Follow these steps to run the Environment reprovisioning tool.</span></span>

1. <span data-ttu-id="76440-103">**ソフトウェア配置可能パッケージ** セクションにある自身のプロジェクトの **資産ライブラリ** で、 **インポート**を選択します。</span><span class="sxs-lookup"><span data-stu-id="76440-103">In your project's **Asset Library**, in the **Software deployable packages** section, click **Import**.</span></span>
2. <span data-ttu-id="76440-104">共用資産の一覧から、 **環境再プロビジョニング ツール**を選択します。</span><span class="sxs-lookup"><span data-stu-id="76440-104">From the list of shared assets, select the **Environment Reprovisioning Tool**.</span></span>
3. <span data-ttu-id="76440-105">ターゲット環境の **環境の詳細** ページで、 **管理** > **更新プログラムを適用**を順に選択します。</span><span class="sxs-lookup"><span data-stu-id="76440-105">On the **Environment details** page for your target environment, select **Maintain** > **Apply updates**.</span></span>
4. <span data-ttu-id="76440-106">先ほどアップロードした **環境再プロビジョニング** ツールを選択し、 **適用** を選択してパッケージを適用します。</span><span class="sxs-lookup"><span data-stu-id="76440-106">Select the **Environment Reprovisioning** tool that you uploaded earlier, and then select **Apply** to apply the package.</span></span>
5. <span data-ttu-id="76440-107">パッケージの配置の進捗を監視します。</span><span class="sxs-lookup"><span data-stu-id="76440-107">Monitor the progress of the package deployment.</span></span>

<span data-ttu-id="76440-108">配置可能パッケージを適用する方法の詳細については、 [配置可能パッケージの適用](../deployment/create-apply-deployable-package.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="76440-108">For more information about how to apply a deployable package, see [Apply a deployable package](../deployment/create-apply-deployable-package.md).</span></span> <span data-ttu-id="76440-109">配置可能パッケージを手動で適用する方法の詳細については、 [配置可能パッケージのインストール](../deployment/install-deployable-package.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="76440-109">For more information about how to manually apply a deployable package, see [Install a deployable package](../deployment/install-deployable-package.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="76440-110">いくつかの環境固有のレコードは、データベースと一緒にソース環境からターゲット環境に移動できません。</span><span class="sxs-lookup"><span data-stu-id="76440-110">Some environment specific records cannot be moved along with the database from the source to the target environment.</span></span> <span data-ttu-id="76440-111">次のレコードはターゲット環境に移動されません:</span><span class="sxs-lookup"><span data-stu-id="76440-111">The following records are not moved to the target environment:</span></span>
> - <span data-ttu-id="76440-112">小売セルフサービスのインストーラー</span><span class="sxs-lookup"><span data-stu-id="76440-112">Retail Self-Service installers</span></span>
> - <span data-ttu-id="76440-113">Retail Cloud Scale Unitチャネル データベース コンフィギュレーション レコード</span><span class="sxs-lookup"><span data-stu-id="76440-113">Retail Cloud Scale Unit channel database configuration record</span></span>

### <a name="database-refresh-and-retail-cloud-scale-units"></a><span data-ttu-id="76440-114">データベースの更新と Retail Cloud Scale Unit</span><span class="sxs-lookup"><span data-stu-id="76440-114">Database refresh and Retail Cloud Scale Units</span></span>

<span data-ttu-id="76440-115">データベース更新の一部として (チャネル データベース フォームで) スケール ユニット チャネル データベース レコードは、環境固有のコンフィギュレーションを表すので、環境を越えて移動できません。</span><span class="sxs-lookup"><span data-stu-id="76440-115">As part of database refresh, scale unit channel database records (in the Channel Database form) cannot be moved across environments since they represent environment specific configuration.</span></span>

<span data-ttu-id="76440-116">**Retail Cloud Scale Units** の場合は、LCS でスケール ユニットの再展開を発行して、チャネル データベース レコードを再生成できます。</span><span class="sxs-lookup"><span data-stu-id="76440-116">For **Retail Cloud Scale Units**, you can regenerate the channel database record by issuing a re-deployment of your scale units in LCS.</span></span> <span data-ttu-id="76440-117">詳細については [データベースの更新](../database/database-refresh.md) と [Retail Cloud Scale Unit の初期化](../deployment/Initialize-Retail-Channels.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="76440-117">For more information, see [Database refresh](../database/database-refresh.md) and [Initialize Retail Cloud Scale Unit](../deployment/Initialize-Retail-Channels.md).</span></span>

### <a name="database-refresh-and-retail-self-service-installers"></a><span data-ttu-id="76440-118">データベース更新と小売セルフサービスのインストーラー</span><span class="sxs-lookup"><span data-stu-id="76440-118">Database refresh and Retail Self-Service installers</span></span>

<span data-ttu-id="76440-119">セルフサービス インストーラーはデータベースと共に移動することのできない環境固有のストレージに格納されます。</span><span class="sxs-lookup"><span data-stu-id="76440-119">Self-service installers are stored in environment specific storages that cannot be moved along with the database.</span></span>

<span data-ttu-id="76440-120">インストーラーは、配置可能なパッケージの一部として環境にアップロードされます。</span><span class="sxs-lookup"><span data-stu-id="76440-120">Installers are uploaded to the environment as part of a deployable package.</span></span> <span data-ttu-id="76440-121">Microsoft が提供するアプリケーションおよびバイナリ パッケージは、Microsoft が提供するインストーラーを含みます。</span><span class="sxs-lookup"><span data-stu-id="76440-121">The application and binary packages provided by Microsoft will contain the Microsoft provided installers.</span></span> <span data-ttu-id="76440-122">Retail SDK を介した拡張機能で生成された Retail の配置可能なパッケージは、拡張インストーラーを含みます。</span><span class="sxs-lookup"><span data-stu-id="76440-122">The Retail Deployable package produced by extensions through the Retail SDK will contain the extended installers.</span></span> <span data-ttu-id="76440-123">データベース更新後にインストーラー セクションを利用可能にするには、データベースの更新後に必要な配置可能パッケージを環境に適用してください。</span><span class="sxs-lookup"><span data-stu-id="76440-123">To make installer section available after database refresh, please apply the desired deployable package to the environment after database refresh.</span></span>

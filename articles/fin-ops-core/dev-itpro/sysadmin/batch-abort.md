---
title: 実行中のバッチ ジョブをキャンセルします。
description: この記事では、実行中のバッチ ジョブをキャンセルする方法について説明します。
author: karimelazzouni
ms.date: 10/14/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: IT Pro
ms.reviewer: johnmichalak
ms.custom: 62333
ms.assetid: 6135bcf7-bf8f-42ae-b2c6-458f6538e6a4
ms.search.region: Global
ms.author: sopat
ms.search.validFrom: 2019-05-08
ms.dyn365.ops.version: Platform update 27
ms.openlocfilehash: 933933cf8fd9cc69409f466c9e91000dacbe2257
ms.sourcegitcommit: 87e75aa6af2c3280316d7d73eafa14a52353a5e4
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/21/2022
ms.locfileid: "9709783"
---
# <a name="cancel-a-running-batch-job"></a><a id="legacy-abort"></a>実行中のバッチ ジョブをキャンセルします。

[!include [banner](../includes/banner.md)]

## <a name="cancel-a-batch-job"></a>バッチ ジョブのキャンセル

> [!NOTE]
> システム ジョブを **キャンセル** ステータスに移動できない。

実行中のバッチ ジョブをキャンセルする必要がある場合は、そのステータスを **キャンセル済** に 変更できます。 その後、バッチ ジョブは新しいタスクをピッキングから削除されます。 まだ開始されていないバッチ ジョブのタスクのステータスが **変更後に実行** に設定され、開始されているタスクのステータスが **キャンセル** に設定されます。 タスクを修正して終了できる (タスクが完了した、またはエラーが発生している) まで、タスクのステータスは変更されません。

実行しているバッチ ジョブをキャンセルするには、次の手順を実行します。

1. アクション ウィンドウの、**バッチ ジョブ** ページで、**状態の変更** を選択します。
1. **新しい状態の選択** ダイアログ ボックスで **新しい状態の選択** を選択し、**キャンセル中** を選択します。
1.  **OK** を選択します。

![選択したバッチ ジョブのステータスをキャンセル中に変更します。](./media/cancelling-a-batch-job.png)

次の図は、バッチ ジョブの例と、バッチ ジョブがキャンセルされた後のタスクを示しています。

![キャンセルされたバッチ ジョブとそのタスク。](./media/cancelled-batchjob.png)

## <a name="abort-the-tasks-in-a-batch-job"></a>バッチ ジョブでのタスクの中止

バッチ ジョブのタスクを変更して終了できない場合があります。 そのため、システムが変更プログラムの終了を待機している間は、バッチ ジョブのステータスが **キャンセル中** のままです。 そのような場合、システム管理者またはバッチ ジョブ マネージャは、バッチ ジョブのステータスが **キャンセル中** のすべてのタスクを中止できます。 **中止** コマンドを使用すると、バッチ ジョブのタスクは直ちに実行を中止できます。

> [!IMPORTANT]
> - 実行プロセスを中止するアクションは本質的に危険であるため、注意して使用する必要があります。 データが破損すると、データが破損したり、データが不完全な場合があります。 このアクションは、実行中のタスクによって引き起こされる他の問題を軽減するためにのみ使用するべきです。
> - このアクションでは、管理されていない待機で処理されるタスクの実行を停止できます。 たとえば、SQL デッドロックや DIXF 関連のタスクが原因で立ち上がっているタスクがあります。 この場合、タスクは管理されていない待機から終了した後に中止されます。

バッチ ジョブのステータスが **キャンセル** であるすべてのタスクを中止するには、次の手順に従います。

1. **バッチ ジョブ** ページの **バッチ タスク** クイックタブで、**中止** を選択します。
1. メッセージ ボックスが表示され、バッチ ジョブのすべての実行中のタスクを中止するように確認するメッセージが表示されます。 **はい** を選択します。

![バッチ ジョブでのタスクを中止する](./media/aborting-a-batch-job.png)

### <a name="enhanced-batch-abort-feature"></a>拡張バッチの中止機能

> [!IMPORTANT]
> リリース 10.0.31 では、変更機能付き期間が追加されました。 **高度なバッチ中止** 機能の使用後は、適切なバッチ サーバーで最大 15  分の新しいタスクが選択されません。 この分から構成される期間は、バッチ サーバーの **実行** 状態にある他のタスクに、正しく実行する時間を与えます。 **実行** 状態のタスクがそれらのサーバーに残り、または 15 分が経過したら、バッチ サーバーが再起動します。

**高度なバッチ中止** 機能を使用するには、[機能管理](../../fin-ops/get-started/feature-management/feature-management-overview.md) ワークスペースで有効にする必要があります。 この機能が有効な場合、**中止** コマンドを実行すると、中止しようとしているバッチ ジョブのタスクを現在実行中のすべてのバッチ サーバーが再起動します。 他のタスクがそれらのサーバー上でも実行されている可能性があります。 これらのタスクは、サーバーの再起動時に中断されます。

サーバーが再起動されたため、**高度なバッチ中止** 機能を使用すると、この機能は **中止** コマンドの制限を超えた機能になります。 また、キャンセルしようとしているバッチ ジョブのタスクが中断された後で、そのタスクが中断されます。

**高度なバッチ中止** 機能が有効な場合にバッチ ジョブのステータスが **キャンセル** になっているすべてのタスクを中止するには、次の手順に従います。

1. **バッチ ジョブ** ページの **バッチ タスク** クイックタブで、**中止** を選択します。
2. **バッチ ジョブの中止** ダイアログ ボックスには、続行すると中断する可能性があるその他のバッチ ジョブが表示されます。 続行することを確認するには、**はい** を選択します。

![高度なバッチ中止機能が有効な場合にバッチ ジョブ内のタスクを中止します。](./media/enhanceabort-a-batchjob.png)

バッチ サーバー上で実行されているバッチタスクをキャンセルしたくなく、実行中のすべてのジョブではなく単一タスクのみをキャンセルする古い動作を好む場合は、**機能管理** ワークスペースの **バッチ中止の強化** 機能をオフにし、再度実行しているバッチ ジョブをキャンセル を行えます。 その後、再度 [バッチ ジョブを再度中止](#abort-the-tasks-in-a-batch-job) してください。

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]

---
title: 生成されたレポート結果を追跡し、ベースライン値と比較する
description: このトピックでは、ベースライン レポート値で生成された電子申告 (ER) レポートの結果を比較する方法について説明します。
author: NickSelin
ms.date: 06/17/2019
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: 220314
ms.assetid: 2685df16-5ec8-4fd7-9495-c0f653e82567
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2018-04-01
ms.dyn365.ops.version: Release 8.0
ms.openlocfilehash: ecca65508c048e2946d912f2bf0292d811fb4eabac9602a35f1ce26f4ebe1da6
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/05/2021
ms.locfileid: "6769927"
---
# <a name="trace-generated-report-results-and-compare-them-with-baseline-values"></a>生成されたレポート結果を追跡し、ベースライン値と比較する

[!include[banner](../includes/banner.md)]

送信する電子ドキュメントを生成する電子申告 (ER) 形式の結果をトレースできます。 トレースの生成が有効である場合 (**デバッグ モードで実行** ER ユーザー パラメーターを使用することによって)、ER レポートが実行されるたびに ER 形式実行ログで新しいトレース レコードが生成されます。 生成される各トレースには、次の情報が格納されます。

- 検証ルールによって生成されたすべての警告
- 検証ルールによって生成されたすべてのエラー
- トレース レコードの添付ファイルとして格納されるすべての生成されたファイル

任意の ER 形式の個々のベースライン アプリケーション ファイルを格納できます。 ファイルは、実行されるレポートの予期される結果の説明時にベースライン ファイルと見なされます。 トレースの生成がオンである間に実行される ER 形式に対してベースライン ファイルが使用可能な場合、トレースは、前述した詳細内容に加えて、生成された電子ドキュメントとベースライン ファイルとの比較の結果を格納します。 ワンクリックで、生成された電子ドキュメントおよびそのベースライン ファイルを単一の zip ファイルで取得することもできます。 WinDiff などの外部ツールを使用して詳細な比較を行うことができます。

生成される電子ドキュメントが予想されるコンテンツを含むかどうかを分析するトレースを評価できます。 コード ベースが変更されたとき (たとえば、アプリケーションの新しいインスタンスに移行したとき、修正プログラム パッケージをインストールしたとき、またはコード変更を配置したとき)、ユーザー受け入れテスト (UAT) 環境でこの評価を行うことができます 。 この方法で、評価は使用される ER レポートの実行に影響しないことを確認できます。 多くの ER レポートについては、無人モードで評価を実行できます。

この機能の詳細については、**7.5.4.3 IT サービス/ソリューションのテスト (10679)** 業務プロセスの一部である、**ER レポートの生成および結果の比較 (第 1 部)** および **ER レポートの生成および結果の比較 (第 2 部)** タスク ガイドを再生し、[Microsoft ダウンロード センター](https://go.microsoft.com/fwlink/?linkid=874684) からダウンロードできます。 これらのタスク ガイドでは、生成される電子ドキュメントを評価するためにベースライン ファイルを使用して、ER フレームワークを構成するプロセスについて説明します。

## <a name="example-trace-generated-report-results-and-compare-them-with-baseline-values"></a>例: 生成されたレポート結果をトレースし、ベースライン値と比較する

この手順では、ER 形式の実行に関する情報を収集し、それらの実行の結果を評価するように ER フレームワークを構成する方法について説明します。 この評価の一部として、生成されたドキュメントがベースライン ファイルと比較されます。 この例では、サンプル会社 Litware, Inc. に必要な ER 構成を作成します。 この手順は、「システム管理者」または「電子レポート開発者」ロールが割り当てられているユーザーを対象としています。 これらのステップは、任意のデータ セットを使用することによって完了できます。

この例の手順を完了するには、まず、[コンフィギュレーション プロバイダーを作成し、それを有効としてマークする](tasks/er-configuration-provider-mark-it-active-2016-11.md) にある手順を完了する必要があります。

1. **組織管理** \> **ワークスペース** \> **電子申告** の順に移動します。
2. **ローカライズの構成** ページの **構成プロバイダー** セクションで、Litware, Inc. サンプル会社の構成 プロバイダーが一覧に表示されていること、および **アクティブ** とマークされていることを確認します。 このコンフィギュレーション プロバイダーが表示されない場合は、[コンフィギュレーション プロバイダーを作成し、それを有効としてマークする](tasks/er-configuration-provider-mark-it-active-2016-11.md) の手順に従います。

### <a name="configure-document-management-parameters"></a>ドキュメント管理パラメーターのコンフィギュレーション

1. **組織管理** \> **ドキュメント管理** \> **ドキュメント タイプ** に移動して、ベースライン ファイルを保存するための新しいドキュメント タイプを作成します。
2. **クラス** フィールドに、**ファイルの添付** と入力します。
3. **グループ** フィールドには、**ファイル** と入力します。

![ドキュメント タイプ ページ。](media/GER-BaselineSample-SetupDocumentType.PNG "ドキュメント タイプ ページのスクリーンショット")

> [!NOTE]
> ER ベースライン機能を使用する予定のデータ セットごとに、同じ名前を持つ新しいドキュメント タイプを構成する必要があります。

### <a name="configure-er-parameters-to-start-to-use-the-baseline-feature"></a>ER パラメーターを構成して、ベースライン機能の使用を開始する

1. **関連リンク** セクションの **電子申告** ワークスペースで、**電子申告パラメーター** を選択します。

    ![電子申告ワークスペース。](media/GER-BaselineSample-ERWorkspace.PNG "電子申告ワークスペースのスクリーンショット")

2. **ベースライン** フィールドの **添付ファイル** タブで、作成したドキュメント タイプを入力または選択します。

    ![電子申告パラメーター ページの添付ファイル タブ。](media/GER-BaselineSample-ERParameters.PNG "電子申告パラメーターのスクリーンショット")

3. **保存** を選択して、**電子申告パラメーター** ページを閉じます。

### <a name="add-a-new-er-model-configuration"></a>新しい ER モデル コンフィギュレーションの追加

1. **構成** セクションの、**電子申告** ワークスペースで、**申告の構成** タイルを選択します。
2. アクション ウィンドウで、**構成の作成** を選択します。
3. **名前** フィールドのドロップダウン ダイアログ ボックスに、**ER ベースラインを学習するためのモデル** と入力します。
4. **構成の作成** を選択して、新しい ER データ モデル エントリの作成を確認します。

![構成の作成ドロップダウン ダイアログ ボックス。](media/GER-BaselineSample-ModelAdd.PNG "構成の作成ドロップダウン ダイアログボックスのスクリーンショット")

### <a name="design-a-data-model"></a>データ モデルのデザイン

1. アクション ウィンドウの **構成** ページで、**デザイナー** を選択します。
2. **新規** を選択します。
3. ドロップダウン ダイアログボックスの **名前** フィールドに **ルート** と入力します。
4. **追加** を選択します。
5. **ルート参照** を選択します。
6. **OK** を選択してから、**保存** を選択します。
7. **モデル デザイナー** ページを閉じます。
8. **ステータスの変更** を選択します。
9. **完了** を選択し、**OK** を選択します。

![構成ページ。](media/GER-BaselineSample-ModelComplete.PNG "構成ページのスクリーンショット")

### <a name="add-a-new-er-format-configuration"></a>新しい ER 形式コンフィギュレーションを追加する

1. アクション ウィンドウの **構成** ページで、**構成の作成** を選択します。
2. ドロップダウン ダイアログ ボックスにある **新しい** フィールド グループで、**ER ベースラインを学習するためのモデル データ モデルに基づく形式** を選択します。
3. **名前** フィールドに、**ER ベースラインを学習するための形式** を入力します。
4. **構成の作成** を選択して、新しい ER 形式エントリの作成を確認します。

![構成の作成ドロップダウン ダイアログ ボックス。](media/GER-BaselineSample-FormatAdd.PNG "構成の作成ドロップダウン ダイアログボックスのスクリーンショット")

### <a name="design-a-format"></a>形式のデザイン

この例では、XML ドキュメントを生成するための単純な ER 形式を作成します。

1. アクション ウィンドウの **構成** ページで、**デザイナー** を選択します。
2. **ルートの追加** を選択します。
2. ドロップダウン ダイアログ ボックスで、次の手順に従います。

    1. ツリーで、**Common\\File** を選択します。
    2. **名前** フィールドに、**アウトプット** と入力します。
    3. **OK** を選択します。

3. **追加** を選択します。
4. ドロップダウン ダイアログ ボックスで、次の手順に従います。

    1. ツリーで、**XML\\Element** を選択します。
    2. **名前** フィールドに、**ドキュメント** と入力します。
    3. **OK** を選択します。

5. ツリーで、**出力\\ドキュメント** を選択します。
6. **追加** を選択します。
7. ドロップダウン ダイアログ ボックスで、次の手順に従います。

    1. ツリーで、**XML\\Attribute** を選択します。
    2. **名前** フィールドに、**ID** と入力します。
    3. **OK** を選択します。

    ![形式デザイナー ページ。](media/GER-BaselineSample-FormatLayoutDesign.PNG "形式デザイナー ページのスクリーンショット")

8. **マッピング** タブで、**削除** を選択します。
9. **ルートの追加** を選択します。
10. ドロップダウン ダイアログボックスのツリーで、**一般\\ユーザー入力パラメーター** を選択し、次の手順を実行します。

    1. **名前** フィールドに、**ID** と入力します。
    2. **ラベル** フィールドで、**ID の入力** と入力します。
    3. **OK** を選択します。

11. ツリーで、**出力\\ドキュメント\\ID** を選択します。
12. **バインド** を選択してから、**保存** を選択します。

![形式デザイナー ページ。](media/GER-BaselineSample-FormatMappingDesign.PNG "形式デザイナー ページのスクリーンショット")

デザインされた構造に基づいて、構成された形式が XML ファイルを生成します。 この XML には、ユーザーが ER ランタイム ダイアログ ボックスに入力した値に設定された **ID** 属性を持つ **ルート** 要素が含まれています。

### <a name="generate-a-new-baseline-file-for-a-designed-er-format"></a>デザインされた ER 形式の新しいベースライン ファイルの生成

1. **バージョン** クイックタブの **構成** ページで、**実行** を選択します。
2. **ID を入力** フィールドで、**1** と入力します。
3. **OK** を選択します。

    ![電子申告パラメーター ダイアログ ボックス。](media/GER-BaselineSample-FormatRunToMakeBaselineFile1.PNG "電子レポート パラメーター ダイアログ ボックスのスクリーンショット")

4. 生成された **out.Admin.xml** ファイルのローカル コピーを保存して、後でこの ER 形式のベースラインとして使用できるようにします。

    ![構成ページの生成されたファイルに関する通知。](media/GER-BaselineSample-FormatRunToMakeBaselineFile2.PNG "構成ページの生成されたファイルに関する通知のスクリーンショット")

### <a name="configure-er-parameters-to-use-the-baseline-feature"></a>ER パラメーターを構成して、ベースライン機能を使用する

1. **構成** ページのアクション ウィンドウの **構成** タブで、**ユーザー パラメーター** を選択します。
2. **デバッグモードで実行する** オプションを **はい** に設定します。
3. **OK** を選択します。

![ユーザー パラメーター ダイアログ ボックス。](media/GER-BaselineSample-ERUserParameters.PNG "ユーザー パラメーター ダイアログ ボックスのスクリーンショット")

### <a name="add-a-new-baseline-for-designed-er-format"></a>デザインされた ER 形式の新しいベースライン ファイルの追加

1. **組織管理** \> **電子申告** \> **構成** の順に移動します。
2. アクション ウィンドウで、**ベースライン** を選択します。

    ![構成ページのベースライン ボタン。](media/GER-BaselineSample-OpenBaselinePage.PNG "構成ページのベースライン ボタンのスクリーンショット")

3. アクション ウィンドウで、**新規** を選択します。
4. 以前に設計した **ER ベースライン形式を学ぶための形式** ER 形式を選択します。
5. **保存** を選択します。

![電子申告形式のベースライン ページ。](media/GER-BaselineSample-AddBaseline.PNG "電子申告形式のベースライン ページのスクリーンショット")

ベースラインは **ER ベースラインを学習するための形式** 形式に追加されます。

### <a name="configure-a-baseline-rule-for-the-added-baseline"></a>追加したベースラインのベースライン ルールを構成する

1. **電子申告形式のベースライン** ページのアクション ウィンドウで、**添付ファイル** ボタン (紙クリップのアイコン) を選択します。
2. アクション ウィンドウで、**新規** \> **ファイル** を選択します。 ER パラメーターでは、**ファイル** ドキュメント タイプは、ベースライン ファイルの保存に使用されるドキュメント タイプとしてあらかじめ選択されている必要があります。
3. **参照** を選択し、構成された ER 形式を先ほど実行したときに生成された、**out.Admin.xml** ファイルを選択します。

    ![添付ファイル ページ。](media/GER-BaselineSample-UploadBaselineFile.PNG "添付ファイル ページのスクリーンショット")

4. **添付ファイル** ページを閉じます。
5. **ベースライン** クイックタブで **新規** を選択します。
6. **名前** フィールドに、**ベースライン 1** と入力します。
7. **ファイル コンポーネント名** フィールドで、**出力** を入力または選択します。 この値は、構成されたベースラインが **出力** 形式要素を使用して生成されたファイルと比較されることを示します。
8. **ファイル名マスク** フィールドに、**\*.xml** と入力します。

    > [!NOTE]
    > ファイル名マスクを定義できます。 ファイル名のマスクが定義されている場合、生成される出力ファイルの名前がそのマスクを満たす場合にのみ、ベースライン レコードは生成された出力を評価するために使用されます。

9. 特定の会社にサインインしているユーザーによって **ER ベースラインを学習するための形式** ER 形式が実行される場合にのみ、構成されたベースラインを使用する必要がある場合は、**会社** フィールドでそれらの会社を選択してください。
10. **ベースライン** フィールドで、**out.Admin** 添付ファイルを入力または選択します。
11. **保存** を選択します。

![電子申告形式のベースライン ページ。](media/GER-BaselineSample-SetupBaselineLine.PNG "電子申告形式のベースライン ページのスクリーンショット")

### <a name="run-the-designed-er-format-and-review-the-log-to-analyze-the-results"></a>デザインされた ER 形式を実行し、ログを確認して結果を分析する

1. **組織管理** \> **電子申告** \> **構成** の順に移動します。
2. ツリーで、**ER ベースラインを学習するためのモデル** を展開して、**ER ベースラインを学習するためのモデル\\ER ベースラインを学習するための形式** を選択します。
3. **バージョン** クイック タブで、**実行** を選択します。
4. **ID を入力** フィールドで、**1** と入力します。
5. **OK** を選択します。
6. **組織管理** \> **電子申告** \> **構成デバッグ ログ** の順に移動します。

    ![電子申告実行ログ ページ。](media/GER-BaselineSample-ReviewBaselineComparison1.PNG "電子申告実行ログ ページのスクリーンショット")

    > [!NOTE]
    > 実行ログには、生成されたファイルと構成されたベースラインとの比較の結果に関する情報が含まれます。 この例では、ログは、生成されたファイルとベースラインが同じであることを示しています。

7. **すべて削除** を選択します。

### <a name="run-the-designed-er-format-and-review-the-log-to-analyze-the-results"></a>デザインされた ER 形式を実行し、ログを確認して結果を分析する

1. **組織管理** \> **電子申告** \> **構成** の順に移動します。
2. ツリーで、**ER ベースラインを学習するためのモデル** を展開して、**ER ベースラインを学習するためのモデル\\ER ベースラインを学習するための形式** を選択します。
3. **バージョン** クイック タブで、**実行** を選択します。
4. **ID を入力** フィールドで、**2** と入力します。
5. **OK** を選択します。
6. **組織管理** \> **電子申告** \> **構成デバッグ ログ** の順に移動します。

    ![電子申告実行ログ ページ。](media/GER-BaselineSample-ReviewBaselineComparison2.PNG "電子申告実行ログ ページのスクリーンショット")

    > [!NOTE]
    > 実行ログには、生成されたファイルと構成されたベースラインとの比較の結果に関する情報が含まれます。 この例では、ログは、生成されたファイルとベースラインが異なることを示しています。

7. **比較** を選択します。

> [!NOTE]
> 生成されたファイルとベースライン ファイルは、ZIP ファイルとして提供されます。 WinDiff などの外部比較ツールを使用して、ファイルを比較し、相違点を確認することができます。

## <a name="additional-resources"></a>追加リソース

- [電子申告 (ER) フレームワークの構成](electronic-reporting-er-configure-parameters.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
---
title: 電子申告 (ER) の概要
description: このトピックでは、電子申告 (ER) ツールの概要について説明します。 重要な概念、サポートされているシナリオ、ソリューションの一部である形式について説明します。
author: NickSelin
manager: AnnBe
ms.date: 12/07/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERWorkspace
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: 58941
ms.assetid: 5d51b6a6-ad12-4af9-a66d-a1eb820ae57f
ms.search.region: global
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 33d399c6a9051097d3ea0c7990a37302395d9c77
ms.sourcegitcommit: 5192cfaedfd861faea63d8954d7bcc500608a225
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/30/2021
ms.locfileid: "5093929"
---
# <a name="electronic-reporting-er-overview"></a>電子申告 (ER) の概要

[!include [banner](../includes/banner.md)]

このトピックでは、電子申告 (ER) ツールの概要を示します。 重要な概念、ER がサポートするシナリオについて説明し、ソリューションの一部として設計およびリリースされているフォーマットの一覧も掲載しています。

ER とは、さまざまな国や地域の法的要件に応じて、受信および送信する電子ドキュメントの形式を構成するのに使用できるツールです。 ER では、そのライフ サイクル中にこれらの形式を管理することができます。 たとえば、新たな規制要件を採用することができ、政府機関、銀行、およびその他の関係者と情報を電子的に交換する際に必要とされる形式でビジネス ドキュメントを生成します。

ER エンジンは、開発者ではなく、ビジネス ユーザーを対象とします。 コードの代わりに形式を構成するため、電子ドキュメントの形式を作成および調整するプロセスは、より速く、より簡単になります。

ER では、TEXT、XML、Microsoft Word 文書、および OPENXML ワークシート形式がサポートされています。 ただし、拡張インターフェイスは追加の形式をサポートします。

## <a name="capabilities"></a>処理能力

ER エンジンには次の機能があります :

- 異なるドメインでの電子申告に使用する 1 つの共通ツールを表し、何らかの Finance and Operations の電子申告を行う、20 以上の異なるエンジンを置き換えます。
- 現在の実装から隔離されたレポートの形式を作成します。 つまり、この形式はさまざまなバージョンに適用できます。
- 元の形式に基づいたカスタム書式の作成をサポートします。 ローカリゼーション/カスタマイズの要件により元の形式が変更したときに、自動的にカスタマイズされた形式をアップグレードするための機能も含まれています。
- Microsoft ならびに Microsoft パートナーの両方の電子申告におけるローカライズ要件をサポートするための主要標準ツールとなります。
- Microsoft Dynamics Lifecycle Services (LCS) を使用してパートナーや顧客に形式を配分する機能をサポートします。

## <a name="key-concepts"></a>重要な概念

### <a name="components"></a>コンポーネント

ER では **データ モデル** および **形式** の 2 つのコンポーネントのタイプがサポートされます。

#### <a name="data-model-and-model-mapping-components"></a>データ モデルおよびモデル マッピング コンポーネント

データ モデルのコンポーネントは、データ構造の抽象的な表現です。 そのドメインの報告要件を満たすには十分な細目を含む、特定のビジネス ドメインの領域を説明するのに使用されます。 データ モデルのコンポーネントは、次の部分で構成されます。

- <a name="DataModelComponent"></a>ドメイン固有の一連のビジネス エンティティならびにこれらのエンティティ間の関係に関する階層的に構造化された定義としてのデータ モデル。
- <a name="ModelMappingComponent"></a>一連の選択された アプリケーション データ ソースを、実行時にデータ フローとビジネス データ数のルールをデータ モデル コンポーネントに指定するデータ モデルの個々の要素にリンクするモデル マッピング。

データ モデルの業種エンティティはコンテナー (レコード) で表されます。 事業エンティティのプロパティはデータ項目 (フィールド) として表されます。 各データ項目には固有の名前、ラベル、説明、および値があります。 各データ項目の値は、文字列、整数、実数、日付、列挙、ブール値などとして認識されるように設計されています。 さらに、別のレコードまたはレコード リストになる場合があります。

1 つのデータ モデルのコンポーネントは、ドメイン固有のビジネス エンティティの複数階層を含む場合があります。 さらに実行時に、特定のレポート固有のデータ フローをサポートするモデル マッピングを含む場合もあります。 階層はモデル マッピングのルートとして選択された １ つのレコードによって識別されます。 たとえば、支払いのドメイン エリアのデータ モデルは、次のマッピングをサポートする場合があります。

- 会社 \> 仕入先 \> AP ドメインの支払いトランザクション
- 顧客 \> 会社 \> AR ドメインの支払いトランザクション

会社および支払トランザクションなどのビジネス エンティティは 1 回設計されていることに注意してください。 その後、別のマッピングはそれを再利用します。

電子ドキュメントの送信をサポートするモデル マッピングには、次の機能があります。

- 異なるデータ型をデータ モデルのデータ ソースとして使用できます。 たとえば、テーブル、データ エンティティ、メソッド、または列挙型を使用できます。
- 実行時にデータを指定する必要がある時にデータ モデルのデータ ソースとして定義できるユーザー入力パラメーターをサポートします。
- 必要とされるグループへのデータの変換をサポートします。 フィルター、並べ替え、データ集計、Microsoft Excel のような式を使用してデザインされた、論理計算されたフィールドの追加をすることもできます。 詳細については、[電子申告 (ER) のフォーミュラ デザイナー](general-electronic-reporting-formula-designer.md) を参照してください。

電子ドキュメントの受信をサポートするモデル マッピングには、次の機能があります。

- さまざまな更新可能なデータの要素をターゲットとして使用できます。 これらのデータ要素には、テーブル、データ エンティティおよびビューが含まれます。 受信した電子ドキュメントからのデータを使用して、データを更新することができます。 複数のターゲットは、1 つのモデル マッピングに使用できます。
- 実行時にデータを指定する必要がある時にデータ モデルのデータ ソースとして定義できるユーザー入力パラメーターをサポートします。

データ モデルのコンポーネントは、データ ソースの物理的な実装からレポートを独立させるレポートに対し、統合されたデータのソースとして使用する必要がある各ビジネス ドメイン向けにデザインされています。 レポートの形式の初期デザインおよびメンテナンスをより効率的にするフォーム内で、ドメイン固有のビジネス概念および機能を示します。

#### <a name="format-components-for-outgoing-electronic-documents"></a><a name="FormatComponentOutbound"></a>送信する電子ドキュメントの形式のコンポーネント

形式のコンポーネントは、実行時に生成されるレポート出力のスキームです。 スキームは、次の要素で構成されます。

- 実行時に生成される、送信する電子ドキュメントの構造およびコンテンツを定義する形式
- 一連のユーザー入力パラメーターおよび選択されたモデル マッピングを使用するドメイン固有のデータ モデルとしてのデータ ソース。
- データ フローおよび形式出力生成のルールを実行時に指定する、形式の個々の要素を持つ形式データ ソースのバインディングの組み合わせとしての形式マッピング。
- 実行中のコンテキスト次第で、実行時のレポート生成を制御するコンフィギュレーション可能なルールの組み合わせとしての形式の検証。 たとえば、仕入先の支払の出力生成を停止し、銀行口座番号など、選択した仕入先の特定の属性が表示されない時に例外をスローするルールがある可能性があります。

形式のコンポーネントには、次の関数がサポートされています。

- テキスト、XML、Microsoft Word 文書またはワークシートなどの、異なる形式の個々のファイルとしてのレポート出力の作成。
- 複数のファイルを別々に作成およびこれらのファイルの zip ファイルへのカプセル化。

形式のコンポーネントにより、レポート出力に使用できる特定のファイルを添付できます。

- OPENXML ワークシート形式の出力のテンプレートとして使用できるワークシートを含む Excel ワークブック
- Microsoft Word 文書形式の出力のテンプレートとして使用できる文書を含む Word ファイル
- 事前定義されたファイルとしての形式出力に組み込める他のファイル

次の図は、データがこれらの形式にどのようにフローするかを示します。

[![送信する形式コンポーネントのデータ フロー](./media/ER-overview-02.png)](./media/ER-overview-02.png)

1 つの ER 書式設定コンフィギュレーションを実行し、送信する電子ドキュメントを生成するには、書式設定コンフィギュレーションのマッピングを識別する必要があります。

#### <a name="format-components-for-incoming-electronic-documents"></a><a name="FormatComponentInbound"></a>受信する電子ドキュメントの形式のコンポーネント

形式のコンポーネントは、実行時にインポートされる受信ドキュメントのスキームです。 スキームは、次の要素で構成されます。

- 実行時にインポートされるデータを含む、受信した電子ドキュメントの構造およびコンテンツを定義する形式。 形式のコンポーネントは、テキストや XML などのさまざまな形式で受信ドキュメントを解析するのに使用されます。
- マッピング形式は、個々の形式要素をドメイン固有のデータ モデル要素に結び付けます。 実行時に、データ モデル内の要素は、データ フローおよび受信ドキュメントからデータをインポートするためのルールを指定し、データ モデルにデータを格納します。
- 実行中のコンテキスト次第で、実行時のデータ インポートを制御するコンフィギュレーション可能なルールの組み合わせとしての形式の検証。 たとえば、仕入先の支払がある口座取引明細書のデータ インポートを停止したり、仕入先 ID コードなど、特定の仕入先の属性が表示されない時に例外をスローするルールがある可能性があります。

次の図は、データがこれらの形式にどのようにフローするかを示します。

[![受信する形式コンポーネントのデータ フロー](./media/ER-overview-03.png)](./media/ER-overview-03.png)

受信する電子ドキュメントからデータをインポートする 1 つの ER 書式設定のコンフィギュレーションを実行するには、書式設定のコンフィギュレーションの必要なマッピング、およびモデル マッピングの統合ポイントも識別する必要があります。 受信したドキュメントの異なるタイプに対する異なる形式と組み合わせて、同じモデル マッピングおよび宛先を使用できます。

#### <a name="component-versioning"></a>コンポーネントのバージョン管理

バージョン管理は ER のコンポーネントのためにサポートされます。 次のワークフローが ER コンポーネントの変更の管理のために提供されています:

1. 最初に作成されたバージョンは、**ドラフト** バージョンとしてマークされています。 このバージョンは編集することができ、テストの実行に使用できます。
2. **ドラフト** バージョンは **完了** バージョンに変換できます。 このバージョンは、ローカルのレポート プロセスで使用できます。
3. **完了** バージョンは **共有** バージョンに変換できます。 このバージョンは、LCS 上に公開され、グローバル レポート プロセスで使用することができます。
4. **共用** バージョンは **中止** バージョンに変換できます。 その後、このバージョンは削除できます。

**完了** または **共有** のいずれかのステータスを持つバージョンはその他のデータ交換に使用できます。 以下のアクションは、これらのステータスを持つコンポーネントで実行されます。

- コンポーネントは、XML 形式でシリアル化でき、XML 形式のファイルとしてエクスポートされます。
- コンポーネントは XML ファイルから再シリアル化でき、ER コンポーネントの新しいバージョンとしてアプリケーションにインポートできます。

#### <a name="component-date-effectivity"></a>コンポーネントの日付の有効性

ER コンポーネントのバージョンは有効日です。 **適用開始** 日を、ER コンポーネントに対して設定し、コンポーネントによるレポート プロセスの有効日が指定できるようになります。 コンポーネントが実行に有効かどうかを定義するために、アプリケーション セッションの日付が使用されます。 複数のバージョンが特定の日付に対して有効な場合、最新バージョンがレポート プロセスに使用されます。

#### <a name="component-access"></a>コンポーネントのアクセス

ER 形式のコンポーネントのアクセスは、ISO 国 / 地域コードの設定によって異なります。 この設定は、書式設定の選択したバージョンに対して空白である場合、形式のコンポーネントを実行時に、いかなる会社からもアクセスできます。 この設定に ISO 国 / 地域コードが含まれていると、形式のコンポーネントは、形式のコンポーネントの ISO 国 / 地域コードの 1 つに対して定義されている基本住所を持つ会社からのみ使用できます。

データ形式のコンポーネントの異なるバージョンでは、ISO 国 / 地域コード設定が異なる場合があります。

#### <a name="configuration"></a><a name="Configuration"></a>構成

ER コンフィギュレーションは、特定の ER コンポーネントのラッパーです。 そのコンポーネントは、データ モデルのコンポーネントまたは形式コンポーネントのいずれかです。 コンフィギュレーションは ER コンポーネントの異なるバージョンを含めることができます。 各コンフィギュレーションは、固有のコンフィギュレーション プロバイダーによって所有されているものとしてマークされます。 コンフィギュレーションの所有者がアプリケーションの ER 設定でアクティブなプロバイダーとして選択されている場合、コンフィギュレーションのコンポーネントの **ドラフト** バージョンを編集できます。

各モデル コンフィギュレーションには、データ モデル コンポーネントが含まれています。 新しい形式のコンフィギュレーションは、特定のデータ モデルの構成から派生している可能性があります。 コンフィギュレーション ツリーでは、作成される形式のコンフィギュレーションが元のデータ モデル コンフィギュレーションの子として表示されます。

作成される書式設定には形式コンポーネントが含まれています。 元となるモデル コンフィギュレーションのデータ モデルは、既定のデータ ソースとして子の形式のコンフィギュレーションの形式コンポーネントに自動的に挿入されます。

ER のコンフィギュレーションは、アプリケーション会社で共有されます。

#### <a name="provider"></a><a name="Provider"></a>プロバイダー

ER プロバイダーが各 ER コンフィギュレーションの作成者 (所有者) を表示するために使用する関係者の識別子です。 ER により。コンフィギュレーション プロバイダーの一覧を管理することができます。 Finance and Operations ソリューションの一部として電子ドキュメントに対してリリースされる形式コンフィギュレーションには、**Microsoft** コンフィギュレーション プロバイダーの所有であることを示すマークが表示されます。

新しい ER プロバイダーを登録するには、タスク ガイドを再生します。**ER コンフィギュレーション プロバイダーを作成して有効なプロバイダーとしてマーク付けする** (**7.5.4.3 IT サービス/ソリューション コンポーネントの取得/開発 (10677)** ビジネス プロセスの一部)。

#### <a name="repository"></a><a name="Repository"></a>リポジトリ

ER レポジトリは ER コンフィギュレーションを格納します。 次の ER リポジトリのタイプが現在サポートされています。 

- LCS 共有ライブラリ
- LCS プロジェクト
- ファイル システム
- RCS
- Operations リソース
- グローバル リポジトリ

**LCS 共有ライブラリ** リポジトリは、Lifecycle Services (LCS) の共有資産ライブラリ内のコンフィギュレーションの一覧へのアクセスを提供します。 この ERリポジトリのタイプは、Microsoft プロバイダーに対してのみ登録できます。 LCS 共有アセット ライブラリから、ER コンフィギュレーションの最新バージョンを現在のインスタンスにインポートできます。

**LCS プロジェクト** リポジトリでは、リポジトリの登録時に選択された特定の LCS プロジェクト (LCS プロジェクトのアセット ライブラリ) のコンフィギュレーションの一覧へのアクセス許可が提供されます。 ER で、現在のインスタンスから特定の **LCS プロジェクト** リポジトリへ共有コンフィギュレーションのアップロードが可能になります。 また、**LCS プロジェクト** リポジトリから Finance and Operations アプリの現在のインスタンスにコンフィギュレーションをインポートすることもできます。

**ファイル システム** リポジトリは、AOS サービスをホストしているコンピュータのローカル ファイル システムの特定のフォルダーの xml ファイルとして配置されているコンフィギュレーションの一覧へのアクセスを提供します。 必要なフォルダがリポジトリ登録ステージで選択されます。 **ファイル システム** リポジトリから現在のインスタンスに構成をインポートすることもできます。 

このリポジトリ タイプがアクセスできるのは、次の環境です:

- 開発のために配置されたクラウド ホスト環境 (囲まれたスイートのテスト モデルを含む)
- ローカル配置された環境 (オンプレミス)

詳細については、[電子申告 (ER) コンフィギュレーションのインポート](./electronic-reporting-import-ger-configurations.md) を参照してください。

**RCS** リポジトリは、リポジトリの登録段階で選択された [コンフィギュレーション サービス (RCS)](https://docs.microsoft.com/business-applications-release-notes/october18/dynamics365-finance-operations/regulatory-service-configuration) の特定インスタンスのコンフィギュレーション一覧へのアクセス許可を提供します。 ER を使用すると、選択した RCS インスタンスから完了または共有コンフィギュレーションを現在のインスタンスにインポートできるため、電子申告に使用できます。

詳細については、[RCS からの電子申告 (ER) コンフィギュレーションのインポート](./rcs-download-configurations.md) を参照してください。

**グローバル リポジトリ** リポジトリは、[コンフィギュレーション サービス](https://docs.microsoft.com/business-applications-release-notes/october18/dynamics365-finance-operations/regulatory-service-configuration) のグローバル リポジトリ内のコンフィギュレーション リストへのアクセスを提供します。 この ERリポジトリのタイプは、Microsoft プロバイダーに対してのみ登録できます。 グローバル リポジトリから、ER コンフィギュレーションの最新バージョンを現在のインスタンスにインポートできます。

詳細については、[コンフィギュレーション サービスのグローバル リポジトリから電子申告 (ER) コンフィギュレーションのインポート](./er-download-configurations-global-repo.md) を参照してください。

**運営リソース** リポジトリは、ER コンフィギュレーション プロバイダーとしての Microsoft が最初にアプリケーション ソリューションの一部としてリリースするコンフィギュレーションの一覧へのアクセス許可を提供します。 これらのコンフィギュレーションは、現在のインスタンスにインポートされ、電子申告またはサンプルのタスク ガイドの再生に使用できます。 また、追加のローカライズおよびカスタマイズにも使用できます。 Microsoft ER コンフィギュレーションによって提供される最新バージョンは、対応する ER リポジトリを使用して LCS 共有アセット ライブラリからインポートする必要があることに注意してください。

必要な **LCS プロジェクト**、**ファイル システム**、および **規制コンフィギュレーション サービス (RCS)** リポジトリは、現在のインスタンスの各コンフィギュレーション プロバイダーに対して個別に登録できます。 各リポジトリは、特定のコンフィギュレーション プロバイダー専用にできます。

## <a name="supported-scenarios"></a>サポートされているシナリオ

### <a name="building-a-data-model"></a>データ モデルの作成

ER は、特定のビジネス ドメインのデータ モデルの作成に使用できるモデル デザイナーを提供します。 すべてのドメイン固有のビジネス エンティティならびにそれらの間の関係は階層構造としてデータ モデルに表示されます。 

このシナリオの詳細をよく理解するために、**ER 設計ドメイン固有のデータ モデル** タスク ガイド (**7.5.4.3 IT サービス / ソリューション コンポーネントの取得 / 開発 (10677)** ビジネス プロセスの一部) を再生します。

### <a name="translating-data-model-content"></a>データ モデルのコンテンツの翻訳

データ モデルのコンテンツ (ラベルと説明) は、アプリケーションがサポートする他の言語に翻訳できます。 次のような理由により、データ モデルのコンテンツを翻訳することができます:

- 他の言語を話し、形式のコンポーネントのデータ マッピングにそのデータ モデルを利用するフォーマット デザイナーにとって、デザイン時にコンテンツがより分かり易いものとする。
- 実行時により使いやすくするため、プロンプトと実行時のパラメーターのヘルプ、およびコンフィギュレーションされた検証メッセージ (エラーと警告) はサインインしたユーザーが希望する言語で表示するのが望ましいです。

### <a name="configuring-data-model-mappings-for-outgoing-documents"></a>送信ドキュメントのデータ モデル マッピングをコンフィギュレーションします

ER は、特定のアプリケーション データソースに設計したデータ モデルにマップすることができるモデル マッピング デザイナーを提供します。 マッピングに基づき、実行時に、選択されたデータ ソースからデータ モデルにデータがインポートされます。 データ モデルは、送信する電子ドキュメントを生成する ER 形式の抽象データ ソースとして使用されます。 

このシナリオの詳細をよく理解するために、**ER モデル マッピングを定義し、データ ソースを選択** 並びに **ER データ モデルを選択したデータ ソースにマップする** タスク ガイド (**7.5.4.3 IT サービス / ソリューション コンポーネントの取得 / 開発 (10677)** ビジネス プロセスの一部) を再生します。

### <a name="configuring-data-model-mappings-for-incoming-documents"></a>受信ドキュメントのデータ モデル マッピングをコンフィギュレーションします

ER には、特定の宛先に設計されているデータ モデルにマップすることができるモデル マッピング デザイナーが用意されています。 たとえば、データ モデルは、更新可能なデータ コンポーネント (テーブル、データ エンティティ、およびビュー) にマップすることができます。 マッピングに基づき、データは実行時にデータ モデルからデータを使用して更新されます。 ER 形式の抽象ストレージとして、データ モデルには、受信した電子ドキュメントからインポートするデータが入力されます。 

### <a name="storing-a-designed-model-component-as-a-model-configuration"></a>モデル コンフィギュレーションとしてデザインされたモデル コンポーネントを保存する

ER は、現在のインスタンスのモデル コンフィギュレーションとして関連付けられているデータ マッピングと一緒に設計されたデータ モデルを保存できます。 次の図は、この種類のデータ モデル (支払のモデル コンフィギュレーション) の例を示します。

このシナリオの詳細をよく理解するために、**ER データ モデルを選択したデータ ソースにマップする** タスク ガイド (**7.5.4.3 IT サービス / ソリューション コンポーネントの取得 / 開発 (10677)** ビジネス プロセスの一部) を再生します。

### <a name="building-a-format-that-uses-a-data-model-as-a-base"></a>基準としてデータ モデルを使用する書式設定を作成する

ER は、基準としてモデル コンポーネントを選択し、選択されたビジネス ドメインの電子ドキュメントの書式を作成するのに使用できる形式デザイナーをサポートします。 同様の ER 形式デザイナーによって、作成する形式は、データ ソースとして選択されたドメインのデータ モデル マッピングにマップできるようになります。 

このシナリオの詳細をよく理解するために、**ER 設計ドメイン固有の形式** タスク ガイド (**7.5.4.3 IT サービス / ソリューション コンポーネントの取得 / 開発 (10677)** ビジネス プロセスの一部) を再生します。

### <a name="building-a-configuration-to-generate-electronic-documents-in-openxml-worksheet-format"></a>OPENXML ワークシート形式の電子ドキュメントを生成する構成を構築する

ER 形式のデザイナーは、OPENXML ワークシート形式で電子文書の作成に使用できます。 

このシナリオの詳細をよく理解するために、**OPENXML 形式でレポートのコンフィギュレーションを ER 作成する** タスク ガイド (**7.5.4.3 IT サービス / ソリューション コンポーネントの取得 / 開発 (10677)** ビジネス プロセスの一部) を再生します。 テンプレートをインポートするタスク ガイド ステップの一部として、[支払レポートのテンプレート (SampleVendPaymWsReport.xlsx)](https://go.microsoft.com/fwlink/?linkid=845202) Excel ファイルをテンプレートとして使用します。

### <a name="building-a-configuration-to-generate-electronic-documents-in-a-word-document-format"></a>Word 文書形式の電子ドキュメントを生成する構成を構築する

ER 形式のデザイナーは、Word 文書形式で電子文書の作成に使用できます。 次の図は、この種類の形式の例を示します。 この形式は、OPENXML 形式でレポート出力を生成するように最初に設計された既存の ER コンフィギュレーションを再使用することに注意してください。

このシナリオの詳細をよく理解するために、[Microsoft WORD 形式でレポートの生成を ER 設計] タスク ガイド (7.5.4.3 IT サービス / ソリューション コンポーネントの取得 / 開発 (10677) ビジネス プロセスの一部) を再生します。 テンプレートをインポートするタスク ガイド ステップの一部で、ER 形式のテンプレートとして、次の Word ファイルを使用します。

- [支払レポート (SampleVendPaymDocReport.docx) のテンプレート](https://go.microsoft.com/fwlink/?linkid=845202)
- [支払レポート (SampleVendPaymDocReportBounded.docx) のバインドされたテンプレート](https://go.microsoft.com/fwlink/?linkid=845202)

### <a name="building-a-configuration-to-import-data-from-incoming-electronic-documents"></a>受信した電子ドキュメントからデータをインポートするコンフィギュレーションの作成

ER 形式デザイナーは、XML またはテキストのいずれかの形式でデータのインポートが予定されている電子ドキュメントを説明するのに使用されます。 設計された形式は、受信ドキュメントの解析に使用されます。 ER 形式マッピング デザイナーは、データ モデルへ設計された形式の要素のバインディングを定義するのに使用できます。 

このシナリオの詳細をよく理解するために、[外部ファイルからデータをインポートするために必要な ER コンフィギュレーションの作成] タスク ガイド (7.5.4.3 IT サービス / ソリューション コンポーネントの取得 / 開発 (10677) ビジネス プロセスの一部) を再生します。 このガイドを再生するには、次のファイルを使用します。

- [ER データ モデル コンフィギュレーション (1099model.xml)](https://go.microsoft.com/fwlink/?linkid=845202)
- [ER 形式コンフィギュレーション (1099format.xml)](https://go.microsoft.com/fwlink/?linkid=845202)
- [XML 形式 (1099entries.xml) での受信ドキュメントのサンプル](https://go.microsoft.com/fwlink/?linkid=845202)
- [受信ドキュメント (1099entries.xlsx) のデータを管理するブックのサンプル](https://go.microsoft.com/fwlink/?linkid=845202)

### <a name="storing-a-designed-format-component-in-a-format-configuration"></a>設計された形式のコンポーネントを形式のコンフィギュレーションに保存

ER は、現在のインスタンスの形式コンフィギュレーションとしてコンフィギュレーションされたデータ マッピングと共に、設計された形式を保存できます。 前の図は、このような形式のコンフィギュレーションの例を示しています (**支払モデル** コンフィギュレーションの子である **BACS (英国)**)。 このシナリオの詳細をよく理解するために、**ER 設計ドメイン固有の形式** タスク ガイド (**7.5.4.3 IT サービス / ソリューション コンポーネントの取得 / 開発 (10677)** ビジネス プロセスの一部) を再生します。

### <a name="configuring-finance-to-start-to-use-a-created-format-internally"></a>作成した形式の内部使用を開始するためのファイナンスのコンフィギュレーション

アプリケーションは、電子申告生成のために作成された形式を使用するためにコンフィギュレーションできます。 作成された形式のコンフィギュレーションへの参照は、特定のドメインの設定において定義する必要があります。 たとえば、BACS 形式で電子仕入先支払の ER 形式のコンフィギュレーションを使用するためには、形式のコンフィギュレーションを特定の支払メソッドから参照する必要があります。

このシナリオの詳細をよく理解するために、**ER 支払いのための電子ドキュメントを生成するための形式を使用する** タスク ガイド (**7.5.4.3 IT サービス / ソリューション コンポーネントの取得 / 開発 (10677)** ビジネス プロセスの一部) を再生します。

## <a name="handling-er-components"></a>ER のコンポーネントの処理

### <a name="publishing-an-er-component-in-lcs-to-offer-it-externally-localization"></a>外部に提供するための LCS で ER コンポーネントを公開 (ローカライズ)

作成されたコンポーネント (モデルまたは形式) の所有者は、コンポーネントの完了したバージョンを LCS に公開するため ER を使用できます。 現在の ER コンフィギュレーション プロバイダーの **LCS プロジェクト** タイプのリポジトリが必要です。 コンポーネントの完了バージョンのステータスが **完了** から **共有** に変更されると、そのバージョンは LCS に公開されます。 コンポーネントが LCS に公開されている場合、そのコンポーネントの所有者は、コンポーネントをサポートするサービス プロバイダーになります。 たとえば、形式コンポーネントが法的に要求される電子ドキュメントを生成するように設計されている場合、(例えば、ローカライズのシナリオに従って) 法律上の変更に準拠してその形式を保つことを想定し、新しい法律上の要求を生じるときはいつでも、プロバイダーは新しいバージョンを発行します。 このシナリオの詳細をよく理解するために、**Lifecycle Services へのコンフィギュレーションの ER アップロード** タスク ガイド (**7.5.4.3 IT サービス / ソリューション コンポーネントの取得 / 開発 (10677)** ビジネス プロセスの一部) を再生します。

### <a name="importing-an-er-component-from-lcs-to-use-it-internally"></a>内部で使用する ER のコンポーネントを LCS からインポートする

ER により、ER コンポーネントを LCS から現在のインスタンスへインポートすることができるようになります。 **LCS プロジェクト** タイプのリポジトリが必要です。 ER コンポーネントが LCS から現在のインスタンスにインポートされた場合、インスタンスの所有者はインポートされたコンポーネントの所有者 (作成者) によって提供されるサービスの消費者になります。 たとえば、形式コンポーネントがアプリケーションから特定の国または地域固有の形式 (ローカライズのシナリオ) の特定の電子ドキュメントを生成するよう設計されている場合、サービス消費者は法律条件に準拠するために、その形式におけるすべての更新を取得できることを想定します。 このシナリオの詳細をよく理解するために、**Lifecycle Services からのコンフィギュレーションの ER インポート** タスク ガイド (**7.5.4.3 IT サービス / ソリューション コンポーネントの取得 / 開発 (10677)** ビジネス プロセスの一部) を再生します。

### <a name="building-a-format-selecting-another-format-as-a-base-customization"></a>基準 (カスタマイズ) として別の形式を選択する書式設定を作成

ER によって、LCS からインポートされたコンポーネント (基本) の現在のバージョンから新しいコンポーネントを作成 (派生) できるようになります。 たとえば、ユーザーはカスタマイズ シナリオをサポートする電子ドキュメント (複数のフィールドや詳細な説明など) の特殊な要件を実装するために、新しい形式を派生する必要があります。 このシナリオの詳細をよく理解するために **新しい基準のバージョンの採用による ER アップグレード形式** タスク ガイド (**7.5.4.3 IT サービス / ソリューション コンポーネントの取得 / 開発 (10677)** ビジネス プロセスの一部) を再生します。

### <a name="upgrading-a-format-selecting-a-new-version-of-base-format-rebase"></a>基準形式 (再ベース) の新しいバージョンを選択しながら形式をアップグレード

ER により、現在の派生コンポーネントのドラフト バージョンの中で、基本コンポーネントの最新バージョンの変更を自動的に採用できるようになります。 このプロセスは、*再ベース中* と呼ばれています。 たとえば、LCS からインポートした最新バージョンの形式から導入された新しい規制上の変更は、電子ドキュメントのこの形式のカスタマイズされたバージョンに自動的にマージできます。 自動的にマージできないすべての変更は競合とみなされます。 これらの競合は適切なコンポーネントのデザイナー ツールの手動解決に対して表示されます。 このシナリオの詳細をよく理解するために **新しい基準のバージョンの採用による ER アップグレード形式** タスク ガイド (**7.5.5.3 変更された IT サービス / ソリューション コンポーネントの取得 / 開発 (10683)** ビジネス プロセスの一部) を再生します。

## <a name="list-of-er-configurations-that-have-been-released-in-finance"></a><a name="list-of-configurations"></a>Finance でリリース済の ER 構成の一覧

Finance の ER 構成の一覧が更新されました。 [グローバル リポジトリ](er-download-configurations-global-repo.md) を開き、現在サポートされている ER コンフィギュレーションの一覧を確認します。 **中止の詳細** クイック タブで、中止された構成や管理されなくなった構成に関する情報を確認できます。 

![[構成 リポジトリ] ページのグローバル リポジトリのコンテンツ](./media/er-overview-03.gif)

## <a name="additional-resources"></a>追加リソース

- [電子申告 (ER) コンフィギュレーションの作成](electronic-reporting-configuration.md)
- [電子申告 (ER) コンフィギュレーション ライフサイクルの管理](general-electronic-reporting-manage-configuration-lifecycle.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
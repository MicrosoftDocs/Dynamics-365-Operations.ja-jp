---
title: 電子申告の数式言語
description: このトピックでは、電子申告 (ER) の数式言語の使用方法についての情報を提供します。
author: NickSelin
ms.date: 05/04/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERDataModelDesigner, ERExpressionDesignerFormula, ERMappedFormatDesigner, ERModelMappingDesigner
audience: Application User, IT Pro
ms.reviewer: kfend
ms.custom: 58771
ms.assetid: 24223e13-727a-4be6-a22d-4d427f504ac9
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 470b4fa1c8b15ae4a9e9ebef81af9e4ca107422d
ms.sourcegitcommit: 15aacd0e109b05c7281407b5bba4e6cd99116c28
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/10/2021
ms.locfileid: "6223989"
---
# <a name="electronic-reporting-formula-language"></a><span data-ttu-id="ac9ad-103">電子申告の数式言語</span><span class="sxs-lookup"><span data-stu-id="ac9ad-103">Electronic reporting formula language</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="ac9ad-104">電子申告 (ER) では、強力なデータ変換経験を提供します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-104">Electronic reporting (ER) provides a powerful data transformation experience.</span></span> <span data-ttu-id="ac9ad-105">[ER フォーミュラ デザイナー](general-electronic-reporting-formula-designer.md) で必要なデータ操作を表すために使用される言語は、Microsoft Excel の数式言語と共通しています。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-105">The language that is used to express the required data manipulations in the [ER formula designer](general-electronic-reporting-formula-designer.md) resembles the formula language in Microsoft Excel.</span></span>

## <a name="basic-syntax"></a><span data-ttu-id="ac9ad-106">基本構文</span><span class="sxs-lookup"><span data-stu-id="ac9ad-106">Basic syntax</span></span>

<span data-ttu-id="ac9ad-107">ER の式は、次のいずれかまたはすべての要素を含めることができます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-107">ER expressions can contain any or all of the following elements:</span></span>

- [<span data-ttu-id="ac9ad-108">定数</span><span class="sxs-lookup"><span data-stu-id="ac9ad-108">Constants</span></span>](#Constants)
- [<span data-ttu-id="ac9ad-109">演算子</span><span class="sxs-lookup"><span data-stu-id="ac9ad-109">Operators</span></span>](#Operators)
- [<span data-ttu-id="ac9ad-110">参照</span><span class="sxs-lookup"><span data-stu-id="ac9ad-110">References</span></span>](#References)
- [<span data-ttu-id="ac9ad-111">パス</span><span class="sxs-lookup"><span data-stu-id="ac9ad-111">Paths</span></span>](#Paths)
- [<span data-ttu-id="ac9ad-112">関数</span><span class="sxs-lookup"><span data-stu-id="ac9ad-112">Functions</span></span>](#Functions)

## <a name="constants"></a><a name="Constants"></a><span data-ttu-id="ac9ad-113">定数</span><span class="sxs-lookup"><span data-stu-id="ac9ad-113">Constants</span></span>

<span data-ttu-id="ac9ad-114">式の設計時に、テキストおよび数値定数 (つまり、計算されない定数) を使用できます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-114">When you design expressions, you can use text and numeric constants (that is, values that aren't calculated).</span></span> <span data-ttu-id="ac9ad-115">たとえば、`VALUE ("100") + 20` の式では、数値定数 **20** および文字列定数 **"100"** を使用し、**120** という数値を返します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-115">For example, the expression `VALUE ("100") + 20` uses the numeric constant **20** and the string constant **"100"**, and it returns the numeric value **120**.</span></span>

<span data-ttu-id="ac9ad-116">ER フォーミュラ デザイナーはエスケープ シーケンスをサポートします。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-116">The ER formula designer supports escape sequences.</span></span> <span data-ttu-id="ac9ad-117">したがって、別の方法で処理されるべき式文字列を指定することができます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-117">Therefore, you can specify an expression string that should be handled differently.</span></span> <span data-ttu-id="ac9ad-118">たとえば、`"Leo Tolstoy ""War and Peace"" Volume 1"` の式は、**レフ トルストイ "戦争と平和" ボリューム 1** というテキスト文字列を返します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-118">For example, the expression `"Leo Tolstoy ""War and Peace"" Volume 1"` returns the text string **Leo Tolstoy "War and Peace" Volume 1**.</span></span>

## <a name="operators"></a><a name="Operators"></a><span data-ttu-id="ac9ad-119">演算子</span><span class="sxs-lookup"><span data-stu-id="ac9ad-119">Operators</span></span>

<span data-ttu-id="ac9ad-120">次の表に、加算、減算、乗算、除算などの基本的な数学演算の実行に使用できる算術演算子を示します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-120">The following table shows the arithmetic operators that you can use to do basic mathematical operations, such as addition, subtraction, multiplication, and division.</span></span>

| <span data-ttu-id="ac9ad-121">オペレーター</span><span class="sxs-lookup"><span data-stu-id="ac9ad-121">Operator</span></span> | <span data-ttu-id="ac9ad-122">意味</span><span class="sxs-lookup"><span data-stu-id="ac9ad-122">Meaning</span></span>               | <span data-ttu-id="ac9ad-123">例</span><span class="sxs-lookup"><span data-stu-id="ac9ad-123">Example</span></span>     |
|----------|-----------------------|-------------|
| +        | <span data-ttu-id="ac9ad-124">追加</span><span class="sxs-lookup"><span data-stu-id="ac9ad-124">Addition</span></span>              | `1+2`       |
| -        | <span data-ttu-id="ac9ad-125">減算、否定</span><span class="sxs-lookup"><span data-stu-id="ac9ad-125">Subtraction, negation</span></span> | <span data-ttu-id="ac9ad-126">`5-2`、`-1`</span><span class="sxs-lookup"><span data-stu-id="ac9ad-126">`5-2`, `-1`</span></span> |
| \*       | <span data-ttu-id="ac9ad-127">乗算</span><span class="sxs-lookup"><span data-stu-id="ac9ad-127">Multiplication</span></span>        | `7\*8`      |
| /        | <span data-ttu-id="ac9ad-128">区分</span><span class="sxs-lookup"><span data-stu-id="ac9ad-128">Division</span></span>              | `9/3`       |

<span data-ttu-id="ac9ad-129">次の表に、サポートされる比較演算子を示します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-129">The following table shows the comparison operators that are supported.</span></span> <span data-ttu-id="ac9ad-130">これらの演算子を使用して、2 つの値を比較することができます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-130">You can use these operators to compare two values.</span></span>

| <span data-ttu-id="ac9ad-131">オペレーター</span><span class="sxs-lookup"><span data-stu-id="ac9ad-131">Operator</span></span> | <span data-ttu-id="ac9ad-132">意味</span><span class="sxs-lookup"><span data-stu-id="ac9ad-132">Meaning</span></span>                  | <span data-ttu-id="ac9ad-133">例</span><span class="sxs-lookup"><span data-stu-id="ac9ad-133">Example</span></span>      |
|----------|--------------------------|--------------|
| =        | <span data-ttu-id="ac9ad-134">等しい</span><span class="sxs-lookup"><span data-stu-id="ac9ad-134">Equal</span></span>                    | `X=Y`        |
| &gt;     | <span data-ttu-id="ac9ad-135">より大きい</span><span class="sxs-lookup"><span data-stu-id="ac9ad-135">Greater than</span></span>             | `X>Y`        |
| &lt;     | <span data-ttu-id="ac9ad-136">より小さい</span><span class="sxs-lookup"><span data-stu-id="ac9ad-136">Less than</span></span>                | `X<Y`        |
| &gt;=    | <span data-ttu-id="ac9ad-137">以上</span><span class="sxs-lookup"><span data-stu-id="ac9ad-137">Greater than or equal to</span></span> | `X>=Y`       |
| &lt;=    | <span data-ttu-id="ac9ad-138">以下</span><span class="sxs-lookup"><span data-stu-id="ac9ad-138">Less than or equal to</span></span>    | `X<=Y`       |
| &lt;&gt; | <span data-ttu-id="ac9ad-139">次の値に等しくない</span><span class="sxs-lookup"><span data-stu-id="ac9ad-139">Not equal to</span></span>             | `X<>Y`       |

<span data-ttu-id="ac9ad-140">また、テキスト連結演算子としてアンパサンド (&) を使用することができます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-140">Additionally, you can use an ampersand (&) as a text concatenation operator.</span></span> <span data-ttu-id="ac9ad-141">これにより、1 つ以上の文字列を 1 つのテキストに結合または連結することができます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-141">In this way, you can join, or concatenate, one or more text strings into a single piece of text.</span></span>

| <span data-ttu-id="ac9ad-142">オペレーター</span><span class="sxs-lookup"><span data-stu-id="ac9ad-142">Operator</span></span> | <span data-ttu-id="ac9ad-143">意味</span><span class="sxs-lookup"><span data-stu-id="ac9ad-143">Meaning</span></span>     | <span data-ttu-id="ac9ad-144">例</span><span class="sxs-lookup"><span data-stu-id="ac9ad-144">Example</span></span>                                               |
|----------|-------------|-------------------------------------------------------|
| &        | <span data-ttu-id="ac9ad-145">連結</span><span class="sxs-lookup"><span data-stu-id="ac9ad-145">Concatenate</span></span> | `"Nothing to print:" & " " & "no records found"`      |

### <a name="operator-precedence"></a><span data-ttu-id="ac9ad-146">演算子の優先順位</span><span class="sxs-lookup"><span data-stu-id="ac9ad-146">Operator precedence</span></span>

<span data-ttu-id="ac9ad-147">複合式のパーツを評価する順番は重要です。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-147">The order in which the parts of a compound expression are evaluated is important.</span></span> <span data-ttu-id="ac9ad-148">たとえば、`1 + 4 / 2` の式の結果は、加算または除算のどちらを先に実行するかによって異なります。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-148">For example, the result of the expression `1 + 4 / 2` varies, depending on whether the addition or division operation is done first.</span></span> <span data-ttu-id="ac9ad-149">明示的に式の評価方法を定義するためにかっこを使用できます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-149">You can use parentheses to explicitly define how an expression is evaluated.</span></span> <span data-ttu-id="ac9ad-150">たとえば、加算を最初に実行する必要があることを示すには、前の式を `(1 + 4) / 2` に変更できます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-150">For example, to indicate that the addition operation should be done first, you can change the preceding expression to `(1 + 4) / 2`.</span></span> <span data-ttu-id="ac9ad-151">式で工程の順序を明確に定義しない場合、順序はサポートされる演算子に割り当てられている既定の優先順位に基づきます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-151">If you don't explicitly indicate the order of operations in an expression, the order is based on the default precedence that is assigned to the supported operators.</span></span> <span data-ttu-id="ac9ad-152">次の表に、各演算子に割り当てられている優先順位を示します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-152">The following table shows the precedence that is assigned to each operator.</span></span> <span data-ttu-id="ac9ad-153">高い優先順位 (たとえば、7) がある演算子は、低い優先順位 (たとえば、1) がある演算子より前に評価されます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-153">Operators that have a higher precedence (for example, 7) are evaluated before operators that have a lower precedence (for example, 1).</span></span>

| <span data-ttu-id="ac9ad-154">優先順位</span><span class="sxs-lookup"><span data-stu-id="ac9ad-154">Precedence</span></span> | <span data-ttu-id="ac9ad-155">演算子</span><span class="sxs-lookup"><span data-stu-id="ac9ad-155">Operators</span></span>      | <span data-ttu-id="ac9ad-156">構文</span><span class="sxs-lookup"><span data-stu-id="ac9ad-156">Syntax</span></span>                                                                  |
|------------|----------------|-------------------------------------------------------------------------|
| <span data-ttu-id="ac9ad-157">7</span><span class="sxs-lookup"><span data-stu-id="ac9ad-157">7</span></span>          | <span data-ttu-id="ac9ad-158">グループ化</span><span class="sxs-lookup"><span data-stu-id="ac9ad-158">Grouping</span></span>       | <span data-ttu-id="ac9ad-159">( …</span><span class="sxs-lookup"><span data-stu-id="ac9ad-159">( …</span></span> <span data-ttu-id="ac9ad-160">)</span><span class="sxs-lookup"><span data-stu-id="ac9ad-160">)</span></span>                                                                   |
| <span data-ttu-id="ac9ad-161">6</span><span class="sxs-lookup"><span data-stu-id="ac9ad-161">6</span></span>          | <span data-ttu-id="ac9ad-162">メンバーのアクセス</span><span class="sxs-lookup"><span data-stu-id="ac9ad-162">Member access</span></span>  | <span data-ttu-id="ac9ad-163">…</span><span class="sxs-lookup"><span data-stu-id="ac9ad-163">…</span></span> <span data-ttu-id="ac9ad-164">します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-164">.</span></span> <span data-ttu-id="ac9ad-165">…</span><span class="sxs-lookup"><span data-stu-id="ac9ad-165">…</span></span>                                                                   |
| <span data-ttu-id="ac9ad-166">5</span><span class="sxs-lookup"><span data-stu-id="ac9ad-166">5</span></span>          | <span data-ttu-id="ac9ad-167">関数の呼び出し</span><span class="sxs-lookup"><span data-stu-id="ac9ad-167">Function call</span></span>  | <span data-ttu-id="ac9ad-168">…</span><span class="sxs-lookup"><span data-stu-id="ac9ad-168">…</span></span> <span data-ttu-id="ac9ad-169">( …</span><span class="sxs-lookup"><span data-stu-id="ac9ad-169">( …</span></span> <span data-ttu-id="ac9ad-170">)</span><span class="sxs-lookup"><span data-stu-id="ac9ad-170">)</span></span>                                                                 |
| <span data-ttu-id="ac9ad-171">4</span><span class="sxs-lookup"><span data-stu-id="ac9ad-171">4</span></span>          | <span data-ttu-id="ac9ad-172">乗算</span><span class="sxs-lookup"><span data-stu-id="ac9ad-172">Multiplicative</span></span> | <span data-ttu-id="ac9ad-173">…</span><span class="sxs-lookup"><span data-stu-id="ac9ad-173">…</span></span> <span data-ttu-id="ac9ad-174">\* …</span><span class="sxs-lookup"><span data-stu-id="ac9ad-174">\* …</span></span><br><span data-ttu-id="ac9ad-175">…</span><span class="sxs-lookup"><span data-stu-id="ac9ad-175">…</span></span> <span data-ttu-id="ac9ad-176">/ …</span><span class="sxs-lookup"><span data-stu-id="ac9ad-176">/ …</span></span>                                                         |
| <span data-ttu-id="ac9ad-177">3</span><span class="sxs-lookup"><span data-stu-id="ac9ad-177">3</span></span>          | <span data-ttu-id="ac9ad-178">付加</span><span class="sxs-lookup"><span data-stu-id="ac9ad-178">Additive</span></span>       | <span data-ttu-id="ac9ad-179">…</span><span class="sxs-lookup"><span data-stu-id="ac9ad-179">…</span></span> <span data-ttu-id="ac9ad-180">+ …</span><span class="sxs-lookup"><span data-stu-id="ac9ad-180">+ …</span></span><br><span data-ttu-id="ac9ad-181">…</span><span class="sxs-lookup"><span data-stu-id="ac9ad-181">…</span></span> <span data-ttu-id="ac9ad-182">- …</span><span class="sxs-lookup"><span data-stu-id="ac9ad-182">- …</span></span>                                                          |
| <span data-ttu-id="ac9ad-183">2</span><span class="sxs-lookup"><span data-stu-id="ac9ad-183">2</span></span>          | <span data-ttu-id="ac9ad-184">比較</span><span class="sxs-lookup"><span data-stu-id="ac9ad-184">Comparison</span></span>     | <span data-ttu-id="ac9ad-185">…</span><span class="sxs-lookup"><span data-stu-id="ac9ad-185">…</span></span> <span data-ttu-id="ac9ad-186">&lt; …</span><span class="sxs-lookup"><span data-stu-id="ac9ad-186">&lt; …</span></span><br><span data-ttu-id="ac9ad-187">…</span><span class="sxs-lookup"><span data-stu-id="ac9ad-187">…</span></span> <span data-ttu-id="ac9ad-188">&lt;= …</span><span class="sxs-lookup"><span data-stu-id="ac9ad-188">&lt;= …</span></span><br><span data-ttu-id="ac9ad-189">…</span><span class="sxs-lookup"><span data-stu-id="ac9ad-189">…</span></span><span data-ttu-id="ac9ad-190"> =&gt; …</span><span class="sxs-lookup"><span data-stu-id="ac9ad-190"> =&gt; …</span></span><br><span data-ttu-id="ac9ad-191">…</span><span class="sxs-lookup"><span data-stu-id="ac9ad-191">…</span></span> <span data-ttu-id="ac9ad-192">&gt; …</span><span class="sxs-lookup"><span data-stu-id="ac9ad-192">&gt; …</span></span><br><span data-ttu-id="ac9ad-193">…</span><span class="sxs-lookup"><span data-stu-id="ac9ad-193">…</span></span> <span data-ttu-id="ac9ad-194">= …</span><span class="sxs-lookup"><span data-stu-id="ac9ad-194">= …</span></span><br><span data-ttu-id="ac9ad-195">…</span><span class="sxs-lookup"><span data-stu-id="ac9ad-195">…</span></span> <span data-ttu-id="ac9ad-196">&lt;&gt; …</span><span class="sxs-lookup"><span data-stu-id="ac9ad-196">&lt;&gt; …</span></span> |
| <span data-ttu-id="ac9ad-197">1</span><span class="sxs-lookup"><span data-stu-id="ac9ad-197">1</span></span>          | <span data-ttu-id="ac9ad-198">区切り</span><span class="sxs-lookup"><span data-stu-id="ac9ad-198">Separation</span></span>     | <span data-ttu-id="ac9ad-199">…</span><span class="sxs-lookup"><span data-stu-id="ac9ad-199">…</span></span> <span data-ttu-id="ac9ad-200">, …</span><span class="sxs-lookup"><span data-stu-id="ac9ad-200">, …</span></span>                                                                   |

<span data-ttu-id="ac9ad-201">式に同じ優先順位を持つ複数の連続した演算子が含まれている場合は、これらの操作は左から右に評価されます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-201">If an expression includes multiple consecutive operators that have the same precedence, those operations are evaluated from left to right.</span></span> <span data-ttu-id="ac9ad-202">たとえば、`1 + 6 / 2 \* 3 > 5` の式は **true** を返します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-202">For example, the expression `1 + 6 / 2 \* 3 > 5` returns **true**.</span></span> <span data-ttu-id="ac9ad-203">式の閲覧や管理を簡単にするよう、式で操作する希望の順序を明示的に示すために、かっこを使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-203">We recommend that you use parentheses to explicitly indicate the desired order of operations in expressions, so that the expressions are easier to read and maintain.</span></span>

## <a name="references"></a><a name="References"></a><span data-ttu-id="ac9ad-204">参照</span><span class="sxs-lookup"><span data-stu-id="ac9ad-204">References</span></span>

<span data-ttu-id="ac9ad-205">式の設計中に使用できる現在の ER コンポーネントのすべてのデータ ソースは名前付き参照を使用できます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-205">All data sources of the current ER component that are available during the design of an expression can be used as named references.</span></span> <span data-ttu-id="ac9ad-206">現在の ER コンポーネントは、モデル マッピングまたは形式のいずれかです。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-206">The current ER component can be either a model mapping or a format.</span></span> <span data-ttu-id="ac9ad-207">たとえば、現在の ER モデル マッピングには、データ ソース: **ReportingDate** が含まれ、データ型: [*DateTime*](er-formula-supported-data-types-primitive.md#datetime) の値を返します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-207">For example, the current ER model mapping contains the **ReportingDate** data source, which returns a value of the [*DateTime*](er-formula-supported-data-types-primitive.md#datetime) data type.</span></span> <span data-ttu-id="ac9ad-208">生成ドキュメントでその値を正しく書式設定するために、`DATETIMEFORMAT (ReportingDate, "dd-MM-yyyy")` の式のデータ ソースを参照できます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-208">To correctly format that value in the generating document, you can reference the data source in the expression as `DATETIMEFORMAT (ReportingDate, "dd-MM-yyyy")`.</span></span>

<span data-ttu-id="ac9ad-209">アルファベットの文字で表されない参照元のデータ ソースの名前のすべての文字は、単一引用符 (') の後に続く必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-209">All characters in the name of a referencing data source that don't represent a letter of the alphabet must be preceded by a single quotation mark (').</span></span> <span data-ttu-id="ac9ad-210">参照データ ソースの名前がアルファベットの文字を表さない記号を少なくとも 1 つ含む場合、名前を単一引用符で囲む必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-210">If the name of a referencing data source contains at least one symbol that doesn't represent a letter of the alphabet, the name must be enclosed in single quotation marks.</span></span> <span data-ttu-id="ac9ad-211">たとえば、これらアルファベットでない記号は、句読点またはそのほかの書面記号です。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-211">For example, these non-alphabetic symbols can be punctuation marks or other written symbols.</span></span> <span data-ttu-id="ac9ad-212">次にいくつか例を挙げます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-212">Here are some examples:</span></span>

- <span data-ttu-id="ac9ad-213">**今日の日付 & 時間** データ ソースは、`'Today''s date & time'` のように ER の式で参照する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-213">The **Today's date & time** data source must be referred to in an ER expression as `'Today''s date & time'`.</span></span>
- <span data-ttu-id="ac9ad-214">**顧客** データ ソースの **name()** メソッドは、ER 式で `Customers.'name()'` のように参照する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-214">The **name()** method of the **Customers** data source must be referred to in an ER expression as `Customers.'name()'`.</span></span>

<span data-ttu-id="ac9ad-215">アプリケーション データ ソースのメソッドにパラメーターがある場合は、次の構文を使用して、これらのメソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-215">If the methods of application data sources have parameters, the following syntax is used to call those methods:</span></span>

- <span data-ttu-id="ac9ad-216">データ ソース: **システム** の **isLanguageRTL** メソッドが、データ型: [*String*](er-formula-supported-data-types-primitive.md#string)の **EN-US** パラメーターを含む場合、このメソッドは `System.isLanguageRTL("EN-US")` の ER 式として参照する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-216">If the **isLanguageRTL** method of the **System** data source has an **EN-US** parameter of the [*String*](er-formula-supported-data-types-primitive.md#string) data type, this method must be referred to in an ER expression as `System.isLanguageRTL("EN-US")`.</span></span>
- <span data-ttu-id="ac9ad-217">メソッド名に英数字シンボルのみが含まれている場合、引用符は必須ではありません。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-217">Quotation marks aren't required when a method name contains only alphanumeric symbols.</span></span> <span data-ttu-id="ac9ad-218">ただし、名前にかっこが含まれている場合、テーブルのメソッドに対しては必須です。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-218">However, they are required for a method of a table if the name includes brackets.</span></span>

<span data-ttu-id="ac9ad-219">**システム** データ ソースが、**グローバル** アプリケーション クラスを参照する ER マッピングに追加されると、式 `System.isLanguageRTL("EN-US ")` は *ブール* 値の **FALSE** を返します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-219">When the **System** data source is added to an ER mapping that refers to the **Global** application class, the expression `System.isLanguageRTL("EN-US ")` returns the *Boolean* value **FALSE**.</span></span> <span data-ttu-id="ac9ad-220">変更された式 `System.isLanguageRTL("AR")` は *ブール* 値の **TRUE** を返します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-220">The modified expression `System.isLanguageRTL("AR")` returns the *Boolean* value **TRUE**.</span></span>

<span data-ttu-id="ac9ad-221">値がこのメソッドのタイプのパラメータに渡される方法を制限することができます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-221">You can limit the way that values are passed to the parameters of this type of method:</span></span>

- <span data-ttu-id="ac9ad-222">このタイプのメソッドに、定数だけを渡すことができます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-222">Only constants can be passed to methods of this type.</span></span> <span data-ttu-id="ac9ad-223">定数の値は、デザイン時に定義されます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-223">The values of the constants are defined at design time.</span></span>
- <span data-ttu-id="ac9ad-224">このタイプのパラメーターでは、データ型: [primitive](er-formula-supported-data-types-primitive.md) (基本) のみがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-224">Only [primitive](er-formula-supported-data-types-primitive.md) (basic) data types are supported for parameters of this type.</span></span> <span data-ttu-id="ac9ad-225">プリミティブ データ型には、*整数*、*実数*、*ブール値*、および *文字列* が含まれます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-225">The primitive data types include *Integer*, *Real*, *Boolean*, and *String*.</span></span>

## <a name="paths"></a><a name="Paths"></a><span data-ttu-id="ac9ad-226">パス</span><span class="sxs-lookup"><span data-stu-id="ac9ad-226">Paths</span></span>

<span data-ttu-id="ac9ad-227">式が構成されたデータ ソースを参照する場合、そのデータ ソースの特定のプリミティブ要素の選択にパス定義を使用できます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-227">When an expression references a structured data source, you can use the path definition to select a specific primitive element of that data source.</span></span> <span data-ttu-id="ac9ad-228">ドット (.) は、構成されたデータ ソースの個別要素を区切るために使用します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-228">A dot character (.) is used to separate individual elements of a structured data source.</span></span> <span data-ttu-id="ac9ad-229">たとえば、現在の ER モデル マッピングには **InvoiceTransactions** データ ソースが含まれ、このデータ ソースはレコード一覧を返します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-229">For example, the current ER model mapping contains the **InvoiceTransactions** data source, and this data source returns a list of records.</span></span> <span data-ttu-id="ac9ad-230">**InvoiceTransactions** レコード構造には、**AmountDebit** および **AmountCredit** フィールドが含まれており、どちらのフィールドも数値を返します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-230">The **InvoiceTransactions** record structure contains the **AmountDebit** and **AmountCredit** fields, and both these fields return numeric values.</span></span> <span data-ttu-id="ac9ad-231">したがって、請求金額 `InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit` を計算するための次の式をデザインできます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-231">Therefore, you can design the following expression to calculate the invoiced amount: `InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit`.</span></span> <span data-ttu-id="ac9ad-232">この式の `InvoiceTransactions.AmountDebit` 構造は、*レコード リスト* タイプの **InvoiceTransactions** データ ソースの **AmountDebit** フィールドにアクセスするために使用されるパスです。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-232">The `InvoiceTransactions.AmountDebit` construction in this expression is the path that is used to access the **AmountDebit** field of the **InvoiceTransactions** data source of the *Record list* type.</span></span>

### <a name="relative-path"></a><span data-ttu-id="ac9ad-233">相対パス</span><span class="sxs-lookup"><span data-stu-id="ac9ad-233">Relative path</span></span>

<span data-ttu-id="ac9ad-234">構成されたデータ ソースのパスが "at" 記号 (@) で始まる場合は、相対パスとなります。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-234">If the path of a structured data source starts with an "at" sign (@), it's a relative path.</span></span> <span data-ttu-id="ac9ad-235">使用される階層ツリー構造の絶対パスの残り部分の代わりに、"at" 記号が表示されます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-235">The "at" sign is shown instead of the remaining part of the absolute path of the hierarchical tree structure that is used.</span></span> <span data-ttu-id="ac9ad-236">次の図は、例を示します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-236">The following illustration shows an example.</span></span> <span data-ttu-id="ac9ad-237">ここでは、絶対パス `Ledger.'accountingCurrency()'` は、**元帳** データ ソースからの会計通貨値がデータ モデルの **会計通貨** フィールドに入力されることを示します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-237">Here, the absolute path `Ledger.'accountingCurrency()'` indicates that the accounting currency value from the **Ledger** data source is entered in the **AccountingCurrency** field of the data model.</span></span>

![ER モデル マッピング デザイナー ページでの絶対パスの例](./media/ER-FormulaLanguage-AbsolutePath.png)

<span data-ttu-id="ac9ad-239">次の図の例では、相対パスがどのように使用されるかを示します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-239">The example in the following illustration shows how a relative path is used.</span></span> <span data-ttu-id="ac9ad-240">相対パス `@.AccountNum` は、**Intrastat** データ ソースの **AccountNum** フィールド (データモデルの階層ツリーの **AccountNum** フィールドの 1 レベル上に表示される) が、データモデルの **AccountNum** フィールドに顧客または仕入先勘定番号を入力して使用されることを示します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-240">The relative path `@.AccountNum` indicates that the **AccountNum** field of the **Intrastat** data source (which appears one level above the **AccountNum** field in the data model's hierarchical tree) is used to enter the customer or vendor account number in the data model's **AccountNum** field.</span></span>

![ER モデル マッピング デザイナー ページでの相対パスの例](./media/ER-FormulaLanguage-RelativePath1.png)

<span data-ttu-id="ac9ad-242">絶対パスの残りの部分は、[ER フォーミュラ エディター](general-electronic-reporting-formula-designer.md) でも表示されます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-242">The remaining part of the absolute path is also shown in the [ER formula editor](general-electronic-reporting-formula-designer.md).</span></span>

![ER フォーミュラ デザイナー ページの絶対パスの残りの部分](./media/ER-FormulaLanguage-RelativePath2.png)

<span data-ttu-id="ac9ad-244">詳細については、[ER モデルと ER 形式のデータ バインディングに相対パスを使用する](relative-path-data-bindings-er-models-format.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-244">For more information, see [Use a relative path in data bindings of ER models and formats](relative-path-data-bindings-er-models-format.md).</span></span>

## <a name="functions"></a><a name="Functions"></a><span data-ttu-id="ac9ad-245">関数</span><span class="sxs-lookup"><span data-stu-id="ac9ad-245">Functions</span></span>

<span data-ttu-id="ac9ad-246">ER 組み込み関数は、ER 式で使用できます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-246">ER built-in functions can be used in ER expressions.</span></span> <span data-ttu-id="ac9ad-247">式のコンテキストのすべてのデータ ソース (つまり、現在の ER モデル マッピングまたは ER フォーマット) は、呼び出し元関数の引数に従って呼び出し元関数のパラメータとして使用できます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-247">All data sources of the expression context (that is, the current ER model mapping or ER format) can be used as parameters of calling functions, in accordance with the list of arguments for calling functions.</span></span> <span data-ttu-id="ac9ad-248">定数は、呼び出し関数のパラメータとしても使用できます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-248">Constants can also be used as parameters of calling functions.</span></span> <span data-ttu-id="ac9ad-249">たとえば、現在の ER モデル マッピングには **InvoiceTransactions** データ ソースが含まれ、このデータ ソースはレコード一覧を返します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-249">For example, the current ER model mapping contains the **InvoiceTransactions** data source, and this data source returns a list of records.</span></span> <span data-ttu-id="ac9ad-250">**InvoiceTransactions** レコード構造には、**AmountDebit** および **AmountCredit** フィールドが含まれており、どちらのフィールドも数値を返します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-250">The **InvoiceTransactions** record structure contains the **AmountDebit** and **AmountCredit** fields, and both these fields return numeric values.</span></span> <span data-ttu-id="ac9ad-251">したがって、請求額を計算するには、ER 丸め関数を使用する次の式をデザインできます: `ROUND (InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit, 2)`。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-251">Therefore, to calculate the invoiced amount, you can design the following expression that uses the built-in ER rounding function: `ROUND (InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit, 2)`.</span></span>

<span data-ttu-id="ac9ad-252">ER モデル マッピングと ER レポートをデザインする場合は、次のカテゴリから ER 関数を使用できます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-252">When you design ER model mappings and ER reports, you can use ER functions from the following categories:</span></span>

- [<span data-ttu-id="ac9ad-253">日時の関数</span><span class="sxs-lookup"><span data-stu-id="ac9ad-253">Date and time functions</span></span>](er-functions-category-datetime.md)
- [<span data-ttu-id="ac9ad-254">リスト機能</span><span class="sxs-lookup"><span data-stu-id="ac9ad-254">List functions</span></span>](er-functions-category-list.md)
- [<span data-ttu-id="ac9ad-255">論理機能</span><span class="sxs-lookup"><span data-stu-id="ac9ad-255">Logical functions</span></span>](er-functions-category-logical.md)
- [<span data-ttu-id="ac9ad-256">算術関数</span><span class="sxs-lookup"><span data-stu-id="ac9ad-256">Mathematical functions</span></span>](er-functions-category-mathematical.md)
- [<span data-ttu-id="ac9ad-257">レコード機能</span><span class="sxs-lookup"><span data-stu-id="ac9ad-257">Record functions</span></span>](er-functions-category-record.md)
- [<span data-ttu-id="ac9ad-258">テキスト関数</span><span class="sxs-lookup"><span data-stu-id="ac9ad-258">Text functions</span></span>](er-functions-category-text.md)
- [<span data-ttu-id="ac9ad-259">データ収集機能</span><span class="sxs-lookup"><span data-stu-id="ac9ad-259">Data collection functions</span></span>](er-functions-category-data-collection.md)
- [<span data-ttu-id="ac9ad-260">その他 (ビジネス ドメインの特定の) 関数</span><span class="sxs-lookup"><span data-stu-id="ac9ad-260">Other (business domain–specific) functions</span></span>](er-functions-category-other.md)
- [<span data-ttu-id="ac9ad-261">型変換関数</span><span class="sxs-lookup"><span data-stu-id="ac9ad-261">Type conversion functions</span></span>](er-functions-category-type-conversion.md)

## <a name="functions-list-extension"></a><span data-ttu-id="ac9ad-262">関数の一覧の拡張</span><span class="sxs-lookup"><span data-stu-id="ac9ad-262">Functions list extension</span></span>

<span data-ttu-id="ac9ad-263">ER では ER の式で使用される関数の一覧を拡張できます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-263">ER lets you extend the list of functions that are used in ER expressions.</span></span> <span data-ttu-id="ac9ad-264">これにはエンジニアリングの実績が要求されます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-264">Some engineering effort is required.</span></span> <span data-ttu-id="ac9ad-265">詳細については、[電子申告 (ER) 関数の一覧の拡張](general-electronic-reporting-formulas-list-extension.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-265">For detailed information, see [Extend the list of Electronic reporting (ER) functions](general-electronic-reporting-formulas-list-extension.md).</span></span>

## <a name="compound-expressions"></a><span data-ttu-id="ac9ad-266">複合式</span><span class="sxs-lookup"><span data-stu-id="ac9ad-266">Compound expressions</span></span>

<span data-ttu-id="ac9ad-267">データ型が一致する場合、異なるカテゴリの関数を使用する複合式を作成できます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-267">You can create compound expressions that use functions from different categories, provided that the data types match.</span></span> <span data-ttu-id="ac9ad-268">関数を一緒に使用する場合は、1 つの関数からの出力のデータ型を別の関数が必要とする入力データ型に一致させます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-268">When you use functions together, match the data type of the output from one function to the input data type that is required by another function.</span></span> <span data-ttu-id="ac9ad-269">たとえば、フィールドの ER 形式要素へのバインディングで発生する "リストが空である" エラーを回避するには、次の例に示すように、[リスト](er-functions-category-list.md) カテゴリの関数を [論理](er-functions-category-logical.md) カテゴリの関数と組み合わせます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-269">For example, to avoid a possible "list-is-empty" error in a binding of a field to an ER format element, combine functions from the [List](er-functions-category-list.md) category with a function from the [Logical](er-functions-category-logical.md) category, as the following example shows.</span></span> <span data-ttu-id="ac9ad-270">ここでは、数式は [IF](er-functions-logical-if.md) 関数を使用して **IntrastatTotals** リストが空であるかどうかをテストしてから、必要な集計の値をリストから返します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-270">Here, the formula uses the [IF](er-functions-logical-if.md) function to test whether the **IntrastatTotals** list is empty before it returns the value of the required aggregation from that list.</span></span> <span data-ttu-id="ac9ad-271">**IntrastatTotals** リストが空の場合、数式は **0** (ゼロ) を返します。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-271">If the **IntrastatTotals** list is empty, the formula returns **0** (zero).</span></span>

```vb
IF(ISEMPTY(IntrastatTotals), 0.0, IntrastatTotals.aggregated.'$AmountMSTRounded') 
```

## <a name="multiple-solutions"></a><span data-ttu-id="ac9ad-272">複数のソリューション</span><span class="sxs-lookup"><span data-stu-id="ac9ad-272">Multiple solutions</span></span>

<span data-ttu-id="ac9ad-273">多くの場合、異なるカテゴリからの関数または同じカテゴリからの異なる機能を使用して、同じデータ変換結果を複数の方法で取得できます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-273">Often, you can get the same data transformation result in multiple ways, by using functions from different categories or different functions from the same category.</span></span> <span data-ttu-id="ac9ad-274">たとえば、前の式は [リスト](er-functions-category-list.md) カテゴリからの [COUNT](er-functions-list-count.md) 関数を使用してコンフィギュレーションすることもできます。</span><span class="sxs-lookup"><span data-stu-id="ac9ad-274">For example, the previous expression can also be configured by using the [COUNT](er-functions-list-count.md) function from the [List](er-functions-category-list.md) category.</span></span>

```vb
IF(COUNT (IntrastatTotals)=0, 0.0, IntrastatTotals.aggregated.'$AmountMSTRounded') 
```

## <a name="additional-resources"></a><span data-ttu-id="ac9ad-275">追加リソース</span><span class="sxs-lookup"><span data-stu-id="ac9ad-275">Additional resources</span></span>

[<span data-ttu-id="ac9ad-276">電子申告の概要</span><span class="sxs-lookup"><span data-stu-id="ac9ad-276">Electronic Reporting overview</span></span>](general-electronic-reporting.md)

[<span data-ttu-id="ac9ad-277">電子申告のフォーミュラ デザイナー</span><span class="sxs-lookup"><span data-stu-id="ac9ad-277">Formula designer in Electronic reporting</span></span>](general-electronic-reporting-formula-designer.md)

[<span data-ttu-id="ac9ad-278">電子申告機能の一覧の拡張</span><span class="sxs-lookup"><span data-stu-id="ac9ad-278">Extend the list of Electronic reporting functions</span></span>](general-electronic-reporting-formulas-list-extension.md)

[<span data-ttu-id="ac9ad-279">対応しているプリミティブ データ型</span><span class="sxs-lookup"><span data-stu-id="ac9ad-279">Supported primitive data types</span></span>](er-formula-supported-data-types-primitive.md)

[<span data-ttu-id="ac9ad-280">対応している複合データ型</span><span class="sxs-lookup"><span data-stu-id="ac9ad-280">Supported composite data types</span></span>](er-formula-supported-data-types-composite.md)

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]

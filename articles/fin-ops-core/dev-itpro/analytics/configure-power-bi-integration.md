---
title: PowerBI.com 統合の構成
description: このトピックでは、PowerBI.com との統合をサポートする新しい Finance and Operations 環境を構成する方法を説明します。
author: MilindaV2
ms.date: 07/22/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: PowerBIConfiguration
audience: IT Pro
ms.reviewer: kfend
ms.custom: 27661
ms.assetid: 861cfa94-c6f3-4c84-89ac-22c78bf6b7a4
ms.search.region: Global
ms.author: milindav
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: d3b382066bf52808af2a77a2915598a6279b73778521427ec32a38b9b50911b5
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/05/2021
ms.locfileid: "6717660"
---
# <a name="configure-powerbicom-integration"></a>PowerBI.com 統合のコンフィギュレーション

[!include [banner](../includes/banner.md)]

## <a name="overview"></a>概要

ユーザーは、PowerBI.com アカウントからアプリケーション ワークスペースに、タイル、ダッシュ ボード、およびレポートをピン留めすることができます。

この機能を使用するには、構成を一度設定する必要があります。 管理者は、Microsoft Power BI が正しく通信して認証できるようにするために、この手順を実行する必要があります。

ワークスペースに Power BI タイルを表示するには、サーバーはユーザーの代理として Power BI サービスに連絡し、視覚エフェクトにアクセスする必要があります。 そして、アプリケーション ワークスペースで視覚化を再描画する必要があります。 サーバーが Power BI サービスに「ユーザーの代わりに」連絡するということが重要です。 `D365User@contoso.com` などのユーザーが BI PowerBI.com サービスに連絡するとき、Power BI は、ユーザーの PowerBI.com サブスクリプションからタイルとレポートのみを表示するはずです。

この構成ステップが完了すると、PowerBI.com サービスに連絡できるようになります。

## <a name="things-you-must-know-before-you-start"></a>開始前に知っておく必要事項 

- アプリケーションのシステム管理者である必要があります。 このオプションは、**システム管理** メニューで利用できます。
- PowerBI.com のアカウントが必要です。 アカウントを持っていない場合は、試用版アカウントを作成することができます。 (プロ ライセンスは、この構成ステップでは必要ありません。)
- 自分の Power BI アカウントに、少なくとも 1 つのダッシュボードと 1 つのレポートがあることが必要です。 この構成ステップでは、ダッシュボードやレポートは必要ではありませんが、PowerBI.com アカウントにコンテンツが含まれていない場合コンフィギュレーションを検証することができないかもしれません。
- Microsoft Azure Active Directory (Azure AD) アカウントの管理者である必要があります。 管理者ではない場合は、管理者ユーザーはこのコンフィギュレーションの手順をユーザーのために実行する必要があります。
- 構成されている Azure AD ドメインは、自分の PowerBI.com アカウントに使用したドメインと同じである必要があります。 たとえば、Contoso.com ドメインでアプリケーションをプロビジョニングした場合、そのドメイン内に `Tim@ContosoAX7.onmicrosoft.com` などの Power BI アカウントを持っている必要があります。
- これらの固定されたタイルに移動するユーザーには、有効な Power BI.com ライセンスが必要です。

## <a name="registration-process"></a>登録プロセス 

1. Azure テナント管理者アカウントを使用して https://portal.azure.com/ にログインします。

    > [!NOTE]
    > この手順を完了したユーザーは、アプリケーションを登録するテナントの管理者権限を持っている必要があります。

2. **Azure Active Directory** \> **アプリの登録** \> **新しいアプリケーションの登録** の順に移動します。 
3. 次の値を入力します。

    - **名前** – アプリの名前を入力します。
    - **サポートされるアカウントの種類** – この組織 (単一のテナント) に直接所属しているアカウントのみを入力します。
    - **アプリケーション タイプ** – **Web** を入力します。
    - **リダイレクト URI** – `https://contosoax7.cloud.dynamics.com` など、クライアントのベース URL を入力します。

    
4. **登録** を選択します。
5. **アプリケーション (クライアント) ID** の値をコピーします。 この値を使用して、PowerBI.com サービスに接続します。

    > [!IMPORTANT] 
    > **アプリケーション (クライアント) ID** の値を必ずキャプチャしてください。

6. **管理** \> **API のアクセス許可** \> **アクセス許可の追加** \> **Microsoft API** \> **Power BI サービス** を選択します。
7. **委任されたアクセス許可の選択** を選択します。
8. 次のアクセス許可を有効にします。

    - **コンテンツ**

        - Content.Create

    - **ダッシュボード**

        - Dashboard.Read.All

    - **データセット**

        - Dataset.Read.All
        - Dataset.ReadWrite.All

    - **レポート**

        - Report.Read.All

    - **ワークスペース**

        - Workspace.Read.All

9. **アクセス許可の追加** を選択します。
10. **管理** \> **証明書 & シークレット** を選択します。
11. **クライアント シークレット** フィールドで、**新しいクライアント シークレット** を選択します。
12. **説明** および **有効期限** フィールドに値を入力し、**追加** を選択します。
13. **アプリケーション ID** および **シークレットの値** の値を書き留めます。 次の手順で、これらの値を使用します。

    > [!IMPORTANT]
    > 続行する前に、必ず **アプリケーション (クライアント) ID** と **シークレットの値** の値をキャプチャしてください。

## <a name="specify-power-bi-settings-in-finance-and-operations"></a>Finance and Operations における Power BI の設定を指定する

1. Finance and Operations クライアントで、**PowerBI.com コンフィギュレーション** ページを開きます。

    ![PowerBI.com コンフィギュレーション ページ](./media/D365-PBI-Configuration.png)

2. **編集** を選択します。
3. **有効** オプションを **はい** に設定します。
4. **アプリケーション ID** フィールドで、前の手順で Power BI から取得した **アプリケーション ID** の値を入力します。
5. **アプリケーション キー** フィールドで、前の手順で Azure AD からキャプチャした **シークレットの値** の値を入力します。

    Power BI のコンテンツに **会社** という名前のテーブルおよび **ID** という名前の列がある場合にのみ、会社フィルターを適用することができます。 リリース済の既存の Power BI コンテンツでは、この規約が使用されます。

6. **保存** を選択します。

次のセクションの手順を実行して変更を確認し、PowerBI.com の統合を有効にします。

## <a name="pin-tiles-to-a-workspace"></a>ワークスペースにタイルを固定

1. PowerBI.com コンフィギュレーションを検証するには、**開始する** を選択します。

    > [!NOTE]
    > 変更を適用するにはブラウザーを更新する必要があります。
    >
    > ![Power BI の承認。](./media/D365-PBI-GetStarted.png)

    アプリケーションから Power BI をはじめて起動する場合は、クライアントから、Power BI へのサインインを承認するように求められます。 **ここをクリックして Power BI に承認を与える** を選択します。

    ユーザーは、初めて Power BI コンテンツをピン留めするとき、このステップを完了する必要があります。

2. Azure AD の同意ページが、お客様の同意を求めます。 アプリケーションがユーザーに代わって PowerBI.com にアクセスするには、ユーザーの同意が必要です。 **受け入れる** を選択します。
3. Azure AD に既にサインインしているので、再度資格情報を入力する必要はありません。 新しいタブが表示され、アプリケーションと Power BI の間の接続を承認するように求められます。 接続を承認し元のタブに戻ります。
4. PowerBI.com アカウントのタイルの一覧が表示されます。 1 つまたは複数のタイルを選択し、選択したワークスペースにピン留めします。

    ![Power BI 統合の検証。](./media/D365-PBI-Validation.png)

## <a name="troubleshooting-common-errors"></a>一般的なエラーのトラブルシューティング

上の手順で **承諾** を選択した後、プロセスが失敗した場合、次のエラー メッセージが表示される場合があります。 エラーの詳細がメッセージの下部に表示されていることに注意します。 追加の技術情報は、原因を特定するのに役立つヒントを提供します。

### <a name="some-common-issues-and-the-resolution-steps"></a>一般的な問題および解決手順

| エラー                                                       | 解像度 |
|-------------------------------------------------------------|------------|
| Power BI サービスを使用できません。                        | この問題は頻繁には発生しませんが、Power BI サービスに到達できないことがあります。 再登録する必要はありません。 後でタイルをワークスペースに固定してみてください。 |
| アプリケーションにアクセスすることはできません。                           | 登録プロセス中に、**登録プロセスの手順 8** にあるすべてのチェック ボックスが選択されなかった可能性があります。 Power BI を起動し、登録プロセスを再実行します。 |
| Power BI タイル ページが空です (コンテンツが表示されません)。     | PowerBI.com アカウントに、ダッシュ ボードまたはタイルがない可能性があります。 サンプル ダッシュ ボードなどのダッシュボードを追加して、もう一度をタイルをピン留めしてみてください。 |
| Power BI の承認時にエラー                             | Azure 管理者ダッシュボードの、**ユーザーおよびグループ \> ユーザー設定** の下で、**ユーザーはアプリが会社のデータにアクセスすることに同意できる** オプションが **はい** に設定されていることを確認します。 |
| 問題が発生しました。 認証プロセスが成功しませんでした。 システム管理者に連絡してください。  | これはサービス キーの期限が切れている場合に発生する可能性があります。 前の手順 3 から始めて、上記の登録プロセスを実行することをお勧めします。 完了したら、**AX クライアント \> システム管理 \> 設定 \> PowerBI.com 統合** で PowerBI.com の設定の更新を確認してください。 |

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]

---
title: 生成された ER レポートの結果をベースライン値と比較して追跡する機能の向上
description: この記事では、Microsoft Dynamics 365 Finance バージョン 10.0.3 (2019年6月) における ER ベースライン機能の改善について説明します。
author: kfend
ms.date: 06/19/2019
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.region: Global
ms.author: filatovm
ms.search.validFrom: 2018-04-01
ms.dyn365.ops.version: Release 8.0
ms.custom: 220314
ms.assetid: 2685df16-5ec8-4fd7-9495-c0f653e82567
ms.openlocfilehash: d0f64c459ee72ffa2b0e540d4194ca887502780f
ms.sourcegitcommit: 87e727005399c82cbb6509f5ce9fb33d18928d30
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/12/2022
ms.locfileid: "9279063"
---
# <a name="improve-tracing-the-results-of-generated-er-reports-to-compare-with-baseline-values"></a>生成された ER レポートの結果をベースライン値と比較して追跡する機能の向上

[!include[banner](../includes/banner.md)]

この記事では、電子申告 (ER) フレームワークのベースライン機能に対して行われた最初の一連の改善について説明します。 これらの改善は、Microsoft Dynamics 365 Finance バージョン 10.0.3 (2019 年 6 月) 以降 で利用できます。

## <a name="automate-the-setting-of-baseline-rules"></a>ベースライン ルールの設定の自動化

[生成されたレポート結果をトレースして、ベースライン値と比較する](er-trace-reports-compare-baseline.md) 記事では、 ER 形式の実行に関する情報を収集し、その実行結果を評価するように ER フレームワークを構成する方法について説明しています。 この記事の例では、完了する必要があるステップを示します。

次にステップの例を示します。

- ER 形式を実行して送信ファイルを生成し、そのファイルをローカルに保存します。
- ローカルに保存されているファイルを、ER 形式用に追加されたベースラインの添付ファイルとして追加します。
- 追加したベースラインのベースライン ルールを構成します。 この構成には、次のステップが含まれます。

    - 送信ファイルの生成に使用される ER 形式要素を指定します。
    - 生成された発信ファイルを参照する添付ファイルを選択します。

> [!NOTE]
> これらのステップは、新しい ER 機能を使用して自動化することはできますが、手動で行う必要があります。 この機能の詳細を知るには、次の例を実行します。

## <a name="example-automate-the-setting-of-baseline-rules"></a>例: ベースライン ルールの設定の自動化

この例のステップを完了するには、最初に[生成されたレポート結果をトレースして、ベースライン値と比較する](er-trace-reports-compare-baseline.md) 記事の例のステップの "デザインされた ER 形式の新しいベースラインの追加" までを完了する必要があります。

### <a name="review-added-baseline"></a>追加したベースラインの確認

1. **組織管理** \> **電子申告** \> **構成** の順に移動します。
2. **ベースライン** を選択します。

    > [!NOTE]
    > アクション ウィンドウの **ベースライン** ボタンは、**デバッグ モードの実行** ER ユーザー パラメーターが現在の会社に対してオンになっている場合にのみ使用できます。

選択した **ER ベースラインを学習するための形式** 形式にベースラインが追加されましたが、このベースラインにはまだベースライン ルールが追加されていません。

![電子申告形式のベースライン ページ、ルールは未設定。](media/GER-BaselineSample-AddBaseline2.PNG "電子申告形式のベースライン ページのスクリーンショット")

### <a name="make-a-new-baseline-rule"></a>新しいベースライン ルールの作成

1. **組織管理** \> **電子申告** \> **構成** の順に移動します。
2. ツリーで、**ER ベースラインを学習するためのモデル** を展開します。
3. ツリーで、**ER ベースラインを学習するためのモデル\\ER ベースラインを学習するための形式** を選択します。
4. **バージョン** クイック タブで、**実行** を選択します。
5. **ID を入力** フィールドで、**1** と入力します。
6. **ベースライン ファイルの作成** オプションを **はい** に設定します。
7. **OK** を選択します。
8. **ベースライン** を選択します。

    ![電子申告形式のベースライン ページ、選択したベースライン。](media/GER-BaselineSample-ReviewAddedBaselineLine.PNG "電子申告形式のベースライン ページのスクリーンショット")

    生成された送信ファイルは、実行された ER 形式のベースラインに自動的に関連付けられています。 ベースライン ルールは、このベースラインに自動的に追加され、関連付けられたファイルへの参照も含まれます。

9. **名前** フィールドに、**ベースライン 1** と入力します。
10. **ファイル名マスク** フィールドに、**.xml** と入力します。
11. **保存** を選択します。

### <a name="run-the-format"></a>形式を実行する

これで、[生成されたレポート結果をトレースして、ベースライン値と比較する](er-trace-reports-compare-baseline.md) 記事の例の "デザインされた ER 形式を実行して結果を分析するためのログを確認する" から始まる残りのステップを完了する準備が整いました。

> [!NOTE]
> 自動的に追加されたベースライン ルールを **ベースライン** クイックタブで削除しても、参照した添付ファイルが自動的に削除されることはありません。

## <a name="configure-the-baseline-so-that-it-ignores-constantly-changing-parts-of-the-er-output"></a>常に変化する ER 出力の部分を無視するようにベースラインを構成する

ER 形式が、形式の実行時に変更される情報を含むように設計されている場合、ER ベースライン機能を使用して生成された結果とベースライン値を比較するには、形式を指定する必要があります。 たとえば、情報は処理日時またはさまざまな形式で生成された文書の一意の識別子 (グローバル一意識別子 \[GUID\] など) になる場合があります。 新しい ER 機能を使用すると、ベースラインの値を形式の実行結果と比較することを目的として形式が実行される場合に、ER 形式の変更可能な要素を無視するようにベースライン ルールを構成することができます。 この機能の詳細を知るには、次の例を実行します。

## <a name="example-configure-the-baseline-so-that-it-ignores-constantly-changing-parts-of-the-er-output"></a>例: 常に変化する ER 出力の部分を無視するようにベースラインを構成する

この例のステップを完了するには、最初に [生成されたレポート結果をトレースして、ベースライン値と比較する](er-trace-reports-compare-baseline.md) 記事の例のステップを完了する必要があります。

### <a name="modify-a-configured-er-format"></a>構成された ER 形式の変更

1. **組織管理** \> **電子申告** \> **構成** の順に移動します。
2. ツリーで、**ER ベースラインを学習するためのモデル** を展開します。
3. ツリーで、**ER ベースラインを学習するためのモデル\\ER ベースラインを学習するための形式** を選択します。
4. **デザイナー** をクリックします。
5. ツリーで、**出力\\ドキュメント** を選択します。
6. **追加** を選択します。
7. ドロップダウン ダイアログ ボックスのツリーで、**XML\\属性** を選択します。
8. **名前** フィールドに、**ProcessingDateTime** と入力します。
9. **OK** を選択します。
10. ツリーの **マッピング** タブで、**出力\\ドキュメント\\ProcessingDateTime** を選択します。
11. **式の編集** を選択します。
12. **式** フィールドで、次の式を入力します。**DATETIMEFORMAT(NOW(), "O")**
13. **保存** を選択してから、**テスト** を選択します。
14. 再度 **テスト** を選択して、構成されている式を再テストします。

    ![フォーミュラ デザイナー ページ。](media/GER-BaselineSample-DefineProcessingDTExpression.PNG "フォーミュラ デザイナー ページのスクリーンショット")

    > [!NOTE]
    > **テスト結果** タブは、構成された式が呼び出されるたびに、異なる日付と時刻の値を返すことを示します。

15. **フォーミュラ デザイナー** ページを閉じて、**保存** を選択します。

    ![形式デザイナー ページ。](media/GER-BaselineSample-FormatMappingDesign2.PNG "形式デザイナー ページのスクリーンショット")

16. **形式デザイナー** ページを閉じます。

### <a name="remove-an-existing-baseline-rule"></a>既存のベースライン ルールの削除

1. **組織管理** \> **電子申告** \> **構成** の順に移動します。
2. **ベースライン** を選択します。
3. ベースラインの一覧で、**ER ベースラインを学習するための形式** 形式に対して構成されているベースラインを選択します。
4. **ベースライン** クイックタブで、**削除** を選択して先ほど構成したベースライン ルールを削除します。

![電子申告形式のベースライン ページ、削除済。](media/GER-BaselineSample-AddBaseline3.PNG "電子申告形式のベースライン ページのスクリーンショット")

### <a name="define-replacements-for-bindings-of-designed-er-format"></a>デザインされたER形式のバインドの置換を定義する

1. **置換** クイックタブの **構成** ページで、**コンポーネントの選択** を選択します。
2. 形式のコンポーネント ツリーで、**出力** を展開して、**出力\\ドキュメント** を展開し、**出力\\ドキュメント\\ProcessingDateTime** のチェック ボックスを選択します。
3. **OK** を選択します。

![電子申告形式のベースライン ページ、コンポーネント。](media/GER-BaselineSample-AddBaseline4.PNG "電子申告形式のベースライン ページのスクリーンショット")

選択した ER 形式のコンポーネントが、**置換** クイックタブのコンポーネントの一覧に追加されました。 基本 ER 形式をデバッグ モードで実行すると、各コンポーネントの形式のバインドは、**バインド** 列に表示されるバインドによって置き換えられます。 **置換** クイックタブに表示されているコンポーネントの既定のバインドを変更するには、**編集** を選択します。

### <a name="make-a-new-baseline-rule"></a>新しいベースライン ルールの作成

この記事で前述した "例: ベースライン ルールの設定の自動化" のステップに従ってください。 通知は、送信ファイルがベースライン設定を使用して生成されたこと、および形式バインドの強制的な置換が行われたことを警告します。

![構成ページの通知。](media/GER-BaselineSample-FormatRunToMakeBaselineFile4.PNG "構成ページの通知のスクリーンショット")

### <a name="suppress-warnings-about-the-replacement-of-format-bindings"></a>形式バインドの置換に関する警告を非表示にする

特定の ER パラメーターを設定することにより、形式バインドの置換に関する通知を非表示にすることができます。 これは、Regression Suite Automation Tool を使用して無人モードで形式バインドを置換する場合に役立ちます。 この場合、警告は実行中のテスト ケースの失敗とみなすことができます。

1. **構成** ページのアクション ウィンドウの **構成** タブで、**ユーザー パラメーター** を選択します。
2. **ベースラインの警告を非表示にする** オプションを **はい** に設定して、**OK** を選択します。

### <a name="review-the-generated-baseline-file"></a>生成したベースライン ファイルを確認します。

1. **組織管理** \> **電子申告** \> **構成** の順に移動します。
2. **ベースライン** を選択します。
3. **添付ファイル** を選択します。
    > [!NOTE]
    > 生成されるファイルには、形式のバインドではなく、追加したベースラインで構成されたバインドからの処理日時テキスト (**"#"**) が含まれます。
    
4. **添付ファイル** ページを閉じます。

### <a name="run-the-designed-er-format-and-review-the-log-to-analyze-the-results"></a>デザインされた ER 形式を実行し、ログを確認して結果を分析する

1. **組織管理** \> **電子申告** \> **構成** の順に移動します。
2. ツリーで、**ER ベースラインを学習するためのモデル** を展開します。
3. ツリーで、**ER ベースラインを学習するためのモデル\\ER ベースラインを学習するための形式** を選択します。
4. **バージョン** クイック タブで、**実行** を選択します。
5. **ID を入力** フィールドで、**1** とタイプします。
6. **OK** を選択します。
7. **組織管理** \> **電子申告** \> **構成デバッグ ログ** の順に移動します。

実行ログには、生成されたファイルと構成されたベースラインとの比較の結果に関する情報が含まれます。 ログは生成されたファイルとベースラインが同じであることを示していますが、実行された形式には送信ファイルに常に変化する日付と時刻の値を入力するためのバインドが含まれています。

> [!NOTE]
> 送信ファイルは、形式のバインドを強制的に置換するベースライン設定を使用して生成されていますが、置換に関する警告は表示されません。

## <a name="exchange-baseline-settings-between-environments"></a>環境間でのベースライン設定の交換

### <a name="export-baseline-settings"></a>ベースラインの設定をエクスポートします。

新しい ER 機能を使用すると、選択した ER 形式のベースライン設定を現在の環境からエクスポートし、それらを XML ファイルとして保存できます。 

ベースライン設定をエクスポートするには、**電子申告形式のベースライン** ページで **エクスポート** を選択します。

### <a name="import-baseline-settings"></a>ベースライン設定をインポートします

エクスポートされたベースライン設定は、別の環境にインポートできます。 まず、環境を ER 形式としてインポートする必要があります。 その後、ベースライン設定をインポートできます。

ローカルに保存されている XML ファイルからベースライン設定をインポートするには、**電子申告形式のベースライン** ページで **インポート** を選択して、その後 **参照** を選択して XML ファイルを選択します。

![ベースライン設定のインポート ダイアログ ボックス。](media/GER-BaselineSample-ImportBaseline1.PNG "ベースライン設定のインポート ダイアログ ボックスのスクリーンショット")

現在のドキュメント管理設定と選択したドキュメント タイプに基づいて、Microsoft SharePoint Server に保存されている XML ファイルからベースライン設定をインポートするには、**電子申告形式のベースライン** ページで、**ソースからインポート** を選択します。 その後、ドキュメント タイプと XML ファイルを選択します。 SharePoint フォルダーへのアクセスに必要なドキュメント タイプは事前に構成されている必要があります。

![ソースからインポート ダイアログ ボックス。](media/GER-BaselineSample-ImportBaseline2.PNG "ソースからインポート ダイアログ ボックスのスクリーンショット")

> [!NOTE]
> **ソースからインポート** ダイアログ ボックスで、必要なドキュメント タイプおよびファイル名を選択するためのステップを、タスク レコーダーを使用して記録できます。 この方法により、必要なベースライン設定を SharePoint Server に保持した後、Regression Suite Automation Tool を使用して自動テストを実行する際に、タスク記録を再生することによって自動的にそれらをインポートすることができます。

## <a name="additional-resources"></a>追加リソース

- [生成されたレポート結果を追跡し、ベースライン値と比較する](er-trace-reports-compare-baseline.md)
- [タスク レコーダー リソース](../user-interface/task-recorder.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]


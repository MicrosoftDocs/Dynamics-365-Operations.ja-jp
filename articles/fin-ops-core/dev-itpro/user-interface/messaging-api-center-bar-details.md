---
title: メッセージ センター、メッセージ バー、およびメッセージ詳細 API
description: このトピックでは、メッセージング システムについて説明します。
author: sericks007
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Developer
ms.reviewer: sericks
ms.search.scope: Operations
ms.custom: 64153
ms.assetid: b69ec992-9bde-469e-99bb-773feb9489ff
ms.search.region: Global
ms.author: aorth
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 68daf17e5f40782a828f03cc5f9bcf7222a77b55
ms.sourcegitcommit: 574309903f15eeab7911091114885b5c7279d22a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "2658835"
---
# <a name="message-center-message-bar-and-message-details-api"></a><span data-ttu-id="6350f-103">メッセージ センター、メッセージ バー、およびメッセージ詳細 API</span><span class="sxs-lookup"><span data-stu-id="6350f-103">Message center, message bar, and message details API</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="6350f-104">このトピックでは、メッセージング システムについて説明します。</span><span class="sxs-lookup"><span data-stu-id="6350f-104">This topic describes the messaging system.</span></span>

<a name="message-api"></a><span data-ttu-id="6350f-105">メッセージ API</span><span class="sxs-lookup"><span data-stu-id="6350f-105">Message API</span></span>
-----------

<span data-ttu-id="6350f-106">Microsoft Dynamics AX 2012 には、**info()**、**warning()**、および **error()** に対する最も多い呼び出しの一覧を表示する "1 つのサイズですべてをまかなう" 汎用的なウィンドウがあります。</span><span class="sxs-lookup"><span data-stu-id="6350f-106">Microsoft Dynamics AX 2012 has an all-purpose, "one size fits all" window that displays a list of the most calls to **info()**, **warning()**, and **error()**.</span></span> <span data-ttu-id="6350f-107">このウィンドウは、適切かつ一般的には「情報ログ」または「Infolog」と略して呼ばれていました。</span><span class="sxs-lookup"><span data-stu-id="6350f-107">This window was appropriately and generically named the "Information Log," or “Infolog” for short.</span></span> <span data-ttu-id="6350f-108">情報ログは場合によっては役に立つツールでしたが、「one size fits all」アプローチは重要度を区別し、ユーザーが中断すべきか否かを決定する必要性において効果がないとみなされました。</span><span class="sxs-lookup"><span data-stu-id="6350f-108">Although the Infolog was a useful tool in some cases, its “one size fits all” approach was deemed ineffective for differentiating severity and determining whether the user should be interrupted.</span></span> <span data-ttu-id="6350f-109">新しいメッセージング システムでは、エクスペリエンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="6350f-109">A new messaging system improves the experience.</span></span> <span data-ttu-id="6350f-110">このより豊かで強力なメッセージング システムには、次の機能が含まれています。</span><span class="sxs-lookup"><span data-stu-id="6350f-110">This richer, more powerful messaging system that includes the following features:</span></span>

-   <span data-ttu-id="6350f-111">コンテキストのあるメッセージの関連性が強化されました (フォームとグローバル)。</span><span class="sxs-lookup"><span data-stu-id="6350f-111">Improved association of a message with its context (form versus global).</span></span>
-   <span data-ttu-id="6350f-112">中断のレベル (なし、軽微、および中断) を強化しました。</span><span class="sxs-lookup"><span data-stu-id="6350f-112">Improved level of interruption (none, subtle, and interrupting).</span></span>
-   <span data-ttu-id="6350f-113">メッセージの種類間での明確さと、その用途が強化されました。</span><span class="sxs-lookup"><span data-stu-id="6350f-113">Improved clarity between types of messages and their use.</span></span>
-   <span data-ttu-id="6350f-114">メッセージを表示するために使用されるコントロールは、フォーム コンテキストに基づいて deterministic です。</span><span class="sxs-lookup"><span data-stu-id="6350f-114">The control that is used to display messages is deterministic and based on form context.</span></span>

## <a name="legacy-api-support-info-warningcheckfailed-and-error"></a><span data-ttu-id="6350f-115">旧 API サポート: info()、warning()/checkfailed()、および error()</span><span class="sxs-lookup"><span data-stu-id="6350f-115">Legacy API support: info(), warning()/checkfailed(), and error()</span></span>
<span data-ttu-id="6350f-116">従来の **info()**、**warning()**、および **error()** アプリケーション プログラミング インターフェイス (API) はまだサポートされています。</span><span class="sxs-lookup"><span data-stu-id="6350f-116">The legacy **info()**, **warning()**, and **error()** application programming interfaces (APIs) are still supported.</span></span> <span data-ttu-id="6350f-117">ただし、それらはフレームワークの新しいメッセージング システム上に配置されるようになり、宛先が確定的になります。</span><span class="sxs-lookup"><span data-stu-id="6350f-117">However, they now sit upon the framework's new messaging system, and their destination is deterministic.</span></span> <span data-ttu-id="6350f-118">つまり、ユーザーにメッセージを表示するための最善の方法を決定するために、呼び出しのコンテキストを使用します。</span><span class="sxs-lookup"><span data-stu-id="6350f-118">In other words, it uses the context of the call to determine the best way to present the message to the user.</span></span> <span data-ttu-id="6350f-119">一般に、API の使用がフォームから生成された場合、そのメッセージが同じフォーム上のメッセージ バーで表示されます。</span><span class="sxs-lookup"><span data-stu-id="6350f-119">In general, if the use of the API originated from a form, the message appears in a message bar on that same form.</span></span> <span data-ttu-id="6350f-120">(ドロップ ダイアログおよびスライダー ダイアログはどちらもフォームとみなされます) **注記:** このルールにいくつかの例外があります。</span><span class="sxs-lookup"><span data-stu-id="6350f-120">(A drop dialog and a slider dialog are both considered forms.) **Note:** There are a few exceptions to this rule.</span></span> <span data-ttu-id="6350f-121">スライダーのダイアログ ボックスでは、メッセージ API が呼び出され、そのダイアログ ボックスが終了した場合は、スライダーの親フォームにメッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="6350f-121">If the message API was called from a slider dialog, and that dialog was closed, the message appears on the slider's parent form.</span></span> <span data-ttu-id="6350f-122">または、そのスライダーがクローズされたワークスペースでホストされている場合、メッセージはメッセージ センターにルーティングされます。</span><span class="sxs-lookup"><span data-stu-id="6350f-122">Alternatively, if that slider was closed, and it was hosted by a workspace, the message is routed to the Message center.</span></span> <span data-ttu-id="6350f-123">メッセージ API は決してメッセージを「食べる」ことはありません。</span><span class="sxs-lookup"><span data-stu-id="6350f-123">The message API never "eats" a message.</span></span> <span data-ttu-id="6350f-124">適切なホスト フォームが見つからない場合は、メッセージがメッセージ センターに送信されます。</span><span class="sxs-lookup"><span data-stu-id="6350f-124">If an appropriate host form isn't found, the message is sent to the Message center.</span></span> <span data-ttu-id="6350f-125">次のスクリーン ショットは、情報、警告/ checkfailed、およびエラー バーを示しています。</span><span class="sxs-lookup"><span data-stu-id="6350f-125">The following screen shot shows the info, warning/checkfailed, and error bars.</span></span> 

<span data-ttu-id="6350f-126">[![スクリーン ショットは、情報、警告/ checkfailed、およびエラー バーを表示](./media/1_api.jpg)](./media/1_api.jpg)</span><span class="sxs-lookup"><span data-stu-id="6350f-126">[![Screen shot showing the info, warning/checkfailed, and error bars](./media/1_api.jpg)](./media/1_api.jpg)</span></span>

## <a name="message-api-and-batch-or-asynchronous-operations"></a><span data-ttu-id="6350f-127">メッセージ API とバッチまたは非同期操作</span><span class="sxs-lookup"><span data-stu-id="6350f-127">Message API and batch or asynchronous operations</span></span>
<span data-ttu-id="6350f-128">**info()**、**warning()**/**checkfailed()**、または **error()** が非同期プロセス (たとえば、バッチ) から呼び出された場合、考慮するフォーム コンテキストはなく、メッセージはメッセージ センターに送信されます。</span><span class="sxs-lookup"><span data-stu-id="6350f-128">If **info()**, **warning()**/**checkfailed()**, or **error()** is called from an asynchronous process (for example, a batch), there is no form context to consider, and the messages are sent to the Message center.</span></span> <span data-ttu-id="6350f-129">(メッセージ センターを開くには、ナビゲーション バーのフラグ アイコンをクリックします。)</span><span class="sxs-lookup"><span data-stu-id="6350f-129">(To open the Message center, click the flag icon on the navigation bar.)</span></span> 

<span data-ttu-id="6350f-130">[![メッセージ センターのメッセージ](./media/2_api.png)](./media/2_api.png)</span><span class="sxs-lookup"><span data-stu-id="6350f-130">[![Messages in Message center](./media/2_api.png)](./media/2_api.png)</span></span>

## <a name="legacy-api-support-setprefix"></a><span data-ttu-id="6350f-131">旧 API サポート: SetPrefix()</span><span class="sxs-lookup"><span data-stu-id="6350f-131">Legacy API support: SetPrefix()</span></span>
<span data-ttu-id="6350f-132">このバージョンは **SetPrefix()** API もサポートしています。</span><span class="sxs-lookup"><span data-stu-id="6350f-132">This version also supports the **SetPrefix()** API.</span></span> <span data-ttu-id="6350f-133">これは、まだ下位互換性を維持しています。</span><span class="sxs-lookup"><span data-stu-id="6350f-133">This too remains backward-compatible.</span></span> <span data-ttu-id="6350f-134">ただし、**SetPrefix()** の結果は積極的にユーザーを中断しません。</span><span class="sxs-lookup"><span data-stu-id="6350f-134">However, the results of **SetPrefix()** don't actively interrupt the user.</span></span> <span data-ttu-id="6350f-135">代わりに、結果は収集され、(以前のバージョンのように) 保存されて、メッセージ バーまたはメッセージ センターの通知がユーザーに表示されます。</span><span class="sxs-lookup"><span data-stu-id="6350f-135">Instead, the results are collected and stored (as in previous versions), and a message bar or Message center notification is presented to the user.</span></span> <span data-ttu-id="6350f-136">この通知は、関連するタスクが完了し、ユーザーが確認する必要のあるメッセージがある可能性があることを示します。</span><span class="sxs-lookup"><span data-stu-id="6350f-136">This notification indicates that the related task has been completed, and that it might have messages that the user should review.</span></span> <span data-ttu-id="6350f-137">「結果の通知」メッセージは、実際にはタスクによる **SetPrefix()** の最初の呼び出しを使ってメッセージをフレーム化します。</span><span class="sxs-lookup"><span data-stu-id="6350f-137">The "Notification of results" message actually uses the task's first call to **SetPrefix()** to frame the message.</span></span> <span data-ttu-id="6350f-138">この動作は、最初の呼び出しが結果の「タイトル」であった以前のバージョンの動作に類似しています。</span><span class="sxs-lookup"><span data-stu-id="6350f-138">This behavior is similar to the behavior in previous versions, where the first call was the "title" of the results.</span></span> <span data-ttu-id="6350f-139">この例では、「転記の結果」が **SetPrefix()** への最初の呼び出しのアプリケーションから取得されます。</span><span class="sxs-lookup"><span data-stu-id="6350f-139">In this example, "Posting Results" comes from the application's first call to **SetPrefix()**.</span></span>

<span data-ttu-id="6350f-140">[![SetPrefix の例](./media/3_api.png)](./media/3_api.png)</span><span class="sxs-lookup"><span data-stu-id="6350f-140">[![SetPrefix example](./media/3_api.png)](./media/3_api.png)</span></span> 

<span data-ttu-id="6350f-141">ユーザーは、**メッセージの詳細**をクリックして、新しい**メッセージの詳細**ウィンドウを開きます。</span><span class="sxs-lookup"><span data-stu-id="6350f-141">The user can then click **Message Details** to open the new **Message details** pane.</span></span> 

<span data-ttu-id="6350f-142">[![メッセージの詳細ウィンドウ](./media/4_api.png)](./media/4_api.png)</span><span class="sxs-lookup"><span data-stu-id="6350f-142">[![Message details pane](./media/4_api.png)](./media/4_api.png)</span></span>

| <span data-ttu-id="6350f-143">メッセージ タイプ</span><span class="sxs-lookup"><span data-stu-id="6350f-143">Message type</span></span> | <span data-ttu-id="6350f-144">説明</span><span class="sxs-lookup"><span data-stu-id="6350f-144">Description</span></span>                                                                                                                                                                                                                                                                                                                                  |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="6350f-145">情報</span><span class="sxs-lookup"><span data-stu-id="6350f-145">Info</span></span>         | <span data-ttu-id="6350f-146">*通知*は、現在のユーザ活動と関連しないイベントについてユーザーに通知します。</span><span class="sxs-lookup"><span data-stu-id="6350f-146">A *notification* informs a user about events that are unrelated to the current user activity.</span></span> <span data-ttu-id="6350f-147">この通知は、ユーザー アクションまたは重要なシステム イベントによって発生する可能性があります。また、製品から有用な情報を提供することもできます。</span><span class="sxs-lookup"><span data-stu-id="6350f-147">The notification can be caused by a user action or significant system event, or it can offer potentially useful information from the product.</span></span> <span data-ttu-id="6350f-148">**info()** API を使用してユーザーに通知します。</span><span class="sxs-lookup"><span data-stu-id="6350f-148">You notify the user by using the **info()** API.</span></span>                                                 |
| <span data-ttu-id="6350f-149">警告</span><span class="sxs-lookup"><span data-stu-id="6350f-149">Warning</span></span>      | <span data-ttu-id="6350f-150">*警告*は、今後問題が発生する可能性のある状態についてユーザーに警告します。</span><span class="sxs-lookup"><span data-stu-id="6350f-150">A *warning* alerts the user about a condition that might cause a problem in the future.</span></span> <span data-ttu-id="6350f-151">ステータスが正しくないデータはエラーではありません。</span><span class="sxs-lookup"><span data-stu-id="6350f-151">Data that is in an incorrect state isn’t an error.</span></span> <span data-ttu-id="6350f-152">ただし、そのデータを使用しようと試みるとエラーが発生する可能性があり、したがって無効なデータが警告をトリガーします。</span><span class="sxs-lookup"><span data-stu-id="6350f-152">However, an attempt to use that data might cause an error, and therefore invalid data triggers a warning.</span></span> <span data-ttu-id="6350f-153">データ検証の問題を表現するには、**warning()** または **checkfailed()** API を使用します。</span><span class="sxs-lookup"><span data-stu-id="6350f-153">You express data validation issues by using the **warning()** or **checkfailed()** API.</span></span> |
| <span data-ttu-id="6350f-154">エラー</span><span class="sxs-lookup"><span data-stu-id="6350f-154">Error</span></span>        | <span data-ttu-id="6350f-155">*エラー*は既に発生した問題についてユーザーに警告します。</span><span class="sxs-lookup"><span data-stu-id="6350f-155">An *error* alerts a user about a problem that has already occurred.</span></span> <span data-ttu-id="6350f-156">失敗したユーザー アクションは、エラーをトリガーします。</span><span class="sxs-lookup"><span data-stu-id="6350f-156">A user action that has failed triggers an error.</span></span> <span data-ttu-id="6350f-157">パッシブ エラー (非中断) を表現するには、**error()** API を使用します。</span><span class="sxs-lookup"><span data-stu-id="6350f-157">You express a passive error (non-interrupting) by using the **error()** API.</span></span> <span data-ttu-id="6350f-158">ユーザーへの中断エラーを表現するには、**box::** API を使用します。</span><span class="sxs-lookup"><span data-stu-id="6350f-158">You express an interrupting error to the user by using the **box::** API.</span></span>                                                                  |

<span data-ttu-id="6350f-159">メッセージング システムは、確定的 です。</span><span class="sxs-lookup"><span data-stu-id="6350f-159">The messaging system is deterministic.</span></span> <span data-ttu-id="6350f-160">結果は、メッセージがコードから呼び出されたかどうかによって、メッセージ バーまたはメッセージ センターのどちらかに表示されます。</span><span class="sxs-lookup"><span data-stu-id="6350f-160">Results are displayed in either a message bar or the Message center, depending where the message is called from in the code:</span></span>

-   <span data-ttu-id="6350f-161">同期のフォーム アクション (ユーザーが結果を待つ必要があるアクション) の結果であるメッセージについては、結果は現在のフォームのメッセージ バーに表示されます。</span><span class="sxs-lookup"><span data-stu-id="6350f-161">For messages that are the result of synchronous form actions (actions where the user must wait for the result), the results are displayed in a message bar on the current form.</span></span> <span data-ttu-id="6350f-162">例外は、アクションの開始直後に閉じられたスライダー ダイアログのメッセージです。</span><span class="sxs-lookup"><span data-stu-id="6350f-162">The exceptions are messages for a slider dialog that was closed just after the action was started.</span></span> <span data-ttu-id="6350f-163">これらのメッセージは親フォームに表示されます。</span><span class="sxs-lookup"><span data-stu-id="6350f-163">Those messages appear on the parent form.</span></span>
-   <span data-ttu-id="6350f-164">非同期 (切断された) アクションについては、ユーザーは、アクションの処理中にその他のタスクを続行でき、その結果はメッセージ センターに表示されます。</span><span class="sxs-lookup"><span data-stu-id="6350f-164">For asynchronous (disconnected) actions, where the user can continue to do other tasks while the action is being processed, the results are displayed in the Message center.</span></span>

<span data-ttu-id="6350f-165">同期または他のフォーム アクションまたは評価でエラーが発生した場合は、次の 2 つのタイプのエラーがあります。</span><span class="sxs-lookup"><span data-stu-id="6350f-165">If a synchronous or other form action or evaluation produces an error, there can be two types of errors:</span></span>

-   <span data-ttu-id="6350f-166">中断エラーは、直接アクションを完了することができないため、直ちに修正する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6350f-166">An interrupting error, where a direct action can't be completed and must be corrected immediately.</span></span> <span data-ttu-id="6350f-167">このタイプのエラーはダイアログ ボックスに表示されます。</span><span class="sxs-lookup"><span data-stu-id="6350f-167">This type of error is shown in a dialog.</span></span>
-   <span data-ttu-id="6350f-168">多くの場合にタスク/バッチ操作の失敗に終わる非中断エラー。</span><span class="sxs-lookup"><span data-stu-id="6350f-168">A non-interrupting error, which is often the result of a task/batch operation failure.</span></span> <span data-ttu-id="6350f-169">このタイプのエラーはメッセージ バーに表示されます。</span><span class="sxs-lookup"><span data-stu-id="6350f-169">This type of error is shown in a message bar.</span></span>


<a name="additional-resources"></a><span data-ttu-id="6350f-170">その他のリソース</span><span class="sxs-lookup"><span data-stu-id="6350f-170">Additional resources</span></span>
--------

[<span data-ttu-id="6350f-171">ユーザー インターフェイス開発ホーム ページ</span><span class="sxs-lookup"><span data-stu-id="6350f-171">User interface development home page</span></span>](user-interface-development-home-page.md)




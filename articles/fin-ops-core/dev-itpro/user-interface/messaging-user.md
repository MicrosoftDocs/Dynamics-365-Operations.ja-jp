---
title: メッセージ センター、メッセージ バー、およびメッセージ詳細に関するよく寄せられる質問
description: このトピックでは、 Microsoft Dynamics AX 2012 に実装されていた Infolog ウィンドウの後継版となる強力なメッセージング システムについて説明します。
author: RobinARH
manager: AnnBe
ms.date: 07/09/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Developer
ms.reviewer: sericks
ms.search.scope: Operations
ms.custom: 50401
ms.assetid: ce9d2312-c02e-4649-a7e4-33c3a06dfbd4
ms.search.region: Global
ms.author: tlefor
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: b1a1c89e211528965e040b6bd42ac751f9bd695f
ms.sourcegitcommit: 9f90b194c0fc751d866d3d24d57ecf1b3c5053a1
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/07/2020
ms.locfileid: "3033052"
---
# <a name="message-center-message-bar-and-message-details-faq"></a><span data-ttu-id="4e116-103">メッセージ センター、メッセージ バー、およびメッセージ詳細に関するよく寄せられる質問</span><span class="sxs-lookup"><span data-stu-id="4e116-103">Message center, message bar, and message details FAQ</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="4e116-104">このトピックでは、 Microsoft Dynamics AX 2012 に実装されていた Infolog ウィンドウの後継版となる強力なメッセージング システムについて説明します。</span><span class="sxs-lookup"><span data-stu-id="4e116-104">This topic describes the rich, powerful messaging system that replaces the Infolog window that was used Microsoft Dynamics AX 2012.</span></span>

<span data-ttu-id="4e116-105">Microsoft Dynamics AX 2012 は汎用ウィンドウを使用して、最近報告された情報のメッセージ、警告、またはエラーの一覧を表示します。</span><span class="sxs-lookup"><span data-stu-id="4e116-105">Microsoft Dynamics AX 2012 uses an all-purpose window that opens to display a list of the most recently reported informational messages, warnings, or errors.</span></span> <span data-ttu-id="4e116-106">このウィンドウは、適切かつ一般的には情報ログまたは Infolog と呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="4e116-106">This window is appropriately and generically named the Information Log or Infolog.</span></span> <span data-ttu-id="4e116-107">情報ログは場合によっては有益なツールですが、「one size fits all」アプローチはメッセージの重要度を区別し、ユーザーを中断する必要性において効果がないと判断されました。</span><span class="sxs-lookup"><span data-stu-id="4e116-107">Although the Infolog is a beneficial tool in some cases, its “one size fits all” approach was judged to be ineffective for differentiating the severity of messages and the need to interrupt the user.</span></span> <span data-ttu-id="4e116-108">より豊富で強力なメッセージング システム:</span><span class="sxs-lookup"><span data-stu-id="4e116-108">The richer, more powerful messaging system:</span></span>

-   <span data-ttu-id="4e116-109">コンテキストのあるメッセージの関連性強化</span><span class="sxs-lookup"><span data-stu-id="4e116-109">Improved association of a message with its context</span></span>
-   <span data-ttu-id="4e116-110">中断のレベル (なし、軽微、および中断) の強化</span><span class="sxs-lookup"><span data-stu-id="4e116-110">Improved level of interruption (none, subtle, and interrupting)</span></span>
-   <span data-ttu-id="4e116-111">メッセージの種類間での明確さの強化</span><span class="sxs-lookup"><span data-stu-id="4e116-111">Improved clarity between types of messages</span></span>
-   <span data-ttu-id="4e116-112">メッセージを表示する確定的な手段</span><span class="sxs-lookup"><span data-stu-id="4e116-112">A deterministic means of displaying the message</span></span>

## <a name="should-i-show-the-user-a-notification-a-warning-or-an-error"></a><span data-ttu-id="4e116-113">通知、警告、またはエラーをユーザーに表示する必要がありますか。</span><span class="sxs-lookup"><span data-stu-id="4e116-113">Should I show the user a notification, a warning, or an error?</span></span>
<span data-ttu-id="4e116-114">これまで、**情報**、**警告** (**checkFailed**)、および**エラー**の状態は、シナリオ間で常に一貫して使用されていませんでした。</span><span class="sxs-lookup"><span data-stu-id="4e116-114">Historically, the **info**, **warning** (**checkFailed**), and **error** statuses weren't always used consistently across scenarios.</span></span> <span data-ttu-id="4e116-115">メッセージは、あるシナリオでは警告として、別のシナリオではエラーとして報告される場合があります。</span><span class="sxs-lookup"><span data-stu-id="4e116-115">A message might be reported as a warning in one scenario but as an error in another scenario.</span></span> <span data-ttu-id="4e116-116">表す状態を決定するとき、次の定義を使用します。</span><span class="sxs-lookup"><span data-stu-id="4e116-116">When you're deciding which status to express, use these definitions:</span></span>

-   <span data-ttu-id="4e116-117">**通知** – 通知は、現在のユーザー活動に関係する可能性のあるイベントまたは関係しない可能性のあるイベントについてユーザーに通知します。</span><span class="sxs-lookup"><span data-stu-id="4e116-117">**Notification** – A notification informs the user about events that might or might not be related to the current user activity.</span></span> <span data-ttu-id="4e116-118">この通知は、ユーザー アクションまたはシステム イベントによって発生する場合があります。または、有用なプログラムからの情報を提供することができます。</span><span class="sxs-lookup"><span data-stu-id="4e116-118">A notification can be caused by a user action or a system event, or it can provide information from the program that might be useful.</span></span> <span data-ttu-id="4e116-119">通知は通常、即時のユーザー操作を必要としません。</span><span class="sxs-lookup"><span data-stu-id="4e116-119">Typically, a notification doesn't require immediate user action.</span></span> <span data-ttu-id="4e116-120">**info()** アプリケーション プログラミング インターフェイス (API) を使用してユーザーに通知します。</span><span class="sxs-lookup"><span data-stu-id="4e116-120">You notify the user by using the **info()** application programming interface (API).</span></span>
-   <span data-ttu-id="4e116-121">**警告** – 警告は、今後問題が発生する可能性のある状態についてユーザーに警告します。</span><span class="sxs-lookup"><span data-stu-id="4e116-121">**Warning** – A warning alerts the user about a condition that might cause an issue in the future.</span></span> <span data-ttu-id="4e116-122">具体的には、警告は無効な状態のデータに使用されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-122">Specifically, a warning is used for data that is in an incorrect state.</span></span> <span data-ttu-id="4e116-123">無効なデータを使用するとエラーが発生するかもしれませんが、現状データの間違いを示すエラー状態ではなく、*ユーザーはデータの不適切な状態についてのみ警告する必要があります*。</span><span class="sxs-lookup"><span data-stu-id="4e116-123">Although any attempt to use this invalid data might produce an error, the fact that the current state of the data is incorrect isn't an error condition, and *the user should only be warned about the incorrect state of the data*.</span></span> <span data-ttu-id="4e116-124">データ検証の問題を表現するには、**warning()** または **checkFailed()** API を使用します。</span><span class="sxs-lookup"><span data-stu-id="4e116-124">You express data validation issues by using the **warning()** or **checkFailed()** API.</span></span>

    > [!NOTE]
    > <span data-ttu-id="4e116-125">システムが検証メッセージのクリーンアップを処理する方法により、**warning()** または **checkFailed()** API が使用される際、**validate()** の戻り値は*常に* **false** に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4e116-125">Because of the way that the system handles the cleanup of validation messages, when the **warning()** or **checkFailed()** API is used, the return value of **validate()** should *always* be set to **false**.</span></span> <span data-ttu-id="4e116-126">それ以外の場合は、警告メッセージがユーザーに表示されない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="4e116-126">Otherwise, warning messages might not be shown to the user.</span></span>

-   <span data-ttu-id="4e116-127">**エラー** - すでに発生した問題についてエラーがユーザーに警告します。</span><span class="sxs-lookup"><span data-stu-id="4e116-127">**Error** – An error alerts the user about a problem that has already occurred.</span></span> <span data-ttu-id="4e116-128">失敗したユーザー アクションは、エラー状態です。</span><span class="sxs-lookup"><span data-stu-id="4e116-128">A user action that has failed is an error condition.</span></span> <span data-ttu-id="4e116-129">エラーには、*非中断* (*パッシブ*) または*中断*を使用できます。</span><span class="sxs-lookup"><span data-stu-id="4e116-129">Errors can be *non-interrupting* (*passive*) or *interrupting*.</span></span> <span data-ttu-id="4e116-130">中断のないエラーでは、ユーザーは問題の修正を試みる前に他のアクティビティを実行できます。</span><span class="sxs-lookup"><span data-stu-id="4e116-130">In a non-interrupting error, users can perform other activities before they try to correct the issue.</span></span> <span data-ttu-id="4e116-131">中断エラーでは、ユーザーはエラー状態を修正するまで続行したりタスクを完了したりできません。</span><span class="sxs-lookup"><span data-stu-id="4e116-131">In an interrupting error, users can't proceed or complete the task until they correct the error condition.</span></span> <span data-ttu-id="4e116-132">パッシブ (非中断) エラーを表現するには、**error()** API を使用します。</span><span class="sxs-lookup"><span data-stu-id="4e116-132">You express a passive (non-interrupting) error by using the **error()** API.</span></span> <span data-ttu-id="4e116-133">中断エラーを表現するには、 **box::** API を使用します。</span><span class="sxs-lookup"><span data-stu-id="4e116-133">You express an interrupting error by using the **box::** API.</span></span>

## <a name="how-do-i-determine-where-my-messages-are-shown"></a><span data-ttu-id="4e116-134">メッセージがどこに表示されるかをどのように決定しますか。</span><span class="sxs-lookup"><span data-stu-id="4e116-134">How do I determine where my messages are shown?</span></span>
<span data-ttu-id="4e116-135">メッセージング システムは、*確定的* です。</span><span class="sxs-lookup"><span data-stu-id="4e116-135">The messaging system is *deterministic*.</span></span> <span data-ttu-id="4e116-136">つまり、ユーザーにメッセージを表示するための最善の方法を決定するために、メッセージング システムは呼び出しのコンテキストを使用します。</span><span class="sxs-lookup"><span data-stu-id="4e116-136">In other words, the messaging system uses the context of the call to determine the best way to show the message to the user.</span></span> <span data-ttu-id="4e116-137">メッセージは、ページの上部に表示されるメッセージ バーまたはナビゲーション バーに表示されるメッセージ センターに表示されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-137">Messages are shown either in a message bar that appears at the top of pages or in the Message Center, which appears in the navigation bar.</span></span> <span data-ttu-id="4e116-138">メッセージの場所は、メッセージの送信元コードによって異なります。</span><span class="sxs-lookup"><span data-stu-id="4e116-138">The location of the message depends on where in code the message is sent from.</span></span>

-   <span data-ttu-id="4e116-139">メッセージが同期のページ アクション (つまり、ユーザーが結果を待つ必要がある) によって発生した場合、結果は現在のページのメッセージ バーに表示されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-139">If the message is caused by a page action that is synchronous (that is, the user must wait for the result), the result is shown in a message bar on the current page.</span></span> <span data-ttu-id="4e116-140">(例外は、アクションが開始された後すぐに終了したスライダー ダイアログです。</span><span class="sxs-lookup"><span data-stu-id="4e116-140">(The exception is a slider dialog that was closed immediately after the action was started.</span></span> <span data-ttu-id="4e116-141">スライダー ダイアログのメッセージが親のページにバブル アップします。)</span><span class="sxs-lookup"><span data-stu-id="4e116-141">Messages for slider dialogs "bubble up" to the parent page.)</span></span>
-   <span data-ttu-id="4e116-142">メッセージが同期のアクション (切断) によって発生し、ユーザーが他のタスクを実行できる場合、またはそのアクションの処理中にも別のタスクにさえ移動できる場合は、結果はメッセージ センターに表示されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-142">If the message is caused by an action that is asynchronous (disconnected), and the user can continue to perform other tasks or even navigate to another page while that action is being processed, the result is shown in the Message Center.</span></span>

## <a name="how-do-i-change-my-existing-code-to-use-the-new-messaging-system"></a><span data-ttu-id="4e116-143">新しいメッセージング システムを使用して既存のコードをどのように変更できますか。</span><span class="sxs-lookup"><span data-stu-id="4e116-143">How do I change my existing code to use the new messaging system?</span></span>
<span data-ttu-id="4e116-144">*多くの場合、変更は必要ありません。*</span><span class="sxs-lookup"><span data-stu-id="4e116-144">*In many cases, no changes are required.*</span></span> <span data-ttu-id="4e116-145">メッセージング フレームワークは、多くの一般的なシナリオの下位互換性を革新し維持するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="4e116-145">The messaging framework was designed to innovate and maintain backward compatibility for many common scenarios.</span></span> <span data-ttu-id="4e116-146">場合によっては、プログラムがメッセージの内容を改善させることがあります。</span><span class="sxs-lookup"><span data-stu-id="4e116-146">In some cases, the program might improve the wording of messages.</span></span> <span data-ttu-id="4e116-147">または、使用法のガイダンスに合わせるために**警告()** の代わりに**エラー()**、または**エラー()** の代わりに**警告()** を使用するかもしれません (警告は無効なデータ、エラーは失敗したアクションのためのものです)。</span><span class="sxs-lookup"><span data-stu-id="4e116-147">Alternatively, the program might use **error()** instead of **warning()**, or **warning()** instead of **error()**, to better align with the usage guidance (warnings are for data that isn't valid, whereas errors are for failed actions).</span></span> <span data-ttu-id="4e116-148">それ以外の場合、スライダーのダイアログに表示されるメッセージが親ページに適していると判断できる場合があります。</span><span class="sxs-lookup"><span data-stu-id="4e116-148">In other cases, you might decide that messages that appear on a slider dialog are more appropriate for the parent page.</span></span>

### <a name="messaging-that-is-used-in-validation"></a><span data-ttu-id="4e116-149">検証に使用されるメッセージング</span><span class="sxs-lookup"><span data-stu-id="4e116-149">Messaging that is used in validation</span></span>

<span data-ttu-id="4e116-150">AX 2012 では、ユーザーが無効とみなされるデータを入力またはデータが見つからない場合、前の有効な値がフィールドに返され、そのフォームから別のウィンドウの情報ログにフォーカスが移動します。</span><span class="sxs-lookup"><span data-stu-id="4e116-150">In AX 2012, when a user enters data that is determined to be invalid, or when the data isn't found, the previous valid value is returned to the field, and focus moves from the form to a different window, the Infolog.</span></span> <span data-ttu-id="4e116-151">ユーザーがヘッド ダウン データ入力を行い、停止する必要がある場合、無効な値を保有するフィールドにフォーカスを戻し、対応しているエントリを入力します。</span><span class="sxs-lookup"><span data-stu-id="4e116-151">If the user is doing "heads-down" data entry, he or she must then stop, move focus back to the field that had the invalid value, and type a correcting entry.</span></span> <span data-ttu-id="4e116-152">また、無効な値クリアされるので、ユーザーが単一の番号を入れ替えたり、単一の文字を誤って入力した場合でも、全体の値を再入力する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4e116-152">Additionally, because the invalid value is cleared, even if the user transposed a single number or mistyped a single character, he or she must retype the whole value.</span></span> <span data-ttu-id="4e116-153">「無効な値」メッセージが画面に残り、ユーザーは手動でクエリにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="4e116-153">The "invalid value" message remains on the screen, and the user must manually clear it.</span></span> <span data-ttu-id="4e116-154">ただし、Microsoft Dynamics の現在のバージョンでは、ページ上のメッセージ バーに検証メッセージ (同じ API を使用する) が表示されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-154">However, in the current version of Microsoft Dynamics, the validation message (which uses the same API) appears in a message bar on the page itself.</span></span> <span data-ttu-id="4e116-155">無効な値は残っていますが、無効なフラグが立てられています。</span><span class="sxs-lookup"><span data-stu-id="4e116-155">The invalid value remains but is flagged as invalid.</span></span> <span data-ttu-id="4e116-156">ユーザーは引き続きデータを入力でき、データが保存される前の任意の時点で検証の問題を修正することができます。</span><span class="sxs-lookup"><span data-stu-id="4e116-156">The user can continue to enter data and can correct the validation issue at any point before the data is saved.</span></span>

<span data-ttu-id="4e116-157">検証の問題が修正されると、メッセージ バーの対応するメッセージは無効になり、メッセージング システムがメッセージを削除します。</span><span class="sxs-lookup"><span data-stu-id="4e116-157">When a validation issue has been corrected, so that the corresponding message in the message bar is no longer valid, the messaging system removes the message.</span></span> <span data-ttu-id="4e116-158">メッセージ削除のタイミングは、検証ロジックが定義されているレベルによって異なります。</span><span class="sxs-lookup"><span data-stu-id="4e116-158">The timing of message removal depends on the level where the validation logic is defined.</span></span>

-   <span data-ttu-id="4e116-159">検証ロジックがコントロールまたはフィールド レベルで定義されている場合、コントロールまたはフィールドに有効な値が入力されると、メッセージは削除されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-159">If the validation logic is defined at the control or field level, the message is removed when a valid value is entered in the control or field.</span></span>
-   <span data-ttu-id="4e116-160">検証ロジックがテーブル レベルで定義されている場合、次回ユーザーが保存境界を超えるときにメッセージが削除されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-160">If the validation logic is defined at the table level, the message is removed the next time that the user crosses a save boundary.</span></span>

### <a name="legacy-api-support-info-warningcheckfailed-and-error"></a><span data-ttu-id="4e116-161">旧 API サポート: info()、warning()/checkfailed()、および error()</span><span class="sxs-lookup"><span data-stu-id="4e116-161">Legacy API support: info(), warning()/checkfailed(), and error()</span></span>

<span data-ttu-id="4e116-162">従来の **info()**、**warning()**、および **error()** API はまだサポートされています。</span><span class="sxs-lookup"><span data-stu-id="4e116-162">The legacy **info()**, **warning()**, and **error()** APIs are still supported.</span></span> <span data-ttu-id="4e116-163">ただし、これらの API がフレームワークの新しいメッセージング システム上に配置されるようになり、宛先が確定的になります。</span><span class="sxs-lookup"><span data-stu-id="4e116-163">However, these APIs now sit on the framework's new messaging system, and their destination is deterministic.</span></span> <span data-ttu-id="4e116-164">簡単に言うと、API の使用がページから生成された場合、そのメッセージが同じページ上のメッセージ バーで表示されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-164">In summary, if the use of the API originates from a page, the message appears in a message bar on that same page.</span></span> <span data-ttu-id="4e116-165">(ドロップ ダイアログおよびスライダー ダイアログはどちらもページとみなされます。) 次の図は、ページ アクションに対応する**情報**、**警告**/**checkfailed**、および**エラー**のメッセージ バーまたは、**info()**、**warning()**、および**error()** から同期作成したメッセージを示しています。</span><span class="sxs-lookup"><span data-stu-id="4e116-165">(Drop dialogs and slider dialogs are both considered pages.) The following illustration shows **info**, **warning**/**checkfailed**, and **error** message bars that correspond to page actions, or synchronous-authored messages that come from **info()**, **warning()**, and **error()**.</span></span> 

<span data-ttu-id="4e116-166">[![メッセージ バー タイプ](./media/messaging_messagebartypes.jpg)](./media/messaging_messagebartypes.jpg)</span><span class="sxs-lookup"><span data-stu-id="4e116-166">[![Message bar types](./media/messaging_messagebartypes.jpg)](./media/messaging_messagebartypes.jpg)</span></span> 

> [!NOTE]
> <span data-ttu-id="4e116-167">スライダー ダイアログからメッセージング API が呼び出されても、メッセージが表示される前にそのスライダー ダイアログが閉じられると、メッセージはスライダー ダイアログの親ページのメッセージ バーに表示されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-167">If the messaging API is called from a slider dialog, but that slider dialog is closed before the message appears, the message is shown in a message bar on the slider dialog's parent page.</span></span> <span data-ttu-id="4e116-168">メッセージが表示される前にそのスライダー ダイアログ ボックスを閉じ、親ページが存在しない場合 (つまり、親とは、ワークスペース)、メッセージは、メッセージ センターにルーティングされます。</span><span class="sxs-lookup"><span data-stu-id="4e116-168">If that slider dialog is closed before the message appears, and there is no parent page (that is, the parent is a workspace), the message is routed to the Message Center.</span></span> <span data-ttu-id="4e116-169">メッセージング API は必ずメッセージを表示します。</span><span class="sxs-lookup"><span data-stu-id="4e116-169">The messaging API never fails to show a message.</span></span> <span data-ttu-id="4e116-170">適切なホスト ページが見つからない場合は、メッセージがメッセージ センターに送信されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-170">If an appropriate host page isn't found, the message is sent to the Message Center.</span></span>

## <a name="the-message-api-for-explicit-add-and-remove-messages"></a><span data-ttu-id="4e116-171">明示的なメッセージの追加および削除の Message() API</span><span class="sxs-lookup"><span data-stu-id="4e116-171">The Message() API for explicit add and remove messages</span></span>
<span data-ttu-id="4e116-172">メッセージング システムは、従来の検証メッセージ API (**info()**、**warning()**/**checkfailed()**、および **error()**) をサポートしており、メッセージを確定的にメッセージバーまたはメッセージセンターに送信します。</span><span class="sxs-lookup"><span data-stu-id="4e116-172">The messaging system supports the legacy validation message APIs (**info()**, **warning()**/**checkfailed()**, and **error()**), and deterministically routes messages either to a message bar or to the Message Center.</span></span> <span data-ttu-id="4e116-173">メッセージング システムは、検証が再実行されたときにデータ検証に関連するメッセージ バー メッセージもクリアします。</span><span class="sxs-lookup"><span data-stu-id="4e116-173">The messaging system also clears message bar messages that are related to data validation when the validation is rerun.</span></span> <span data-ttu-id="4e116-174">また、メッセージング システムには、開発者が明示的にメッセージを追加したり削除したりする新しい **Message()** API が含まれます。</span><span class="sxs-lookup"><span data-stu-id="4e116-174">Additionally, the messaging system includes a new **Message()** API that lets developers explicitly add and remove messages.</span></span> <span data-ttu-id="4e116-175">この API は、データ検証に必ずしも関連しないユーザー エクスペリエンスに関する情報メッセージを表示するのに便利です。</span><span class="sxs-lookup"><span data-stu-id="4e116-175">This API is useful for displaying informational messages about aspects of the user's experience that aren't necessarily related to data validation.</span></span> <span data-ttu-id="4e116-176">この場合、メッセージは現在のレコードが表示されるときに表示する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4e116-176">In this case, the message should be shown when the current record is displayed.</span></span>

![情報メッセージに使用されるメッセージ API の例](./media/messaging_singlemessagebarinfo.jpg)

```xpp
messageId = Message::Add(MessageSeverity::Informational, "The customer is marked as inactive");
```

<span data-ttu-id="4e116-178">新しいレコードがページに表示されると、メッセージはクリアされます。</span><span class="sxs-lookup"><span data-stu-id="4e116-178">The message can then be cleared when a new record is shown on the page.</span></span>

```xpp
Message::Remove(messageId);
```

<span data-ttu-id="4e116-179">以下のメッセージタイプがサポートされています: **MessageSeverity::Info**、**MessageSeverity::Warning**、および **MessageSeverity::Error**。</span><span class="sxs-lookup"><span data-stu-id="4e116-179">The following messaging types are supported: **MessageSeverity::Info**, **MessageSeverity::Warning**, and **MessageSeverity::Error**.</span></span> <span data-ttu-id="4e116-180">また、**Message()** API を使用するメッセージは確定的となります。</span><span class="sxs-lookup"><span data-stu-id="4e116-180">Messages that use the **Message()** API are also deterministic.</span></span> <span data-ttu-id="4e116-181">メッセージ バーまたはメッセージ センターにルーティングできます。</span><span class="sxs-lookup"><span data-stu-id="4e116-181">They can be routed to a message bar or the Message Center.</span></span>

## <a name="the-messaging-api-and-batch-jobsasynchronouslong-running-background-tasks"></a><span data-ttu-id="4e116-182">メッセージング API とバッチジョブ (非同期/実行時間の長いバックグラウンド タスク)</span><span class="sxs-lookup"><span data-stu-id="4e116-182">The messaging API and batch jobs(asynchronous/long-running background tasks)</span></span>
<span data-ttu-id="4e116-183">**info()**、**warning()**/**checkfailed()**、または **error()** が非同期プロセス (たとえば、SysOp を使用するバッチ ジョブ) から呼び出された場合、考慮するページ コンテキストはありません。</span><span class="sxs-lookup"><span data-stu-id="4e116-183">If **info()**, **warning()**/**checkfailed()**, or **error()** is called from an asynchronous process (for example, a batch job that uses SysOp), there is no page context to consider.</span></span> <span data-ttu-id="4e116-184">したがって、メッセージはメッセージ センターにルーティングされます。</span><span class="sxs-lookup"><span data-stu-id="4e116-184">Therefore, the message is routed to the Message Center.</span></span> 

![空のメッセージ センターの例](./media/messaging_emptymessagecenter.jpg)

### <a name="the-message-center"></a><span data-ttu-id="4e116-186">メッセージ センター</span><span class="sxs-lookup"><span data-stu-id="4e116-186">The Message Center</span></span>

<span data-ttu-id="4e116-187">メッセージ センターには、最大で 500 件のメッセージを保持できます。</span><span class="sxs-lookup"><span data-stu-id="4e116-187">The Message Center can hold up to 500 messages.</span></span> <span data-ttu-id="4e116-188">その後、メッセージは最初に表示されたものから順にサイクルします。</span><span class="sxs-lookup"><span data-stu-id="4e116-188">Messages are then cycled on a first in, first out basis.</span></span>

#### <a name="why-are-asynchronous-tasks-messages-sent-to-the-message-center"></a><span data-ttu-id="4e116-189">非同期タスク メッセージがメッセージ センターに送信されるのはなぜですか。</span><span class="sxs-lookup"><span data-stu-id="4e116-189">Why are asynchronous tasks messages sent to the Message Center?</span></span>

<span data-ttu-id="4e116-190">ページ上部にあるメッセージ バーは、何時間も前に開始されたバックグラウンド タスクではなく、現在のページに関する情報を表示するために使用されるため、(潜在的に) 長時間実行されているタスクはユーザーにメッセージ バーを表示しません。</span><span class="sxs-lookup"><span data-stu-id="4e116-190">A (potentially) long-running task should not present a message bar to the user, because message bars at the top of a page are used to present information about the current page, not some background task that might have started hours earlier.</span></span> <span data-ttu-id="4e116-191">場合によっては、多くのバックグラウンド タスクを実行しているユーザーは、タスクを完了しているときにページ間を移動し続けます。</span><span class="sxs-lookup"><span data-stu-id="4e116-191">In some cases, a user who has many background tasks running continues to navigate between pages while the tasks are being completed.</span></span> <span data-ttu-id="4e116-192">したがって、現在のページに表示され、バックグラウンド タスクについてユーザーに通知されるメッセージは、見落とされたり無視されたりします。</span><span class="sxs-lookup"><span data-stu-id="4e116-192">Therefore, messages that are presented on the current page to notify the user about background tasks are easily overlooked or ignored.</span></span> <span data-ttu-id="4e116-193">したがって、設計上、バックグラウンド タスクはメッセージ センターにメッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="4e116-193">Therefore, by design, background tasks send their messages to the Message Center.</span></span> <span data-ttu-id="4e116-194">メッセージ センターに新しいメッセージが表示されると、非同期タスクの結果を待っている可能性のあるユーザーにお知らせが通知されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-194">When a new message appears in the Message Center, a notification informs the user, who might be waiting for the results of an asynchronous task.</span></span>

## <a name="error-should-i-interrupt-the-user"></a><span data-ttu-id="4e116-195">エラー: ユーザーを中断する必要がありますか。</span><span class="sxs-lookup"><span data-stu-id="4e116-195">Error: Should I interrupt the user?</span></span>
<span data-ttu-id="4e116-196">(バッチ ジョブまたはその他の操作) のタスクが失敗した場合は、ユーザーに受動的に通知することが適切な場合があります。</span><span class="sxs-lookup"><span data-stu-id="4e116-196">If a task (batch job or other operation) fails, it's often appropriate to notify the user passively.</span></span> <span data-ttu-id="4e116-197">ユーザーはいつでも問題を修正して操作を再試行できるので、すぐに通知する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="4e116-197">Because the user can correct the issue and retry the operation at any time, he or she doesn't have to be notified immediately.</span></span> <span data-ttu-id="4e116-198">そのような場合、**error()** API は適切であり、ユーザーは割り込みダイアログを受け取りません。</span><span class="sxs-lookup"><span data-stu-id="4e116-198">In these cases, the **error()** API is appropriate, and the user doesn't receive an interrupting dialog.</span></span> <span data-ttu-id="4e116-199">ただし、それ以外の場合、ユーザーは問題が修正されるまでは続行できません。</span><span class="sxs-lookup"><span data-stu-id="4e116-199">However, in other cases, the user can't proceed until the issue is corrected.</span></span> <span data-ttu-id="4e116-200">たとえば、まだ無効なデータを保持しているページをユーザーが保存しようとする場合、クライアントはエラー ダイアログを表すことにより、ユーザーを中断させます。</span><span class="sxs-lookup"><span data-stu-id="4e116-200">For example, if the user tries to save a page that still has invalid data, the client interrupts the user by presenting an error dialog.</span></span> <span data-ttu-id="4e116-201">これらのケースでは、ダイアログを提示することにより、ユーザーを中断させる方が適切である場合、**box::** を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4e116-201">In these cases, where it's more appropriate to interrupt the user by presenting a dialog, the **box::** API should be used.</span></span> 

![Box API の例](./media/messaging_boxapi.jpg)

## <a name="the-message-center--messages-from-asynchronous-tasks"></a><span data-ttu-id="4e116-203">メッセージ センター - 非同期タスクからのメッセージ</span><span class="sxs-lookup"><span data-stu-id="4e116-203">The Message Center – Messages from asynchronous tasks</span></span>
<span data-ttu-id="4e116-204">メッセージ センターは、ナビゲーション ウィンドウに表示されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-204">The Message Center appears in the navigation pane.</span></span> <span data-ttu-id="4e116-205">ユーザーによる迅速なアクションを必要とせず、現在の作業を続行するために必要ではないメッセージが含まれています。</span><span class="sxs-lookup"><span data-stu-id="4e116-205">It contains messages that don't require any immediate action by the user and aren't required for the current task to continue.</span></span> <span data-ttu-id="4e116-206">一般的な例にとしては、バッチ ジョブやレポート完了などのバック グラウンド処理からのフィードバックがあります。</span><span class="sxs-lookup"><span data-stu-id="4e116-206">Typical examples include feedback from background processes such as a batch job or report completion.</span></span> <span data-ttu-id="4e116-207">メッセージ センターでは、**情報**、**警告**、および**エラー**のステータスを表示できます。</span><span class="sxs-lookup"><span data-stu-id="4e116-207">The Message Center can express **info**, **warning**, and **error** statuses.</span></span> <span data-ttu-id="4e116-208">開かれる前に、メッセージ センターは前回開いたときから受信したメッセージの数を示します。</span><span class="sxs-lookup"><span data-stu-id="4e116-208">Before it's opened, the Message Center indicates the number of messages that have been received since last time that it was opened.</span></span>

## <a name="message-bars--messages-for-synchronous-tasks-on-the-current-page"></a><span data-ttu-id="4e116-209">メッセージ バー – 現在のページの同期タスクのメッセージ</span><span class="sxs-lookup"><span data-stu-id="4e116-209">Message bars – Messages for synchronous tasks on the current page</span></span>
<span data-ttu-id="4e116-210">メッセージ バーは、基本ページやドロップ ダイアログおよびスライダー ダイアログで利用できます。</span><span class="sxs-lookup"><span data-stu-id="4e116-210">Message bars are available on primary pages, and in drop dialogs and slider dialogs.</span></span> <span data-ttu-id="4e116-211">メッセージ バーは、主にデータ検証に使用されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-211">Message bars are used primarily for data validation.</span></span> <span data-ttu-id="4e116-212">また、日付有効性のために使用されるメッセージなど、ページまたはデータの状態に関するメッセージの通信にも使用できます。</span><span class="sxs-lookup"><span data-stu-id="4e116-212">They can also be used to communicate messages about the state of a page or data, such as messages that are used for date effectivity.</span></span> <span data-ttu-id="4e116-213">メッセージ バーでは、**情報**、**警告**、および**エラー**のステータスを表示できます。</span><span class="sxs-lookup"><span data-stu-id="4e116-213">Message bars can express **info**, **warning**, and **error** statuses.</span></span> <span data-ttu-id="4e116-214">すぐにユーザーの注意を求めるメッセージに、メッセージ バーを使用しないください。</span><span class="sxs-lookup"><span data-stu-id="4e116-214">Message bars should not be used for messages that require the users’ immediate attention.</span></span> <span data-ttu-id="4e116-215">メッセージ バーは、メッセージが最初に受け取られたときに表示されます。また、現在のページについてのみメッセージを伝達するのに使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4e116-215">A message bar appears when a message is first received, and must be used to communicate messages only about the current page.</span></span> <span data-ttu-id="4e116-216">メッセージ バーに送信されるメッセージは、現在のページに関連付けられます。</span><span class="sxs-lookup"><span data-stu-id="4e116-216">Messages that are sent to message bars are associated with the current page.</span></span> <span data-ttu-id="4e116-217">したがって、ユーザーがメッセージ バーを含むページから離れて移動すると、それらのメッセージは新しいページに表示されません。</span><span class="sxs-lookup"><span data-stu-id="4e116-217">Therefore, when the user navigates away from a page that includes message bars, those messages won't appear on the new page.</span></span> <span data-ttu-id="4e116-218">ただし、ユーザーが元のページに戻ってくる場合、ページのメッセージが再度表示されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-218">However, if the user navigates back to the original page, the page's messages will once again appear.</span></span> <span data-ttu-id="4e116-219">メッセージに次の情報を含めます。</span><span class="sxs-lookup"><span data-stu-id="4e116-219">Include the following information in messages:</span></span>

-   <span data-ttu-id="4e116-220">このメッセージを生成した条件。</span><span class="sxs-lookup"><span data-stu-id="4e116-220">The condition that generated the message.</span></span>
-   <span data-ttu-id="4e116-221">ユーザーがメッセージを生成した状態を解決せずに続行した場合の結果。</span><span class="sxs-lookup"><span data-stu-id="4e116-221">The result if the user continues without resolving the condition that generated the message.</span></span>

<span data-ttu-id="4e116-222">**例**</span><span class="sxs-lookup"><span data-stu-id="4e116-222">**Examples**</span></span>

-   <span data-ttu-id="4e116-223">この顧客は、非アクティブとしてマークされています。</span><span class="sxs-lookup"><span data-stu-id="4e116-223">This customer is marked as inactive.</span></span>
-   <span data-ttu-id="4e116-224">コンテナーの検証に失敗しました。</span><span class="sxs-lookup"><span data-stu-id="4e116-224">Customer validation has failed.</span></span>
-   <span data-ttu-id="4e116-225">伝票のトランザクションはバランスが残高が一致しません。</span><span class="sxs-lookup"><span data-stu-id="4e116-225">The transaction on voucher do not balance.</span></span>

<span data-ttu-id="4e116-226">**プレゼンテーション**</span><span class="sxs-lookup"><span data-stu-id="4e116-226">**Presentation**</span></span> 

![メッセージ バーのスクリーン ショット](./media/messaging_messagebartypes.jpg)

## <a name="message-boxes--errors-and-immediate-notification-completed-synchronous-operations"></a><span data-ttu-id="4e116-228">メッセージ ボックス – エラーや即時の通知 (完了した同期操作)</span><span class="sxs-lookup"><span data-stu-id="4e116-228">Message boxes – Errors and immediate notification (completed synchronous operations)</span></span>
<span data-ttu-id="4e116-229">メッセージ ボックスを使用して、すぐに注意が必要な問題についてユーザーに警告します。</span><span class="sxs-lookup"><span data-stu-id="4e116-229">Use message boxes to alert users about issues that require immediate attention.</span></span> <span data-ttu-id="4e116-230">メッセージ ボックスはメッセージが読み取られたり消されるまでユーザーの続行が妨げられるため、ユーザーが後で処理できないメッセージに対してのみ使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4e116-230">Because message boxes prevent the user from continuing until the message is read and dismissed, they should be used only for messages that the user can't handle later.</span></span> <span data-ttu-id="4e116-231">メッセージ ボックスに表示されるエラー メッセージに次の情報を含めます。</span><span class="sxs-lookup"><span data-stu-id="4e116-231">Include the following information in error messages that appear in message boxes:</span></span>

-   <span data-ttu-id="4e116-232">発生したエラー。</span><span class="sxs-lookup"><span data-stu-id="4e116-232">The error that occurred.</span></span>
-   <span data-ttu-id="4e116-233">エラーの原因。</span><span class="sxs-lookup"><span data-stu-id="4e116-233">The cause of the error.</span></span>
-   <span data-ttu-id="4e116-234">エラーを解決する方法に関する情報。</span><span class="sxs-lookup"><span data-stu-id="4e116-234">Information about how to resolve the error.</span></span>

<span data-ttu-id="4e116-235">エラー メッセージは次の 2 つのコンポーネントを含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="4e116-235">An error message should include the following two components:</span></span>

-   <span data-ttu-id="4e116-236">**主要な命令** – このテキストは太字で表示されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-236">**The main instruction** – This text appears in bold.</span></span>
-   <span data-ttu-id="4e116-237">**メッセージの詳細** – このテキストは主要な命令の下に表示されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-237">**The message details** – This text appears below the main instruction.</span></span>

<span data-ttu-id="4e116-238">**例**</span><span class="sxs-lookup"><span data-stu-id="4e116-238">**Examples**</span></span>

-   <span data-ttu-id="4e116-239">参照番号がバージョン %1 で使用されるので、参照番号を削除することはできません。</span><span class="sxs-lookup"><span data-stu-id="4e116-239">You can’t delete the reference number because the reference number is used in version %1.</span></span>
-   <span data-ttu-id="4e116-240">このエクスポートを実行するのに十分な権限があります。</span><span class="sxs-lookup"><span data-stu-id="4e116-240">You have insufficient rights to perform this export.</span></span>
-   <span data-ttu-id="4e116-241">カタログ インポート処理用のルート フォルダーが構成されていません。</span><span class="sxs-lookup"><span data-stu-id="4e116-241">The root folder for catalog import processing is not configured.</span></span> <span data-ttu-id="4e116-242">仕入先カタログ インポート パラメータ フォームを使用してルート フォルダをコンフィギュレーションします。</span><span class="sxs-lookup"><span data-stu-id="4e116-242">Configure the root folder using the Vendor catalog import parameters form.</span></span>

<span data-ttu-id="4e116-243">**プレゼンテーション**</span><span class="sxs-lookup"><span data-stu-id="4e116-243">**Presentation**</span></span> 

![エラー メッセージの例](./media/messaging_boxapi.jpg) 

<span data-ttu-id="4e116-245">**エラー** タイプのメッセージでは、メッセージを含むモーダルの「明るい色のボックス」で現在のページにオーバーレイすることでユーザーの操作をブロックします。</span><span class="sxs-lookup"><span data-stu-id="4e116-245">Messages of the **error** type block the user’s interaction by overlaying the current page with a modal “light box” that contains the message.</span></span>

## <a name="messaging-from-dialogs-and-slider-dialogs"></a><span data-ttu-id="4e116-246">ダイアログおよびスライダー ダイアログからのメッセージング</span><span class="sxs-lookup"><span data-stu-id="4e116-246">Messaging from dialogs and slider dialogs</span></span>
<span data-ttu-id="4e116-247">確定的なメッセージング システムが、現在のページにメッセージを送信しようとします。</span><span class="sxs-lookup"><span data-stu-id="4e116-247">The deterministic messaging system tries to send messages to the current page.</span></span> <span data-ttu-id="4e116-248">ただし、すべてのダイアログまたはスライダー ダイアログからの呼び出しが、そのダイアログまたはスライダーにルーティングされるわけではありません。</span><span class="sxs-lookup"><span data-stu-id="4e116-248">However, not every call from a dialog or slider dialog is routed to that dialog or slider.</span></span> <span data-ttu-id="4e116-249">場合によっては、メッセージング システムが代わりに親ページにメッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="4e116-249">In some cases, the messaging system sends the message to the parent page instead.</span></span> <span data-ttu-id="4e116-250">この現象は、ダイアログまたはスライダが閉じられているときにメッセージング システムが呼び出されると発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="4e116-250">This behavior can occur when the messaging system is called while the dialog or slider is being closed.</span></span> <span data-ttu-id="4e116-251">場合によっては、ダイアログまたはスライダーが閉じるプロセスを開始するときにメッセージング システムを呼び出せますが、クライアントが有効な理由から閉じるプロセスを中断します。</span><span class="sxs-lookup"><span data-stu-id="4e116-251">In some cases, the messaging system can be called when the close process for the dialog or slider is started, but the client interrupts the close process for valid reasons.</span></span> <span data-ttu-id="4e116-252">したがって、「不可逆地点」があり、その時点を過ぎると、メッセージング システムはもはやダイアログまたはスライダー にメッセージを送信しようとせず、メッセージを親ページに送信します。</span><span class="sxs-lookup"><span data-stu-id="4e116-252">Therefore, there is a "point of no return," after which the messaging system no longer tries to send a message to the dialog or slider, and instead sends the message to the parent page.</span></span> <span data-ttu-id="4e116-253">ユーザーがフォーム上の **OK** ボタンクリックすると、下記のコード例に示すように、終了シーケンスに入ります。</span><span class="sxs-lookup"><span data-stu-id="4e116-253">When the user clicks the **OK** button on the form is entering its closing sequence, shown in the code example that follows.</span></span>

```xpp
closeOK()
{
    // current form
    super(); // calls close()
    // parent or message center
}
Close()
{
    // current form
    super();// point of no return
    // parent or message center
}
```

<span data-ttu-id="4e116-254">クライアントが **closeOK()** または **close()** を直接呼び出す場合、最終的な結果がページまたは親ページである可能性があります。</span><span class="sxs-lookup"><span data-stu-id="4e116-254">If the client calls **closeOK()** or **close()** directly, then the final result might be the page or the parent page.</span></span>

## <a name="detailed-multi-result-messaging-that-uses-setprefix-and-the-message-details-pane"></a><span data-ttu-id="4e116-255">SetPrefix() とメッセージの詳細ウィンドウを使用する詳細な複数結果のメッセージング</span><span class="sxs-lookup"><span data-stu-id="4e116-255">Detailed, multi-result messaging that uses SetPrefix() and the Message details pane</span></span>
<span data-ttu-id="4e116-256">**SetPrefix()** の結果は、積極的にユーザーを中断しません。</span><span class="sxs-lookup"><span data-stu-id="4e116-256">The results of **SetPrefix()** don't actively interrupt the user.</span></span> <span data-ttu-id="4e116-257">代わりに、結果は収集され、保存されて、メッセージ バーまたはメッセージ センターの通知がユーザーに表示されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-257">Instead, the results are collected and stored, and a message bar or a Message Center notification is presented to the user.</span></span> <span data-ttu-id="4e116-258">このメッセージ バーまたはメッセージ センターの通知は、関連するタスクが完了し、ユーザーが確認するメッセージがある可能性があることを示します。</span><span class="sxs-lookup"><span data-stu-id="4e116-258">This message bar or Message Center notification indicates that the related task has been completed, and that there might be messages for the user to review.</span></span> <span data-ttu-id="4e116-259">*結果の通知*メッセージは、タスクによる **SetPrefix()** の最初の呼び出しを使ってメッセージをフレーム化します。</span><span class="sxs-lookup"><span data-stu-id="4e116-259">The *notification of results* message uses the task's first call to **SetPrefix()** to frame the message.</span></span> <span data-ttu-id="4e116-260">(この動作は、最初の呼び出しが結果の "タイトル" である Dynamics AX 2012 の動作に似ています。)</span><span class="sxs-lookup"><span data-stu-id="4e116-260">(This behavior resembles the behavior in Dynamics AX 2012, where the first call is the “title” of the results).</span></span> <span data-ttu-id="4e116-261">次の例では、テキスト「転記の結果」が **SetPrefix()** の最初の呼び出しから取得されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-261">In the following example, the text “Posting Results” comes from the first call to **SetPrefix()**.</span></span> 

![SetPrefix の例](./media/messaging_messagedetailsmessagebar.jpg) 

<span data-ttu-id="4e116-263">ユーザーは、メッセージ バーの **メッセージの詳細** リンクをクリックして、**メッセージの詳細** ウィンドウを開くことができます。</span><span class="sxs-lookup"><span data-stu-id="4e116-263">The user can then click the **Message Details** link in the message bar to open the **Message details** pane.</span></span> 

![メッセージの詳細ウィンドウ](./media/messaging_messagedetailspane.jpg)

## <a name="setprefix--creating-a-collection-of-related-messages"></a><span data-ttu-id="4e116-265">SetPrefix() – 関連メッセージのコレクションの作成</span><span class="sxs-lookup"><span data-stu-id="4e116-265">SetPrefix() – Creating a collection of related messages</span></span>
<span data-ttu-id="4e116-266">**SetPrefix()** を使用して、関連メッセージのコレクションを作成します。</span><span class="sxs-lookup"><span data-stu-id="4e116-266">You use **SetPrefix()** to create collections of related messages.</span></span> <span data-ttu-id="4e116-267">この API は主に下位互換性がありますが、中断のない方法で表示されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-267">This API is largely backward compatible but is presented in a non-interrupting manner.</span></span> <span data-ttu-id="4e116-268">結果ウィンドウは、直接開かれません。</span><span class="sxs-lookup"><span data-stu-id="4e116-268">A results window isn't opened directly.</span></span> <span data-ttu-id="4e116-269">代わりに、ユーザーは、結果メッセージをコレクションにグループ化するために **SetPrefix()** API を使用するタスクを開始したページにメッセージ バーを表示することで受動的に中断されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-269">Instead, the user is passively interrupted by the appearance of a message bar on the page that started the task that used the **SetPrefix()** API to group the result messages into a collection.</span></span> <span data-ttu-id="4e116-270">ユーザーにメッセージ コレクションの存在を通知するメッセージ バーには、コレクション内の最も重要なメッセージの重大度が反映されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-270">The message bar that notifies the user about the existence of the message collection reflects the severity of the most critical message in the collection.</span></span> <span data-ttu-id="4e116-271">たとえば、コレクションにエラーまたは警告が含まれていない場合、メッセージ バーは**情報**タイプです。</span><span class="sxs-lookup"><span data-stu-id="4e116-271">For example, if the collection contains no errors or warnings, the message bar is of the **info** type.</span></span> 

![情報タイプ メッセージ バーの例](./media/messaging_messagedetailsmessagebar.jpg) 

<span data-ttu-id="4e116-273">コレクションに 1 つまたは複数の **warning()** への呼び出しが含まれている場合、メッセージ バーは、**警告**タイプです。</span><span class="sxs-lookup"><span data-stu-id="4e116-273">If the collection contains one or more calls to **warning()**, the message bar is of the **warning** type.</span></span> 

![警告タイプ メッセージ バーの例](./media/messaging_messagedetailswarningmessagebar.jpg) 

<span data-ttu-id="4e116-275">コレクションに 1 つまたは複数の **error()** への呼び出しが含まれている場合、メッセージ バーは、**エラー** タイプです。</span><span class="sxs-lookup"><span data-stu-id="4e116-275">If the collection contains one or more calls to **error()**, the message bar is of the **error** type.</span></span> 

![エラー タイプ メッセージ バーの例](./media/messaging_messagedetailserrormessagebar.jpg) 

<span data-ttu-id="4e116-277">**例**</span><span class="sxs-lookup"><span data-stu-id="4e116-277">**Example**</span></span>

```xpp
myMethod()
{
    Setprefix("Posting Results");
    Setprefix("Invoice Account: DE-001);
    Info("Invoice FTI-000002 has been posted);
}
```

> [!NOTE]
> <span data-ttu-id="4e116-278">コレクションに親メッセージと単一のメッセージのみが含まれている場合、その単一のメッセージはメッセージ バーに送信され、SetPrefix ウィンドウは使用されません。</span><span class="sxs-lookup"><span data-stu-id="4e116-278">If a collection contains only a parent and a single message, that single message is sent to a message bar, and no SetPrefix window is used.</span></span>

## <a name="setprefix-and-asynchronous-processes"></a><span data-ttu-id="4e116-279">SetPrefix() および非同期プロセス</span><span class="sxs-lookup"><span data-stu-id="4e116-279">SetPrefix() and asynchronous processes</span></span>
<span data-ttu-id="4e116-280">**SetPrefix()** の使用も確定的です。</span><span class="sxs-lookup"><span data-stu-id="4e116-280">The use of **SetPrefix()** is also deterministic.</span></span> <span data-ttu-id="4e116-281">つまり、**SetPrefix()** を使用して、ページ コンテキスト (たとえば、非同期バッチ操作) が存在しない場合、結果の通知はページに関連付けられていないメッセージ センターに送信されます。</span><span class="sxs-lookup"><span data-stu-id="4e116-281">In other words, if you use **SetPrefix()**, and there is no page context (for example, an asynchronous batch operation), the notification of results is sent to the Message Center, which isn't associated with any page.</span></span>




---
title: 拡張可能コントロールの構築
description: このトピックでは、Visual Studio にプロパティ シートを持ち、サーバーサイドのビジネス ロジックを持つ新しいアプリケーション コントロールを作成する方法について説明します。
author: TLeforMicrosoft
ms.date: 11/09/2017
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Developer
ms.reviewer: rhaertle
ms.custom: 24291
ms.assetid: ccc9c341-a233-4bb0-93e7-399d19fdea18
ms.search.region: Global
ms.author: tlefor
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 37662986f050bdea1d1fa166bacdfeb15e1e3ab3
ms.sourcegitcommit: ff09736563d3cd2bc74c7664edd1767b218401cb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/04/2021
ms.locfileid: "6188113"
---
# <a name="build-extensible-controls"></a><span data-ttu-id="0558a-103">拡張可能なコントロールの構築</span><span class="sxs-lookup"><span data-stu-id="0558a-103">Build extensible controls</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="0558a-104">このトピックでは、Visual Studio にプロパティ シートを持ち、サーバーサイドのビジネス ロジックを持つ新しいアプリケーション コントロールを作成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="0558a-104">This topic describes how to create new application controls that have a property sheet in Visual Studio and have server-side business logic.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="0558a-105">必要条件</span><span class="sxs-lookup"><span data-stu-id="0558a-105">Prerequisites</span></span>

<span data-ttu-id="0558a-106">このチュートリアルでは、リモート デスクトップを使用して環境にアクセスし、インスタンスの管理者としてプロビジョニングされる必要があります。</span><span class="sxs-lookup"><span data-stu-id="0558a-106">For this tutorial, you must access the environment by using Remote Desktop, and you must be provisioned as an administrator on the instance.</span></span> <span data-ttu-id="0558a-107">詳細については、トピック [開発環境の配置とアクセス](../dev-tools/access-instances.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0558a-107">For more information, see [Deploy and access development environments](../dev-tools/access-instances.md).</span></span>

## <a name="overview"></a><span data-ttu-id="0558a-108">概要</span><span class="sxs-lookup"><span data-stu-id="0558a-108">Overview</span></span>
<span data-ttu-id="0558a-109">コントロール拡張フレームワークを使用すると、新しいアプリケーション コントロールを作成できます。</span><span class="sxs-lookup"><span data-stu-id="0558a-109">The Control Extensibility Framework lets you create new application controls.</span></span> <span data-ttu-id="0558a-110">Microsoft では、グラフ コントロールなど、プログラムで既に記述されている制御を構築するために使用するのと同じツールを使用することができます。</span><span class="sxs-lookup"><span data-stu-id="0558a-110">You can use the same tools that Microsoft uses to build controls that are already present in the program, such as the chart control.</span></span> <span data-ttu-id="0558a-111">拡張可能なコントロールを開発するプロセスには、次の 3 つの重要なアーティファクトが含まれます。</span><span class="sxs-lookup"><span data-stu-id="0558a-111">Three important artifacts are involved in the process of developing an extensible control:</span></span>

-   <span data-ttu-id="0558a-112">**X++ ビルド クラス** – ビルド クラスにより開発者は、コントロールの Microsoft Visual Studio のプロパティ シートに表示されるプロパティを定義することができます。</span><span class="sxs-lookup"><span data-stu-id="0558a-112">**The X++ build class** – The build class lets a developer define the properties that appear in the Microsoft Visual Studio property sheet for the control.</span></span> <span data-ttu-id="0558a-113">開発者は、コントロールがフォーム デザイナーで使用されているときに、コントロールのモデリング動作を定義することもできます。</span><span class="sxs-lookup"><span data-stu-id="0558a-113">The developer can also define the modeling behavior for the control when it's used in the form designer.</span></span> <span data-ttu-id="0558a-114">ビルド クラスは、プロパティ シートのプロパティの値に基づいてコントロールの状態を初期化するために、ランタイム クラスによって消費されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-114">The build class is consumed by the run-time class to initialize the state of the control based on the value of properties in the property sheet.</span></span>
-   <span data-ttu-id="0558a-115">**X++ ランタイム クラス** – ランタイム クラスにより開発者は、拡張可能なコントロールのサーバー側のビジネス ロジックとデータへのアクセスのパターンを定義できます。</span><span class="sxs-lookup"><span data-stu-id="0558a-115">**The X++ run-time class** – The run-time class lets a developer define server-side business logic and data access patterns for an extensible control.</span></span> <span data-ttu-id="0558a-116">拡張可能なコントロールのビルドに特有の概念には、X++ クラスで定義される *プロパティ* と *コマンド* の 2 つがあります。</span><span class="sxs-lookup"><span data-stu-id="0558a-116">Two concepts that are specific to building extensible controls are the *properties* and *commands* that the X++ class defines.</span></span> <span data-ttu-id="0558a-117">定義されている各プロパティとコマンドは、実行時に JavaScript ビュー モデルにシリアル化され、拡張可能なコントロール (HTML および JavaScript) のクライアント部分によって消費される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="0558a-117">Each property and command that is defined is serialized into a JavaScript view model at run time, and can be consumed by the client parts of the extensible control (the HTML and JavaScript).</span></span> <span data-ttu-id="0558a-118">これらのプロパティとコマンドは、コントロールのサーバー側とクライアント側の間で情報を移動するための主要なチャネルです。</span><span class="sxs-lookup"><span data-stu-id="0558a-118">These properties and commands are the main channels for moving information between the server-side and client-side parts of the control.</span></span>
-   <span data-ttu-id="0558a-119">**コントロール HTML および JavaScript** – 各コントロールは、視覚化およびクライアント側の相互作用パターンの制御を定義するために HTML、JavaScript および CSS ファイルを使用します。</span><span class="sxs-lookup"><span data-stu-id="0558a-119">**The control HTML and JavaScript** – Each control uses HTML, JavaScript, and CSS files to define control visualization and client-side interaction patterns.</span></span> <span data-ttu-id="0558a-120">jQuery と共に Microsoft Dynamics HTML バインディング構文を使用することで、開発者は強力なデータ駆動型 UI を設計するために X++ で定義されているプロパティとコマンドを使用することができます。</span><span class="sxs-lookup"><span data-stu-id="0558a-120">By using the Microsoft Dynamics HTML binding syntax together with jQuery, a developer can consume the properties and commands that are defined in X++ to design powerful data-driven UI.</span></span>

<span data-ttu-id="0558a-121">拡張可能コントロール開発のすべての 3 つのコンポーネントについては、以降のセクションで詳しく説明します。</span><span class="sxs-lookup"><span data-stu-id="0558a-121">All three artifacts of extensible control development are explained in more detail in the following sections.</span></span>

## <a name="key-concepts"></a><span data-ttu-id="0558a-122">重要な概念</span><span class="sxs-lookup"><span data-stu-id="0558a-122">Key concepts</span></span>
-   <span data-ttu-id="0558a-123">拡張可能なコントロールのデザイン時の動作を定義する</span><span class="sxs-lookup"><span data-stu-id="0558a-123">Defining an extensible control's design-time behavior</span></span>
-   <span data-ttu-id="0558a-124">拡張可能な実行デザイン時の動作を定義する</span><span class="sxs-lookup"><span data-stu-id="0558a-124">Defining an extensible control's run-time behavior</span></span>
-   <span data-ttu-id="0558a-125">HTML と CSS を使用して、拡張可能なコントロールのビューを定義する</span><span class="sxs-lookup"><span data-stu-id="0558a-125">Defining an extensible control's view by using HTML and CSS</span></span>
-   <span data-ttu-id="0558a-126">JavaScript を使用して拡張可能なコントロールのビュー モデルを定義する</span><span class="sxs-lookup"><span data-stu-id="0558a-126">Defining an extensible control's view model by using JavaScript</span></span>

## <a name="setup"></a><span data-ttu-id="0558a-127">セットアップ</span><span class="sxs-lookup"><span data-stu-id="0558a-127">Setup</span></span>
### <a name="import-the-tutorial-project-and-transactional-data"></a><span data-ttu-id="0558a-128">チュートリアル プロジェクトおよびトランザクション データのインポート</span><span class="sxs-lookup"><span data-stu-id="0558a-128">Import the tutorial project and transactional data</span></span>

<span data-ttu-id="0558a-129">Visual Studio を使用してチュートリアル プロジェクトをインポートします。</span><span class="sxs-lookup"><span data-stu-id="0558a-129">Use Visual Studio to import the tutorial project.</span></span> <span data-ttu-id="0558a-130">チュートリアル プロジェクトには、このチュートリアルを完了するために使用する成果物が含まれています。</span><span class="sxs-lookup"><span data-stu-id="0558a-130">The tutorial project includes the artifacts that you will use to complete this tutorial.</span></span> <span data-ttu-id="0558a-131">Visual Studio を使用して FMTutorial プロジェクトを開き、チュートリアル用のデータを読み込みます。</span><span class="sxs-lookup"><span data-stu-id="0558a-131">Use Visual Studio to open the FMTutorial project and load the data for the tutorial.</span></span> <span data-ttu-id="0558a-132">フリート管理チュートリアルのデータを読み込むために、**FMTDataHelper** クラスを使用します。</span><span class="sxs-lookup"><span data-stu-id="0558a-132">You will use the **FMTDataHelper** class to load data for the Fleet Management tutorial.</span></span>

1. <span data-ttu-id="0558a-133">フリート管理のサンプルを <https://github.com/Microsoft/FMLab> からダウンロードし、**C:\\** に保存してから解凍します。</span><span class="sxs-lookup"><span data-stu-id="0558a-133">Download the Fleet Management sample from <https://github.com/Microsoft/FMLab>, save it to **C:\\**, and unzip it.</span></span>
2. <span data-ttu-id="0558a-134">デスクトップで、Visual Studio ショートカットをダブルクリックして、開発環境を開きます。</span><span class="sxs-lookup"><span data-stu-id="0558a-134">On the desktop, double-click the Visual Studio shortcut to open the development environment.</span></span>
3. <span data-ttu-id="0558a-135"><strong>Dynamics 365 **メニューで、**プロジェクトのインポート</strong>をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-135">On the <strong>Dynamics 365 \*\*menu, click \*\*Import Project</strong>.</span></span>
4. <span data-ttu-id="0558a-136">**プロジェクトのインポート** ダイアログ ボックスで、**ファイル名** テキスト ボックスの隣にある、省略記号ボタン (...) をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-136">In the **Import Project** dialog box, next to the **File name** text box, click the ellipsis button (...).</span></span>
5. <span data-ttu-id="0558a-137">**インポートするファイルの選択** ダイアログ ボックスで、**C:\FMLab** を参照して **FMTutorialDataModel.axpp** をクリックしてから **開く** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-137">In the **Select the file to import** dialog box, browse to **C:\FMLab**, click **FMTutorialDataModel.axpp**, and then click **Open**.</span></span>
6. <span data-ttu-id="0558a-138">**プロジェクト ファイルの場所** フィールドに、**C:\FMLab** と入力します。</span><span class="sxs-lookup"><span data-stu-id="0558a-138">In the **Project file location** field, enter **C:\FMLab**.</span></span>
7. <span data-ttu-id="0558a-139">**要素の上書き** チェック ボックスをオンにし、**現在のソリューション** オプションをオンにします。</span><span class="sxs-lookup"><span data-stu-id="0558a-139">Select the **Overwrite Elements** check box and the **Current solution** option.</span></span> <span data-ttu-id="0558a-140">次のスクリーン ショットは、完了した **プロジェクトのインポート** ダイアログボックスを示しています</span><span class="sxs-lookup"><span data-stu-id="0558a-140">The following screen shot shows the completed **Import Project** dialog box.</span></span> 

   <span data-ttu-id="0558a-141">[![完了したプロジェクトのインポート ダイアログ ボックス](./media/ext1.png)](./media/ext1.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-141">[![Completed Import Project dialog box](./media/ext1.png)](./media/ext1.png)</span></span>

8. <span data-ttu-id="0558a-142">**OK** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-142">Click **OK**.</span></span>
9. <span data-ttu-id="0558a-143">ソリューション エクスプローラーの **FMTutorial** プロジェクトで **クラス** を展開します。</span><span class="sxs-lookup"><span data-stu-id="0558a-143">In Solution Explorer, under the **FMTutorial** project, expand **Classes**.</span></span>
10. <span data-ttu-id="0558a-144">**FMTDataHelper** を右クリックし、**スタートアップ オブジェクトとして設定** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-144">Right-click **FMTDataHelper**, and then click **Set as Startup Object**.</span></span>
11. <span data-ttu-id="0558a-145">**ビルド** メニューで、**ソリューションの再構築** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-145">On the **BUILD** menu, click **Rebuild Solution**.</span></span> <span data-ttu-id="0558a-146">タイムスタンプに関係なく、プロジェクトのすべてのファイルを確実に作成するには、リビルドを使用します。</span><span class="sxs-lookup"><span data-stu-id="0558a-146">You use the rebuild to make sure that all the files in the project are built, regardless of timestamps.</span></span> <span data-ttu-id="0558a-147">**出力** ウィンドウでビルドの進行状況を表示できます。</span><span class="sxs-lookup"><span data-stu-id="0558a-147">You can view the build progress in the **Output** window.</span></span>
12. <span data-ttu-id="0558a-148">ビルドが完了した後、Ctrl + F5 を押してプロジェクトを実行します。</span><span class="sxs-lookup"><span data-stu-id="0558a-148">After the build is completed, press Ctrl+F5 to run the project.</span></span> <span data-ttu-id="0558a-149">**ログイン** フォームは、認証が成功すると閉じ、データが読み込まれます。</span><span class="sxs-lookup"><span data-stu-id="0558a-149">The **Login** form closes when authentication succeeds, and then the data is loaded.</span></span>

### <a name="set-up-aggregate-data"></a><span data-ttu-id="0558a-150">集計データの設定</span><span class="sxs-lookup"><span data-stu-id="0558a-150">Set up aggregate data</span></span>

<span data-ttu-id="0558a-151">FMTAggregateMeasurements を使用して、Microsoft SQL Server Analysis Services データベースに集計データを追加します。</span><span class="sxs-lookup"><span data-stu-id="0558a-151">Use FMTAggregateMeasurements to populate the Microsoft SQL Server Analysis Services database with aggregate data.</span></span>

> [!NOTE]
> <span data-ttu-id="0558a-152">これらの手順は **FMTDataHelper** クラスを使用してデータをインポートした直後に完了する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0558a-152">These steps must be completed immediately after you use the **FMTDataHelper** class to import data.</span></span> <span data-ttu-id="0558a-153">所持しているチュートリアル ファイルに応じて、[集計尺度が "InMemoryRealTime"](../analytics/model-aggregate-data.md) の場合に、これらのステップを実行する必要が **ない** 場合があります。</span><span class="sxs-lookup"><span data-stu-id="0558a-153">You may **NOT** need to do these steps if the [aggregate measure is "InMemoryRealTime"](../analytics/model-aggregate-data.md), depending on what tutorial files you have.</span></span>

1.  <span data-ttu-id="0558a-154">ソリューション エクスプローラーの **分析** で、**FMTAggregateMeasurement** をダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-154">In Solution Explorer, under **Analytics**, double-click **FMTAggregateMeasurement**.</span></span>
2.  <span data-ttu-id="0558a-155">デザイナーで、**FMTAggregateMeasurement** を右クリックしてから、**配置と処理** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-155">In the designer, right-click **FMTAggregateMeasurement**, and then click **Deploy and Process**.</span></span>

## <a name="preview-the-clerk-workspace"></a><span data-ttu-id="0558a-156">クラーク ワークスペースをプレビュー</span><span class="sxs-lookup"><span data-stu-id="0558a-156">Preview the clerk workspace</span></span>
<span data-ttu-id="0558a-157">連絡先コントロールの構築を開始する前に、現在の実装の外観を確認します。</span><span class="sxs-lookup"><span data-stu-id="0558a-157">Before you begin to build the contact control, look at the appearance of the current implementation.</span></span> <span data-ttu-id="0558a-158">次のセクションでは、コントロール拡張フレームワークを使用して、コントロールとフォームの視覚化を強化します。</span><span class="sxs-lookup"><span data-stu-id="0558a-158">In the following sections, you will use the Control Extensibility Framework to enrich the visualization of the controls and the form.</span></span>

1.  <span data-ttu-id="0558a-159">ソリューション エクスプローラーで **フォーム** を展開し、**FMTClerkWorkspace** を右クリックしてから、**スタートアップ オブジェクトとして設定** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-159">In Solution Explorer, expand **Forms**, right-click **FMTClerkWorkspace**, and then click **Set as Startup Object**.</span></span>
2.  <span data-ttu-id="0558a-160">Ctrl+F5 キーを押して、Internet Explorer で **フリート管理係** ページを開きます。</span><span class="sxs-lookup"><span data-stu-id="0558a-160">Press Ctrl+F5 to open the **Fleet management clerk** page in Internet Explorer.</span></span> <span data-ttu-id="0558a-161">次のスクリーン ショットに示されているように、複数の文字列および日付を含むリスト スタイルの単純なグリッドとしてこのページではデータが表示されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-161">As the following screen shot shows, the data on this page appears as a simple grid in a list style that contains several string and date controls.</span></span> 

    <span data-ttu-id="0558a-162">[![フリート管理係ページのスクリーン ショット](./media/ext2-1024x515.png)](./media/ext2.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-162">[![Screen shot of Fleet management clerk page](./media/ext2-1024x515.png)](./media/ext2.png)</span></span>

3.  <span data-ttu-id="0558a-163">Internet Explorer を終了します。</span><span class="sxs-lookup"><span data-stu-id="0558a-163">Exit Internet Explorer.</span></span>

## <a name="modify-the-build-class-for-the-contact-control"></a><span data-ttu-id="0558a-164">連絡先コントロールのビルド クラスの変更</span><span class="sxs-lookup"><span data-stu-id="0558a-164">Modify the build class for the contact control</span></span>
<span data-ttu-id="0558a-165">時間を節約するために、連絡先コントロールと呼ばれる部分的に完了した拡張可能なコントロールで作業します。</span><span class="sxs-lookup"><span data-stu-id="0558a-165">To save time, you will work on a partially completed extensible control that is named the contact control.</span></span> <span data-ttu-id="0558a-166">連絡先コントロールを拡張して、そのデザイン、実行時、および視覚化の動作を完成します。</span><span class="sxs-lookup"><span data-stu-id="0558a-166">You will extend the contact control to complete its design, run-time, and visualization behaviors.</span></span> <span data-ttu-id="0558a-167">部分的に完了した連絡先コントロールは、複数のタイトル フィールド、サブフィールド、およびアクション ボタンを既にサポートしています。</span><span class="sxs-lookup"><span data-stu-id="0558a-167">The partially completed contact control already supports multiple title fields, subfields, and action buttons.</span></span> <span data-ttu-id="0558a-168">ただし、現在画像はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="0558a-168">However, it doesn't currently support an image.</span></span> <span data-ttu-id="0558a-169">イメージ サポートを追加するには、連絡先管理のデザイン エクスペリエンスを拡張する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0558a-169">To add image support, you must extend the design experience for the contact control.</span></span> <span data-ttu-id="0558a-170">イメージ データを指定可能なデータ フィールドを追加します。</span><span class="sxs-lookup"><span data-stu-id="0558a-170">You will add a data field that can specify image data.</span></span>

### <a name="technical-overview"></a><span data-ttu-id="0558a-171">技術的概要</span><span class="sxs-lookup"><span data-stu-id="0558a-171">Technical overview</span></span>

<span data-ttu-id="0558a-172">ビルド クラスの例を表示するには、ソリューション エクスプローラーで **クラス** を展開し、**FMTBuildContactControl** を右クリックして、**コードを表示** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-172">To see an example of a build class, in Solution Explorer, expand **Classes**, right-click **FMTBuildContactControl**, and then click **View Code**.</span></span> <span data-ttu-id="0558a-173">コード エディターにクラス コードが表示されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-173">The class code appears in the code editor.</span></span> <span data-ttu-id="0558a-174">**FMTBuildContactControl** は連絡先コントロールのビルド クラスです。</span><span class="sxs-lookup"><span data-stu-id="0558a-174">**FMTBuildContactControl** is the build class for the contact control.</span></span> <span data-ttu-id="0558a-175">各拡張可能コントロールについては、ビルド クラスは、コントロールがプロパティ シートに表示されるプロパティを定義します。</span><span class="sxs-lookup"><span data-stu-id="0558a-175">For each extensible control, the build class defines the properties that the control shows in the property sheet.</span></span> <span data-ttu-id="0558a-176">ビルド クラスは、Visual Studio フォーム デザイナーのコントロールのモデリング経験も定義します。</span><span class="sxs-lookup"><span data-stu-id="0558a-176">The build class also defines the modeling experience for the control in the Visual Studio form designer.</span></span> <span data-ttu-id="0558a-177">拡張可能なコントロールには、3 つの主要なデザイン時のビヘイビアを定義できます。</span><span class="sxs-lookup"><span data-stu-id="0558a-177">There are three primary design-time behaviors that you can define for an extensible control.</span></span> <span data-ttu-id="0558a-178">各動作では、**FormDesign** 属性を使用して宣言的に定義されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-178">Each behavior is declaratively defined by using a **FormDesign** attribute.</span></span> <span data-ttu-id="0558a-179">定義できるデザイン時の動作を次に示します。</span><span class="sxs-lookup"><span data-stu-id="0558a-179">Here are the design-time behaviors that you can define:</span></span>

-   <span data-ttu-id="0558a-180">**名前** – コントロールをフォームに追加すると、フォーム デザイナに表示されるコントロール名を指定できます。</span><span class="sxs-lookup"><span data-stu-id="0558a-180">**Name** – You can specify the control name that appears in the form designer when you add the control to a form.</span></span> <span data-ttu-id="0558a-181">名前を指定するには、拡張可能コントロールのビルド クラス宣言に **FormDesignControlAttribute** 属性を追加します。</span><span class="sxs-lookup"><span data-stu-id="0558a-181">To specify the name, add a **FormDesignControlAttribute** attribute to the build class declaration of the extensible control.</span></span> <span data-ttu-id="0558a-182">たとえば、次の **FMTBuildContactControl** クラスの申告は、属性を表示します。</span><span class="sxs-lookup"><span data-stu-id="0558a-182">For example, the following declaration of the **FMTBuildContactControl** class shows the attribute.</span></span> 

    <span data-ttu-id="0558a-183">[![ビルド クラス宣言に追加された FormDesignControlAttribute の例](./media/x1.png)](./media/x1.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-183">[![Example of FormDesignControlAttribute added to build class declaration](./media/x1.png)](./media/x1.png)</span></span>

-   <span data-ttu-id="0558a-184">**デザイナー プロパティ** - これらは、コントロールをフォームに追加すると、プロパティ シートに表示されるプロパティです。</span><span class="sxs-lookup"><span data-stu-id="0558a-184">**Designer properties** – These are the properties that you see in the property sheet when you add the control to a form.</span></span> <span data-ttu-id="0558a-185">さまざまなタイプのデザイナー プロパティを追加できる属性がいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="0558a-185">There are several attributes that let you add various types of designer properties.</span></span> <span data-ttu-id="0558a-186">たとえば、**FormDesignPropertyAttribute** 属性はプロパティ シートにプロパティを追加し、プロパティ名およびセクションが属性への引数として指定されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-186">For example, the **FormDesignPropertyAttribute** attribute adds a property to the property sheet, and the property name and the section are supplied as arguments to the attribute.</span></span> <span data-ttu-id="0558a-187">たとえば、次のコードは、**アクション名** プロパティを **FMTContactControlAction** クラスに追加します。</span><span class="sxs-lookup"><span data-stu-id="0558a-187">For example, the following code adds the **Action Name** property to the **FMTContactControlAction** class.</span></span> 

    <span data-ttu-id="0558a-188">[![アクション名プロパティが追加されたコードの例](./media/x2.png)](./media/x2.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-188">[![Example of code with Action Name property added](./media/x2.png)](./media/x2.png)</span></span>

    <span data-ttu-id="0558a-189">次のスクリーン ショットは、このプロパティが Visual Studio の **プロパティ** ウィンドウにどのように表示されるかを示しています。</span><span class="sxs-lookup"><span data-stu-id="0558a-189">The following screen shot shows how this property appears in the **Properties** pane in Visual Studio.</span></span> 

    <span data-ttu-id="0558a-190">[![プロパティ ウィンドウのスクリーン ショット](./media/ext3.png)](./media/ext3.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-190">[![Screen shot of Properties pane](./media/ext3.png)](./media/ext3.png)</span></span>

-   <span data-ttu-id="0558a-191">**子デザイン コンポーネント** - これらは、コントロールをフォームに追加した後に表示される子ノードです。</span><span class="sxs-lookup"><span data-stu-id="0558a-191">**Child design components** – These are child nodes that you see after you add the control to a form.</span></span> <span data-ttu-id="0558a-192">子の設計コンポーネントには、リーフとリーフ コレクションの 2 つのタイプがあります。</span><span class="sxs-lookup"><span data-stu-id="0558a-192">There are two types of child design components: leaf and leaf collection.</span></span>
    -   <span data-ttu-id="0558a-193">リーフは、別のビルド クラスを受け入れるか、返す X++ メソッドの **FormDesignComponentAttribute** 属性を使用して定義されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-193">A leaf is defined by using a **FormDesignComponentAttribute** attribute on an X++ method that accepts or returns another build class.</span></span> <span data-ttu-id="0558a-194">ビルド クラスは、リーフがプロパティ シートに持つプロパティを決定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-194">The build class determines the properties that the leaf has in the property sheet.</span></span>
    -   <span data-ttu-id="0558a-195">**FormDesignComponentCollectionAttribute** 属性を使用して定義されるリーフ コレクション。</span><span class="sxs-lookup"><span data-stu-id="0558a-195">A leaf collection is defined by using a **FormDesignComponentCollectionAttribute** attribute.</span></span> <span data-ttu-id="0558a-196">コレクションの許容リーフ タイプは、**FormDesignComponentValidChildAttribute** 属性を使用して定義されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-196">The allowable leaf types for the collection are defined by using **FormDesignComponentValidChildAttribute** attributes.</span></span>

    <span data-ttu-id="0558a-197">たとえば、次のコードは、**FMTBuildContactControl** クラスの **アクション** という名前のリーフ コレクションを追加します。</span><span class="sxs-lookup"><span data-stu-id="0558a-197">For example, the following code adds a leaf collection that is named **Actions** for the **FMTBuildContactControl** class.</span></span> 

    <span data-ttu-id="0558a-198">[![アクション リーフ コレクションが追加されたコードの例](./media/x3.png)](./media/x3.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-198">[![Example of code with Actions leaf collection added](./media/x3.png)](./media/x3.png)</span></span> 

    <span data-ttu-id="0558a-199">次のスクリーン ショットは、コントロールをフォームに追加する場合に、指定された子デザイン コンポーネントがどのように表示されるかを示しています。</span><span class="sxs-lookup"><span data-stu-id="0558a-199">The following screen shot shows how the specified child design component appears when you add the control to a form.</span></span> 

    <span data-ttu-id="0558a-200">[![コントロールをフォームに追加した後のスクリーン ショット](./media/ext4.png)](./media/ext4.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-200">[![Screen shot after control added to form](./media/ext4.png)](./media/ext4.png)</span></span>


### <a name="tutorial-steps"></a><span data-ttu-id="0558a-201">チュートリアルの手順</span><span class="sxs-lookup"><span data-stu-id="0558a-201">Tutorial steps</span></span>

1.  <span data-ttu-id="0558a-202">コード エディターで表示される **FMTBuildContactControl** クラスのコードを確認してください。</span><span class="sxs-lookup"><span data-stu-id="0558a-202">Check that the code for the **FMTBuildContactControl** class appears in the code editor.</span></span> <span data-ttu-id="0558a-203">そうされない場合は、ソリューション エクスプローラーで **クラス** を展開し、**FMTBuildContactControl** を右クリックして、**コードを表示** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-203">If it doesn't, in Solution Explorer, expand **Classes**, right-click **FMTBuildContactControl**, and then click **View Code**.</span></span>
2.  <span data-ttu-id="0558a-204">子デザイン コンポーネントを FMTBuildContactControl クラスに追加します。</span><span class="sxs-lookup"><span data-stu-id="0558a-204">Add a child design component to the FMTBuildContactControl class.</span></span> <span data-ttu-id="0558a-205">子デザイン コンポーネントを使用すると、フォームにコントロールを設置した開発者は、コントロールに表示されるイメージを指定することができます。</span><span class="sxs-lookup"><span data-stu-id="0558a-205">A child design component lets a developer who places the control in a form to specify the image that appears on the control.</span></span> <span data-ttu-id="0558a-206">この手順では、**FormDesignComponentAttribute** 属性を追加して、プロパティ シートに新しいエントリを作成します。</span><span class="sxs-lookup"><span data-stu-id="0558a-206">In this step, you will add the **FormDesignComponentAttribute** attribute to create a new entry in the property sheet.</span></span> <span data-ttu-id="0558a-207">次に、**FormDesignPropertyDataFieldAttribute** 属性を追加します。この属性は、新しいデザイナー プロパティがデータ フィールドの選択を使用可能にすることを示します。</span><span class="sxs-lookup"><span data-stu-id="0558a-207">You will then add the **FormDesignPropertyDataFieldAttribute** attribute, which indicates that the new designer property enables the selection of a data field.</span></span>
    1.  <span data-ttu-id="0558a-208">クラスの申告に次の強調表示されたコードを追加します。</span><span class="sxs-lookup"><span data-stu-id="0558a-208">Add the highlighted code that follows to the declarations for the class.</span></span> <span data-ttu-id="0558a-209">このコードは、**FMTBuildContactControl** クラスが使用している X++ に **FormBindingDataField** フィールドを追加します。</span><span class="sxs-lookup"><span data-stu-id="0558a-209">This code adds the **FormBindingDataField** field to the X++ that the **FMTBuildContactControl** class is using.</span></span> 

        <span data-ttu-id="0558a-210">[![FormBindingDataField フィールドを追加するコードの例](./media/x4.png)](./media/x4.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-210">[![Example of code that adds the FormBindingDataField field](./media/x4.png)](./media/x4.png)</span></span>

    2.  <span data-ttu-id="0558a-211">**FMTBuildContactControl** クラスに、次のコードを追加します。</span><span class="sxs-lookup"><span data-stu-id="0558a-211">Add the following code to the **FMTBuildContactControl** class.</span></span> <span data-ttu-id="0558a-212">データ ソースのデザイナー プロパティの後に、このメソッドを追加します。</span><span class="sxs-lookup"><span data-stu-id="0558a-212">Add this method after the designer property for the data source.</span></span> 

        <span data-ttu-id="0558a-213">[![FMTBuildContactControl クラスに追加するコードの例](./media/x5.png)](./media/x5.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-213">[![Example of code to add to the FMTBuildContactControl class](./media/x5.png)](./media/x5.png)</span></span>

        > [!NOTE]
        > <span data-ttu-id="0558a-214">子デザイン コンポーネントは **FormBindingDataField** ビルド クラスで使用可能なプロパティを表示します。</span><span class="sxs-lookup"><span data-stu-id="0558a-214">The child design component will show the properties that are available on the **FormBindingDataField** build class.</span></span> <span data-ttu-id="0558a-215">これは、データ フィールドとデータ ソースへのイメージ データのバインドを有効にするために適しています。</span><span class="sxs-lookup"><span data-stu-id="0558a-215">This is appropriate, because you want to enable image data binding to a data field and data source.</span></span> <span data-ttu-id="0558a-216">これは、連絡先コントロールのビルド クラスにデザイナー プロパティを追加するために必要なものです。</span><span class="sxs-lookup"><span data-stu-id="0558a-216">This is all that is required to add a designer property to the build class of the contact control.</span></span>

3.  <span data-ttu-id="0558a-217">Ctrl+S キーを押して変更を保存し、コード エディターを閉じます。</span><span class="sxs-lookup"><span data-stu-id="0558a-217">Press Ctrl+S to save your changes, and then close the code editor.</span></span>
4.  <span data-ttu-id="0558a-218">ソリューション エクスプローラーで、**FMTutorial** を右クリックしてから **ビルド** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-218">In Solution Explorer, right-click **FMTutorial**, and then click **Build**.</span></span>
5.  <span data-ttu-id="0558a-219">**FMTPickingUpTodayPart** フォームが既に開かれている場合、**フォーム** を展開し、**FMTPickingUpTodayPart** をダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-219">If the **FMTPickingUpTodayPart** form isn't already open, expand **Forms**, and then double-click **FMTPickingUpTodayPart**.</span></span> <span data-ttu-id="0558a-220">フォーム デザイナーで、フォームを開きます。</span><span class="sxs-lookup"><span data-stu-id="0558a-220">The form opens in the form designer.</span></span>
6.  <span data-ttu-id="0558a-221">フォーム デザイナーで、**デザイン** &gt; **PickingUpTodayGrid** を展開してから、グリッドに表示されているコントロールを選択して削除します。</span><span class="sxs-lookup"><span data-stu-id="0558a-221">In the form designer, expand **Design** &gt; **PickingUpTodayGrid**, and then select and delete the controls that currently appear in the grid.</span></span>
7.  <span data-ttu-id="0558a-222">**PickingUpTodayGrid** を右クリックして **新規** をポイントし、**FMTContactControl** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-222">Right-click **PickingUpTodayGrid**, point to **New**, and then click **FMTContactControl**.</span></span> <span data-ttu-id="0558a-223">**FMTContactControl** ノードを展開し、**画像** が新しい子デザイン コンポーネントとして表示されることを通知します。</span><span class="sxs-lookup"><span data-stu-id="0558a-223">Expand the **FMTContactControl** node, and notice that **Image** appears as a new child design component.</span></span> <span data-ttu-id="0558a-224">次の図は、フォーム デザイナーの連絡先コントロールを示しています。</span><span class="sxs-lookup"><span data-stu-id="0558a-224">The following illustration shows the contact control in the form designer.</span></span> 

    <span data-ttu-id="0558a-225">[![フォーム デザイナーでの連絡先コントロールのスクリーン ショット](./media/ext5.png)](./media/ext5.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-225">[![Screen shot of contact control in the form designer](./media/ext5.png)](./media/ext5.png)</span></span> 

    <span data-ttu-id="0558a-226">デザイン時の変更を使用する連絡先管理のための実行時クラスを更新することも必要です。</span><span class="sxs-lookup"><span data-stu-id="0558a-226">You must also update the run-time class for the contact control to consume the design-time changes.</span></span> <span data-ttu-id="0558a-227">フォームにコントロールを追加し、後でデータ バインドとプロパティ値を指定することを再検討します。</span><span class="sxs-lookup"><span data-stu-id="0558a-227">You will revisit adding the control to the form and specifying data bindings and property values later.</span></span>
8.  <span data-ttu-id="0558a-228">Ctrl+S キーを押して変更を保存し、フォーム デザイナーを閉じます。</span><span class="sxs-lookup"><span data-stu-id="0558a-228">Press Ctrl+S to save your changes, and then close the form designer.</span></span>

## <a name="modify-the-runtime-class-for-the-contact-control"></a><span data-ttu-id="0558a-229">連絡先コントロールのランタイム クラスの変更</span><span class="sxs-lookup"><span data-stu-id="0558a-229">Modify the runtime class for the contact control</span></span>
<span data-ttu-id="0558a-230">次に、ランタイム クラスを変更して、ビルド クラスからイメージのデータ ソースとデータ フィールドを読み取る必要があります。</span><span class="sxs-lookup"><span data-stu-id="0558a-230">Next, you must modify the run-time class to read the data source and data field for the image from the build class.</span></span> <span data-ttu-id="0558a-231">イメージ データがコントロールのクライアント HTML と JavaScript で利用できるように、実行時プロパティを作成することも必要です。</span><span class="sxs-lookup"><span data-stu-id="0558a-231">You must also create a run-time property, so that the image data is available to the control's client HTML and JavaScript.</span></span>

### <a name="technical-overview"></a><span data-ttu-id="0558a-232">技術的概要</span><span class="sxs-lookup"><span data-stu-id="0558a-232">Technical overview</span></span>

<span data-ttu-id="0558a-233">ランタイム クラスの例を表示するには、ソリューション エクスプローラーで **クラス** を展開し、**FMTContactControl** を右クリックして、**コードを表示** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-233">To see an example of the run-time class, in Solution Explorer, expand **Classes**, right-click **FMTContactControl**, and then click **View Code**.</span></span> <span data-ttu-id="0558a-234">クラスがコード エディターで開きます。</span><span class="sxs-lookup"><span data-stu-id="0558a-234">The class opens in the code editor.</span></span> <span data-ttu-id="0558a-235">**FMTContactControl** はコンタクト コントロールのランタイム クラスです。</span><span class="sxs-lookup"><span data-stu-id="0558a-235">**FMTContactControl** is the run-time class for the contact control.</span></span> <span data-ttu-id="0558a-236">このクラスは、連絡先コントロールのランタイム動作を定義します。</span><span class="sxs-lookup"><span data-stu-id="0558a-236">The class defines the run-time behavior of the contact control.</span></span> <span data-ttu-id="0558a-237">通常、ランタイム クラスには、データ アクセスまたはビジネス ロジック用の X++ が含まれています。</span><span class="sxs-lookup"><span data-stu-id="0558a-237">The run-time class typically contains X++ for data access or business logic.</span></span> <span data-ttu-id="0558a-238">さらに、ランタイム クラスで定義した拡張可能コントロールに関連する 2 つの主なランタイム動作があります。</span><span class="sxs-lookup"><span data-stu-id="0558a-238">In addition, there are two primary run-time behaviors that are related to extensible controls that you define in the run-time class.</span></span> <span data-ttu-id="0558a-239">各動作では、属性を使用して宣言的に定義されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-239">Each behavior is declaratively defined by using an attribute.</span></span>

-   <span data-ttu-id="0558a-240">**コントロールの実行時のプロパティ** – これらのプロパティには 2 つのタイプがあります。</span><span class="sxs-lookup"><span data-stu-id="0558a-240">**Run-time properties of the control** – These properties can be of two types:</span></span>
    -   <span data-ttu-id="0558a-241">*静的プロパティ* は、コードを介して設定されるか、デザイナーのプロパティからの値で初期化されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-241">*Static properties*, which are set via code or initialized with values from designer properties.</span></span>
    -   <span data-ttu-id="0558a-242">*バインド可能なプロパティ*、ランタイム値は、データ ソースおよびデータ フィールドの組み合わせへのバインディングによって決定されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-242">*Bindable properties*, for which the run-time value is determined by a binding to a data source and data field combination.</span></span>

    <span data-ttu-id="0558a-243">**FormPropertyAttribute** 属性を使用してランタイム プロパティが宣言されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-243">Run-time properties are declared by using **FormPropertyAttribute** attributes.</span></span> <span data-ttu-id="0558a-244">次の例は、**FMTContactControl** のプロパティ宣言を示しています。.</span><span class="sxs-lookup"><span data-stu-id="0558a-244">The following example shows a property declaration in **FMTContactControl**.</span></span> 

    <span data-ttu-id="0558a-245">[![FMTContactControl のプロパティ宣言の例](./media/x6.png)](./media/x6.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-245">[![Example of a property declaration in FMTContactControl](./media/x6.png)](./media/x6.png)</span></span>

    <span data-ttu-id="0558a-246">**FormPropertyAttribute** 属性は、2 つの引数を受け取ります。</span><span class="sxs-lookup"><span data-stu-id="0558a-246">The **FormPropertyAttribute** attribute accepts two arguments:</span></span>
    -   <span data-ttu-id="0558a-247">最初の引数は、作成する JavaScript ビュー モデル プロパティの種類をフレームワークに示します。</span><span class="sxs-lookup"><span data-stu-id="0558a-247">The first argument indicates to the framework the kind of JavaScript view model property to create.</span></span>
        -   <span data-ttu-id="0558a-248">**BindableValue** を指定した場合、**ReferenceProperty** が JavaScript ビュー モデルに生成されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-248">If you supply **BindableValue**, a **ReferenceProperty** is generated in the JavaScript view model.</span></span> <span data-ttu-id="0558a-249">**ReferenceProperty** は、データ ソース内のデータが変更されたときに更新されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-249">A **ReferenceProperty** updates itself when data changes in the data source.</span></span>
        -   <span data-ttu-id="0558a-250">**Value** を指定した場合、**ValueProperty** が JavaScript ビュー モデルに生成されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-250">If you supply **Value**, a **ValueProperty** is generated in the JavaScript view model.</span></span> <span data-ttu-id="0558a-251">開発者は、**ValueProperty** の値を更新するためのコードを記述する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0558a-251">A developer must write code to update the value of a **ValueProperty**.</span></span>
    -   <span data-ttu-id="0558a-252">属性の第 2 引数は、JavaScript ビュー モデルで定義されるプロパティの名前を設定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-252">The second argument of the attribute sets the name for the property as it will be defined in the JavaScript view model.</span></span>

    > [!NOTE]
    > <span data-ttu-id="0558a-253">この例では **値** プロパティを使用するため、**TitleFields** がデータにバインドされていないように見える場合にも問題はありません。</span><span class="sxs-lookup"><span data-stu-id="0558a-253">Don't be concerned if **TitleFields** don't seem to be bound to data because the example uses a **Value** property.</span></span> <span data-ttu-id="0558a-254">**TitleFields** プロパティは、それぞれデータ バインドされた **FormBindingDataFields** を含むリストを返します。</span><span class="sxs-lookup"><span data-stu-id="0558a-254">The **TitleFields** property returns a List that contains **FormBindingDataFields**, each of which is data-bound.</span></span> <span data-ttu-id="0558a-255">**FormPropertyAttribute** 属性を持つ X++ メソッドは、**FormProperty** をバッキング フィールドとして使用する単純なゲッター/セッターです。</span><span class="sxs-lookup"><span data-stu-id="0558a-255">The X++ method that has the **FormPropertyAttribute** attribute is a simple getter/setter that uses a **FormProperty** as the backing field.</span></span> <span data-ttu-id="0558a-256">**FormProperty** には、値またはデータ ソースの変更に基づく、プロパティを更新するためのロジックが含まれています。</span><span class="sxs-lookup"><span data-stu-id="0558a-256">The **FormProperty** contains the logic for updating the property, based on value or data source changes.</span></span> <span data-ttu-id="0558a-257">プロパティのバッキング フィールドとしても機能します。</span><span class="sxs-lookup"><span data-stu-id="0558a-257">It also serves as the backing field for the property.</span></span>

-   <span data-ttu-id="0558a-258">**コントロールの実行時コマンド** – コマンドはクライアント側のユーザーとのやり取りに基づく、トリガー X++ ロジックのクライアント部分のコントロールを有効にします。</span><span class="sxs-lookup"><span data-stu-id="0558a-258">**Run-time commands for the control** – Commands enable the client parts of the control to trigger X++ logic, based on client-side user interactions.</span></span> <span data-ttu-id="0558a-259">コマンドは **FormCommandAttribute** 属性を使用して宣言されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-259">Commands are declared by using a **FormCommandAttribute** attribute.</span></span> <span data-ttu-id="0558a-260">単一の引数は、JavaScript ビューモデルに表示されるコマンドの名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-260">The single argument specifies the name of the command as it will appear in the JavaScript view model.</span></span> <span data-ttu-id="0558a-261">次の例は、**FMTContactControl** のコマンド宣言を示しています。.</span><span class="sxs-lookup"><span data-stu-id="0558a-261">The following example shows a command declaration in **FMTContactControl**.</span></span> 

    <span data-ttu-id="0558a-262">[![FMTContactControl のコマンド宣言の例](./media/x7.png)](./media/x7.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-262">[![Example of a command declaration in FMTContactControl](./media/x7.png)](./media/x7.png)</span></span>

### <a name="tutorial-steps"></a><span data-ttu-id="0558a-263">チュートリアルの手順</span><span class="sxs-lookup"><span data-stu-id="0558a-263">Tutorial steps</span></span>

1.  <span data-ttu-id="0558a-264">コード エディターで **FMTContactControl** が開いていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="0558a-264">Verify that the **FMTContactControl** class is open in the code editor.</span></span> <span data-ttu-id="0558a-265">そうされていない場合は、ソリューション エクスプローラーで **クラス** を展開し、**FMTContactControl** を右クリックして、**コードを表示** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-265">If it isn't, in Solution Explorer, expand **Classes**, right-click **FMTContactControl**, and then click **View Code**.</span></span>
2.  <span data-ttu-id="0558a-266">**FMTContactControl** に画像データの実行時プロパティを追加します。</span><span class="sxs-lookup"><span data-stu-id="0558a-266">Add a run-time property for the image data to **FMTContactControl**.</span></span> <span data-ttu-id="0558a-267">**FMTContactControl** クラスで、次の例で強調表示された行で示すように **imageFieldProperty** という **FormProperty** を宣言します。</span><span class="sxs-lookup"><span data-stu-id="0558a-267">In the **FMTContactControl** class, declare a **FormProperty** that is named **imageFieldProperty**, as shown by the highlighted line in the following example.</span></span> 

    <span data-ttu-id="0558a-268">[![ImageFieldProperty と呼ばれる FormProperty の宣言の例](./media/x8.png)](./media/x8.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-268">[![Example of declaration of a FormProperty named imageFieldProperty](./media/x8.png)](./media/x8.png)</span></span>

3.  <span data-ttu-id="0558a-269">**parmDataSource** X++ メソッドの後に、次の X++ メソッドを追加します。</span><span class="sxs-lookup"><span data-stu-id="0558a-269">Add the following X++ method after the **parmDataSource** X++ method.</span></span> <span data-ttu-id="0558a-270">新しいメソッドは、**imageFieldProperty** のゲッター/セッターとして機能します。</span><span class="sxs-lookup"><span data-stu-id="0558a-270">The new method will serve as the getter/setter for **imageFieldProperty**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="0558a-271">後で見るように、フレームワークはクライアントのデータにバインドさせるため、ここでは画像データの値を返しません。</span><span class="sxs-lookup"><span data-stu-id="0558a-271">You don't return the value of the image data here, because the framework will let you bind to the data in the client, as you will see later.</span></span> 

    <span data-ttu-id="0558a-272">[![X++ メソッドが追加されたコードの例](./media/x9.png)](./media/x9.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-272">[![Example of code with added X++ method](./media/x9.png)](./media/x9.png)</span></span>

4.  <span data-ttu-id="0558a-273">**imageFieldProperty** は、次の例で強調表示された行を **FMTContactControl** の新しいメソッドに追加することで初期化されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-273">Initialize **imageFieldProperty** by adding the highlighted line in the following example to the new method of **FMTContactControl**.</span></span> 

    <span data-ttu-id="0558a-274">[![初期化された imageFieldProperty の例](./media/x10.png)](./media/x10.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-274">[![Example of initialized imageFieldProperty](./media/x10.png)](./media/x10.png)</span></span>

5.  <span data-ttu-id="0558a-275">ここで、次の例で強調表示された行を **FMTContactControl** の **applyBuild** メソッドに追加することで **imageFieldProperty** へのバインディングを供給します。</span><span class="sxs-lookup"><span data-stu-id="0558a-275">Now supply the binding to **imageFieldProperty** by adding the highlighted line in the following example to the **applyBuild** method of **FMTContactControl**.</span></span> 

    <span data-ttu-id="0558a-276">[![ImageFieldProperty へのバインドを提供するコードの例](./media/x11.png)](./media/x11.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-276">[![Example of code that supplies binding to imageFieldProperty](./media/x11.png)](./media/x11.png)</span></span>

6.  <span data-ttu-id="0558a-277">Ctrl + S を押して変更を保存します。</span><span class="sxs-lookup"><span data-stu-id="0558a-277">Press Ctrl+S to save the changes.</span></span> <span data-ttu-id="0558a-278">これで、実行時クラスの変更が完了しました。</span><span class="sxs-lookup"><span data-stu-id="0558a-278">You've now finished modifying the run-time class.</span></span> <span data-ttu-id="0558a-279">次に、画像を表示する HTML ビューを更新します。</span><span class="sxs-lookup"><span data-stu-id="0558a-279">Next, you will update the HTML view to display the image.</span></span>

## <a name="modify-the-html-for-the-contact-control"></a><span data-ttu-id="0558a-280">連絡先コントロールの HTML の変更</span><span class="sxs-lookup"><span data-stu-id="0558a-280">Modify the HTML for the contact control</span></span>
<span data-ttu-id="0558a-281">連絡先コントロールの HTML では、テキスト ボックス、画像、およびボタンなど、ランタイム クラスで定義されているプロパティとコマンドを操作する UI 要素を追加できます。</span><span class="sxs-lookup"><span data-stu-id="0558a-281">The HTML of the contact control is where you add UI elements, such as text boxes, images, and buttons, that interact with the properties and commands that are defined in the run-time class.</span></span> <span data-ttu-id="0558a-282">拡張可能なコントロールでは、宣言的な HTML ベースのバインド構文を使用して、HTML 要素の動作をプロパティ、コマンド、JavaScript 式、および JavaScript 関数にバインドします。</span><span class="sxs-lookup"><span data-stu-id="0558a-282">Extensible controls use a declarative HTML-based binding syntax to bind HTML element behaviors to properties, commands, JavaScript expressions, and JavaScript functions.</span></span> <span data-ttu-id="0558a-283">これらのバインディングは実行時に解析され、結果の HTML が DOM に注入されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-283">These bindings are parsed at run time, and the resulting HTML is injected into the DOM.</span></span> <span data-ttu-id="0558a-284">次のセクションでは、コントロールに画像を追加するために FMTContactControl.htm で使用されるバインディングのいくつかについて説明します。</span><span class="sxs-lookup"><span data-stu-id="0558a-284">The following section explains a few of the bindings that are used in FMTContactControl.htm to add an image to the control.</span></span>

### <a name="technical-overview"></a><span data-ttu-id="0558a-285">技術的概要</span><span class="sxs-lookup"><span data-stu-id="0558a-285">Technical overview</span></span>

<span data-ttu-id="0558a-286">**bind** 属性と **text** バインディング ハンドラーを組み合わせると、HTML 要素の **text** プロパティへのバインディングが有効になります。</span><span class="sxs-lookup"><span data-stu-id="0558a-286">The **bind** attribute, together with the **text** binding handler enables binding to the **text** property of an HTML element.</span></span> <span data-ttu-id="0558a-287">たとえば、次の HTML は **バインド** 属性および **テキスト** バインディング ハンドラーを使用します。</span><span class="sxs-lookup"><span data-stu-id="0558a-287">For example, the following HTML uses the **bind** attribute and the **text** binding handler.</span></span> 

<span data-ttu-id="0558a-288">[![バインド属性とテキスト バインディング ハンドラーを使用する HTML コードの例](./media/x12.png)](./media/x12.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-288">[![Example of HTML code using bind attribute and text binding handler](./media/x12.png)](./media/x12.png)</span></span> 

<span data-ttu-id="0558a-289">上記の HTML は、次の HTML と同じです。</span><span class="sxs-lookup"><span data-stu-id="0558a-289">The preceding HTML is equivalent to the following HTML.</span></span> 

<span data-ttu-id="0558a-290">[![同等の HTML コードの例](./media/x13.png)](./media/x13.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-290">[![Example of equivalent HTML code](./media/x13.png)](./media/x13.png)</span></span> 

<span data-ttu-id="0558a-291">プロパティまたはコマンドにバインドするとき、バインドの利点が分かります。</span><span class="sxs-lookup"><span data-stu-id="0558a-291">You will see the benefits of the binding when you bind to properties or commands.</span></span> <span data-ttu-id="0558a-292">たとえば、**名** という名前のビュー モデル プロパティある場合、次の例に示すようにそれをバインドすることができます。</span><span class="sxs-lookup"><span data-stu-id="0558a-292">For example, if you have a view model property that is named **FirstName**, you can bind to it as shown in the following example.</span></span> <span data-ttu-id="0558a-293">ここで、**$data** はビュー モデル プロパティおよびコマンドを含むオブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="0558a-293">Here, **$data** is the object that contains the view model properties and commands.</span></span> 

<span data-ttu-id="0558a-294">[![プロパティまたはコマンドにバインドする HTML コードの例](./media/x14.png)](./media/x14.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-294">[![Example of HTML code that binds to properties or commands](./media/x14.png)](./media/x14.png)</span></span> 

<span data-ttu-id="0558a-295">HTML 出力は、**FirstName** の現在の値に基づいて変更されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-295">The HTML output changes, based on the current value of **FirstName**.</span></span> <span data-ttu-id="0558a-296">次の例は、**名** の値が **John** の場合の出力を示しています。</span><span class="sxs-lookup"><span data-stu-id="0558a-296">The following example shows the output if **FirstName** has a value of **John**.</span></span> 

<span data-ttu-id="0558a-297">[**![変更された HTML 出力の例](./media/x15.png)**](./media/x15.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-297">[**![Example of changed HTML output](./media/x15.png)**](./media/x15.png)</span></span> 

<span data-ttu-id="0558a-298">何らかの理由で **FirstName** プロパティが変更した場合 (たとえば、X++ または JavaScript がプロパティを更新するために実行された)、バインドは自動的に再評価され、HTML 出力により変更がすぐに反映されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-298">If the value of the **FirstName** property changes for some reason (for example, X++ or JavaScript was run to update the property), the binding is automatically reevaluated, and the HTML output immediately reflects the change.</span></span> <span data-ttu-id="0558a-299">バインド値が変更されるとすべてのバインディング ハンドラーは自動再評価のパターンに従います。</span><span class="sxs-lookup"><span data-stu-id="0558a-299">All binding handlers follow this pattern of automatic reevaluation when the binding value changes.</span></span> <span data-ttu-id="0558a-300">**if** および **foreach** バインディング ハンドラーは、バインディング値に基づいて DOM 操作を実行するという点で独自です。</span><span class="sxs-lookup"><span data-stu-id="0558a-300">The **if** and **foreach** binding handlers are unique in that they perform DOM manipulation based on the binding values.</span></span>

-   <span data-ttu-id="0558a-301">条件付きで DOM に要素を追加するには、**if** バインド ハンドラを使用し、要素を追加する条件を指定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-301">To conditionally add an element to the DOM, use the **if** binding handler and supply the condition under which the element should be added.</span></span> <span data-ttu-id="0558a-302">条件が false の場合は、要素を DOM に追加されたり、DOM から削除されることはなく、要素に関連付けられているバインドは評価されません。</span><span class="sxs-lookup"><span data-stu-id="0558a-302">If the condition is false, the element isn't added to or removed from the DOM, and no bindings that are associated with the element are evaluated.</span></span> <span data-ttu-id="0558a-303">もちろん、**場合** の変更に提供される値バインディングの場合、削除された要素がもう一度 DOM に追加され、バインディングは評価されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-303">Of course, if the binding value that is supplied to **if** changes, an element that was removed will be added to the DOM again, and the bindings will be evaluated.</span></span>
-   <span data-ttu-id="0558a-304">要素の配列を反復処理するには、**foreach** バインドを使用します。</span><span class="sxs-lookup"><span data-stu-id="0558a-304">To iterate over an array of elements, use the **foreach** binding.</span></span> <span data-ttu-id="0558a-305">これは、ほぼ同一の HTML 要素を表示する必要がある場合に便利です。</span><span class="sxs-lookup"><span data-stu-id="0558a-305">This is useful when nearly identical HTML elements must be displayed.</span></span>

<span data-ttu-id="0558a-306">次のテーブルに、その他のバインディング ハンドラーの一部を示します。</span><span class="sxs-lookup"><span data-stu-id="0558a-306">The following table shows some of the other binding handlers.</span></span>

| <span data-ttu-id="0558a-307">バインディング ハンドラー</span><span class="sxs-lookup"><span data-stu-id="0558a-307">Binding handler</span></span> | <span data-ttu-id="0558a-308">説明</span><span class="sxs-lookup"><span data-stu-id="0558a-308">Description</span></span>                                          |
|-----------------|------------------------------------------------------|
| <span data-ttu-id="0558a-309">css</span><span class="sxs-lookup"><span data-stu-id="0558a-309">css</span></span>             | <span data-ttu-id="0558a-310">条件に基づいて、CSS クラスを指定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-310">Specify a CSS class, based on a condition.</span></span>           |
| <span data-ttu-id="0558a-311">style</span><span class="sxs-lookup"><span data-stu-id="0558a-311">style</span></span>           | <span data-ttu-id="0558a-312">CSS スタイルを適用し、値をプロパティにバインドします。</span><span class="sxs-lookup"><span data-stu-id="0558a-312">Apply CSS styles, and bind the values to properties.</span></span> |
| <span data-ttu-id="0558a-313">attr</span><span class="sxs-lookup"><span data-stu-id="0558a-313">attr</span></span>            | <span data-ttu-id="0558a-314">HTML 属性をバインドします。</span><span class="sxs-lookup"><span data-stu-id="0558a-314">Bind an HTML attribute.</span></span>                              |

<span data-ttu-id="0558a-315">コントロールの HTML 内での HTML 要素の使用に加えて、CheckBox、Group、Tile、SectionContainer、Label、および List などのフレームワーク コントロールをコントロールに追加することもできます。</span><span class="sxs-lookup"><span data-stu-id="0558a-315">In addition to using HTML elements inside the HTML for your control, you can also add framework controls such as CheckBox, Group, Tile, SectionContainer, Label, and List to your control.</span></span> <span data-ttu-id="0558a-316">バインディング ハンドラーの代わりに、各フレームワーク コントロールでバインド値をビュー モデル プロパティに渡すことができます。</span><span class="sxs-lookup"><span data-stu-id="0558a-316">Instead of binding handlers, each framework control enables binding values to be passed to its view model properties.</span></span> <span data-ttu-id="0558a-317">たとえば、**CommandButton** は **ロール** 属性を使用して追加されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-317">For example, a **CommandButton** is added by using the **role** attribute.</span></span> 

<span data-ttu-id="0558a-318">[![CommandButton を追加するコード例](./media/x16.png)](./media/x16.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-318">[![Code example that adds a CommandButton](./media/x16.png)](./media/x16.png)</span></span> 

<span data-ttu-id="0558a-319">この場合、**ActionCommand** は JavaScript 機能とともに提供されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-319">In this case, **ActionCommand** can be supplied with a JavaScript function.</span></span> 

<span data-ttu-id="0558a-320">[![JavaScript 機能により提供された ActionCommand のコード例](./media/x17.png)](./media/x17.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-320">[![Code example of ActionCommand supplied with JavaScript function](./media/x17.png)](./media/x17.png)</span></span> 

<span data-ttu-id="0558a-321">HTML バインディング構文の追加機能の 1 つは、バインディングのコンテキスト認識の性質です。</span><span class="sxs-lookup"><span data-stu-id="0558a-321">One additional feature of the HTML binding syntax is the context-aware nature of bindings.</span></span> <span data-ttu-id="0558a-322">既定では、すべての HTML 要素のコンテキストはコントロールの JavaScript ビュー モデルに設定されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-322">By default, the context of all HTML elements is set to the JavaScript view model for the control.</span></span> <span data-ttu-id="0558a-323">ただし、コンテキストは特定の状況で変化します。</span><span class="sxs-lookup"><span data-stu-id="0558a-323">However, the context changes in certain circumstances.</span></span> <span data-ttu-id="0558a-324">たとえば、**foreach** バインディングに対して、ホスト要素 (**foreach** バインディングを持つ要素) 内に入れ子になったすべての子要素は、コンテキストとしてループで現在の品目を取得します。</span><span class="sxs-lookup"><span data-stu-id="0558a-324">For example, for a **foreach** binding, every child element that is nested inside the hosting element (the element that has the **foreach** binding) obtains the current item in the loop as the context.</span></span> <span data-ttu-id="0558a-325">**foreach** バインドの内部にあるときに親要素のコンテキストにアクセスするには、**$parent** オブジェクトを使用します。</span><span class="sxs-lookup"><span data-stu-id="0558a-325">To access the context of the parent element when you're inside of a **foreach** binding, use the **$parent** object.</span></span> <span data-ttu-id="0558a-326">FTMContactControl.htm の次の例は、この点を明確にするのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="0558a-326">The following example from FTMContactControl.htm will help make this point clearer.</span></span> 

<span data-ttu-id="0558a-327">[![バインディングのコンテキスト認識の性質を示すコード例](./media/x18.png)](./media/x18.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-327">[![Code example showing context-aware nature of bindings](./media/x18.png)](./media/x18.png)</span></span> 

<span data-ttu-id="0558a-328">**アクション** コントロールの JavaScript ビュー モデルで使用可能なリスト プロパティです。</span><span class="sxs-lookup"><span data-stu-id="0558a-328">**Actions** is a List property that is available on the control's JavaScript view model.</span></span> <span data-ttu-id="0558a-329">このプロパティは、**FMTContactControl** ランタイム クラスで定義されています。</span><span class="sxs-lookup"><span data-stu-id="0558a-329">This property was defined in the **FMTContactControl** run-time class.</span></span> <span data-ttu-id="0558a-330">**アクション** リストの各アクションには、**データ ソース**、**データ フィールド**、および **アクション名** プロパティがあります。</span><span class="sxs-lookup"><span data-stu-id="0558a-330">Each action in the **Actions** list has **Data Source**, **Data Field**, and **Action Name** properties.</span></span> <span data-ttu-id="0558a-331">**foreach** ループ内で、**$data** は現在のアクションを参照し、**$data.ActionName** カムはループ内の現在のアクションから **ActionName** プロパティを取得します。</span><span class="sxs-lookup"><span data-stu-id="0558a-331">Within the **foreach** loop, **$data** refers to the current action, and **$data.ActionName** cam retrieve the **ActionName** property from the current action in the loop.</span></span> <span data-ttu-id="0558a-332">ループ内では、コントロール上のビュー モデル プロパティは **$data** 経由でアクセスすることはできません。</span><span class="sxs-lookup"><span data-stu-id="0558a-332">Within the loop, view model properties on the control aren't accessible via **$data**.</span></span> <span data-ttu-id="0558a-333">代わりに、**$parent** を使用してビュー モデル プロパティを取得できます。</span><span class="sxs-lookup"><span data-stu-id="0558a-333">Instead, **$parent** can be used to retrieve the view model properties.</span></span>

### <a name="tutorial-steps"></a><span data-ttu-id="0558a-334">チュートリアルの手順</span><span class="sxs-lookup"><span data-stu-id="0558a-334">Tutorial steps</span></span>

<span data-ttu-id="0558a-335">ランタイム クラスで作成した **ImageField** プロパティの HTML を追加します。</span><span class="sxs-lookup"><span data-stu-id="0558a-335">Add the HTML for the **ImageField** property that you created in the run-time class.</span></span>

1.  <span data-ttu-id="0558a-336">ソリューション エクスプローラーで、**FMTutorial** プロジェクトの **リソース** フォルダーを展開し、**FMTContactControlHTM** をダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-336">In Solution Explorer, expand the **Resources** folder under the **FMTutorial** project, and double-click **FMTContactControlHTM**.</span></span> <span data-ttu-id="0558a-337">FMTContactControl.htm ファイルは、HTML エディターで開きます。</span><span class="sxs-lookup"><span data-stu-id="0558a-337">The FMTContactControl.htm file opens in the HTML editor.</span></span>
2.  <span data-ttu-id="0558a-338">FMTContactControl.htm HTML に、次の HTML を追加します。</span><span class="sxs-lookup"><span data-stu-id="0558a-338">Add the following HTML to the FMTContactControl.htm HTML.</span></span> <span data-ttu-id="0558a-339">灰色のテキストは、配置コンテキストにのみ表示されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-339">The gray text is shown just for placement context.</span></span> 

    <span data-ttu-id="0558a-340">[![追加する HTML コード](./media/x19.png)](./media/x19.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-340">[![HTML code to be added](./media/x19.png)](./media/x19.png)</span></span>

3.  <span data-ttu-id="0558a-341">Ctrl+S を押し、FMTContactControl.htm の変更を保存します。</span><span class="sxs-lookup"><span data-stu-id="0558a-341">Press Ctrl+S to save the changes to FMTContactControl.htm.</span></span>

<span data-ttu-id="0558a-342">前の例では、イメージを表示するためにフレームワーク イメージ コントロールを使用します。</span><span class="sxs-lookup"><span data-stu-id="0558a-342">In the preceding example, you use the framework image control to render the image.</span></span> <span data-ttu-id="0558a-343">**値** はイメージ コントロールで定義されているプロパティです。</span><span class="sxs-lookup"><span data-stu-id="0558a-343">**Value** is a property that is defined on the Image control.</span></span> <span data-ttu-id="0558a-344">このプロパティを使用すると、画像データの値を指定できます。</span><span class="sxs-lookup"><span data-stu-id="0558a-344">This property lets you specify the value for the image data.</span></span> <span data-ttu-id="0558a-345">イメージ コントロールはいくつかの種類のイメージ タイプをサポートしていますが、この例では、URL と Base64 文字列の 2 つのタイプのみを考慮しています。</span><span class="sxs-lookup"><span data-stu-id="0558a-345">The image control supports several kinds of image types, but for this example, you’re concerned with only two possible types: URLs and Base64 strings.</span></span> <span data-ttu-id="0558a-346">イメージ タイプは実行時にのみ認識されるデータに依存するため、この情報を取得するプロパティ、**ImageValue** を使用します。</span><span class="sxs-lookup"><span data-stu-id="0558a-346">Because the image type depends on data that is known only at run time, you will use a property that derives this information, **ImageValue**.</span></span> <span data-ttu-id="0558a-347">そのようなプロパティが **FMTContactControl** の実行時クラスで定義されていないことが通知される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="0558a-347">You might notice that no such property is defined in the run-time class for **FMTContactControl**.</span></span> <span data-ttu-id="0558a-348">したがって、このプロパティは、そのコントロールの自動生成された JavaScript ビュー モデルの一部ではなく、<**$data** にも定義されていません。</span><span class="sxs-lookup"><span data-stu-id="0558a-348">Therefore, this property isn't part of the automatically generated JavaScript view model for that control, and it also isn't defined on **$data**.</span></span> <span data-ttu-id="0558a-349">**$data** 経由で **ImageValue** プロパティにアクセスできるようにするには、自動的に生成された JavaScript ビュー モデルを拡張してプロパティを追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0558a-349">To make the **ImageValue** property accessible via **$data**, you must extend the automatically generated JavaScript view model to add the property.</span></span>

## <a name="review-the-javascript-for-the-contact-control"></a><span data-ttu-id="0558a-350">連絡先コントロールの JavaScript を確認</span><span class="sxs-lookup"><span data-stu-id="0558a-350">Review the JavaScript for the contact control</span></span>
<span data-ttu-id="0558a-351">前述したように、**FormPropertyAttribute** または **FormCommandAttribute** 属性を持つすべての X++ メソッドに対して、JavaScript プロパティまたはコマンドが生成され、ビュー モデルを介して拡張可能コントロールの HTML にアクセスできるようになります。</span><span class="sxs-lookup"><span data-stu-id="0558a-351">As was mentioned earlier, for every X++ method that has either a **FormPropertyAttribute** or **FormCommandAttribute** attribute, a JavaScript property or command is generated and made accessible to an extensible control's HTML via the view model.</span></span> <span data-ttu-id="0558a-352">クライアント上でのみ定義される追加プロパティおよびコマンドで、このビュー モデルを拡張することができます。</span><span class="sxs-lookup"><span data-stu-id="0558a-352">You can extend this view model with additional properties and commands that are defined only on the client.</span></span> <span data-ttu-id="0558a-353">つまり、プロパティやコマンドに関連付けられている X++ メソッドはありません。</span><span class="sxs-lookup"><span data-stu-id="0558a-353">In other words, the properties and commands have no associated X++ methods.</span></span> <span data-ttu-id="0558a-354">ビュー モデルを拡張した後、追加のクライアントのみ **$data** オブジェクト経由でバインディングのプロパティおよびコマンドを使用することができます。</span><span class="sxs-lookup"><span data-stu-id="0558a-354">After you extend the view model, the additional client-only properties and commands can be used in bindings via the **$data** object.</span></span>

### <a name="technical-overview"></a><span data-ttu-id="0558a-355">技術的概要</span><span class="sxs-lookup"><span data-stu-id="0558a-355">Technical overview</span></span>

<span data-ttu-id="0558a-356">コントロール拡張フレームワークには、データ バインドおよびデータ アクセスを支援する多くの機能が用意されています。</span><span class="sxs-lookup"><span data-stu-id="0558a-356">The Control Extensibility Framework offers many functions that help with data bindings and data access.</span></span> <span data-ttu-id="0558a-357">FMTContactControl.htm で使用されるいくつかの関数 (**$field$** や **$model** など) を使うと、HTML バインドからデータ ソースとそのフィールドにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="0558a-357">Some of the functions that are used in FMTContactControl.htm, such as **$field** or **$model**, make it easy to access the data source and its fields from the HTML bindings.</span></span> <span data-ttu-id="0558a-358">これらの関数は、フレームワークによって定義された JavaScript 関数の HTML バインディングで使用される関数別名です。</span><span class="sxs-lookup"><span data-stu-id="0558a-358">These functions are functional aliases that are used in the HTML bindings for JavaScript functions that are defined by the framework.</span></span> <span data-ttu-id="0558a-359">拡張された JavaScript ビュー モデル内では、等価の、非エイリアス関数は **$dyn.getField** および **$dyn.getModel** です。</span><span class="sxs-lookup"><span data-stu-id="0558a-359">Within the extended JavaScript view model, the equivalent, non-aliased functions are **$dyn.getField** and **$dyn.getModel**.</span></span> <span data-ttu-id="0558a-360">また、**$** シンボルを使用して、拡張 JavaScript ビュー モデル内で jQuery を使用することができます。</span><span class="sxs-lookup"><span data-stu-id="0558a-360">You can also use jQuery within the extended JavaScript view model by using the **$** symbol.</span></span> <span data-ttu-id="0558a-361">次の例は、拡張 JavaScript ビュー モデルのコンストラクターを定義するために使用される標準パターンを示しています。</span><span class="sxs-lookup"><span data-stu-id="0558a-361">The following example shows the standard pattern that is used to define a constructor for the extended JavaScript view model.</span></span> <span data-ttu-id="0558a-362">この例では、**this** への参照を保存し、基本 **コントロール** クラスの動作を適用してから、自動的に生成されたプロパティおよびコマンドと、拡張表示モデルからのプロパティおよびコマンドを結合します。</span><span class="sxs-lookup"><span data-stu-id="0558a-362">In this example, you save a reference to **this**, apply the base **Control** class behaviors, and then combine the automatically generated properties and commands with the properties and command from the extended view model.</span></span> 

<span data-ttu-id="0558a-363">[![拡張 JavaScript ビュー モデルのコンストラクターを定義するのに使用される標準パターンを示すコード例](./media/x20.png)](./media/x20.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-363">[![Code example showing standard pattern used to define a constructor for the extended JavaScript view model](./media/x20.png)](./media/x20.png)</span></span> 

<span data-ttu-id="0558a-364">**self** 変数には、X++ ランタイム クラスから生成されたすべてのプロパティとコマンドが含まれるようになりました。</span><span class="sxs-lookup"><span data-stu-id="0558a-364">The **self** variable now contains all properties and commands that are generated from the X++ run-time class.</span></span> <span data-ttu-id="0558a-365">次の例は、ビュー モデルを拡張するためのクライアント専用のプロパティを追加する方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="0558a-365">The following example shows how to add a client-only property to extend the view model.</span></span> 

<span data-ttu-id="0558a-366">[![ビュー モデルを拡張するためにクライアント専用のプロパティが追加されたコード例](./media/x21.png)](./media/x21.png)</span><span class="sxs-lookup"><span data-stu-id="0558a-366">[![Code example with client-only property added to extend the view model](./media/x21.png)](./media/x21.png)</span></span> 

<span data-ttu-id="0558a-367">**self** 変数に、X++ の実行時クラスから生成されたすべてのプロパティおよびコマンドと、クライアント専用プロパティとして追加された **ActionTypes** プロパティも含まれるようになります。</span><span class="sxs-lookup"><span data-stu-id="0558a-367">The **self** variable will then contain all the properties and commands that are generated from the X++ run-time class, and also the **ActionTypes** property that was added as a client-only property.</span></span> <span data-ttu-id="0558a-368">コントロールのビュー モデルを構築することに関連するトピックは他にもたくさんありますが、このチュートリアルの範囲外です。</span><span class="sxs-lookup"><span data-stu-id="0558a-368">There are many more topics that are related to building view models for controls, but they are outside the scope of this tutorial.</span></span> <span data-ttu-id="0558a-369">このチュートリアルでは、**FMTContactControl** のビュー モデルに変更を加える必要はありません。</span><span class="sxs-lookup"><span data-stu-id="0558a-369">For this tutorial, we don’t need to make any changes to the view model for **FMTContactControl**.</span></span> <span data-ttu-id="0558a-370">したがって、FMTContactControl.js ファイルを閉じて次のセクションに進みます。</span><span class="sxs-lookup"><span data-stu-id="0558a-370">Therefore, you can close the FMTContactControl.js file and proceed to the next section.</span></span>

## <a name="add-the-extensible-control-to-the-fleet-management-workspace"></a><span data-ttu-id="0558a-371">フリート管理ワークスペースへの拡張可能コントロールの追加</span><span class="sxs-lookup"><span data-stu-id="0558a-371">Add the extensible control to the Fleet Management workspace</span></span>
<span data-ttu-id="0558a-372">ここで、**フリート管理クラーク** ワークスペースを更新します。これにより、このワークスペースで、完成したところの連絡先コントロールが使用されるようになります。</span><span class="sxs-lookup"><span data-stu-id="0558a-372">You will now update the **Fleet Management Clerk** workspace so that it uses the contact control that you just completed.</span></span>

1. <span data-ttu-id="0558a-373">ソリューション エクスプローラーで **フォーム** を展開してから、**FMTPickingUpTodayPart** をダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-373">In Solution Explorer, expand **Forms**, and then double-click **FMTPickingUpTodayPart**.</span></span> <span data-ttu-id="0558a-374">フォーム デザイナーで、フォームを開きます。</span><span class="sxs-lookup"><span data-stu-id="0558a-374">The form opens in the form designer.</span></span>
2. <span data-ttu-id="0558a-375">フォーム デザイナーで、**デザイン** &gt; **PickingUpTodayGrid** と展開します。</span><span class="sxs-lookup"><span data-stu-id="0558a-375">In the form designer, expand **Design** &gt; **PickingUpTodayGrid**.</span></span>
3. <span data-ttu-id="0558a-376">既存の連絡コントロールがある場合は、それを削除します。</span><span class="sxs-lookup"><span data-stu-id="0558a-376">If there is an existing contact control, delete it.</span></span> <span data-ttu-id="0558a-377">X++ に対して行われた変更をフォーム デザイナーが取得できるように、コントロールを削除して再度追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0558a-377">You must remove and then re-add the control, so that the form designer picks up the X++ changes that you made.</span></span> <span data-ttu-id="0558a-378">既存のコントロールを右クリックし、**削除** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-378">Right-click the existing control, and then click **Delete**.</span></span>
4. <span data-ttu-id="0558a-379">**PickingUpTodayGrid** を右クリックして **新規** をポイントし、**FMT 連絡先コントロール** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-379">Right-click **PickingUpTodayGrid**, point to **New**, and then click **FMT Contact Control**.</span></span>
5. <span data-ttu-id="0558a-380">追加したばかりの **FMTContactControl1** ノードをクリックし、**データ ソース** プロパティを **FMTCustomer** に設定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-380">Click the **FMTContactControl1** node that you just added, and set the **Data Source** property to **FMTCustomer**.</span></span>
6. <span data-ttu-id="0558a-381">**FMTContactControl1** ノードを展開し、**画像** をクリックし、その後 **プロパティ** ウィンドウに次のプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-381">Expand the **FMTContactControl1** node, click **Image**, and then, in the **Properties** pane, set the following properties.</span></span>


   |  <span data-ttu-id="0558a-382">プロパティ</span><span class="sxs-lookup"><span data-stu-id="0558a-382">Property</span></span>   |    <span data-ttu-id="0558a-383">先頭値</span><span class="sxs-lookup"><span data-stu-id="0558a-383">Value</span></span>    |
   |-------------|-------------|
   | <span data-ttu-id="0558a-384">データ ソース</span><span class="sxs-lookup"><span data-stu-id="0558a-384">Data Source</span></span> | <span data-ttu-id="0558a-385">FMTCustomer</span><span class="sxs-lookup"><span data-stu-id="0558a-385">FMTCustomer</span></span> |
   | <span data-ttu-id="0558a-386">データ フィールド</span><span class="sxs-lookup"><span data-stu-id="0558a-386">Data Field</span></span>  |    <span data-ttu-id="0558a-387">画像</span><span class="sxs-lookup"><span data-stu-id="0558a-387">Image</span></span>    |


7. <span data-ttu-id="0558a-388">新しいタイトル フィールドを作成する:</span><span class="sxs-lookup"><span data-stu-id="0558a-388">Create new title fields:</span></span>
   1.  <span data-ttu-id="0558a-389">**タイトル フィールド** を右クリックし、**新しいタイトル フィールド** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-389">Right-click **Title Fields**, and then click **New Title Field**.</span></span>
   2.  <span data-ttu-id="0558a-390">作成したばかりの **タイトル フィールド** ノードをクリックし、**プロパティ** ウィンドウで次のプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-390">Click the **Title Field** node that you just created, and then, in the **Properties** pane, set the following properties.</span></span>

       | <span data-ttu-id="0558a-391">プロパティ</span><span class="sxs-lookup"><span data-stu-id="0558a-391">Property</span></span>    | <span data-ttu-id="0558a-392">先頭値</span><span class="sxs-lookup"><span data-stu-id="0558a-392">Value</span></span>       |
       |-------------|-------------|
       | <span data-ttu-id="0558a-393">氏名</span><span class="sxs-lookup"><span data-stu-id="0558a-393">Name</span></span>        | <span data-ttu-id="0558a-394">名</span><span class="sxs-lookup"><span data-stu-id="0558a-394">FirstName</span></span>   |
       | <span data-ttu-id="0558a-395">データ ソース</span><span class="sxs-lookup"><span data-stu-id="0558a-395">Data Source</span></span> | <span data-ttu-id="0558a-396">FMTCustomer</span><span class="sxs-lookup"><span data-stu-id="0558a-396">FMTCustomer</span></span> |
       | <span data-ttu-id="0558a-397">データ フィールド</span><span class="sxs-lookup"><span data-stu-id="0558a-397">Data Field</span></span>  | <span data-ttu-id="0558a-398">名</span><span class="sxs-lookup"><span data-stu-id="0558a-398">FirstName</span></span>   |

   3.  <span data-ttu-id="0558a-399">**タイトル フィールド** をもう一度右クリックし、**新しいタイトル フィールド** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-399">Right-click **Title Fields** again, and then click **New Title Field**.</span></span>
   4.  <span data-ttu-id="0558a-400">作成したばかりの **タイトル フィールド** ノードをクリックし、**プロパティ** ウィンドウで次のプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-400">Click the **Title Field** node that you just created, and then, in the **Properties** pane, set the following properties.</span></span>

       | <span data-ttu-id="0558a-401">プロパティ</span><span class="sxs-lookup"><span data-stu-id="0558a-401">Property</span></span>    | <span data-ttu-id="0558a-402">先頭値</span><span class="sxs-lookup"><span data-stu-id="0558a-402">Value</span></span>       |
       |-------------|-------------|
       | <span data-ttu-id="0558a-403">氏名</span><span class="sxs-lookup"><span data-stu-id="0558a-403">Name</span></span>        | <span data-ttu-id="0558a-404">姓</span><span class="sxs-lookup"><span data-stu-id="0558a-404">LastName</span></span>    |
       | <span data-ttu-id="0558a-405">データ ソース</span><span class="sxs-lookup"><span data-stu-id="0558a-405">Data Source</span></span> | <span data-ttu-id="0558a-406">FMTCustomer</span><span class="sxs-lookup"><span data-stu-id="0558a-406">FMTCustomer</span></span> |
       | <span data-ttu-id="0558a-407">データ フィールド</span><span class="sxs-lookup"><span data-stu-id="0558a-407">Data Field</span></span>  | <span data-ttu-id="0558a-408">姓</span><span class="sxs-lookup"><span data-stu-id="0558a-408">LastName</span></span>    |

8. <span data-ttu-id="0558a-409">新しい字幕フィールドを作成する:</span><span class="sxs-lookup"><span data-stu-id="0558a-409">Create new subtitle fields:</span></span>
   1. <span data-ttu-id="0558a-410">**サブタイトル フィールド** を右クリックし、**新しいサブタイトル フィールド** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-410">Right-click **Subtitle Fields**, and then click **New Subtitle Field**.</span></span>
   2. <span data-ttu-id="0558a-411">作成したばかりの **字幕フィールド** ノードをクリックし、**プロパティ** ウィンドウで次のプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-411">Click the **Subtitle Field** node that you just created, and then, in the **Properties** pane, set the following properties.</span></span>


      |       <span data-ttu-id="0558a-412">プロパティ</span><span class="sxs-lookup"><span data-stu-id="0558a-412">Property</span></span>        |   <span data-ttu-id="0558a-413">先頭値</span><span class="sxs-lookup"><span data-stu-id="0558a-413">Value</span></span>    |
      |-----------------------|------------|
      |         <span data-ttu-id="0558a-414">氏名</span><span class="sxs-lookup"><span data-stu-id="0558a-414">Name</span></span>          | <span data-ttu-id="0558a-415">StartDate</span><span class="sxs-lookup"><span data-stu-id="0558a-415">StartDate</span></span>  |
      |      <span data-ttu-id="0558a-416">データ ソース</span><span class="sxs-lookup"><span data-stu-id="0558a-416">Data Source</span></span>      | <span data-ttu-id="0558a-417">FMTRental</span><span class="sxs-lookup"><span data-stu-id="0558a-417">FMTRental</span></span>  |
      |      <span data-ttu-id="0558a-418">データ フィールド</span><span class="sxs-lookup"><span data-stu-id="0558a-418">Data Field</span></span>       | <span data-ttu-id="0558a-419">StartDate</span><span class="sxs-lookup"><span data-stu-id="0558a-419">StartDate</span></span>  |
      | <span data-ttu-id="0558a-420">フォーマット式</span><span class="sxs-lookup"><span data-stu-id="0558a-420">Formatting Expression</span></span> | <span data-ttu-id="0558a-421">集荷 {0}</span><span class="sxs-lookup"><span data-stu-id="0558a-421">Pickup {0}</span></span> |


   3. <span data-ttu-id="0558a-422">*<strong><em>サブタイトル フィールド</em></strong>* をもう一度右クリックし、*<strong><em>新しいサブタイトル フィールド</em>*</strong> をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-422">Right-click *<strong><em>Subtitle Fields</em></strong>* again, and then click *<strong><em>New Subtitle Field</em>*.</strong></span></span>
   4. <span data-ttu-id="0558a-423">作成したばかりの **字幕フィールド** ノードをクリックし、**プロパティ** ウィンドウで次のプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-423">Click the **Subtitle Field** node that you just created, and then, in the **Properties** pane, set the following properties.</span></span>


      |       <span data-ttu-id="0558a-424">プロパティ</span><span class="sxs-lookup"><span data-stu-id="0558a-424">Property</span></span>        |   <span data-ttu-id="0558a-425">先頭値</span><span class="sxs-lookup"><span data-stu-id="0558a-425">Value</span></span>    |
      |-----------------------|------------|
      |         <span data-ttu-id="0558a-426">氏名</span><span class="sxs-lookup"><span data-stu-id="0558a-426">Name</span></span>          |  <span data-ttu-id="0558a-427">EndDate</span><span class="sxs-lookup"><span data-stu-id="0558a-427">EndDate</span></span>   |
      |      <span data-ttu-id="0558a-428">データ ソース</span><span class="sxs-lookup"><span data-stu-id="0558a-428">Data Source</span></span>      | <span data-ttu-id="0558a-429">FMTRental</span><span class="sxs-lookup"><span data-stu-id="0558a-429">FMTRental</span></span>  |
      |      <span data-ttu-id="0558a-430">データ フィールド</span><span class="sxs-lookup"><span data-stu-id="0558a-430">Data Field</span></span>       |  <span data-ttu-id="0558a-431">EndDate</span><span class="sxs-lookup"><span data-stu-id="0558a-431">EndDate</span></span>   |
      | <span data-ttu-id="0558a-432">フォーマット式</span><span class="sxs-lookup"><span data-stu-id="0558a-432">Formatting Expression</span></span> | <span data-ttu-id="0558a-433">返品{0}</span><span class="sxs-lookup"><span data-stu-id="0558a-433">Return {0}</span></span> |


   5. <span data-ttu-id="0558a-434">**サブタイトル フィールド** をもう一度右クリックし、**新しいサブタイトル フィールド** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-434">Right-click **Subtitle Fields** again, and then click **New Subtitle Field**.</span></span>
   6. <span data-ttu-id="0558a-435">作成したばかりの **字幕フィールド** ノードをクリックし、**プロパティ** ウィンドウで次のプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-435">Click the **Subtitle Field** node that you just created, and then, in the **Properties** pane, set the following properties.</span></span>


      |  <span data-ttu-id="0558a-436">プロパティ</span><span class="sxs-lookup"><span data-stu-id="0558a-436">Property</span></span>   |       <span data-ttu-id="0558a-437">先頭値</span><span class="sxs-lookup"><span data-stu-id="0558a-437">Value</span></span>        |
      |-------------|--------------------|
      |    <span data-ttu-id="0558a-438">氏名</span><span class="sxs-lookup"><span data-stu-id="0558a-438">Name</span></span>     | <span data-ttu-id="0558a-439">VehicleDescription</span><span class="sxs-lookup"><span data-stu-id="0558a-439">VehicleDescription</span></span> |
      | <span data-ttu-id="0558a-440">データ ソース</span><span class="sxs-lookup"><span data-stu-id="0558a-440">Data Source</span></span> |     <span data-ttu-id="0558a-441">FMTVehicle</span><span class="sxs-lookup"><span data-stu-id="0558a-441">FMTVehicle</span></span>     |
      | <span data-ttu-id="0558a-442">データ フィールド</span><span class="sxs-lookup"><span data-stu-id="0558a-442">Data Field</span></span>  |    <span data-ttu-id="0558a-443">説明</span><span class="sxs-lookup"><span data-stu-id="0558a-443">Description</span></span>     |


   7. <span data-ttu-id="0558a-444">Ctrl + S を押して変更を保存します。</span><span class="sxs-lookup"><span data-stu-id="0558a-444">Press Ctrl+S to save your changes.</span></span>

9. <span data-ttu-id="0558a-445">グリッドを右クリックし、**コピー** をクリックして **PickingUpTodayGrid** をコピーします。</span><span class="sxs-lookup"><span data-stu-id="0558a-445">Copy **PickingUpTodayGrid** by right-clicking in the grid and clicking **Copy**.</span></span>
10. <span data-ttu-id="0558a-446">ソリューション エクスプローラーで、**フォーム** &gt; **FMTReturningTodayPart** をクリックしてから、**FMTReturningTodayPart** をダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-446">In Solution Explorer, click **Forms** &gt; **FMTReturningTodayPart**, and then double-click **FMTReturningTodayPart**.</span></span> <span data-ttu-id="0558a-447">フォーム デザイナーで、フォームを開きます。</span><span class="sxs-lookup"><span data-stu-id="0558a-447">The form opens in the form designer.</span></span>
11. <span data-ttu-id="0558a-448">**デザイン** を展開し、**ReturningTodayGrid** を右クリックし、その後 **削除** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-448">Expand **Design**, right-click **ReturningTodayGrid**, and then click **Delete**.</span></span>
12. <span data-ttu-id="0558a-449">**デザイン** を右クリックして **貼り付け** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-449">Right-click **Design**, and then click **Paste**.</span></span>
13. <span data-ttu-id="0558a-450">**FMTReturningTodayPart** フォームに追加したばかりの **PickingUpTodayGrid** グリッドを選択します。</span><span class="sxs-lookup"><span data-stu-id="0558a-450">Select the **PickingUpTodayGrid** grid that you just added to the **FMTReturningTodayPart** form.</span></span> <span data-ttu-id="0558a-451">**Name** プロパティを **ReturningTodayGrid** に設定し、Ctrl+S を押して変更を **EMTReturningTodayPart** フォームに保存します。</span><span class="sxs-lookup"><span data-stu-id="0558a-451">Set the **Name** property to **ReturningTodayGrid**, and then press Ctrl+S to save the changes to the **EMTReturningTodayPart** form.</span></span>
14. <span data-ttu-id="0558a-452">ソリューション エクスプローラーで、**FMTRentalRatesPart** フォームを検索します。</span><span class="sxs-lookup"><span data-stu-id="0558a-452">In Solution Explorer, find the **FMTRentalRatesPart** form.</span></span> <span data-ttu-id="0558a-453">フォームをダブルクリックして、フォームデザイナーで開き、**Design** &gt; **RentalRatesGrid** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-453">Double-click the form to open it in the form designer, and then click **Design** &gt; **RentalRatesGrid**.</span></span>
15. <span data-ttu-id="0558a-454">**RentalRatesGrid** から各フィールドを削除します。</span><span class="sxs-lookup"><span data-stu-id="0558a-454">Delete each field from **RentalRatesGrid**.</span></span> <span data-ttu-id="0558a-455">フィールドを削除するには、最初のフィールドをクリックし、Shift キーを押しながら最後のフィールドをクリックし、Del キーを押します。</span><span class="sxs-lookup"><span data-stu-id="0558a-455">To remove the fields, click the first field, hold down the Shift key while you click the last field, and then press Delete.</span></span>
16. <span data-ttu-id="0558a-456">グリッド内を右クリックして **新規** をポイントし、**FMT 連絡先コントロール** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-456">Right-click in the grid, point to **New**, and then click **FMT Contact Control**.</span></span>
17. <span data-ttu-id="0558a-457">**FMTContactControl1** を展開し、**画像** をクリックし、その後 **プロパティ** ウィンドウに次のプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-457">Expand **FMTContactControl1**, click **Image**, and then, in the **Properties** pane, set the following properties.</span></span>


    |  <span data-ttu-id="0558a-458">プロパティ</span><span class="sxs-lookup"><span data-stu-id="0558a-458">Property</span></span>   |      <span data-ttu-id="0558a-459">先頭値</span><span class="sxs-lookup"><span data-stu-id="0558a-459">Value</span></span>      |
    |-------------|-----------------|
    | <span data-ttu-id="0558a-460">データ ソース</span><span class="sxs-lookup"><span data-stu-id="0558a-460">Data Source</span></span> | <span data-ttu-id="0558a-461">FMTVehicleModel</span><span class="sxs-lookup"><span data-stu-id="0558a-461">FMTVehicleModel</span></span> |
    | <span data-ttu-id="0558a-462">データ フィールド</span><span class="sxs-lookup"><span data-stu-id="0558a-462">Data Field</span></span>  |      <span data-ttu-id="0558a-463">画像</span><span class="sxs-lookup"><span data-stu-id="0558a-463">Image</span></span>      |


18. <span data-ttu-id="0558a-464">**タイトル フィールド** を右クリックし、**新しいタイトル フィールド** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-464">Right-click **Title Fields**, and then click **New Title Field**.</span></span>
19. <span data-ttu-id="0558a-465">作成したばかりのタイトル フィールド ノードをクリックし、**プロパティ** ウィンドウで次のプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-465">Click the title field node that you just created, and then, in the **Properties** pane, set the following properties.</span></span>


    |  <span data-ttu-id="0558a-466">プロパティ</span><span class="sxs-lookup"><span data-stu-id="0558a-466">Property</span></span>   |      <span data-ttu-id="0558a-467">先頭値</span><span class="sxs-lookup"><span data-stu-id="0558a-467">Value</span></span>      |
    |-------------|-----------------|
    |    <span data-ttu-id="0558a-468">氏名</span><span class="sxs-lookup"><span data-stu-id="0558a-468">Name</span></span>     |  <span data-ttu-id="0558a-469">VehicleModel</span><span class="sxs-lookup"><span data-stu-id="0558a-469">VehicleModel</span></span>   |
    | <span data-ttu-id="0558a-470">データ ソース</span><span class="sxs-lookup"><span data-stu-id="0558a-470">Data Source</span></span> | <span data-ttu-id="0558a-471">FMTVehicleModel</span><span class="sxs-lookup"><span data-stu-id="0558a-471">FMTVehicleModel</span></span> |
    | <span data-ttu-id="0558a-472">データ フィールド</span><span class="sxs-lookup"><span data-stu-id="0558a-472">Data Field</span></span>  |      <span data-ttu-id="0558a-473">モデル</span><span class="sxs-lookup"><span data-stu-id="0558a-473">Model</span></span>      |


20. <span data-ttu-id="0558a-474">**サブタイトル フィールド** を右クリックし、**新しいサブタイトル フィールド** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-474">Right-click **Subtitle Fields**, and then click **New Subtitle Field**.</span></span>
21. <span data-ttu-id="0558a-475">作成したばかりの **字幕フィールド** ノードをクリックし、**プロパティ** ウィンドウで次のプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-475">Click the **Subtitle Field** node that you just created, and then, in the **Properties** pane, set the following properties.</span></span>


    |  <span data-ttu-id="0558a-476">プロパティ</span><span class="sxs-lookup"><span data-stu-id="0558a-476">Property</span></span>   |     <span data-ttu-id="0558a-477">先頭値</span><span class="sxs-lookup"><span data-stu-id="0558a-477">Value</span></span>      |
    |-------------|----------------|
    |    <span data-ttu-id="0558a-478">氏名</span><span class="sxs-lookup"><span data-stu-id="0558a-478">Name</span></span>     |  <span data-ttu-id="0558a-479">VehicleMake</span><span class="sxs-lookup"><span data-stu-id="0558a-479">VehicleMake</span></span>   |
    | <span data-ttu-id="0558a-480">データ ソース</span><span class="sxs-lookup"><span data-stu-id="0558a-480">Data Source</span></span> | <span data-ttu-id="0558a-481">FMTVehicleMake</span><span class="sxs-lookup"><span data-stu-id="0558a-481">FMTVehicleMake</span></span> |
    | <span data-ttu-id="0558a-482">データ フィールド</span><span class="sxs-lookup"><span data-stu-id="0558a-482">Data Field</span></span>  |      <span data-ttu-id="0558a-483">製造業者</span><span class="sxs-lookup"><span data-stu-id="0558a-483">Make</span></span>      |


22. <span data-ttu-id="0558a-484">**サブタイトル フィールド** を右クリックし、**新しいサブタイトル フィールド** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-484">Right-click **Subtitle Fields**, and then click **New Subtitle Field**.</span></span>
23. <span data-ttu-id="0558a-485">作成したばかりの **字幕フィールド** ノードをクリックし、**プロパティ** ウィンドウで次のプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-485">Click the **Subtitle Field** node that you just created, and then, in the **Properties** pane, set the following properties.</span></span>


    |       <span data-ttu-id="0558a-486">プロパティ</span><span class="sxs-lookup"><span data-stu-id="0558a-486">Property</span></span>        |                                                                                                    <span data-ttu-id="0558a-487">先頭値</span><span class="sxs-lookup"><span data-stu-id="0558a-487">Value</span></span>                                                                                                    |
    |-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    |         <span data-ttu-id="0558a-488">氏名</span><span class="sxs-lookup"><span data-stu-id="0558a-488">Name</span></span>          |                                                                                                 <span data-ttu-id="0558a-489">RatePerDay</span><span class="sxs-lookup"><span data-stu-id="0558a-489">RatePerDay</span></span>                                                                                                  |
    |      <span data-ttu-id="0558a-490">データ ソース</span><span class="sxs-lookup"><span data-stu-id="0558a-490">Data Source</span></span>      |                                                                                                <span data-ttu-id="0558a-491">FMTModelRate</span><span class="sxs-lookup"><span data-stu-id="0558a-491">FMTModelRate</span></span>                                                                                                 |
    |      <span data-ttu-id="0558a-492">データ フィールド</span><span class="sxs-lookup"><span data-stu-id="0558a-492">Data Field</span></span>       | <span data-ttu-id="0558a-493">RaterPerDay</span><span class="sxs-lookup"><span data-stu-id="0558a-493">RaterPerDay</span></span><p><span data-ttu-id="0558a-494"><strong>注:</strong> <strong>データ フィールド</strong> 値はテーブル フィールド名と一致する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0558a-494"><strong>Note:</strong> The <strong>Data Field</strong> value must match the table field name.</span></span> <span data-ttu-id="0558a-495">スペル エラーを修正すると、値が一致しない場合は、ランタイム エラーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="0558a-495">If you correct the spelling error, the values won't match, and you will receive a run-time error.</span></span></p> |
    | <span data-ttu-id="0558a-496">フォーマット式</span><span class="sxs-lookup"><span data-stu-id="0558a-496">Formatting Expression</span></span> |                                                                                                <span data-ttu-id="0558a-497">1 日当たりの ${0}</span><span class="sxs-lookup"><span data-stu-id="0558a-497">${0} per day</span></span>                                                                                                 |


24. <span data-ttu-id="0558a-498">**サブタイトル フィールド** を右クリックし、**新しいサブタイトル フィールド** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-498">Right-click **Subtitle Fields**, and then click **New Subtitle Field**.</span></span>
25. <span data-ttu-id="0558a-499">作成したばかりの **字幕フィールド** ノードをクリックし、**プロパティ** ウィンドウで次のプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="0558a-499">Click the **Subtitle Field** node that you just created, and then, in the **Properties** pane, set the following properties.</span></span>


    |       <span data-ttu-id="0558a-500">プロパティ</span><span class="sxs-lookup"><span data-stu-id="0558a-500">Property</span></span>        |     <span data-ttu-id="0558a-501">先頭値</span><span class="sxs-lookup"><span data-stu-id="0558a-501">Value</span></span>     |
    |-----------------------|---------------|
    |         <span data-ttu-id="0558a-502">氏名</span><span class="sxs-lookup"><span data-stu-id="0558a-502">Name</span></span>          |  <span data-ttu-id="0558a-503">RatePerWeek</span><span class="sxs-lookup"><span data-stu-id="0558a-503">RatePerWeek</span></span>  |
    |      <span data-ttu-id="0558a-504">データ ソース</span><span class="sxs-lookup"><span data-stu-id="0558a-504">Data Source</span></span>      | <span data-ttu-id="0558a-505">FMTModelRate</span><span class="sxs-lookup"><span data-stu-id="0558a-505">FMTModelRate</span></span>  |
    |      <span data-ttu-id="0558a-506">データ フィールド</span><span class="sxs-lookup"><span data-stu-id="0558a-506">Data Field</span></span>       |  <span data-ttu-id="0558a-507">RatePerWeek</span><span class="sxs-lookup"><span data-stu-id="0558a-507">RatePerWeek</span></span>  |
    | <span data-ttu-id="0558a-508">フォーマット式</span><span class="sxs-lookup"><span data-stu-id="0558a-508">Formatting Expression</span></span> | <span data-ttu-id="0558a-509">週ごとの ${0}</span><span class="sxs-lookup"><span data-stu-id="0558a-509">${0} per week</span></span> |


26. <span data-ttu-id="0558a-510">Ctrl+S を押し、変更を **FMTRentalRatesPart** に保存します。</span><span class="sxs-lookup"><span data-stu-id="0558a-510">Press Ctrl+S to save your changes to **FMTRentalRatesPart**.</span></span>
27. <span data-ttu-id="0558a-511">ソリューション エクスプローラーで、**FMTClerkWorkspace** フォームを右クリックしてから、**スタートアップ オブジェクトとして設定** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-511">In Solution Explorer, right-click the **FMTClerkWorkspace** form, and then click **Set as Startup Object**.</span></span>
28. <span data-ttu-id="0558a-512">Ctrl+F5 キーを押し、Internet Explorer で更新された連絡先コントロールを開きます。</span><span class="sxs-lookup"><span data-stu-id="0558a-512">Press Ctrl+F5 to open the updated contact control in Internet Explorer.</span></span>

    > [!NOTE]
    > <span data-ttu-id="0558a-513">JavaScript エラーが発生した場合は、ブラウザーが新しい JavaScript ファイルを読み込むように Internet Explorer のキャッシュをクリアする必要があります。</span><span class="sxs-lookup"><span data-stu-id="0558a-513">If you receive a JavaScript error, you might have to clear the Internet Explorer cache, so that the browser loads the new JavaScript file:</span></span>

    1.  <span data-ttu-id="0558a-514">デバッガーを開くように求めるメッセージが表示されたら、**いいえ** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-514">When you're prompted to open the debugger, click **No**.</span></span>
    2.  <span data-ttu-id="0558a-515">Internet Explorer が開いているときに、F12 キーを押し (または **設定** &gt; **F12 開発者ツール** をクリックし)、Ctrl+R を押します。</span><span class="sxs-lookup"><span data-stu-id="0558a-515">While Internet Explorer is open, press F12 (or click **Settings** &gt; **F12 Developer Tools**), and then press Ctrl+R.</span></span>
    3.  <span data-ttu-id="0558a-516">**ブラウザー キャッシュのクリア** ダイアログ ボックスで、**はい** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="0558a-516">In the **Clear Browser Cache** dialog box, click **Yes**.</span></span>
    4.  <span data-ttu-id="0558a-517">Ctrl + F5 キーを押して、ページを更新します。</span><span class="sxs-lookup"><span data-stu-id="0558a-517">Reload the page by pressing Ctrl+F5.</span></span>

 <span data-ttu-id="0558a-518">このチュートリアルでは、コントロールのデザイン時とサーバー側の動作を定義するときに X++ を使用する方法、および UI およびユーザー操作パターンをデザインするときに HTML および JavaScript ベースの強力なフレームワークを使用する方法について説明しました。</span><span class="sxs-lookup"><span data-stu-id="0558a-518">In this tutorial, you've seen how you can use X++ when you define the design-time and server-side behaviors for a control, and how you can consume a powerful HTML-based and JavaScript-based framework when you design the UI and user interaction patterns.</span></span> <span data-ttu-id="0558a-519">コントロール拡張フレームワークは、コントロールのモデル化された動作とその物理的なマニフェストの区切りを提供します。</span><span class="sxs-lookup"><span data-stu-id="0558a-519">The Control Extensibility Framework helps provide a separation between the modeled behavior of a control and its physical manifestation.</span></span> <span data-ttu-id="0558a-520">ベスト プラクティスは、拡張可能コントロールを作成するときにデータ、メタデータ、および UI の間の疎結合を管理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0558a-520">As a best practice, you should try to maintain this loose coupling between data, metadata, and UI when you build extensible controls.</span></span>

## <a name="bidirectional-or-right-to-left-support"></a><span data-ttu-id="0558a-521">双方向または右から左へのサポート</span><span class="sxs-lookup"><span data-stu-id="0558a-521">Bidirectional or right-to-left support</span></span>
<span data-ttu-id="0558a-522">拡張可能コントロールの右から左 (RTL) サポートを検証するには、HTML ドキュメントの **dir** (方向) 属性を設定するだけです。</span><span class="sxs-lookup"><span data-stu-id="0558a-522">To validate right-to-left (RTL) support for your extensible control, you simply need to set the **dir** (direction) attribute on the HTML document.</span></span> <span data-ttu-id="0558a-523">この属性が変更されると、ブラウザーは、コントロールのレイアウトの方向を自動的に変更します。</span><span class="sxs-lookup"><span data-stu-id="0558a-523">When this attribute is changed, the browser will automatically change the layout direction of your control.</span></span> <span data-ttu-id="0558a-524">このレイアウトと競合するすべてのスタイルがコントロールで実装されていないことを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0558a-524">You should make sure that your control doesn’t implement any styling which interferes with this layout.</span></span> <span data-ttu-id="0558a-525">この属性を手動で設定するのではなく、フォームにコントロールを配置して、右から左へ読み書きする言語を選択することでも検証できます。</span><span class="sxs-lookup"><span data-stu-id="0558a-525">Instead of setting this attribute manually, you can also validate by placing your control on a form, and then selecting a RTL language.</span></span> <span data-ttu-id="0558a-526">RTL 言語を選択すると、クライアントは **dir** 属性も適切に更新します。</span><span class="sxs-lookup"><span data-stu-id="0558a-526">Selecting a RTL language will cause the client to also update the **dir** attribute appropriately.</span></span> <span data-ttu-id="0558a-527">詳細については、HTML 標準で [ディレクトリ属性](https://www.w3.org/TR/html5/dom.html#the-dir-attribute) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0558a-527">For more information, see [dir attribute](https://www.w3.org/TR/html5/dom.html#the-dir-attribute) in the HTML standards.</span></span>





[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
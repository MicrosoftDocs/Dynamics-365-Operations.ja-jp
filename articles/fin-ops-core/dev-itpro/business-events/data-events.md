---
title: データ イベント
description: このトピックでは、データ イベントの概要を説明します。
author: jaredha
ms.date: 05/03/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Developer, IT Pro
ms.reviewer: sericks
ms.search.region: Global
ms.author: jaredha
ms.search.validFrom: 2021-10-15
ms.dyn365.ops.version: 10.0.22
ms.openlocfilehash: ead9702008f267d9361348a84ac5e4bfa8d01137
ms.sourcegitcommit: a58dfb892e43921157014f0784bd411f5c40e454
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/04/2022
ms.locfileid: "8691431"
---
# <a name="data-events"></a>データ イベント
[!include[banner](../includes/banner.md)]

データ イベントは、財務と運用アプリ内のデータの変更に基づくイベントです。 (CUD) イベントの作成、更新、および削除は、エンティティごとに有効にできます。 たとえば、**発注書ヘッダー V2** エンティティに対して **作成** イベントが有効になっている場合、データベースに新しい発注書が作成されるたびにイベント通知が発行されます。

Open Data Protocol (OData) が有効になっている財務と運用アプリ内のすべての標準エンティティおよびカスタム エンティティは、データ イベントを発行します。 データ イベント カタログでは、エンティティの各イベントが、サブスクリプションを確立できるデータ イベントとして一覧表示されます。 データ イベントを有効化してエンドポイントに関連付けるという概念は、ビジネス イベントの概念と似ています。 データ イベントが発生する場合、イベントのペイロードには対応するエンティティ レコードが含まれます。

> [!IMPORTANT]
> データ イベントは、Microsoft Power Platform の統合が有効になっている環境でのみ使用できます。 詳細については、[Microsoft Power Platform の統合を有効にする](../power-platform/enable-power-platform-integration.md)を参照してください。

## <a name="data-event-catalog"></a>データ イベント カタログ

データ イベント カタログにアクセスするには、**ビジネス イベント** ページの (**システム管理** \> **設定** \> **ビジネス イベント**) **データ イベント カタログ** タブを選択します。 データ イベント カタログは、財務と運用アプリ環境で使用可能なデータ イベントの完全な一覧を提供します。 一覧には、データ イベントごとにカテゴリ、イベント ID、および名前が表示されます。 また、イベントが会社固有のものであるかどうかも示します。 カテゴリおよびデータ イベント ID で一覧をフィルター処理できます。

![ビジネス イベント ページのデータ イベント カタログ タブ。](../media/businessevents_dataeventscatalog.png)

## <a name="activating-data-events"></a>データ イベントの有効化

既定では、データ イベントは無効です。 データ イベント カタログからデータ イベントを有効化するには、一覧でデータ イベントを選択し、**有効化** を選択します。

データ イベントは、すべての法人または特定の法人のいずれかで有効化できます。 **新しいデータ イベントの構成** ダイアログ ボックスの **法人** フィールドで、データ イベントを有効化する法人を選択します。 **法人** フィールドを空白のままにした場合、選択したデータ イベントはすべての法人で有効化されます。 データ イベントが複数の特定の法人に対して必要な場合、法人ごとに個別に構成する必要があります。

会社固有のデータ イベントのみを特定の法人に対して構成できます。 会社固有ではないデータ イベントを構成すると、**法人** フィールドは編集できなくなり、データ イベントはすべての法人に対して有効になります。

データ イベントを有効化するには、構成済のエンドポイントを選択します。 ビジネス イベントのエンドポイントの構成方法およびデータ イベントの構成方法の詳細については、[ビジネス イベントのエンドポイントを管理する](managing-business-event-endpoints.md)を参照してください。

データ イベントを有効化すると、それが **ビジネス イベント** ページの **有効なデータ イベント** タブの一覧に追加され、選択したエンドポイントを通じてサブスクリプションを使用できるようになります。

![新しいデータ イベント ダイアログ ボックスを構成します。](../media/businessevents_activatedataevent.png)

## <a name="deactivating-data-events"></a>データ イベントの無効化

データ イベントの無効化は、**ビジネス イベント** ページの **有効なデータ イベント** タブからできます。 データ イベントを無効化するには、一覧でデータ イベントを選択し、**無効化** を選択します。 データ イベントは **有効なデータ イベント** タブの一覧から削除され、**無効なデータ イベント** タブの一覧に追加されます。

ビジネス イベントと同様に、ビジネス イベントの処理が一時停止されている場合、データ イベントを無効化することができます。 システム メンテナンス、バルク データのインポート、またはバルク データ処理のため、一時停止が必要となる場合があります。 関連するデータ エンティティでデータ イベントが有効になっているバルク データ処理では、不要な場合のあるデータ イベントを大量に送信できます。 このような場合、システムのパフォーマンスに影響を与えることがあります。

業務要件を満たすためにデータ イベントが不要になった場合は、**有効なデータ イベント** または **無効なデータ イベント** タブの一覧からデータ イベントを削除できます。この場合、データ イベントは一覧から削除され、すべてのエラー履歴は削除されます。 データ イベントのエラーの履歴を必要がある場合、データ イベントを削除する代わりに無効化できます。 ビジネス イベントおよびデータ イベントのエラー ログの詳細については、[エラー](home-page.md#errors)を参照してください。

## <a name="data-event-schema"></a>データ イベント スキーマ

**ビジネス イベント** ページの **データ イベント カタログ** タブで、イベント スキーマに含まれるエンティティ プロパティが表示されます。 これらのフィールドは、データ イベントの基づく仮想テーブルを構成するプロパティです。 表示される情報には、フィールド名とラベルが含まれます。

**データ イベント カタログ** では、ページの **ビジネス イベント カタログ** タブでビジネス イベントが利用可能なイベント スキーマをダウンロードするための同じ機能を提供していません。 イベント用の JavaScript Object Notation (JSON) スキーマが必要な場合は、例えば開発中に統合システムがビジネス イベントのペイロードのスキーマを必要とする際、提供されるフィールド情報を使用しスキーマを作成できます。 [RemoteExecutionContext クラス](/dotnet/api/microsoft.xrm.sdk.remoteexecutioncontext?view=dataverse-sdk-latest&viewFallbackFrom=dynamics-general-ce-9) では、コンテキスト情報が実行時に構成されたサービス エンドポイントに送信されたことを定義します。 エンティティ フィールドは、[InputParameters](/dotnet/api/microsoft.xrm.sdk.remoteexecutioncontext.inputparameters?view=dataverse-sdk-latest#microsoft-xrm-sdk-remoteexecutioncontext-inputparameters) の **Target** と **PreImage** プロパティのスキーマに含まれます。

## <a name="performance-benchmarks"></a>パフォーマンスのベンチマーク測定

現在、データ イベント機能は、環境のすべてのエンティティ間で、5 分間あたり 5,000 イベント、最大 1 時間あたり 50,000 イベントのバースト率をサポートしています。 負荷がこれらのしきい値を超えたイベントにより、環境処理のパフォーマンスが低下する可能性があります。 イベントを明示的に調整する制限はありません。また、サポートされるしきい値を超えたイベントはすべて送信されますが、環境のパフォーマンスが低下する可能性があります。 

更新操作のデータ イベントは、Finance and Operations の作成および削除操作のデータ イベントよりも、本質的に処理のコストがかかります。 有効なデータ イベントが更新操作に対するものである場合、サポートされるしきい値を超えると環境のパフォーマンスがすぐに低下することがあります。

## <a name="limitations"></a>制限

仮想フィールドへは、データ イベントがサポートされていません。 変更データ イベントは、エンティティの基になるテーブルに対する更新操作によって発生します。 仮想フィールドは、X++ コードで計算される値なので、値を変更しても物理テーブルに対するデータ操作は行わないため、データ イベントをトリガーすることはできません。

仮想フィールドの詳細については、[計算列およびデータ エンティティの仮想フィールド](../data-entities/data-entity-computed-columns-virtual-fields.md) を参照してください。

[!include[banner](../includes/banner.md)]



---
title: データ エンティティに関する設計原則とベスト プラクティス
description: この記事では、データ エンティティの設計原則について説明します。
author: Sunil-Garg
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Developer
ms.reviewer: rhaertle
ms.custom: 26421
ms.assetid: b41f6fc4-7883-4987-8160-374576b11d16
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: a2f2e9e76d5a2538a0eff351dde45d64fcf188cd
ms.sourcegitcommit: 5192cfaedfd861faea63d8954d7bcc500608a225
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/30/2021
ms.locfileid: "5093596"
---
# <a name="design-principles-and-best-practices-for-data-entities"></a><span data-ttu-id="7d375-103">データ エンティティに関する設計原則とベスト プラクティス</span><span class="sxs-lookup"><span data-stu-id="7d375-103">Design principles and best practices for data entities</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="7d375-104">この記事では、データ エンティティの設計原則について説明します。</span><span class="sxs-lookup"><span data-stu-id="7d375-104">This article describes design principles for data entities.</span></span> <span data-ttu-id="7d375-105">また、データ エンティティ、フィールド、関係のロール、ロールの名前、OData EntityType および EntitySet のガイドラインも含まれています。</span><span class="sxs-lookup"><span data-stu-id="7d375-105">It also includes guidelines for the names of data entities, fields, relation roles, roles, and OData EntityTypes and EntitySets.</span></span>

<a name="entity-design-principles"></a><span data-ttu-id="7d375-106">エンティティ デザインの原則</span><span class="sxs-lookup"><span data-stu-id="7d375-106">Entity design principles</span></span>
------------------------

<span data-ttu-id="7d375-107">データ エンティティは、1 つの消耗契約に関連するビジネス ロジックをカプセル化する総合的なオブジェクトを提供する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7d375-107">A data entity should provide a holistic object that encapsulates the relevant business logic in a single consumable contract.</span></span> <span data-ttu-id="7d375-108">契約は、OData、インポートとエクスポート、統合、プログラミング モデルなどのアプリケーション インターフェイス (API) を通じて公開されます。</span><span class="sxs-lookup"><span data-stu-id="7d375-108">The contract is then exposed through application interfaces (APIs), such as OData, import and export, integration, and the programming model.</span></span> <span data-ttu-id="7d375-109">各データ エンティティでは、以下の目標を達成するように設計する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7d375-109">Each data entity should be designed to meet the following goals.</span></span>

### <a name="encapsulation"></a><span data-ttu-id="7d375-110">カプセル化</span><span class="sxs-lookup"><span data-stu-id="7d375-110">Encapsulation</span></span>

-   <span data-ttu-id="7d375-111">各エンティティは、物理データ モデルとエンティティのコンシューマー間の抽象化を提供する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7d375-111">Each entity should provide an abstraction between the physical data model and the consumer of the entity.</span></span> <span data-ttu-id="7d375-112">エンティティは、ビジネスにおいて特定の目的を持つオブジェクトをまとめて定義できる、基になるテーブルをカプセル化する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7d375-112">The entity should encapsulate the underlying tables that, together, can define an object that has a specific purpose in the business.</span></span> <span data-ttu-id="7d375-113">エンティティの消費者は、クライアント、サービス、および統合を形成する場合があります。</span><span class="sxs-lookup"><span data-stu-id="7d375-113">Consumers of the entity might be form clients, services, and integration.</span></span>
-   <span data-ttu-id="7d375-114">各エンティティは、ドメイン オブジェクトを表す複数の関連するテーブルをカプセル化する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7d375-114">Each entity should encapsulate multiple related tables to represent the domain object.</span></span> <span data-ttu-id="7d375-115">場合によっては、1 つのテーブルのエンティティが許容されます。</span><span class="sxs-lookup"><span data-stu-id="7d375-115">In some situations, single table entities are acceptable.</span></span>

### <a name="a-single-public-contract"></a><span data-ttu-id="7d375-116">1 つのパブリック契約</span><span class="sxs-lookup"><span data-stu-id="7d375-116">A single public contract</span></span>

-   <span data-ttu-id="7d375-117">エンティティのパブリック契約は、すべての統合エンドポイントで同じである必要があります。</span><span class="sxs-lookup"><span data-stu-id="7d375-117">The public contract for an entity should be the same across all integration end points.</span></span> <span data-ttu-id="7d375-118">たとえば、顧客エンティティは、同じフィールドまたは OData およびインポート/エクスポートの両方への API を公開する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7d375-118">For example, the customer entity must expose the same fields or API to both OData and import/export.</span></span> <span data-ttu-id="7d375-119">この原則は、エンティティの公開されたスキーマが、消費者のインタラクションの仕組みにかかわらず一貫していることを保証します。</span><span class="sxs-lookup"><span data-stu-id="7d375-119">This principle guarantees that the published schema for an entity is consistent, regardless of the mechanism for consumer interaction.</span></span>
-   <span data-ttu-id="7d375-120">エンティティが使用されるとき、CRUD 操作時にエンティティ内で実行されるビジネス ロジックは消費者のタイプによって変化することはできません。</span><span class="sxs-lookup"><span data-stu-id="7d375-120">When an entity is consumed, the business logic that is executed within the entity during CRUD operations must not vary based on the type of consumer.</span></span>

### <a name="simplicity"></a><span data-ttu-id="7d375-121">シンプルさ</span><span class="sxs-lookup"><span data-stu-id="7d375-121">Simplicity</span></span>

-   <span data-ttu-id="7d375-122">エンティティのコンシューマーは、エンティティの受け入れられた業種またはドメイン定義に基づいてエンティティと対話することができる必要があります。</span><span class="sxs-lookup"><span data-stu-id="7d375-122">The consumer of an entity should be able to interact with the entity based on the accepted industry or domain definitions of the entity.</span></span> <span data-ttu-id="7d375-123">エンティティの動作の詳細は、表示されないままにし、相互作用に影響しないようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="7d375-123">The behavior details of the entity should be kept hidden and should be prevented from distorting the interaction.</span></span>
-   <span data-ttu-id="7d375-124">エンティティのコンシューマーは、エンティティのナチュラル キーを使用してエンティティと対話できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="7d375-124">The consumer of an entity must be able to interact with the entity by using the natural key of the entity.</span></span> <span data-ttu-id="7d375-125">コンシューマーは、生成する代理キーなど、実装固有のキーを使用する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="7d375-125">The consumer must not be required to use any keys that are implementation-specific, such as any surrogate key that it generates.</span></span>

## <a name="naming-guidelines"></a><span data-ttu-id="7d375-126">名前付けのガイドライン</span><span class="sxs-lookup"><span data-stu-id="7d375-126">Naming guidelines</span></span>
### <a name="data-entity-names"></a><span data-ttu-id="7d375-127">データ エンティティ名</span><span class="sxs-lookup"><span data-stu-id="7d375-127">Data entity names</span></span>

| <span data-ttu-id="7d375-128">実行</span><span class="sxs-lookup"><span data-stu-id="7d375-128">Do</span></span>                                                                                                                                                                                                                                                                                                | <span data-ttu-id="7d375-129">実行しない</span><span class="sxs-lookup"><span data-stu-id="7d375-129">Don’t</span></span>                                        |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
| <span data-ttu-id="7d375-130">名前空間がないため、名前の先頭に標準の接頭語を付けます。</span><span class="sxs-lookup"><span data-stu-id="7d375-130">Prefix the name with standard prefixes, because of the lack of namespaces.</span></span>                                                                                                                                                                                                                        | <span data-ttu-id="7d375-131">名前にアンダースコアを含めないでください。</span><span class="sxs-lookup"><span data-stu-id="7d375-131">Don't include underscores in names.</span></span>          |
| <span data-ttu-id="7d375-132">名前に接尾語「エンティティ」を追加して、同じ接頭語を持つテーブルとクラスとの競合を避けます。</span><span class="sxs-lookup"><span data-stu-id="7d375-132">Add the postfix "Entity" to the name to prevent conflicts with tables and classes that have the same prefix.</span></span>                                                                                                                                                                                      | <span data-ttu-id="7d375-133">概念の名前に省略形を使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="7d375-133">Don't use abbreviations in conceptual names.</span></span> |
| <span data-ttu-id="7d375-134">エンティティに、en-us UI の名前と合致している概念の名前を付けます。</span><span class="sxs-lookup"><span data-stu-id="7d375-134">Give the entity a conceptual name that is aligned with the name in the en-us UI.</span></span> <span data-ttu-id="7d375-135">たとえば、InventTable テーブルからレコードを公開するエンティティ概念の名前は **ReleasedProduct** と呼ばれ、エンティティの正式名称は **EcoResReleasedProductEntity** となります。</span><span class="sxs-lookup"><span data-stu-id="7d375-135">For example, the conceptual name of the entity that exposes records from the InventTable table should be named **ReleasedProduct**, so that the full name of the entity will be **EcoResReleasedProductEntity**.</span></span> |                                              |

<span data-ttu-id="7d375-136">**結果:** &lt;接頭語&gt;&lt;ConceptualName&gt;エンティティ</span><span class="sxs-lookup"><span data-stu-id="7d375-136">**Result:** &lt;prefix&gt;&lt;ConceptualName&gt;Entity</span></span>

### <a name="data-entity-field-names"></a><span data-ttu-id="7d375-137">データ エンティティ フィールド名</span><span class="sxs-lookup"><span data-stu-id="7d375-137">Data entity field names</span></span>

| <span data-ttu-id="7d375-138">実行</span><span class="sxs-lookup"><span data-stu-id="7d375-138">Do</span></span>                                                                                                                                                                                                                                                                                                         | <span data-ttu-id="7d375-139">実行しない</span><span class="sxs-lookup"><span data-stu-id="7d375-139">Don’t</span></span>                                                                                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="7d375-140">フィールド名に、en-us UI の名前と合致している概念の名前を付けます。</span><span class="sxs-lookup"><span data-stu-id="7d375-140">Give the field name a conceptual name that is aligned with the name in the en-us UI.</span></span> <span data-ttu-id="7d375-141">たとえば、**ItemID** の代わりに **ItemNumber** を UI に対応するフィールド名として使用し、ラベルは **品目番号** になります。</span><span class="sxs-lookup"><span data-stu-id="7d375-141">For example, use **ItemNumber** instead of **ItemID** as the field name to align with the UI, where the label is **Item number**.</span></span>                                                                                     | <span data-ttu-id="7d375-142">フィールド名に接頭語を含めないでください。</span><span class="sxs-lookup"><span data-stu-id="7d375-142">Don't include prefixes in field names.</span></span> <span data-ttu-id="7d375-143">たとえば、フィールドには **InventLocationId** という名前を付ける必要がありません。</span><span class="sxs-lookup"><span data-stu-id="7d375-143">For example, a field should not be named **InventLocationId**.</span></span>                                |
| <span data-ttu-id="7d375-144">外部キーの一部であるフィールドの名前に接尾語「ID」、「番号」などを追加して、ナビゲーション プロパティとの競合を防ぎます。</span><span class="sxs-lookup"><span data-stu-id="7d375-144">Add the postfix "ID," "Number," and so on, to the name of a field that is part of foreign keys to prevent collision with the navigation properties.</span></span> <span data-ttu-id="7d375-145">たとえば、**倉庫** の代わりに **WarehouseID** をフィールド名として使用します。それは **倉庫** が、**倉庫** エンティティへのナビゲーション メソッドであるからです。</span><span class="sxs-lookup"><span data-stu-id="7d375-145">For example, use **WarehouseID** instead of **Warehouse** as a field name, because **Warehouse** is the navigation method to the **Warehouse** entity.</span></span> | <span data-ttu-id="7d375-146">フィールド名に国または地域固有の接尾語を含めないでください。</span><span class="sxs-lookup"><span data-stu-id="7d375-146">Don't include country/region-specific postfixes in field names.</span></span> <span data-ttu-id="7d375-147">たとえば、フィールドには **InventoryProfileID\_RU** という名前を付ける必要がありません。</span><span class="sxs-lookup"><span data-stu-id="7d375-147">For example, a field should not be named **InventoryProfileID\_RU**.</span></span> |
|                                                                                                                                                                                                                                                                                                            | <span data-ttu-id="7d375-148">フィールド名にアンダースコアを含めないでください。</span><span class="sxs-lookup"><span data-stu-id="7d375-148">Don't include underscores in field names.</span></span>                                                                                            |
|                                                                                                                                                                                                                                                                                                            | <span data-ttu-id="7d375-149">フィールドの名前に省略形を使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="7d375-149">Don't use abbreviations in field names.</span></span>                                                                                              |

### <a name="data-entity-relation-role-names"></a><span data-ttu-id="7d375-150">データ エンティティ リレーションのロール名</span><span class="sxs-lookup"><span data-stu-id="7d375-150">Data entity relation role names</span></span>

| <span data-ttu-id="7d375-151">実行</span><span class="sxs-lookup"><span data-stu-id="7d375-151">Do</span></span>                                                                                                                                                                                                                                        | <span data-ttu-id="7d375-152">実行しない</span><span class="sxs-lookup"><span data-stu-id="7d375-152">Don’t</span></span>                                                                                                                                                                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="7d375-153">1 より大きいカーディナリティを持つロールに名前を付けるときは、複数形を使用します。</span><span class="sxs-lookup"><span data-stu-id="7d375-153">Use the plural form when you name roles that have a cardinality that is higher than 1.</span></span> <span data-ttu-id="7d375-154">たとえば、関係者への顧客の外部キーには、顧客のロール名が必要で、それは顧客への関係者からの基数が 0...N であるためです。</span><span class="sxs-lookup"><span data-stu-id="7d375-154">For example, the foreign key on Customer to Party should have the role name of Customers, because the cardinality from Party to Customer is 0...N.</span></span> | <span data-ttu-id="7d375-155">リレーション ロール名に接頭語を含めないでください。</span><span class="sxs-lookup"><span data-stu-id="7d375-155">Don't include prefixes in relation role names.</span></span> <span data-ttu-id="7d375-156">たとえば、参照されるエンティティに接頭語「WMS」が含まれていても、**WMSWarehouseLocation** の名前は使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="7d375-156">For example, don’t use the name **WMSWarehouseLocation**, even though the referenced entity includes the prefix "WMS."</span></span>                                                                 |
| <span data-ttu-id="7d375-157">カーディナリティが 0 (ゼロ) または 1 のロールに名前を付ける場合は、単数形を使用します。</span><span class="sxs-lookup"><span data-stu-id="7d375-157">Use the singular form when you name roles that have a cardinality of 0 (zero) or 1.</span></span> <span data-ttu-id="7d375-158">たとえば、個人への作業者の外部キーには、作業者のロール名が必要で、それは作業者への個人からの基数が 0..1 であるためです。</span><span class="sxs-lookup"><span data-stu-id="7d375-158">For example, the foreign key on Worker to Person should have the role name of Worker, because the cardinality from Person to Worker is 0..1.</span></span>          | <span data-ttu-id="7d375-159">関係ロール名に接尾語「エンティティ」を追加しないでください。</span><span class="sxs-lookup"><span data-stu-id="7d375-159">Don't add the postfix "Entity" to relation role names.</span></span> <span data-ttu-id="7d375-160">たとえば、参照されるエンティティが「エンティティ」の名前を含んでいても、関係でロール名 **WarehouseEntity** を使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="7d375-160">For example, don’t use the role name **WarehouseEntity** in a relationship, even though the referenced entity includes the name "Entity."</span></span> <span data-ttu-id="7d375-161">代わりに、**倉庫** という名前を使用します。</span><span class="sxs-lookup"><span data-stu-id="7d375-161">Instead, use the name **Warehouse**.</span></span> |
| <span data-ttu-id="7d375-162">関係の役割を接頭語として追加することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="7d375-162">Consider adding the role of the relationship as a prefix.</span></span> <span data-ttu-id="7d375-163">たとえば、関係のロールを明確に説明するには、**LegalEntity** の代わりに、関係の **BuyingLegalEntity** に名前を付けます。</span><span class="sxs-lookup"><span data-stu-id="7d375-163">For example, to clearly describe the role of the relationship, name a relationship **BuyingLegalEntity** instead of **LegalEntity**.</span></span>                                            | <span data-ttu-id="7d375-164">国または地域固有の接尾語を関係ロール名に追加しないでください。</span><span class="sxs-lookup"><span data-stu-id="7d375-164">Don't add country/region-specific postfixes to relation role names.</span></span> <span data-ttu-id="7d375-165">たとえば、RU 国/地域の形式にのみ関係が適用される場合でも、ロール名 **InventoryProfile\_RU** を使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="7d375-165">For example, don’t use the role name **InventoryProfile\_RU**, even though the relationship applies only in an RU country/region format.</span></span>                          |
|                                                                                                                                                                                                                                           | <span data-ttu-id="7d375-166">リレーション ロール名にアンダースコアを含めないでください。</span><span class="sxs-lookup"><span data-stu-id="7d375-166">Don't include underscores in relation role names.</span></span>                                                                                                                                                                                     |

### <a name="data-entity-relation-names"></a><span data-ttu-id="7d375-167">データ エンティティのリレーション名</span><span class="sxs-lookup"><span data-stu-id="7d375-167">Data entity relation names</span></span>

<span data-ttu-id="7d375-168">**実行**</span><span class="sxs-lookup"><span data-stu-id="7d375-168">**Do**</span></span>

-   <span data-ttu-id="7d375-169">リレーション名に、単一のフォームで関連するロール名として同じ名前を付けます。</span><span class="sxs-lookup"><span data-stu-id="7d375-169">Give the relation name the same name as the related role name, in singular form.</span></span> <span data-ttu-id="7d375-170">たとえば、顧客から関係者への外部キーを説明する関係は、**関係者** と呼ばれる必要があります。</span><span class="sxs-lookup"><span data-stu-id="7d375-170">For example, the relation that describes the foreign key from Customer to Party should be named **Party**.</span></span>

### <a name="odata-entitytype-names"></a><span data-ttu-id="7d375-171">OData EntityType 名</span><span class="sxs-lookup"><span data-stu-id="7d375-171">OData EntityType names</span></span>

<span data-ttu-id="7d375-172">**実行**</span><span class="sxs-lookup"><span data-stu-id="7d375-172">**Do**</span></span>

-   <span data-ttu-id="7d375-173">EntityType に概念の名前を付けます。</span><span class="sxs-lookup"><span data-stu-id="7d375-173">Give the EntityType a conceptual name.</span></span> <span data-ttu-id="7d375-174">名前は、データ エンティティの概念の名前と同じでなければなりませんが、接頭語はなく、「エンティティ」接尾語はありません。</span><span class="sxs-lookup"><span data-stu-id="7d375-174">The name should be the same as the conceptual name of the data entity, but without the prefix and without the "Entity" postfix.</span></span> <span data-ttu-id="7d375-175">たとえば、**EcoResReleasedProductEntity** は **ReleasedProduct** になります。</span><span class="sxs-lookup"><span data-stu-id="7d375-175">For example, **EcoResReleasedProductEntity** becomes **ReleasedProduct**.</span></span>
-   <span data-ttu-id="7d375-176">単一フォームで EntityType の名前を付けます。</span><span class="sxs-lookup"><span data-stu-id="7d375-176">Name the EntityType in singular form.</span></span>

### <a name="odata-entityset-entity-collection-names"></a><span data-ttu-id="7d375-177">OData EntitySet (エンティティ コレクション) 名</span><span class="sxs-lookup"><span data-stu-id="7d375-177">OData EntitySet (Entity Collection) names</span></span>

<span data-ttu-id="7d375-178">**実行**</span><span class="sxs-lookup"><span data-stu-id="7d375-178">**Do**</span></span>

-   <span data-ttu-id="7d375-179">複数フォームで EntitySet の名前を付けます。</span><span class="sxs-lookup"><span data-stu-id="7d375-179">Name the EntitySet in plural form.</span></span> <span data-ttu-id="7d375-180">たとえば、**ReleasedProduct** EntityType の EntitySet は **ReleasedProducts** です。</span><span class="sxs-lookup"><span data-stu-id="7d375-180">For example, the EntitySet for the **ReleasedProduct** EntityType is **ReleasedProducts**.</span></span>

### <a name="number-of-columns-in-a-data-entity"></a><span data-ttu-id="7d375-181">データ エンティティ内の列の数</span><span class="sxs-lookup"><span data-stu-id="7d375-181">Number of columns in a data entity</span></span>
<span data-ttu-id="7d375-182">Microsoft Excel ベースのインポート/エクスポートでは、最大 255 列までサポートされることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="7d375-182">Note that Microsoft Excel based import/export supports a maximum of 255 columns.</span></span> <span data-ttu-id="7d375-183">エンティティが 255 列以上をエクスポート/インポートできる場合、非 Excel 形式を計画するか、エンティティの列数が 255 列以下である必要があります。</span><span class="sxs-lookup"><span data-stu-id="7d375-183">If it is expected for an entity to be able to export/import more than 255 columns, then a non-Excel format must be planned or the entity should have less than or equal to 255 columns.</span></span>


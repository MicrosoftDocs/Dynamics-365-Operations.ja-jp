---
title: フリート管理のサンプル アプリケーションのエンド ツー エンドのシナリオ
description: このチュートリアルでは、フリート管理のサンプル アプリケーションがサポートするように設計されたエンド ツー エンドのシナリオを説明します。
author: gianugo
ms.date: 07/08/2019
ms.topic: article
audience: Developer
ms.reviewer: josaw
ms.search.region: Global
ms.author: gianura
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.custom: 10254
ms.assetid: e289504e-a1d9-44b7-8f84-f99f330321d6
ms.openlocfilehash: a741adf0e39a0976b626861fb10a8fd9dc61e412
ms.sourcegitcommit: 87e727005399c82cbb6509f5ce9fb33d18928d30
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/12/2022
ms.locfileid: "9271143"
---
# <a name="end-to-end-scenario-for-the-fleet-management-sample-application"></a>フリート管理のサンプル アプリケーションのエンド ツー エンドのシナリオ

[!include [banner](../includes/banner.md)]

このチュートリアルでは、フリート管理のサンプル アプリケーションがサポートするように設計されたエンド ツー エンドのシナリオを説明します。

このチュートリアルでは、フリート管理サンプルについて説明します。 このチュートリアルの概要では、背景知識とコンテキスト情報を提供しています。 このサンプル アプリケーションのサポートの目的のエンド ツー エンドのシナリオを検討します。 これは、他のチュートリアルに進む前に知っておくべき情報です。

## <a name="prerequisite"></a>前提条件

-   このチュートリアルを開始する前に、エンド ユーザーとして最初にプロビジョニングする必要があります。
-   このチュートリアルでは主に、FleetManagement に移行したプロジェクトとそれによって構築されるアプリケーションについて説明します。

## <a name="installing-the-demo-data"></a>デモ データのインストール
サンプルを操作するには、提供されているデモ データをインストールする必要があります。

1.  仮想マシン (VM) で、Internet Explorer を開き、アプリケーションのベース URL に移動します。
2.  サインインします。
3.  ダッシュ ボードで、ナビゲーション ウィンドウを開き、**フリート管理 \> 設定 \> フリート設定** に移動します。 

    > [!div class="mx-imgBorder"]
    > ![フリート設定。](media/fmt_setup_data.png)
    
4.  **データ設定** タブで、**作成** を選択します。 
    
    > [!div class="mx-imgBorder"]
    > ![デモ データの読み込み。](media/fmt_data_setup_create.png)

5.  デモ データの再読み込みを促すメッセージが表示されたら、**はい** をクリックします。
6.  データの読み込みが完了したら、 **閉じる** を選択します。

## <a name="use-the-fleet-management-application-to-rent-a-vehicle"></a>車両をレンタルするには、フリート管理アプリケーションを使用します。
このセクションで移行したアプリで作業をしていることに留意してください。 表示されるフォームは、Microsoft Dynamics AX 2012 バージョンのサンプルから直接ポートされます。 変更および再編成されていますが、再考されてはいません。

1.  Internet Explorer を開いて、財務と運用アプリケーションにサイン インします。
2.  **ダッシュボード** に戻るには、ページの左上隅にある製品名を選択します。

    > [!div class="mx-imgBorder"]
    > ![ダッシュボードに戻る。](media/fmt_logo.png)
    
    ダッシュボードは主要な作業ハブです。 セクションに分類され、アプリケーションの一部になる、様々なタイルを表示することができます。 ダッシュボードは、水平スクロール用に設計されています。これは、最新のデバイスでうまく動作するための最適化です。 ダッシュボードの右側にあるボタンにはナビゲーションバーが表示されます。
3.  ダッシュ ボードから、ナビゲーション バーを開いて **フリート管理 \> 顧客 \> 顧客** の順に移動します。 

    > [!div class="mx-imgBorder"]
    > ![顧客リストに移動する。](media/fmt_customers_customer.png)
    
    > [!div class="mx-imgBorder"]
    > ![新しい顧客。](media/fmt_new_customer.png)

4.  **詳細** ビューに切り替えるには、 **名** 列の値を選択します。 このビューには、単一の顧客の詳細情報が表示されます。

    > [!div class="mx-imgBorder"]
    > ![詳細ビューの名。](media/fmt_details_view.png)

5.  **リストを表示** をクリックすると、ナビゲーション リストが表示されます。 

    > [!div class="mx-imgBorder"]
    > ![ナビゲーション リスト。](media/fmt_show_list.png)

6.  作業ウィンドウのナビゲーション リストでさまざまな顧客名をクリックし、各顧客の変更に関する詳細情報を確認します。
7. 顧客 **Eduardo Cobo** を選択します。 Eduardo の過去のレンタルの好みを示すために、グラフが更新されることがわかります。

    > [!div class="mx-imgBorder"]
    > ![詳細ビュー。](media/fmt_another_customer.png)

8. 詳細を表示する円のスライスをポイントします。 Eduardo が、過去に、赤い SUV をよくレンタルしていたことがわかります。 これにより、次回の Eduardo の予約時に、販売員が利用可能な赤い SUV を探す手がかりを与えるかもしれません。 これは、積極的にインサイトを提供する簡単な例です。
9. 顧客として自分自身を追加します。
    -   アクション ウィンドウで、**新規** をクリックします。 
        
        > [!div class="mx-imgBorder"]
        > ![ユーザー自身を追加する。](media/fmt_add_new.png)

    -   顧客として自身を追加するため、フォームに入力します。 最低限、名前、クレジット カード フィールドの 16 桁の数字、住所情報を入力してください。 **注記**: 新しいレコードを保存するためのアクションは必要ありません。

10. 新しいレンタルを作成します。
    1.  ナビゲーション バーで、**フリート管理** \> **レンタル** \>**レンタル** に移動します。
    2.  **レンタル** フォームで、アクション ウィンドウの **新規** をクリックします。
    3.  **車両** フィールドで車両を選択します。
    4.  **顧客** フィールドで、自分の名前を選択します。
    5.  **終了** フィールドで、終了日を選択します。
    6.  **開始** フィールドに、**35,000** と入力します。
    7.  **ピックアップ** フィールドに、**フル** と入力します。
    8.  作業が終了したら、**保存** をクリックします。

11. レンタル期間を開始します。
    1.  アクション ウィンドウで、**レンタル開始** をクリックします。
    2.  ダイアログ ボックスで、フィールドの値を確認して **OK** をクリックします。

## <a name="use-fleet-management-to-run-a-workflow"></a>フリート マネージメントを使用してワークフローを実行
1. **ホーム** アイコンをクリックして、ダッシュボードに戻ります。

    > [!div class="mx-imgBorder"]
    > ![ホーム アイコン。](media/fmt_home_icon.png)

2. **予約管理** タイルをクリックして予約管理ワークスペースを開きます。
3. **現在のレンタル** をクリックします。
4. **レンタル** フォームで、レンタルの ID をクリックします。
5. **レンタル** フォームの詳細ビューにあるアクション ウィンドウで、**レンタルの完了** をクリックします。
6. **新しいマイレージ** フィールドに、**40,000** と入力してから **OK** をクリックします。
7. **ホーム** アイコンをクリックして、ダッシュボードに戻ります。
8. ナビゲーション バーで、**フリート管理** &gt;**車両** &gt; **車両メンテナンス** に移動します。 **車両メンテナンス** フォームでは、**ステータス** フィールドでレンタルがサービス部門によって検査待ちであることが示されます。

    > [!div class="mx-imgBorder"]
    > ![車両メンテナンス。](media/fmt_vehicle_examination.png)
        
    > [!NOTE]
    > バッチ フレームワークが車両の状態を変更するまで、最大で 2分かかる場合があります。 アクション ウィンドウで、**更新** をクリックしステータスの変更が表示されるまで、ビューを定期的に更新します。 別の人がワークフローの各ステップを通常処理することに留意してください。バッチ フレームワークによって生じる多少の遅延は、実際のアプリケーションでは問題ありません。

9.  レンタルを含む行を選択します。 アクション ウィンドウで、**ワークフロー** をクリックし、**検査完了** をクリックします。 ワークフローでフルセットのオプションを取得するには、ページを更新する必要があります。
10. コメントを入力し、**検査完了** をクリックします。
11. バッチ フレームワークが変更を処理するまで、最大で 2 分再度待機することが必要な場合があります。 アクション ウィンドウで、**ステータス** フィールドの変更が表示されるまで、**更新** を定期的にクリックします。 車両が **サービス待ち** の状態であることを確認します。
12. 必要に応じて、このワークフロー手順を引き続き繰り返して、車両にサービスおよびクリーニング フェーズを実行できます。 クリーニングが完了した後、最終状態は、**実行** になります。
13. **ワークフロー**、**履歴の表示** の順にクリックします。 **ワークフロー履歴** フォームは、車両ワークフローに関する情報を提供します。
14. **追跡の詳細** をクリックして活動を表示します。 

    > [!div class="mx-imgBorder"]
    > ![追跡の詳細。](media/fmt_workflow_history.png)

### <a name="to-view-the-setup-behind-the-workflow"></a>ワークフローの背後に設定を表示するには

1.  ダッシュ ボードで、**フリート管理** \> **設定** \> **ワークフローの設定** に移動します。 **ワークフロー セットアップ** ページには、ワークフローの一覧が表示されます。 

    > [!div class="mx-imgBorder"]
    > ![ワークフローの設定。](media/fmt_workflow_setup.png)
    
2.  **ワークフロー ID** 列に、車両メンテナンス ワークフローの ID をクリックします。
3.  コードを実行するアクセス許可を求めるプロンプトを承認します。 短い待機の後、ワークフロー エディターを開きます。 このステップは、クラウドではなく 1 ボックス環境で動作します。 ワークフロー エディターでは、ワークフロー図を表示できます。 次の図はワークフローを示します。
    
    > [!div class="mx-imgBorder"]
    > ![ワークフロー エディター。](media/fmt_workflow_editor.png)

4.  完了したら、**ワークフロー** ウィンドウを閉じます。

## <a name="create-a-new-kpi-definition"></a>新しい KPI 定義を作成する
Web クライアントを使用すると、適切な権限を持つユーザーが、開発者がモデル化して展開した KPI 定義を変更できます。 ユーザーは、クライアントに新しい KPI 定義を作成することもできます。 このチュートリアルでは、クライアントで新しい KPI の定義を作成します。

1.  **予約管理** ワークスペースを開きます。 ナビゲーション バーで、 **フリート管理 &gt; ワークスペース &gt; 予約管理** に移動します。
2.  ワークスペースの左下に表示されている総収益 KPI タイルを確認します。 **総収益 KPI** タイルをクリックします。 総収益 KPI タイルの詳細と共に収益の上位および下位貢献者を示すチャートが画面に表示されます。
3.  次に、レンタルの数を監視する新しい KPI を定義します。
4.  アクション ウィンドウで、**新規** をクリックします。 **新しい KPI** ダイアログが開きます。
5.  新しい KPI 定義に次の値を入力します。

    | フィールド         | 先頭値               |
    |---------------|-------------------------|
    | 氏名          | レンタルの数       |
    | 測定   | FMAggregateMeasurements |
    | メジャー グループ | FmRentalCharges         |
    | 措置       | NoRentals               |
    | KPI 目標タイプ | 固定値             |
    | 目標値    | 30                      |
    
    > [!div class="mx-imgBorder"]
    > ![新しい KPI。](media/fmt_new_kpi.png)

6.  **保存** をクリックします。 

    > [!NOTE]
    > **新規 KPI** ダイアログ ボックスで、**保存** ボタンが表示されない場合、より高い画面解像度を使用するとダイアログ全体を表示できます。 作成した KPI に関する詳細を含む、KPI 詳細ページを表示することができます。 **詳細** セクションで変更を加えることができます。 値が目標の 90% 未満の場合は KPI が赤く表示され、値が目標の 110% を超える場合は KPI が緑で表示されるように、既定のしきい値を変更します。

7.  **編集** をクリックします。

8.  画面の右にスクロールし、次のようにしきい値フィールドの値を変更します。

    | プロパティ           | 先頭値     |
    |--------------------|-----------|
    | 次の値未満の場合に不良:    | 90        |
    | 次の値を超えた場合に良:   | 110       |

9.  アプリケーション バーで、 **保存** をクリックします 
    
    > [!div class="mx-imgBorder"]
    > ![KPI グラフ。](media/fmt_kpi_value.png)

10. グリッド ビューに戻るには、フォーム キャプションをクリックします。
11. **名** 列ヘッダーをクリックし、フィルター演算子を **部分一致** に変更し、フィルター フィールド値を **番号** に更新します。 新しい KPI をリストで使用できることが分かります。
    
    > [!div class="mx-imgBorder"]
    > ![KPI リスト。](media/fmt_kpi_list.png)

## <a name="launch-an-operational-report"></a>運用レポートの起動
このチュートリアルでは、現在車両をレンタルしている顧客の一覧を含む運用レポートを開始します。

1.  ダッシュボードを使用して、**予約管理** ワークスペースを開きます。
2.  ページの右側の **レポート** で **顧客リスト** をクリックします。 **顧客グループ** のパラメーターでは、何も入力しないでください。 
    
    > [!div class="mx-imgBorder"]
    > ![顧客リスト。](media/fmt_customer_list_report.png)

3.  **OK** をクリックしてダイアログ ボックスを閉じます。 レポートが表示され、顧客リストが表示されます。 レポートを表示するのに、数分かかることがあります。

## <a name="secure-access-using-the-role-based-security-system"></a>ロールベースのセキュリティ システムを使用してアクセスを保護
このチュートリアルでは、さまざまなセキュリティ ロールが割り当てられているユーザーとしてシステムにアクセスします。 このチュートリアルでは、少なくとも 1 人の追加エンド ユーザーを作成する必要があります。

1.  ダッシュ ボードの **システム管理** セクションで、**ユーザー**、**ユーザー** の順にクリックします。
2.  アクション ウィンドウで、**新規** をクリックします。
3.  以下のフィールド情報を入力します。

    | プロパティ        | 先頭値                                                                                 |
    |-----------------|-------------------------------------------------------------------------------------------|
    | ユーザー ID         | 8 文字の固有 ID                                                                 |
    | ユーザー名       | ユーザーの最初の名前                                                                |
    | プロバイダー        | `urn:Federation:MicrosoftOnline`                                                          |
    | 電子メール           | テスト用にログインできる電子メール エイリアスを使用します。                                   |
    | 法人         | `DAT`                                                                                     |
    | 有効な機能         | このスライダーが **はい** に設定されていることを確認します。                                                |

    > [!div class="mx-imgBorder"]
    > ![新しいユーザー レコード。](media/fmt_new_user_record.png)

4.  **ロールの割り当て** をクリックします。 

    > [!div class="mx-imgBorder"]
    > ![ブランチ マネージャーの割り当て。](media/fmt_branch_manager.png)

5.  **フリート管理ブランチ マネージャー** を選択し、**OK** をクリックします。
6.  右上のユーザー名をクリックしてから、**サインアウト** をクリックします。サインイン ページにリダイレクトされます
7.  上記の手順でセキュリティ ロールを割り当てたユーザーの資格情報を使用してログインします。
8.  ダッシュボードで、このユーザーはランチ マネージャー セキュリティ ロールに関連する項目のみ確認できることに注意してください。 システム管理者が確認できる項目は非表示になります。
9.  セッションをサインアウトするには、**サインアウト** をクリックします。


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]

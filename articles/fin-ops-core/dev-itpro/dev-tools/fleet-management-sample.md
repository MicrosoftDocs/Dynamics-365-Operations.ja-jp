---
title: フリート管理のサンプル アプリケーションのエンド ツー エンドのシナリオ
description: このチュートリアルでは、フリート管理のサンプル アプリケーションがサポートするように設計されたエンド ツー エンドのシナリオを説明します。
author: RobinARH
manager: AnnBe
ms.date: 07/08/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Developer
ms.reviewer: rhaertle
ms.search.scope: Operations
ms.custom: 10254
ms.assetid: e289504e-a1d9-44b7-8f84-f99f330321d6
ms.search.region: Global
ms.author: jorisde
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 45617d845f3b43f5c12f795fffc835fce0dea2f9
ms.sourcegitcommit: 759325234a763e14071348a6f5399999a92f8264
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/25/2020
ms.locfileid: "2983659"
---
# <a name="end-to-end-scenario-for-the-fleet-management-sample-application"></a>フリート管理のサンプル アプリケーションのエンド ツー エンドのシナリオ

[!include [banner](../includes/banner.md)]

このチュートリアルでは、フリート管理のサンプル アプリケーションがサポートするように設計されたエンド ツー エンドのシナリオを説明します。

このチュートリアルでは、フリート管理サンプルについて説明します。 このチュートリアルの概要では、背景知識とコンテキスト情報を提供しています。 このサンプル アプリケーションのサポートの目的のエンド ツー エンドのシナリオを検討します。 これは、他のチュートリアルに進む前に知っておくべき情報です。

## <a name="prerequisite"></a>前提条件
-   このチュートリアルを開始する前に、エンド ユーザーとして最初にプロビジョニングする必要があります。
-   このチュートリアルでは主に、FleetManagement に移行したプロジェクトとそれによって構築されるアプリケーションについて説明します。

## <a name="installing-the-demo-data"></a>デモ データのインストール
サンプルを操作するには、提供されているデモ データをインストールする必要があります。

1.  VM で、Internet Explorer を開き、アプリケーションのベース URL に移動します。
2.  サインインします。
3.  ダッシュ ボードで、ナビゲーション ウィンドウを開き、**フリート管理 &gt; 設定 &gt; フリート設定**に移動します。 

    [![フリート設定](./media/fleetsetup1_introfleetmgmt1.png)](./media/fleetsetup1_introfleetmgmt1.png)

4.  **デモ データの設定**を選択します。 

    [![デモ データの読み込み](./media/loaddemodata_introfleetmgmt1.png)](./media/loaddemodata_introfleetmgmt1.png)

5.  デモ データの再読み込みを促すメッセージが表示されたら、**はい**をクリックします。
6.  データの読み込みが完了したら、 **閉じる** を選択します。

## <a name="use-the-fleet-management-application-to-rent-a-vehicle"></a>車両をレンタルするには、フリート管理アプリケーションを使用します。
このセクションで移行したアプリで作業をしていることに留意してください。 表示されるフォームは、Microsoft Dynamics AX 2012 バージョンのサンプルから直接ポートされます。 変更および再編成されていますが、再考されてはいません。

1.  Internet Explorer を開き、Finance and Operations アプリケーションにサインインします。
2.  **ダッシュ ボード**に戻るには、ページの左上隅にある Microsoft Dynamics ロゴを選択します。[![ダッシュに戻る](./media/returntodash_introfleetmgmt.png)](./media/returntodash_introfleetmgmt.png) ダッシュボードは主要な作業ハブとなります。 セクションに分類され、アプリケーションの一部になる、様々なタイルを表示することができます。 ダッシュボードは、水平スクロール用に設計されています。これは、最新のデバイスでうまく動作するための最適化です。 ダッシュボードの右側にあるボタンにはナビゲーションバーが表示されます。
3.  ダッシュ ボードから、ナビゲーション バーを開いて**フリート管理** &gt; **共通** &gt; **顧客** &gt; **顧客**の順に移動します。 

    [![顧客](./media/customers_introfleetmgmt.png)](./media/customers_introfleetmgmt.png) 

    [![新規顧客](./media/newcustomer_introfleetmgmt1.png)](./media/newcustomer_introfleetmgmt1.png)

4.  アクション ウィンドウで、 Microsoft Office ロゴを選択し、 **Excel にエクスポート** 配下の **顧客** を選択して、グリッド ビューの情報を Microsoft Excel スプレッドシートに送信します。 この操作には少し時間がかかる場合があります。

    [![Excel にエクスポート](./media/exporttoexcel.jpg)](./media/exporttoexcel.jpg)

5.  要求するメッセージが表示されたら、**開く** をクリックして Excel でデータを表示します。
6.  Excel を閉じます。
7.  **詳細** ビューに切り替えるには、 **名** 列の値を選択します。 

    [![名](./media/customer.jpg)](./media/customer.jpg)このビューには、単一の顧客の詳細情報が表示されます。

8.  **リストを表示**をクリックすると、ナビゲーション リストが表示されます。 

    [![ナビゲーション リスト](./media/listnav_introfleetmgmt1.png)](./media/listnav_introfleetmgmt1.png)

9.  作業ウィンドウのナビゲーション リストでさまざまな顧客名をクリックし、各顧客の変更に関する詳細情報を確認します。
10. 顧客 **Phil Spencer** を選択します。 Phil の過去のレンタルの好みを示すために、グラフが更新されることがわかります。
11. 詳細を表示する円のスライスをポイントします。 Phil が、過去に、赤い SUV をよくレンタルしていたことがわかります。 これにより、次回の Phil の予約時に、販売員が利用可能な赤い SUV を探す手がかりを与えるかもしれません。 これは、積極的にインサイトを提供する簡単な例です。
12. 顧客として自分自身を追加します。
    -   アクション ウィンドウで、**新規**をクリックします。 

        [![ユーザー自身を追加](./media/addyourself_introfleetmgmt1.png)](./media/addyourself_introfleetmgmt1.png)

    -   顧客として自身を追加するため、フォームに入力します。 最低限、名前、クレジット カード フィールドの 16 桁の数字、住所情報を入力してください。 **注記**: 新しいレコードを保存するためのアクションは必要ありません。

13. 新しいレンタルを作成します。
    1.  ナビゲーション バーで、**フリート管理** &gt; **レンタル** &gt;**レンタル**に移動します。
    2.  **レンタル** フォームで、アクション ウィンドウの**新規**をクリックします。
    3.  **車両**フィールドで車両を選択します。
    4.  **顧客**フィールドで、自分の名前を選択します。
    5.  **終了**フィールドで、終了日を選択します。
    6.  **開始**フィールドに、「35,000」と入力します。
    7.  **ピックアップ** フィールドに、フルと入力します。
    8.  作業が終了したら、**保存** をクリックします。

14. レンタル期間を開始します。
    1.  アクション ウィンドウで、**レンタル開始**をクリックします。
    2.  ダイアログ ボックスで、フィールドの値を確認して **OK** をクリックします。

## <a name="use-fleet-management-to-run-a-workflow"></a>フリート マネージメントを使用してワークフローを実行
1.  Dynamics アイコンをクリックして、ダッシュボードに戻ります。
2.  **予約管理** タイルをクリックして予約管理ワークスペースを開きます。
3.  **現在のレンタル**をクリックします。
4.  **レンタル**フォームで、レンタルの ID をクリックします。
5.  **レンタル**フォームの詳細ビューにあるアクション ウィンドウで、**レンタルの完了**をクリックします。
6.  **新しいマイレージ** フィールドに、40,000 と入力してから **OK** をクリックします。
7.  Dynamics アイコンをクリックして、ダッシュボードに戻ります。
8.  ナビゲーション バーで、**フリート管理** &gt;**車両** &gt; **車両メンテナンス**に移動します。 

    [![車両メンテナンス](./media/vehiclemaintenance_introfleetmgmt.png)](./media/vehiclemaintenance_introfleetmgmt.png) 

    **車両メンテナンス** フォームでは、**ステータス** フィールドでレンタルがサービス部門によって検査待ちであることが示されます。 > [!NOTE]
> バッチ フレームワークが車両の状態を変更するまで、最大で 2分かかる場合があります。 アクション ウィンドウで、**更新**をクリックしステータスの変更が表示されるまで、ビューを定期的に更新します。 別の人がワークフローの各ステップを通常処理することに留意してください。バッチ フレームワークによって生じる多少の遅延は、実際のアプリケーションでは問題ありません。
9.  レンタルを含む行を選択します。 アクション ウィンドウで、**ワークフロー**をクリックし、**検査完了**をクリックします。 ワークフローでフルセットのオプションを取得するには、ページを更新する必要があります。
10. コメントを入力し、**検査完了**をクリックします。
11. バッチ フレームワークが変更を処理するまで、最大で 2 分再度待機することが必要な場合があります。 アクション ウィンドウで、**ステータス**フィールドの変更が表示されるまで、**更新**を定期的にクリックします。 車両が**サービス待ち**の状態であることを確認します。
12. 必要に応じて、このワークフロー手順を引き続き繰り返して、車両にサービスおよびクリーニング フェーズを実行できます。 クリーニングが完了した後、最終状態は、**実行**になります。
13. **ワークフロー**、**履歴の表示**の順にクリックします。 **ワークフロー履歴** フォームは、車両ワークフローに関する情報を提供します。
14. **追跡の詳細**をクリックして活動を表示します。 [![追跡の詳細](./media/workflow.jpg)](./media/workflow.jpg)

### <a name="to-view-the-setup-behind-the-workflow"></a>ワークフローの背後に設定を表示するには

1.  ダッシュ ボードで、**フリート管理** &gt; **設定** &gt; **ワークフローの設定**に移動します。 **ワークフロー セットアップ** ページには、ワークフローの一覧が表示されます。 

    [![ワークフローの設定](./media/workflowsetup.jpg)](./media/workflowsetup.jpg)

2.  **ワークフロー ID** 列に、車両メンテナンス ワークフローの ID をクリックします。
3.  コードを実行するアクセス許可を求めるプロンプトを承認します。 短い待機の後、ワークフロー エディターを開きます。 このステップは、クラウドではなく 1 ボックス環境で動作します。 ワークフロー エディターでは、ワークフロー図を表示できます。 次の図はワークフローを示します。

    [![ワークフロー ダイアグラム](./media/workflow_introfleetmgmt.png)](./media/workflow_introfleetmgmt.png)

4.  完了したら、**ワークフロー** ウィンドウを閉じます。

## <a name="create-a-new-kpi-definition"></a>新しい KPI 定義を作成する
Web クライアントを使用すると、適切な権限を持つユーザーが、開発者がモデル化して展開した KPI 定義を変更できます。 ユーザーは、クライアントに新しい KPI 定義を作成することもできます。 このチュートリアルでは、クライアントで新しい KPI の定義を作成します。

1.  **予約管理**ワークスペースを開きます。 ナビゲーション バーで、 **フリート管理 &gt; ワークスペース &gt; 予約管理**に移動します。
2.  ワークスペースの左下に表示されている総収益 KPI タイルを確認します。 **総収益 KPI** タイルをクリックします。 総収益 KPI タイルの詳細と共に収益の上位および下位貢献者を示すチャートが画面に表示されます。
3.  次に、レンタルの数を監視する新しい KPI を定義します。
4.  アクション ウィンドウで、**新規**をクリックします。 **新しい KPI** ダイアログが開きます。
5.  新しい KPI 定義に次の値を入力します。

    | **フィールド**         | **値**               |
    |-------------------|-------------------------|
    | **名前**          | レンタルの数       |
    | **測定**   | FMAggregateMeasurements |
    | **メジャー グループ** | FmRentalCharges         |
    | **基準**       | NoRentals               |
    | **目標は**       | 固定値             |
    | **目標値**    | 30                      |


6.  **保存** をクリックします。 

    [![新規 KPI](./media/newkpi_introfleetmgmt1.png)](./media/newkpi_introfleetmgmt1.png) 

    **注記:** **新しい KPI** ダイアログ ボックスで、**保存**ボタンが表示されない場合、より高い画面解像度を使用するとダイアログ全体を表示できます。 作成した KPI に関する詳細を含む、KPI 詳細ページを表示することができます。 **詳細** セクションで変更を加えることができます。 値が目標の 90% 未満の場合は KPI が赤く表示され、値が目標の 110% を超える場合は KPI が緑で表示されるように、既定のしきい値を変更します。
7.  **編集** をクリックします。
8.  画面の右にスクロールし、次のようにしきい値フィールドの値を変更します。

    | **プロパティ**           | **値** |
    |------------------------|-----------|
    | **次の値未満の場合に赤**   | 90        |
    | **次の値を超えた場合に緑:** | 110       |


9.  アプリケーション バーで、 **保存**をクリックします 

    [![KPI グラフ](./media/kpigraph_introfleetmgmt.png)](./media/kpigraph_introfleetmgmt.png)

10. グリッド ビューに戻るには、フォーム キャプションをクリックします。
11. **名**列ヘッダーをクリックし、フィルター演算子を**部分一致**に変更し、フィルター フィールド値を**番号**に更新します。 新しい KPI をリストで使用できることが分かります。

    [![KPI List](./media/kpilist_introfleetmgmt1.png)](./media/kpilist_introfleetmgmt1.png)

## <a name="launch-an-operational-report"></a>運用レポートの起動
このチュートリアルでは、現在車両をレンタルしている顧客の一覧を含む運用レポートを開始します。

1.  ダッシュボードを使用して、**予約管理** ワークスペースを開きます。
2.  **顧客レポート** タイルをクリックします。 **顧客グループ**のパラメーターでは、何も入力しないでください。 

    [![顧客リスト](./media/customerlist_introfleetmgmt1.png)](./media/customerlist_introfleetmgmt1.png)

3.  **OK** をクリックしてダイアログ ボックスを閉じます。 レポートが表示され、顧客リストが表示されます。 レポートを表示するのに、数分かかることがあります。

## <a name="secure-access-using-the-role-based-security-system"></a>ロールベースのセキュリティ システムを使用してアクセスを保護
このチュートリアルでは、さまざまなセキュリティ ロールが割り当てられているユーザーとしてシステムにアクセスします。 このチュートリアルでは、少なくとも 1 人の追加エンド ユーザーを作成する必要があります。

1.  ダッシュ ボードの、**システム管理**セクションで、**ユーザー**をクリックします。
2.  アクション ウィンドウで、**新規**をクリックします。
3.  以下のフィールド情報を入力します。

    | **プロパティ**        | **値**                                                                                 |
    |---------------------|-------------------------------------------------------------------------------------------|
    | **ユーザー ID**         | 8 文字の固有 ID                                                                 |
    | **ユーザー名**       | ユーザーの最初の名前                                                                |
    | **ネットワーク ドメイン**  | urn:Federation:MicrosoftOnline                                                            |
    | **エイリアス**           | <tim@lucernepublishers.ccsctp.net> (組織アカウントの電子メール アドレスに置き換えてください。) |
    | **既定の会社** | DAT                                                                                       |
    | **有効**         | このスライダーが **はい** に設定されていることを確認します。                                                |

4.  **ロールの割り当て**をクリックします。 

    [![ロールの割り当て](./media/assignroles_introfleetmgmt.png)](./media/assignroles_introfleetmgmt.png)

5.  **フリート管理ブランチ マネージャー** を選択し、**OK** をクリックします。
6.  右上のユーザー名をクリックしてから、**サインアウト**をクリックします。サインイン ページにリダイレクトされます
7.  上記の手順でセキュリティ ロールを割り当てたユーザーの資格情報を使用してログインします。
8.  ダッシュボードで、このユーザーはセキュリティ ロールに関連する項目のみ確認できることに注意してください。 システム管理者が確認できる項目は非表示になります。
9.  セッションをサインアウトするには、**サインアウト**をクリックします。





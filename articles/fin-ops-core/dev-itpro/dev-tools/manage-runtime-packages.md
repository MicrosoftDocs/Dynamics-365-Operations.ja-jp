---
title: ソース コントロールを使用してサード パーティ モデルとランタイム パッケージを管理
description: このトピックでは、サードパーティ ソリューションを管理、配布、展開するうえで推奨される戦略について説明します。
author: jorisdg
ms.date: 05/21/2018
ms.topic: article
audience: Developer
ms.reviewer: rhaertle
ms.custom: 26731
ms.assetid: ''
ms.search.region: Global
ms.author: jorisde
ms.search.validFrom: 2017-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: b05ea82ca2044043ba4e0a6c4cb51c8a05d84920882ada9340b2e551d3d897a8
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/05/2021
ms.locfileid: "6730565"
---
# <a name="manage-third-party-models-and-runtime-packages-by-using-source-control"></a>ソース コントロールを使用してサード パーティ モデルとランタイム パッケージを管理

[!include [banner](../includes/banner.md)]

サード パーティのソリューションを使用する顧客は、ソリューションで使用するさまざまなソリューション コンポーネントを受け取ることがあります。 通常、これらのアーティファクトはコード (モデルの形式) またはバイナリ (展開可能なパッケージの形式) で配布されます。 場合によっては、サード パーティは、ソリューションの一部をバイナリのコードとその他のパーツとして提供する場合があります。

このトピックでは、これらのサードパーティ ソリューションを管理、配布、展開するための推奨される戦略について説明します。

## <a name="models-from-third-parties"></a>サード パーティからのモデル
サード パーティから受け取ったソース コードは、バイナリにコンパイルし、配置可能パッケージに含める必要があります。 モデルは、開発仮想マシン (VM) にインストールしてソース管理に追加する必要があります。 そこからは、ビルド VM はソース コードをピッキング、構築、および配置可能パッケージに含めることができます。 他の開発者は、Microsoft Azure DevOps のモデルをそのまま開発 VM に同期できます。 手動でインストールする必要はありません。

開発 VM でモデルをインストールする方法の詳細については、 [モデルのエクスポートとインポート](models-export-import.md) を参照してください。

モデルをインストールしたら、以下の手順に従いソース管理に新しいモデルを追加します。

1. Microsoft Visual Studio の **Dynamics 365** メニューで、**モデル管理** > **モデルの更新** をクリックします。
2. **表示** > **アプリケーション エクスプローラー** をクリックして、アプリケーション エクスプ ローラーを開きます。
3. **AOT** ルート ノードを右クリックし、、**モデル ビュー** をクリックします。
4. モデルの一覧で、インストールした新しいモデルを検索します。 モデルを含むパッケージの名前をメモしておきます。 パッケージ名はモデル名の後にかっこ付きで表示されます。 たとえば、次の図では、**税帳簿**、**税エンジン コンフィギュレーション**、および **税エンジン インターフェイス** モデルはすべて **TaxEngine** という名前のパッケージに属します。

    ![各モデルのパッケージ名。](media/appexplorer_modelpackagename.png)

5. **表示** > **その他の Windows** > **ソース管理エクスプローラー** をクリックして、ソース管理エクスプローラーを開きます
6. **MyProject/Trunk/Main/Metadata** など、この開発 VM にマップされているメタデータ フォルダーに移動します。
7. メタデータ フォルダーで、新しいモデルを含むパッケージのフォルダーを探します。 パッケージ フォルダーを右クリックし、**フォルダーへの品目の追加** をクリックします。
9. **ソース管理に追加** ダイアログ ボックスで、**記述子** フォルダーとモデルの名前があるフォルダーを選択します。 一部のモデルには **在庫置場** フォルダで参照される DLL も含まれる可能性があります。 これらが存在する場合は、**bin** フォルダから適切な DLL ファイルを含める必要があります。 一度すべてのファイルが選択されると、**次へ** をクリックします。
10. 追加する品目を確認し、準備ができたら **完了** をクリックします。
11. **保留中の変更** ウィンドウを、**チーム エクスプローラー** ウィンドウから、または **表示** > **その他の Windows** > **保留中の変更** をクリックして開きます。
12. 変更を確認してチェックイン コメントを入力し、**チェック イン** をクリックします。

## <a name="deployable-packages-from-third-parties"></a>サード パーティから展開可能なパッケージ
サード パーティの展開可能パッケージを開発用 VM に手動でインストールし、インストールされたコンポーネントをソース管理に追加することができます。 その後、ローカル ワークスペースを同期させることで、他の開発者が、展開可能なパッケージをインストールしなくても、VM 上でランタイム パッケージを受け取ることができます。 ビルド VM でのビルド プロセスは、ビルド VM 上で拡張機能やその他の依存関係のランタイム パッケージを使用できるようにするのに役立ちます。 プラットフォーム更新プログラム 6 以降では、既定でビルド VM から作成される最終的な配置可能パッケージにこれらのランタイム パッケージが含まれます。 詳細については、このトピックの後半の [サード パーティ コードを展開する](#deploying-third-party-code) セクションを参照してください。

開発 VM で配置可能なパッケージをインストールする方法の詳細については、 [コマンド ラインからの配置可能なパッケージのインストール](../deployment/install-deployable-package.md) を参照してください。

> [!NOTE]
> ビルド VM にソフトウェア配置可能パッケージを直接インストールしないでください。 このトピックで説明するソース管理を使用します。 バイナリ更新プログラムのみビルド VM にインストールする必要があります。

開発 VM に配置可能パッケージをインストールした後は、以下の手順に従いソース管理にランタイム パッケージを追加します。

1. **表示** > **その他の Windows** > **ソース管理エクスプローラー** をクリックして、ソース管理エクスプローラーを開きます
2. **MyProject/Trunk/Main/Metadata** など、この開発 VM にマップされているメタデータ フォルダーに移動します。
3. **メタデータ** フォルダーを右クリックし、**フォルダーへの品目の追加** をクリックします。
4. **ソース管理に追加** ダイアログ ボックスで、ソース管理に追加するパッケージ名があるフォルダーをダブルクリックします。
5. **XppMetadata** および **Descriptor** (存在する場合) を除くすべてのフォルダーを選択し、**次へ** をクリックします。
6. 次のページで、**除外した項目** タブで、ファイルのいずれかをクリックし Ctrl + A キーを押してすべてのファイルを選択します。 選択ウィンドウの下部にある **項目を含める** をクリックします。 準備ができたら、**完了** をクリックします。
7. **保留中の変更** ウィンドウを、**チーム エクスプローラー** ウィンドウから、または **表示** > **その他の Windows** > **保留中の変更** をクリックして開きます。
8. 変更を確認してチェックイン コメントを入力し、**チェック イン** をクリックします。

## <a name="including-source-controlled-third-party-packages"></a>ソース管理サード パーティ パッケージを含む

前のセクションで説明したように、パッケージ バイナリをソース管理にチェックインした後、ビルドの自動化中に生成されたデプロイ可能なパッケージにバイナリを含めます。 次の 2 つのオプションがあります。

+ ビルド仮想マシンでは、標準のレガシー パイプラインがバイナリを自動的に検出し、生成するデプロイ可能なパッケージに含めます。
+ [新しいパイプライン](hosted-build-automation.md) を使用するか、レガシー パイプラインで新しいパッケージングタスクを使用して、[配置可能なパッケージを作成](pipeline-create-deployable-package.md) ドキュメントを確認してください。 このドキュメントには、配置可能なパッケージにソース管理されたオブジェクトを含む例があります。

## <a name="deploying-third-party-code"></a>サード パーティのコードを展開する
モデルとランタイム パッケージはソース管理のため、他の開発環境を使用する他の開発者はソース管理の **最新を取得** 機能を使用してモデルとパッケージをワークスペースに同期させることができます。

現在のプラットフォーム更新プログラム 4 では、自動ビルド プロセスはランタイム パッケージも取得します。 したがって、ビルドされたパッケージの依存関係は正しく解決されます。 この機能は、修正プログラムを介してプラットフォーム更新プログラム 3 およびプラットフォーム更新プログラム 2 でも使用できます。

プラットフォーム更新プログラム 6 では、ビルド プロセスで最終的な配置可能パッケージにこのランタイム パッケージが含まれます。 これにより、お客様は、展開可能なパッケージをビルドから取り出し、1 つのパッケージを環境に展開できます。 1 つのパッケージにはカスタム ソリューションとすべてのサード パーティ ソリューションが含まれています。


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]

---
title: Azure Pipelines で、X++ モデルのバージョン管理
description: このトピックでは、Microsoft Azure DevOps でビルドの自動化を実行するときにバージョン X++ のモデルを自動的に作成する方法について説明します。
author: jorisdg
manager: AnnBe
ms.date: 03/05/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Developer
ms.reviewer: rhaertle
ms.search.scope: Operations
ms.custom: 26731
ms.assetid: ''
ms.search.region: Global
ms.author: jorisde
ms.search.validFrom: 2020-03-05
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 9300797eec384ca6dd4064fd55e3d8bcf7655932
ms.sourcegitcommit: de217452a85429675994e9cc0e06eb4821cab3e5
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/30/2020
ms.locfileid: "3325870"
---
# <a name="x-model-versioning-in-azure-pipelines"></a><span data-ttu-id="e2151-103">Azure Pipelines で、X++ モデルのバージョン管理</span><span class="sxs-lookup"><span data-stu-id="e2151-103">X++ model-versioning in Azure Pipelines</span></span>

<span data-ttu-id="e2151-104">ビルドの自動化時に、X++ モデル バージョンを更新して、パイプラインのビルド番号に一致またはリンクするようにすることができます。</span><span class="sxs-lookup"><span data-stu-id="e2151-104">During build automation, X++ model versions can be updated so that they match or are linked to the build number of the pipeline.</span></span> <span data-ttu-id="e2151-105">これらの更新プログラムを使用すると、ユーザーは実行中の X++ パッケージのバージョンを容易に識別できるようになります。</span><span class="sxs-lookup"><span data-stu-id="e2151-105">These updates make it easier for customers to identify the version of the X++ packages that they are running.</span></span> <span data-ttu-id="e2151-106">また、開発者がバージョンを追跡して、ビルド パイプラインやソース コード ファイルのバージョンに戻すこともできます。</span><span class="sxs-lookup"><span data-stu-id="e2151-106">They also let developers track versions back to the build pipeline and the version of the source code files.</span></span>

<span data-ttu-id="e2151-107">このトピックは、[Azure Pipelines](https://docs.microsoft.com/azure/devops/pipelines/get-started/pipelines-get-started?view=azure-devops) の実用的な知識を前提としています。</span><span class="sxs-lookup"><span data-stu-id="e2151-107">This topic assumes a working knowledge of [Azure Pipelines](https://docs.microsoft.com/azure/devops/pipelines/get-started/pipelines-get-started?view=azure-devops).</span></span>

> [!NOTE]
> <span data-ttu-id="e2151-108">これらのステップをパイプラインに追加するには、[Dynamics 365 Finance and Operations ツール](https://marketplace.visualstudio.com/items?itemName=Dyn365FinOps.dynamics365-finops-tools)拡張機能が有効になっていて、Azure DevOps アカウントで Azure DevOps が有効化およびインストールされている必要があります。</span><span class="sxs-lookup"><span data-stu-id="e2151-108">Before you can add these steps to a pipeline, the [Dynamics 365 Finance and Operations Tools](https://marketplace.visualstudio.com/items?itemName=Dyn365FinOps.dynamics365-finops-tools) extension for Azure DevOps must be enabled and installed in the Azure DevOps account.</span></span> <span data-ttu-id="e2151-109">組織に拡張機能をインストールする方法の詳細については、[拡張機能のインストール](https://docs.microsoft.com/azure/devops/marketplace/install-extension?view=azure-devops&tabs=browser)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e2151-109">For more information about how to install an extension for an organization, see [Install extensions](https://docs.microsoft.com/azure/devops/marketplace/install-extension?view=azure-devops&tabs=browser).</span></span>

## <a name="add-the-task-to-a-pipeline"></a><span data-ttu-id="e2151-110">パイプラインへのタスクの追加</span><span class="sxs-lookup"><span data-stu-id="e2151-110">Add the task to a pipeline</span></span>

<span data-ttu-id="e2151-111">YML または Classic パイプラインのビルドにタスクを追加するには、**モデル バージョンの更新**のタスク リストを検索します。</span><span class="sxs-lookup"><span data-stu-id="e2151-111">To add the task to the build of your YML or Classic pipeline, search the task list for **Update Model Version**.</span></span> <span data-ttu-id="e2151-112">次のテーブルに、このタスクで使用可能なオプションを示します。</span><span class="sxs-lookup"><span data-stu-id="e2151-112">The following table describes the options that are available for this task.</span></span>

| <span data-ttu-id="e2151-113">入力名</span><span class="sxs-lookup"><span data-stu-id="e2151-113">Input name</span></span> | <span data-ttu-id="e2151-114">必須</span><span class="sxs-lookup"><span data-stu-id="e2151-114">Mandatory</span></span> | <span data-ttu-id="e2151-115">説明</span><span class="sxs-lookup"><span data-stu-id="e2151-115">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e2151-116">X++ のソースの場所</span><span class="sxs-lookup"><span data-stu-id="e2151-116">X++ Source Location</span></span> | <span data-ttu-id="e2151-117">有</span><span class="sxs-lookup"><span data-stu-id="e2151-117">Yes</span></span> | <span data-ttu-id="e2151-118">X++ ソース コードを含む親フォルダーのパス。</span><span class="sxs-lookup"><span data-stu-id="e2151-118">The path of a parent folder that contains X++ source code.</span></span> <span data-ttu-id="e2151-119">**記述子の検索パターン** オプションは、このパスとサブフォルダーで実行されます。</span><span class="sxs-lookup"><span data-stu-id="e2151-119">The **Descriptor Search Pattern** option will be run in this path and subfolders.</span></span> <span data-ttu-id="e2151-120">既定値 **$(Build.SourcesDirectory)** は、ソース コード リポジトリのルートをポイントします。</span><span class="sxs-lookup"><span data-stu-id="e2151-120">The default value, **$(Build.SourcesDirectory)**, points to the root of the source code repository.</span></span> |
| <span data-ttu-id="e2151-121">記述子検索パターン</span><span class="sxs-lookup"><span data-stu-id="e2151-121">Descriptor Search Pattern</span></span> | <span data-ttu-id="e2151-122">有</span><span class="sxs-lookup"><span data-stu-id="e2151-122">Yes</span></span> | <span data-ttu-id="e2151-123">**X++ のソースの場所** オプションで指定されたパス内の記述子ファイルを検索するファイルに一致するパターンを指定します。</span><span class="sxs-lookup"><span data-stu-id="e2151-123">Provide a file matching pattern to find the descriptor files inside the path that is specified in the **X++ Source Location** option.</span></span> <span data-ttu-id="e2151-124">また、検索パターンではなく、記述子ファイルの完全パスの一覧を指定することもできます。</span><span class="sxs-lookup"><span data-stu-id="e2151-124">You can also specify a list of full paths of descriptor files instead of search patterns.</span></span> <span data-ttu-id="e2151-125">詳細については、[ファイルの一致パターン リファレンス](https://docs.microsoft.com/azure/devops/pipelines/tasks/file-matching-patterns?view=azure-devops)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e2151-125">For more information, see [File matching patterns reference](https://docs.microsoft.com/azure/devops/pipelines/tasks/file-matching-patterns?view=azure-devops).</span></span> |
| <span data-ttu-id="e2151-126">更新する最下位のレイヤー</span><span class="sxs-lookup"><span data-stu-id="e2151-126">Lowest Layer to Update</span></span> | <span data-ttu-id="e2151-127">有</span><span class="sxs-lookup"><span data-stu-id="e2151-127">Yes</span></span> | <span data-ttu-id="e2151-128">検索パターンを使用している場合、このタスクによって、ソース管理の ISV またはパートナー コードの記述子が検出される場合があります。</span><span class="sxs-lookup"><span data-stu-id="e2151-128">When using search patterns, this task may find descriptors for ISV or partner code in your source control.</span></span> <span data-ttu-id="e2151-129">これらの記述子のバージョンは、更新されない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="e2151-129">Those descriptor versions should likely not be updated.</span></span> <span data-ttu-id="e2151-130">このオプションを使用すると、タスクによって更新される最も低いレイヤーを定義する追加のフィルタを定義できます。</span><span class="sxs-lookup"><span data-stu-id="e2151-130">This option allows you to define an additional filter to define the lowest layer that the task will update.</span></span> |
| <span data-ttu-id="e2151-131">更新するバージョン番号 (形式 #.#.#.#)</span><span class="sxs-lookup"><span data-stu-id="e2151-131">Version number in format #.#.#.# to update</span></span> | <span data-ttu-id="e2151-132">有</span><span class="sxs-lookup"><span data-stu-id="e2151-132">Yes</span></span> | <span data-ttu-id="e2151-133">記述子に書き込むバージョン番号。</span><span class="sxs-lookup"><span data-stu-id="e2151-133">The version number to write into the descriptors.</span></span> <span data-ttu-id="e2151-134">この形式は、ピリオド (.) で区切られた 4 桁の数字で構成されている必要があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="e2151-134">Note that the format must consist of four digits that are separated by periods (.).</span></span> <span data-ttu-id="e2151-135">ビルド ID またはビルド番号を使用すると、追跡可能になります。</span><span class="sxs-lookup"><span data-stu-id="e2151-135">By using the build ID or build number, you allow for traceability.</span></span> <span data-ttu-id="e2151-136">既定のビルド番号は正しい形式ではないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="e2151-136">Note that the default build number isn't in the correct format.</span></span> <span data-ttu-id="e2151-137">形式は、**オプション** \> **ビルド番号の形式** の下にあるクラシック エディターで変更できます。</span><span class="sxs-lookup"><span data-stu-id="e2151-137">You can change the format in the classic editor, under **Options** \> **Build number format**.</span></span> <span data-ttu-id="e2151-138">また、YML ファイルの先頭に `name:` タグを追加することによって変更することもできます。</span><span class="sxs-lookup"><span data-stu-id="e2151-138">You can also change it by adding a `name:` tag at the top of the YML file.</span></span> <span data-ttu-id="e2151-139">年、月、日、およびビルド数リビジョン番号を使用する有効なビルド番号の例として、`$(Date:yy.MM.dd)$(Rev:.r)` があります。</span><span class="sxs-lookup"><span data-stu-id="e2151-139">An example of a valid build number that uses the year, month, and date, and also the build count revision number, is `$(Date:yy.MM.dd)$(Rev:.r)`.</span></span> <span data-ttu-id="e2151-140">詳細については、[実行番号またはビルド番号の構成](https://docs.microsoft.com/azure/devops/pipelines/process/run-number?view=azure-devops&tabs=classic)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e2151-140">For more information, see [Configure run or build numbers](https://docs.microsoft.com/azure/devops/pipelines/process/run-number?view=azure-devops&tabs=classic).</span></span> |

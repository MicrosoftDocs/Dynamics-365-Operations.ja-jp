---
title: オンプレミス配置の計画および準備
description: このトピックは、オンプレミス展開の計画と準備に役立ちます。
author: PeterRFriis
manager: AnnBe
ms.date: 11/27/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Developer, IT Pro
ms.reviewer: sericks
ms.custom: 60373
ms.assetid: ''
ms.search.region: Global
ms.author: perahlff
ms.search.validFrom: 2017-12-20
ms.dyn365.ops.version: Platform Update 8
ms.openlocfilehash: 2fe94f267f9983666a5ff38942ff0ab86a5feb58
ms.sourcegitcommit: a515898588a1d9f59c1d5479c4220bcfb8e91030
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/15/2021
ms.locfileid: "5013402"
---
# <a name="plan-and-prepare-for-on-premises-deployments"></a><span data-ttu-id="b5cdd-103">オンプレミス配置の計画および準備</span><span class="sxs-lookup"><span data-stu-id="b5cdd-103">Plan and prepare for on-premises deployments</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="b5cdd-104">Dynamics 365 Finance + Operations (オンプレミス) は、顧客データ センターでビジネス プロセスを実行することをサポートします。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-104">Dynamics 365 Finance + Operations (on-premises) supports running business processes in customer data centers.</span></span> <span data-ttu-id="b5cdd-105">この配置オプションでは、アプリケーション サーバーおよび Microsoft SQL Server データベースは顧客のデータ センター内で実行されます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-105">With this deployment option, application servers and the Microsoft SQL Server database will run in the customer’s data center.</span></span>

<span data-ttu-id="b5cdd-106">このトピックは、オンプレミス展開の計画と準備に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-106">This topic will help you plan and prepare for your on-premises deployment.</span></span>

> [!IMPORTANT]
>   <span data-ttu-id="b5cdd-107">Dynamics 365 Finance + Operations (オンプレミス) は、Azure を含む、任意のパブリック クラウド インフラストラクチャでサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-107">Dynamics 365 Finance + Operations (on-premises) is not supported on any public cloud infrastructure, including Azure.</span></span> 

## <a name="differences-between-cloud-deployments-and-on-premises-deployments"></a><span data-ttu-id="b5cdd-108">クラウド展開とオンプレミス展開の違い</span><span class="sxs-lookup"><span data-stu-id="b5cdd-108">Differences between cloud deployments and on-premises deployments</span></span>
<span data-ttu-id="b5cdd-109">クラウド展開とオンプレミス展開の機能は異なります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-109">The features in cloud deployments and on-premises deployments differ.</span></span> <span data-ttu-id="b5cdd-110">これらの違いは、計画に影響します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-110">These differences will affect your planning.</span></span> <span data-ttu-id="b5cdd-111">違いについては、次のトピックで説明します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-111">The differences are described in the following topics:</span></span>
- [<span data-ttu-id="b5cdd-112">配置オプション</span><span class="sxs-lookup"><span data-stu-id="b5cdd-112">Deployment options</span></span>](choose-deployment-type.md)
- [<span data-ttu-id="b5cdd-113">クラウドとオンプレミスの機能比較</span><span class="sxs-lookup"><span data-stu-id="b5cdd-113">Comparison of cloud and on-premises features</span></span>](../../fin-ops/get-started/cloud-prem-comparison.md)
- [<span data-ttu-id="b5cdd-114">Finance and Operations の削除済みまたは非推奨の機能</span><span class="sxs-lookup"><span data-stu-id="b5cdd-114">Removed or deprecated features for Finance and Operations</span></span>](../migration-upgrade/deprecated-features.md)

## <a name="how-lcs-is-used-with-on-premises-deployments"></a><span data-ttu-id="b5cdd-115">オンプレミス配置で LCS を使用する方法</span><span class="sxs-lookup"><span data-stu-id="b5cdd-115">How LCS is used with on-premises deployments</span></span>
<span data-ttu-id="b5cdd-116">Microsoft Dynamics Lifecycle Services (LCS) は、アプリケーション ライフサイクルを管理するためのツールおよびサービスを提供するアプリケーション管理ポータルです。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-116">Microsoft Dynamics Lifecycle Services (LCS) is an application management portal that provides tools and services for managing the application lifecycle.</span></span> <span data-ttu-id="b5cdd-117">顧客とパートナーは LCS を使用して、クラウドとオンプレミスの両方の導入を管理します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-117">Customers and partners use LCS to manage both cloud and on-premises deployments.</span></span> <span data-ttu-id="b5cdd-118">以下のタスクに対して LCS を使用することができます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-118">You can use LCS for the following tasks:</span></span>
- <span data-ttu-id="b5cdd-119">クラウド環境とオンプレミス環境を展開します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-119">Deploy cloud and on-premises environments.</span></span>
- <span data-ttu-id="b5cdd-120">環境を保守します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-120">Service your environments.</span></span>
- <span data-ttu-id="b5cdd-121">管理する環境の正常性を監視、診断、および分析します (クラウドのみ)。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-121">Monitor, diagnose, and analyze the health of the environments that you manage (cloud only).</span></span>
- <span data-ttu-id="b5cdd-122">製品の問題や規制機能を検索します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-122">Search for product issues and regulatory features.</span></span>
- <span data-ttu-id="b5cdd-123">サポートを受けます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-123">Obtain support.</span></span>

<span data-ttu-id="b5cdd-124">LCS の詳細については、 [Lifecycle Services のリソース](../lifecycle-services/lcs.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-124">For more information about LCS, see [Lifecycle Services resources](../lifecycle-services/lcs.md).</span></span>

## <a name="environments"></a><span data-ttu-id="b5cdd-125">環境</span><span class="sxs-lookup"><span data-stu-id="b5cdd-125">Environments</span></span>
<span data-ttu-id="b5cdd-126">計画する必要のある環境には 4 つのタイプがあります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-126">There are four types of environments that you need to plan for.</span></span> <span data-ttu-id="b5cdd-127">このセクションでは、4 つの環境と、それらにアクセスして展開する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-127">This section describes the four environments and how to access and deploy them.</span></span>

### <a name="demo-environment"></a><span data-ttu-id="b5cdd-128">デモ環境</span><span class="sxs-lookup"><span data-stu-id="b5cdd-128">Demo environment</span></span>
<span data-ttu-id="b5cdd-129">デモ環境にサインアップして、システムについて学習することができます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-129">You can sign up for a demo environment to learn about the system.</span></span> <span data-ttu-id="b5cdd-130">デモ環境は、クラウドとオンプレミスの両方の展開に適用されます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-130">The demo environment is applicable to both cloud and on-premises deployments.</span></span> <span data-ttu-id="b5cdd-131">詳細については、 [プレビュー サブスクリプションのサインアップ](../dev-tools/sign-up-preview-subscription.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-131">For more information, see [Sign up for preview subscriptions](../dev-tools/sign-up-preview-subscription.md).</span></span>

### <a name="developer-environment"></a><span data-ttu-id="b5cdd-132">開発者環境</span><span class="sxs-lookup"><span data-stu-id="b5cdd-132">Developer environment</span></span>
<span data-ttu-id="b5cdd-133">開発経験は、クラウドとオンプレミスの配置で同じです。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-133">The development experience is the same for cloud and on-premises deployments.</span></span> <span data-ttu-id="b5cdd-134">開発者環境にアクセスするには、 [開発環境の配置とアクセス](../dev-tools/access-instances.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-134">To access a developer environment, see [Deploy and access development environments](../dev-tools/access-instances.md).</span></span>

### <a name="sandbox-environment"></a><span data-ttu-id="b5cdd-135">サンドボックス環境</span><span class="sxs-lookup"><span data-stu-id="b5cdd-135">Sandbox environment</span></span>
<span data-ttu-id="b5cdd-136">ビジネス ユーザーと機能チームのメンバーは、サンドボックス環境を使用してアプリケーション機能を検証します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-136">Business users and functional team members validate application functionality by using a sandbox environment.</span></span> <span data-ttu-id="b5cdd-137">この機能には、カスタマイズ内容や Microsoft Dynamics AX 2012 環境から継承されたデータが含まれます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-137">This functionality includes customizations and data that was brought forward from Microsoft Dynamics AX 2012 environments.</span></span> <span data-ttu-id="b5cdd-138">オンプレミス サンドボックス環境を展開するには、 [オンプレミス環境の設定と配置のホーム ページ](setup-deploy-on-premises-environments.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-138">To deploy an on-premises sandbox environment, see [Set up and deploy on-premises environments home page](setup-deploy-on-premises-environments.md).</span></span>

<span data-ttu-id="b5cdd-139">少なくとも、オンプレミスのサンドボックス環境には次のものが必要です。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-139">At a minimum, an on-premises sandbox environment requires:</span></span>
- <span data-ttu-id="b5cdd-140">環境オーケストレータを実行している 3 台のコンピューター</span><span class="sxs-lookup"><span data-stu-id="b5cdd-140">3 machines running Environment Orchestrator</span></span>
- <span data-ttu-id="b5cdd-141">Application Object Server (AOS) を実行する 2 台のコンピューター</span><span class="sxs-lookup"><span data-stu-id="b5cdd-141">2 machines running Application Object Servers (AOS)</span></span>
- <span data-ttu-id="b5cdd-142">Management Reporter (MR) を実行している 1 台のコンピューター</span><span class="sxs-lookup"><span data-stu-id="b5cdd-142">1 machine running Management Reporter (MR)</span></span>
- <span data-ttu-id="b5cdd-143">SQL Server Reporting Services (SSRS) を実行している 1 台のコンピューター</span><span class="sxs-lookup"><span data-stu-id="b5cdd-143">1 machine running SQL Server Reporting Services (SSRS)</span></span>
- <span data-ttu-id="b5cdd-144">Active Directory を実行している 1 台のコンピューター</span><span class="sxs-lookup"><span data-stu-id="b5cdd-144">1 machine running Active Directory</span></span>
- <span data-ttu-id="b5cdd-145">SQL Server を実行している 1 台のコンピューター</span><span class="sxs-lookup"><span data-stu-id="b5cdd-145">1 machine running SQL Server</span></span>

### <a name="production-environment"></a><span data-ttu-id="b5cdd-146">実稼働環境</span><span class="sxs-lookup"><span data-stu-id="b5cdd-146">Production environment</span></span>
<span data-ttu-id="b5cdd-147">実働環境は、ユーザーや顧客がアクセスできる実際の展開です。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-147">The production environment is the live deployment that your users and customers have access to.</span></span> <span data-ttu-id="b5cdd-148">実稼働環境を展開するには、 [オンプレミス環境の設定と配置のホーム ページ](setup-deploy-on-premises-environments.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-148">To deploy a production environment, see [Set up and deploy on-premises environments home page](setup-deploy-on-premises-environments.md).</span></span>

<span data-ttu-id="b5cdd-149">少なくとも、オンプレミスの実稼動環境には次のものが必要です。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-149">At a minimum, an on-premises production environment requires:</span></span>
- <span data-ttu-id="b5cdd-150">環境オーケストレータを実行している 3 台のコンピューター</span><span class="sxs-lookup"><span data-stu-id="b5cdd-150">3 machines running Environment Orchestrator</span></span>
- <span data-ttu-id="b5cdd-151">Application Object Server (AOS) を実行している 3 台のコンピューター</span><span class="sxs-lookup"><span data-stu-id="b5cdd-151">3 machines running Application Object Servers (AOS)</span></span>
- <span data-ttu-id="b5cdd-152">Management Reporter (MR) を実行している 1 台のコンピューター</span><span class="sxs-lookup"><span data-stu-id="b5cdd-152">1 machine running Management Reporter (MR)</span></span>
- <span data-ttu-id="b5cdd-153">SQL Server Reporting Services (SSRS) を実行している 1 台のコンピューター</span><span class="sxs-lookup"><span data-stu-id="b5cdd-153">1 machine running SQL Server Reporting Services (SSRS)</span></span>
- <span data-ttu-id="b5cdd-154">SQL Server を実行している 2 台以上のコンピューター</span><span class="sxs-lookup"><span data-stu-id="b5cdd-154">2 or more machines running SQL Server</span></span>
- <span data-ttu-id="b5cdd-155">Active Directory を実行している 2 台以上のコンピューター</span><span class="sxs-lookup"><span data-stu-id="b5cdd-155">2 or more machines running Active Directory</span></span>

## <a name="service-fabric"></a><span data-ttu-id="b5cdd-156">Service Fabric</span><span class="sxs-lookup"><span data-stu-id="b5cdd-156">Service Fabric</span></span>
<span data-ttu-id="b5cdd-157">オンプレミス配置では、 Azure Service Fabric スタンドアロンクラスターが使用されます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-157">An on-premises deployment uses Azure Service Fabric standalone clusters.</span></span> <span data-ttu-id="b5cdd-158">Service Fabric は、企業規模の大規模なアプリケーションを構築および管理するための次世代の Microsoft ミドルウェア プラットフォームです。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-158">Service Fabric is the next-generation Microsoft middleware platform for building and managing enterprise-class, high-scale applications.</span></span> <span data-ttu-id="b5cdd-159">Service Fabric スタンドアロン クラスターは、Windows Server を実行しているどのコンピューターにも展開することができます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-159">Service Fabric standalone clusters can be deployed on any computer that is running Windows Server.</span></span>

<span data-ttu-id="b5cdd-160">オンプレミス配置には、各サンドボックス環境のスタンドアロン クラスターと各実稼働環境のスタンドアロン クラスターがあります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-160">An on-premises deployment has a standalone cluster for each sandbox environment and a standalone cluster for each production environment.</span></span> <span data-ttu-id="b5cdd-161">両方のタイプのクラスターに、次のロールまたはノード タイプが配置されます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-161">The following roles or node types are deployed into both types of clusters:</span></span>
- <span data-ttu-id="b5cdd-162">Application Object Servers (AOS) – アプリケーション機能をクライアント、バッチ、およびインポート/エクスポートのシナリオで実行する機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-162">Application Object Servers (AOS) – Provides the ability to run the application functionality in client, batch, and import/export scenarios.</span></span>
- <span data-ttu-id="b5cdd-163">Management Reporter (MR) – 財務レポートの機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-163">Management Reporter (MR) – Provides financial reporting functionality.</span></span>
- <span data-ttu-id="b5cdd-164">SQL Server Reporting Services (SSRS): ドキュメント レポート機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-164">SQL Server Reporting Services (SSRS) – Provides document reporting functionality.</span></span>
- <span data-ttu-id="b5cdd-165">環境オーケストレータ – LCS からオンプレミス環境管理を有効にします。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-165">Environment Orchestrator – Enables on-premises environment management from LCS.</span></span>

<span data-ttu-id="b5cdd-166">次の図は、Service Fabric スタンドアロン クラスターに配置されたノード タイプを示しています。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-166">The following diagram shows the node types deployed in a Service Fabric standalone cluster.</span></span>

![Service Fabric スタンドアロン クラスターに配置されるノード タイプ](media/on-premises-overview-01.png)

### <a name="service-fabric-resources"></a><span data-ttu-id="b5cdd-168">Service Fabric リソース</span><span class="sxs-lookup"><span data-stu-id="b5cdd-168">Service Fabric resources</span></span>
<span data-ttu-id="b5cdd-169">Service Fabric の詳細については、次のトピックを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-169">To learn more about Service Fabric, see the following topics:</span></span>
- <span data-ttu-id="b5cdd-170">[Azure Service Fabric documentation](https://docs.microsoft.com/azure/service-fabric) - サービスファブリックの詳細について。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-170">[Azure Service Fabric documentation](https://docs.microsoft.com/azure/service-fabric) - To learn more about Service Fabric.</span></span>
- <span data-ttu-id="b5cdd-171">[Service Fabric application upgrade](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-upgrade)- Azure Service Fabric アプリケーションは、定期的なアップグレードを必要となるサービスです。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-171">[Service Fabric application upgrade](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-upgrade) - An Azure Service Fabric application is a collection of services that requires periodic upgrades.</span></span>
- <span data-ttu-id="b5cdd-172">[Service Fabric のスタンドアロン クラスター展開の計画と準備](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-standalone-deployment-preparation) - Service Fabric クラスターおよびウィルス対策の除外に関する追加情報</span><span class="sxs-lookup"><span data-stu-id="b5cdd-172">[Plan and prepare your Service Fabric standalone cluster deployment](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-standalone-deployment-preparation) - Additional information about Service Fabric clusters and antivirus exclusions.</span></span>

## <a name="system-requirements"></a><span data-ttu-id="b5cdd-173">システム要件</span><span class="sxs-lookup"><span data-stu-id="b5cdd-173">System requirements</span></span>
<span data-ttu-id="b5cdd-174">[オンプレミス展開のシステム要件](../../fin-ops/get-started/system-requirements-on-prem.md)でシステム要件を確認し、オンプレミス展開が必要なコンピューターの台数を確認します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-174">Review the system requirements in [System requirements for on-premises deployments](../../fin-ops/get-started/system-requirements-on-prem.md) and be aware of the number of machines that are required for on-premises deployments.</span></span>

## <a name="hardware-sizing"></a><span data-ttu-id="b5cdd-175">ハードウェアのサイズ</span><span class="sxs-lookup"><span data-stu-id="b5cdd-175">Hardware sizing</span></span>
<span data-ttu-id="b5cdd-176">オンプレミス環境におけるハードウェアおよびインフラストラチャのサイズ設定のプロセスを開始する前に、 [オンプレミス配置のシステム要件](../../fin-ops/get-started/system-requirements-on-prem.md) および [オンプレミス環境の設定と配置のホーム ページ](setup-deploy-on-premises-environments.md) に精通し、基盤となるインフラストラクチャを確実に把握します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-176">Before you begin the hardware and infrastructure sizing process for an on-premises environment, familiarize yourself with the [System requirements for on-premises deployments](../../fin-ops/get-started/system-requirements-on-prem.md) and [Set up and deploy on-premises environments home page](setup-deploy-on-premises-environments.md) to gain a solid understanding of the underlying infrastructure.</span></span> <span data-ttu-id="b5cdd-177">最適なパフォーマンスを得るには、システム設定のベストプラクティスに十分注意します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-177">Pay close attention to the system setup best practices for optimum performance.</span></span> <span data-ttu-id="b5cdd-178">ドキュメントを確認した後、トランザクションと同時実行ユーザー量の見積および平均コア スループットに基づいて、環境のサイズを変更するプロセスを開始できます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-178">After you have reviewed the documentation, you can start the process of estimating your transactional and concurrent user volume and sizing your environment based on the average core throughput.</span></span>

### <a name="factors-that-affect-sizing"></a><span data-ttu-id="b5cdd-179">サイズ設定に影響する要因</span><span class="sxs-lookup"><span data-stu-id="b5cdd-179">Factors that affect sizing</span></span>
<span data-ttu-id="b5cdd-180">サイズに影響を与える主な要因は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-180">The core factors that affect sizing are:</span></span>
- <span data-ttu-id="b5cdd-181">トランザクションの特性</span><span class="sxs-lookup"><span data-stu-id="b5cdd-181">Transaction characterization</span></span>
- <span data-ttu-id="b5cdd-182">ユーザー特性 - タイプおよび同時実行</span><span class="sxs-lookup"><span data-stu-id="b5cdd-182">User characterization - Type and concurrency</span></span>
- <span data-ttu-id="b5cdd-183">データ構成</span><span class="sxs-lookup"><span data-stu-id="b5cdd-183">Data composition</span></span>
- <span data-ttu-id="b5cdd-184">拡張子</span><span class="sxs-lookup"><span data-stu-id="b5cdd-184">Extensions</span></span>
- <span data-ttu-id="b5cdd-185">レポート使用パターン</span><span class="sxs-lookup"><span data-stu-id="b5cdd-185">Reporting usage patterns</span></span>
- <span data-ttu-id="b5cdd-186">サード パーティ ソリューション</span><span class="sxs-lookup"><span data-stu-id="b5cdd-186">Third-party solutions</span></span>

<span data-ttu-id="b5cdd-187">より詳細なデータを収集するほど、正確にサイジングを見積もることができます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-187">The more detailed data that you collect, the more precisely you can estimate sizing.</span></span> <span data-ttu-id="b5cdd-188">ハードウェアのサイジングは、データをサポートしていないため、不正確になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-188">Hardware sizing, without supporting data, is likely to be inaccurate.</span></span> <span data-ttu-id="b5cdd-189">収集する必要のある最小限のデータは、1 時間あたりのトランザクション明細行のピーク負荷です。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-189">The minimum data that you need to collect is the peak transaction line load per hour.</span></span> <span data-ttu-id="b5cdd-190">サイズ変更に影響する要因を次の図に示します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-190">The factors that affect sizing are shown in the following diagram.</span></span>

![サイズ変更要因](media/sizing-factors.png)

<span data-ttu-id="b5cdd-192">左から右に、サイジングを正確に推定するために必要な最初の最も重要な要素は、トランザクション プロファイルまたはトランザクション特性です。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-192">From left to right, the first and most important factor needed to accurately estimate sizing is a transaction profile or a transaction characterization.</span></span> <span data-ttu-id="b5cdd-193">1 時間あたりのピーク トランザクション量を検索することは重要です。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-193">It’s important to find the peak transactional volume per hour.</span></span> <span data-ttu-id="b5cdd-194">複数のピーク期間がある場合は、これらの期間を正確に定義する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-194">If there are multiple peak periods, then these periods need to be accurately defined.</span></span>

<span data-ttu-id="b5cdd-195">インフラストラクチャに影響を及ぼす負荷を理解するようになると、これらの要因についてさらに詳しく理解する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-195">As you understand the load that impacts your infrastructure, you also need to understand more detail about these factors:</span></span>
- <span data-ttu-id="b5cdd-196">**トランザクション** – トランザクションには、通常、日または週全体で特定のピークがあります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-196">**Transactions** – Transactions typically have certain peaks throughout the day or week.</span></span> <span data-ttu-id="b5cdd-197">ピークは、トランザクション タイプによって異なる場合があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-197">The peaks might depend on the transaction type.</span></span> <span data-ttu-id="b5cdd-198">たとえば、時間と経費のエントリーでは、通常、1 週間に 1 回ピークを示しますが、販売注文票は、その日の統合またはトリクルによって一括して到着する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-198">For example, time and expense entries usually show peaks once per week, while sales orders might arrive in bulk via integration or trickle in during the day.</span></span>
- <span data-ttu-id="b5cdd-199">**同時ユーザー数** – 同時ユーザー数は、サイズを設定する上で 2 番目に重要な要因です。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-199">**Number of concurrent users** – The number of concurrent users is the second most important sizing factor.</span></span> <span data-ttu-id="b5cdd-200">同時ユーザー数のみに基づいて信頼性の高いサイズの見積を取得することはできません。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-200">You cannot get reliable sizing estimates based only on the number of concurrent users.</span></span> <span data-ttu-id="b5cdd-201">同時ユーザーが使用できる唯一のデータである場合は、トランザクションの概数を見積もり、データが増えたときにこれをやり直します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-201">If concurrent users is the only data that you have available, then estimate an approximate number for transactions, and revisit this when you have more data.</span></span> <span data-ttu-id="b5cdd-202">正確な同時ユーザー定義は次の通りです。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-202">An accurate concurrent user definition means that:</span></span>
    - <span data-ttu-id="b5cdd-203">名前付きユーザーは同時ユーザーではありません。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-203">Named users are not concurrent users.</span></span>
    - <span data-ttu-id="b5cdd-204">同時ユーザーは、常に名前付きユーザーのサブセットです。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-204">Concurrent users are always a subset of named users.</span></span>
    - <span data-ttu-id="b5cdd-205">ピーク時の負荷は、最大の同時実行のサイズを定義します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-205">Peak workload defines the maximum concurrency for sizing.</span></span>
    <span data-ttu-id="b5cdd-206">同時ユーザーについては、ユーザーは次のすべての基準を満たす必要があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-206">For concurrent users, the user must meet all the following criteria:</span></span>
        - <span data-ttu-id="b5cdd-207">ユーザーはログオンしています。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-207">The user is logged on.</span></span>
        - <span data-ttu-id="b5cdd-208">カウント時に稼働中の取引や問い合わせがあります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-208">There are working transactions or inquiries at the time of counting.</span></span>
        - <span data-ttu-id="b5cdd-209">セッションはアイドル状態ではありません。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-209">The session is not idle.</span></span>
- <span data-ttu-id="b5cdd-210">**データ構成** - データ構成とは、システムをどのように設定してコンフィギュレーションするかということです。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-210">**Data composition** – Data composition is how your system will be set up and configured.</span></span> <span data-ttu-id="b5cdd-211">たとえば、これは、法人の数、品目番号、BOM レベルの数、およびセキュリティ設定がどの程度複雑かを含みます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-211">For example, this can include the number of legal entities, the number items, the number of BOM levels, and how complex the security setup will be.</span></span> <span data-ttu-id="b5cdd-212">これらの要因のそれぞれはパフォーマンスには影響しない可能性があるが、影響はインフラストラクチャに関しては賢明な選択肢を使用することで相殺できます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-212">Each of these factors might have an impact on performance, however the impact can be offset by using smart choices when it comes to infrastructure.</span></span>
- <span data-ttu-id="b5cdd-213">**拡張機能** – カスタマイズはシンプルまたは複雑になり得ます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-213">**Extensions** – Customizations can be simple or complex.</span></span> <span data-ttu-id="b5cdd-214">カスタマイズの数と複雑さと使用の性質は、必要なインフラストラクチャのサイズにさまざまな影響を与えます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-214">The number of customizations and the nature of complexity and usage has a varied impact on the size of the infrastructure needed.</span></span> <span data-ttu-id="b5cdd-215">複雑なカスタマイズの場合は、効率性のテストだけでなく、インフラストラクチャのニーズを理解するのに役立つように、パフォーマンス評価を行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-215">For complex customizations, you should conduct performance evaluations to ensure that they are not only tested for efficiency but also help understand the infrastructure needs.</span></span> <span data-ttu-id="b5cdd-216">拡張機能が、パフォーマンスとスケーラビリティにおけるベストプラクティスに従ってコード化されていない場合、これはさらに重要です。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-216">This is even more critical when the extensions are not coded according to best practices for performance and scalability.</span></span>
- <span data-ttu-id="b5cdd-217">**レポートと分析** – レポートと分析には、通常、データベースのシステムに対する大量のクエリの実行が含まれます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-217">**Reporting and analytics** – Reporting and analytics typically include running heavy queries against the database systems.</span></span> <span data-ttu-id="b5cdd-218">データを大量に使用するレポートが実行される頻度を下げると、影響を減らすことができます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-218">Reducing the frequency of when data intensive reports run will help reduce their impact.</span></span> <span data-ttu-id="b5cdd-219">クエリのデザインがパフォーマンスをどのように影響するかを理解することも重要です。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-219">It’s also important to understand how the design of your queries impacts their performance.</span></span>
- <span data-ttu-id="b5cdd-220">**サード パーティのソリューション** 1 – これらのソリューションは、ISV のように、拡張と同じ意味合いと推奨事項を持っています。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-220">**Third-party solutions** – These solutions, like ISVs, have the same implications and recommendations as extensions.</span></span>

## <a name="sizing-your-environment"></a><span data-ttu-id="b5cdd-221">環境のサイズ変更</span><span class="sxs-lookup"><span data-stu-id="b5cdd-221">Sizing your environment</span></span>
<span data-ttu-id="b5cdd-222">サイジング要件を決定するには、処理する必要のあるトランザクションのピーク量を知る必要があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-222">To determine your sizing requirements, you must know the peak volume of transactions that you need to process.</span></span> <span data-ttu-id="b5cdd-223">Management Reporter や SSRS などのほとんどの補助システムは、ミッション クリティカルではありません。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-223">Most auxiliary systems, like Management Reporter or SSRS, are less mission critical.</span></span> <span data-ttu-id="b5cdd-224">結果として、このトピックは主に AOS と SQL Server に焦点を当てています。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-224">As a result, this topic focuses primarily on AOS and SQL Server.</span></span>

<span data-ttu-id="b5cdd-225">一般に、計算層はスケールアウトされ、N + 1 形式で設定する必要があります。つまり、3 つの AOS を推定する場合は、4 つ目の AOS を追加します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-225">In general, the compute tiers scale out and should be set up in an N+1 fashion, meaning if you estimate three AOS, add a fourth AOS.</span></span> <span data-ttu-id="b5cdd-226">データベース層は、常に常時使用可能な設定で設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-226">The database tier should be set up in an Always On highly-available setup.</span></span>

### <a name="sql-server-oltp"></a><span data-ttu-id="b5cdd-227">SQL Server (OLTP)</span><span class="sxs-lookup"><span data-stu-id="b5cdd-227">SQL Server (OLTP)</span></span>

#### <a name="sizing"></a><span data-ttu-id="b5cdd-228">サイズ変更</span><span class="sxs-lookup"><span data-stu-id="b5cdd-228">Sizing</span></span>

- <span data-ttu-id="b5cdd-229">1 時間あたり DB サーバー上のコアあたり 3K 〜 15K のトランザクション明細行。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-229">3K to 15K transaction lines per hour per core on DB server.</span></span>
- <span data-ttu-id="b5cdd-230">プライマリー SQL Server の一般的な AOS と SQL のコア比率 3:1。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-230">Typical AOS-to-SQL core ratio 3:1 for the primary SQL Server.</span></span> <span data-ttu-id="b5cdd-231">高可用性コンフィギュレーションに基づいて、追加のコアが必要です。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-231">Additional cores are required based on the high-availability configuration.</span></span>
    - <span data-ttu-id="b5cdd-232">データベースに重い操作を処理すると、これが 2:1 に回帰する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-232">Processing database-heavy operations may regress this to 2:1.</span></span>
- <span data-ttu-id="b5cdd-233">次の要因には、変動が影響します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-233">The following factors influence variations:</span></span>
    - <span data-ttu-id="b5cdd-234">使用中のパラメータ設定。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-234">Parameter settings in use.</span></span>
    - <span data-ttu-id="b5cdd-235">拡張機能のレベル。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-235">Levels of extensions.</span></span>
    - <span data-ttu-id="b5cdd-236">データベース ログやアラートなどの追加機能の使用。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-236">Additional functionality usage, such as database logs and alerts.</span></span> <span data-ttu-id="b5cdd-237">極端なデータベース ロギングにより、コアあたりのスループットは 1 時間当たり 3K 以下にさらに低下します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-237">Extreme database logging will further reduce throughput per hour per core below 3K lines.</span></span>
    - <span data-ttu-id="b5cdd-238">データ構成の複雑さ。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-238">Complexity of data composition.</span></span> <span data-ttu-id="b5cdd-239">たとえば、シンプルな勘定科目表と細かい綿密な勘定科目表は、スループットに影響を与えます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-239">For example, a simple chart of accounts versus a detailed fine-grained chart of accounts has implications on throughput.</span></span>
    - <span data-ttu-id="b5cdd-240">トランザクションの特性。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-240">Transaction characterization.</span></span>
    - <span data-ttu-id="b5cdd-241">各コアの 2 GB から 4 BG までのメモリーです。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-241">2 GB to 4 GB memory for each core.</span></span>
    - <span data-ttu-id="b5cdd-242">管理リポーターや SSRS データベースなどの DB サーバー上の補助データベース。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-242">Auxiliary databases on DB server such as Management reporter and SSRS databases.</span></span>
    - <span data-ttu-id="b5cdd-243">Temp DB = 物理プロセッサと同数のファイルを持つ DB サイズの 15 ％。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-243">Temp DB = 15% of DB size, with as many files as physical processors.</span></span>
    - <span data-ttu-id="b5cdd-244">同時のトランザクション ボリューム/使用量の合計に基づく SAN サイズとスループット。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-244">SAN size and throughput based on total concurrent transaction volume/usage.</span></span>

#### <a name="high-availability"></a><span data-ttu-id="b5cdd-245">高可用性</span><span class="sxs-lookup"><span data-stu-id="b5cdd-245">High availability</span></span>

<span data-ttu-id="b5cdd-246">クラスターまたはミラーリングの設定で、常に SQL Server を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-246">You should always utilize SQL Server in either a cluster or mirroring setup.</span></span> <span data-ttu-id="b5cdd-247">2 番目の SQL ノードは、1 次ノードと同じ数のコアを持つ必要があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-247">The second SQL node should have the same number of cores as the primary node.</span></span>

#### <a name="active-directory-federation-services-ad-fs"></a><span data-ttu-id="b5cdd-248">Active Directory フェデレーション サービス (AD FS)</span><span class="sxs-lookup"><span data-stu-id="b5cdd-248">Active Directory Federation Services (AD FS)</span></span>
<span data-ttu-id="b5cdd-249">広告のサイズ変更について、[広告のサーバーの処理能力ドキュメント](https://docs.microsoft.com/windows-server/identity/ad-fs/design/planning-for-ad-fs-server-capacity)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-249">For AD FS sizing, see the [AD FS Server Capacity documentation](https://docs.microsoft.com/windows-server/identity/ad-fs/design/planning-for-ad-fs-server-capacity).</span></span> <span data-ttu-id="b5cdd-250">A[サイズ変更スプレッドシート](https://adfsdocs.blob.core.windows.net/adfs/ADFSCapacity2016.xlsx)は、展開内のインスタンスの数を計画するために使用できます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-250">A [sizing spreadsheet](https://adfsdocs.blob.core.windows.net/adfs/ADFSCapacity2016.xlsx) is available for planning the number of instances in your deployment.</span></span>

### <a name="aos-online-and-batch"></a><span data-ttu-id="b5cdd-251">AOS (オンラインおよびバッチ)</span><span class="sxs-lookup"><span data-stu-id="b5cdd-251">AOS (Online and batch)</span></span>

#### <a name="sizing"></a><span data-ttu-id="b5cdd-252">サイズ変更</span><span class="sxs-lookup"><span data-stu-id="b5cdd-252">Sizing</span></span>

- <span data-ttu-id="b5cdd-253">トランザクションの量と使用法サイズの変更</span><span class="sxs-lookup"><span data-stu-id="b5cdd-253">Sizing by transaction volume/usage</span></span>
    - <span data-ttu-id="b5cdd-254">コアあたり 2K から 6K の明細行</span><span class="sxs-lookup"><span data-stu-id="b5cdd-254">2K to 6K lines per core</span></span>
    - <span data-ttu-id="b5cdd-255">インスタンスあたり 16 GB</span><span class="sxs-lookup"><span data-stu-id="b5cdd-255">16 GB per instance</span></span>
    - <span data-ttu-id="b5cdd-256">標準ボックス – 4 から 24 コア</span><span class="sxs-lookup"><span data-stu-id="b5cdd-256">Standard box – 4 to 24 cores</span></span>
    - <span data-ttu-id="b5cdd-257">コアあたり 10 から 15 のエンタープライズ ユーザー</span><span class="sxs-lookup"><span data-stu-id="b5cdd-257">10 to 15 Enterprise users per core</span></span>
    - <span data-ttu-id="b5cdd-258">コアあたり 15 から 25 のアクティブ ユーザー</span><span class="sxs-lookup"><span data-stu-id="b5cdd-258">15 to 25 Activity users per core</span></span>
    - <span data-ttu-id="b5cdd-259">コアあたり 25 から 50 のチーム メンバー</span><span class="sxs-lookup"><span data-stu-id="b5cdd-259">25 to 50 Team members per core</span></span>
- <span data-ttu-id="b5cdd-260">バッチ</span><span class="sxs-lookup"><span data-stu-id="b5cdd-260">Batch</span></span>
    - <span data-ttu-id="b5cdd-261">コアあたり 1 から 4 のバッチ スレッド</span><span class="sxs-lookup"><span data-stu-id="b5cdd-261">1 to 4 batch threads per core</span></span>
    - <span data-ttu-id="b5cdd-262">バッチ ウィンドウの特性に基づくサイズ</span><span class="sxs-lookup"><span data-stu-id="b5cdd-262">Size based on batch window characterization</span></span>
- <span data-ttu-id="b5cdd-263">AOS、データ管理、およびバッチは、Service Fabric 内で同じ役割を果たすことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-263">Note that AOS, Data Management, and Batch are the same role in the Service Fabric.</span></span> <span data-ttu-id="b5cdd-264">Microsoft Dynamics AX 2012 のように、これらの 3 つのワークロードをまとめてサイズ調整する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-264">You need to size for these three workloads combined, and not separately as you did with Microsoft Dynamics AX 2012.</span></span>
- <span data-ttu-id="b5cdd-265">ここでは、SQL Server と同じ変動要因が適用されます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-265">The same variability factors for SQL Server apply here.</span></span>

#### <a name="high-availability"></a><span data-ttu-id="b5cdd-266">高可用性</span><span class="sxs-lookup"><span data-stu-id="b5cdd-266">High availability</span></span>
- <span data-ttu-id="b5cdd-267">推測する以上に少なくとも 1 から 2 の AOS があることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-267">Ensure that you have at least 1 to 2 more AOS available than you estimate.</span></span>
- <span data-ttu-id="b5cdd-268">少なくとも 3 から 4 つの仮想ホストが使用可能であることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-268">Ensure that you have at least 3 to 4 virtual hosts available.</span></span>

### <a name="management-reporter"></a><span data-ttu-id="b5cdd-269">Management Reporter</span><span class="sxs-lookup"><span data-stu-id="b5cdd-269">Management reporter</span></span>
<span data-ttu-id="b5cdd-270">ほとんどの場合、広範囲に使用されない限り、2 つのノードを使用する推奨最小要件が適切に動作します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-270">In most cases, unless used extensively, the recommended minimum requirements using two nodes should work well.</span></span> <span data-ttu-id="b5cdd-271">頻繁な使用がある場合のみ、3 つ以上のノードを必要とし、その後は必要に応じてを縮尺を調整することができます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-271">Only in cases where there is heavy use will you need more than two nodes, after which you can scale as needed.</span></span>

### <a name="sql-server-reporting-services"></a><span data-ttu-id="b5cdd-272">SQL Server Reporting Services</span><span class="sxs-lookup"><span data-stu-id="b5cdd-272">SQL Server Reporting Services</span></span>
<span data-ttu-id="b5cdd-273">Finance + Operations の現在のリリースは、1 つの SSRS ノードしか展開できません。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-273">For the current release of Finance + Operations, only one SSRS node can be deployed.</span></span> <span data-ttu-id="b5cdd-274">テスト中に SSRS ノードを監視し、SSRS で使用可能なコアの数を必要に応じて増やします。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-274">Monitor your SSRS node while testing and increase the number of cores available for SSRS as needed.</span></span> <span data-ttu-id="b5cdd-275">SSRS VM とは異なる仮想ホストで事前構成されたセカンダリ ノードを使用できることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-275">Make sure that you have a preconfigured secondary node available on a virtual host that is different than the SSRS VM.</span></span> <span data-ttu-id="b5cdd-276">これは、SSRS または仮想ホストをホストする仮想マシンに問題がある場合に重要です。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-276">This is important if there is an issue with the virtual machine that hosts SSRS or the virtual host.</span></span> <span data-ttu-id="b5cdd-277">この場合、ノードは交換する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-277">If this the case, the node would need to be replaced.</span></span>

### <a name="environment-orchestrator"></a><span data-ttu-id="b5cdd-278">環境オーケストレーター</span><span class="sxs-lookup"><span data-stu-id="b5cdd-278">Environment Orchestrator</span></span>
<span data-ttu-id="b5cdd-279">オーケストレータ サービスは、展開および LCS との関連する通信を管理するサービスです。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-279">The Orchestrator service is the service that manages your deployment and the related communication with LCS.</span></span> <span data-ttu-id="b5cdd-280">このサービスはプライマリ Service Fabric サービスとして展開され、最低 3 台の VM が必要です。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-280">This service is deployed as the primary Service Fabric service and requires at least three VMs.</span></span> <span data-ttu-id="b5cdd-281">このサービスは、サービス ファブリック オーケストレーション サービスと同じ場所に配置されています。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-281">This service is co-located with the Service Fabric orchestration services.</span></span> <span data-ttu-id="b5cdd-282">これは、クラスターのピーク負荷に合わせたサイズにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-282">This should be sized to the peak load of the cluster.</span></span> <span data-ttu-id="b5cdd-283">詳細については、 [Service Fabric スタンドアロン クラスタの展開計画](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-standalone-deployment-preparation)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-283">For more information, see [Plan and prepare your Service Fabric Standalone cluster deployment](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-standalone-deployment-preparation).</span></span>

### <a name="virtualization-and-oversubscription"></a><span data-ttu-id="b5cdd-284">仮想化と過剰加入</span><span class="sxs-lookup"><span data-stu-id="b5cdd-284">Virtualization and oversubscription</span></span>
<span data-ttu-id="b5cdd-285">AOS のようなミッション クリティカルなサービスは、コア、メモリ、ディスクなどの専用リソースを持つ仮想ホストでホストする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-285">Mission critical services like the AOS should be hosted on Virtual hosts that have dedicated resources – core, memory, and disk.</span></span>

## <a name="authentication-methods"></a><span data-ttu-id="b5cdd-286">認証方法</span><span class="sxs-lookup"><span data-stu-id="b5cdd-286">Authentication methods</span></span>

<span data-ttu-id="b5cdd-287">オンプレミスの配置では、次の認証方法が使用されます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-287">The following authentication methods are used with on-premises deployments:</span></span>

- <span data-ttu-id="b5cdd-288">**Azure Active Directory(Azure AD)** - Azure AD は LCS へのログインに使用される認証方法です。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-288">**Azure Active Directory (Azure AD)** - Azure AD is the authentication method used to log in to LCS.</span></span> <span data-ttu-id="b5cdd-289">Azure AD は LCS ローカル エージェントの構成に使用されます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-289">Azure AD is used configure the LCS Local Agent.</span></span> <span data-ttu-id="b5cdd-290">詳細については、「[Azure Active Directory とは何か](https://docs.microsoft.com/azure/active-directory/active-directory-whatis)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-290">For more information, see [What is Azure Active Directory?](https://docs.microsoft.com/azure/active-directory/active-directory-whatis)</span></span>
- <span data-ttu-id="b5cdd-291">**Active Directory ドメイン サービス (AD DS)** - Finance + Operations コンポーネントをホストするコンピューターは、Active Directory ドメインに属している必要があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-291">**Active Directory Domain Services (AD DS)** - The machines that host Finance + Operations components must belong to an Active Directory domain.</span></span> <span data-ttu-id="b5cdd-292">Active Directory ドメイン サービス (AD DS) はネイティブ モードで構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-292">You must configure Active Directory Domain Services (AD DS) in native mode.</span></span> <span data-ttu-id="b5cdd-293">詳細については、[Active Directory ドメイン サービス](https://docs.microsoft.com/windows-server/identity/ad-ds/active-directory-domain-services) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-293">For more information, see [Active Directory Domain Services](https://docs.microsoft.com/windows-server/identity/ad-ds/active-directory-domain-services).</span></span>
- <span data-ttu-id="b5cdd-294">**Active Directory フェデレーション サービス (AD FS)** - AD FS は、オンプレミス配置で使用される認証方法です。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-294">**Active Directory Federation Services (AD FS)** - AD FS is the authentication method used in an on-premises deployment.</span></span> <span data-ttu-id="b5cdd-295">AD FS は、Microsoft 365、クラウド ベースの SaaS アプリケーション、および会社のネットワーク上のアプリケーションを含むさまざまなアプリケーション全体でアクセス制御およびシングル サインオンを提供します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-295">AD FS provides access control and single sign on across a wide variety of applications including Microsoft 365, cloud-based SaaS applications, and applications on the corporate network.</span></span>
  - <span data-ttu-id="b5cdd-296">IT 組織については、同じ資格情報とポリシーのセットに基づいて、最新および従来のアプリケーション、クラウドのオンプレミスの両方への署名とアクセス制御を提供できます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-296">For the IT organization, it enables you to provide sign on and access control to both modern and legacy applications, on-premises and in the cloud, based on the same set of credentials and policies.</span></span>
  - <span data-ttu-id="b5cdd-297">ユーザーについては、同じ、使い慣れたアカウントの資格情報を使用してシームレスなサインを提供します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-297">For the user, it provides seamless sign on using the same, familiar account credentials.</span></span>
  - <span data-ttu-id="b5cdd-298">開発者については、組織のディレクトリに ID があるユーザーを認証するための簡単な方法を提供します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-298">For the developer, it provides an easy way to authenticate users whose identities live in the organizational directory.</span></span> <span data-ttu-id="b5cdd-299">つまり、認証や識別ではなく、アプリケーションに力を注ぐことができます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-299">This means you can focus your efforts on your application, not authentication or identity.</span></span>

    <span data-ttu-id="b5cdd-300">詳細については、[Active Directory フェデレーション サービス](https://docs.microsoft.com/windows-server/identity/active-directory-federation-services) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-300">For more information, see [Active Directory Federation Services](https://docs.microsoft.com/windows-server/identity/active-directory-federation-services).</span></span>

## <a name="data-stored-in-azure-data-centers"></a><span data-ttu-id="b5cdd-301">Azure データ センターに保存されたデータ</span><span class="sxs-lookup"><span data-stu-id="b5cdd-301">Data stored in Azure data centers</span></span>

<span data-ttu-id="b5cdd-302">Finance + Operations のオンプレミス配置オプションは、オンプレミスのコア顧客データを格納します。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-302">The on-premises deployment option for Finance + Operations stores core customer data on-premises.</span></span> <span data-ttu-id="b5cdd-303">コア顧客データは、[Microsoft Trust Center](https://www.microsoft.com/trustcenter/privacy/how-microsoft-defines-customer-data) で提供される顧客データ定義のサブセットです。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-303">Core customer data is a subset of the customer data definition provided in the [Microsoft Trust Center](https://www.microsoft.com/trustcenter/privacy/how-microsoft-defines-customer-data).</span></span>

<span data-ttu-id="b5cdd-304">次のテーブルは、米国内にある Azure データ センターに顧客データを保存するために使用されるサービスの概要を示しています。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-304">The following table outlines the services that are used to store customer data in Azure data centers located in the United States.</span></span> <span data-ttu-id="b5cdd-305">サービスには、Lifecycle Services (LCS)、Microsoft Office サインアップ ポータルおよび Azure Active Directory が含まれます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-305">Services include Lifecycle Services (LCS), Microsoft Office signup portal, and Azure Active Directory.</span></span> <span data-ttu-id="b5cdd-306">これらのサービスにより、サポート インシデントの初期オンボーディング、開始、追跡、サービスの更新とアップグレードが可能になります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-306">These services enable initial onboarding, initiation, tracking of support incidents, and service updates and upgrades.</span></span> <span data-ttu-id="b5cdd-307">コア顧客データと呼ばれる他のすべての顧客データは、オンプレミスに保管されます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-307">All other customer data, referred to as core customer data, is stored on-premises.</span></span>

| <span data-ttu-id="b5cdd-308">サポート サービス</span><span class="sxs-lookup"><span data-stu-id="b5cdd-308">Supporting services</span></span>               | <span data-ttu-id="b5cdd-309">顧客データの定義</span><span class="sxs-lookup"><span data-stu-id="b5cdd-309">Customer data definition</span></span>                      |
|---------------------------------------|----------------------------------------------------|
| <span data-ttu-id="b5cdd-310">Microsoft Dynamics Lifecycle Services</span><span class="sxs-lookup"><span data-stu-id="b5cdd-310">Microsoft Dynamics Lifecycle Services</span></span> | <span data-ttu-id="b5cdd-311">プロジェクトには、プロジェクトのコンテンツおよびファイルが格納されます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-311">Project content and files are stored in a project.</span></span> <span data-ttu-id="b5cdd-312">これには、アプリケーション構成データ、コード、メタデータ、アプリケーションやビジネス プロセス モデルを構成するデータ アセットが含まれます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-312">This includes application configuration data, code, metadata, and data assets that include the application and business process models.</span></span> |
| <span data-ttu-id="b5cdd-313">Microsoft Office サインアップ ポータル</span><span class="sxs-lookup"><span data-stu-id="b5cdd-313">Microsoft Office signup portal</span></span>        | <span data-ttu-id="b5cdd-314">オンボード プロセス中に収集された顧客情報。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-314">Customer information that is collected during the onboarding process.</span></span>  |
| <span data-ttu-id="b5cdd-315">Microsoft Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="b5cdd-315">Microsoft Azure Active Directory</span></span>      | <span data-ttu-id="b5cdd-316">LCS と Azure DevOps の認証。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-316">Authentication for LCS and Azure DevOps.</span></span>   |

<span data-ttu-id="b5cdd-317">追加のサービスまたはコンポーネントは、必要に応じてオンプレミス配置を拡張するためにコンフィギュレーションすることができます。ただし、コンフィギュレーションの選択により、コア顧客データが顧客データ センターの外部に転送される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-317">Additional services or components can be configured to extend an on-premises deployment as needed; however, configuration choices may cause core customer data to be transferred outside of the customer’s data center.</span></span> <span data-ttu-id="b5cdd-318">たとえば、オンプレミス配置の外部サービスを統合するために使用されるデータ管理機能のコンフィギュレーションにより、オンプレミス配置外のコア顧客データが転送される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-318">For example, configuring data management features that are used to integrate external services with an on-premises deployment may result in the transfer of core customer data outside the on-premises deployment.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b5cdd-319">次のステップ</span><span class="sxs-lookup"><span data-stu-id="b5cdd-319">Next steps</span></span>

<span data-ttu-id="b5cdd-320">このトピックに記載されている計画活動を完了した後、 [オンプレミス配置のホーム ページ](on-premises-deployment-landing-page.md) の [研修](on-premises-deployment-landing-page.md#onboard) セクションにリストされている手順を開始することができます。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-320">After you’ve completed the planning activities mentioned in this topic, you can begin the procedures listed in the [Onboard](on-premises-deployment-landing-page.md#onboard) section of the [On-premises deployment home page](on-premises-deployment-landing-page.md).</span></span>

<span data-ttu-id="b5cdd-321">計画、展開、メンテナンス、およびトラブルシューティングの詳細については、実装を通じて [オンプレミス配置のホーム ページ](on-premises-deployment-landing-page.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b5cdd-321">Be sure to refer to the [On-premises deployment home page](on-premises-deployment-landing-page.md) throughout your implementation for more information about planning, deployment, maintenance, and troubleshooting.</span></span>

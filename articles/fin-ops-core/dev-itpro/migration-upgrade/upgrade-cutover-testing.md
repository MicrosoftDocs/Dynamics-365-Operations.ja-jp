---
title: AX 2012 からのアップグレード - 切替テスト (切替モック)
description: この記事では、Microsoft Dynamics AX 2012 環境をオフにしてから財務と運用アプリをオンにするまでの切替えプロセスをテストする方法について説明します。
author: jorisdg
ms.date: 08/27/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Developer, IT Pro
ms.reviewer: sericks
ms.search.region: Global
ms.author: jorisde
ms.search.validFrom: 2017-06-16
ms.dyn365.ops.version: Platform update 8
ms.openlocfilehash: 134c96fb0ecf569331430e7b4c3b1eb4308cacb7
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/03/2022
ms.locfileid: "8890426"
---
# <a name="upgrade-from-ax-2012---cutover-testing-mock-cutover"></a>AX 2012 からのアップグレード - 切替テスト (切替モック)

[!include [banner](../includes/banner.md)]

[!include [upgrade banner](../includes/upgrade-banner.md)]

*切替* という用語は、新しいシステムを稼働させる最後のプロセスに使用します。 切替プロセスは、Microsoft Dynamics AX 2012 をオフにした後、Finance and Operations をオンにする前に発生するタスクで構成されます。 アップグレード切替テスト (切替モック) の目的は、切替プロセスを練習することで、実際の切替中に関係するすべての人がスムーズに作業できるようにすることです。

切替中には、3 つの主要なワーク ストリームがあります。

- **技術的なワーク ストリーム** – このワーク ストリームには、データ アップグレードの実行プロセスが含まれています。 業務では、許可されているダウンタイムの金額に制限が適用されます。 ダウンタイムの間は、AX 2012 または Finance and Operations のいずれも利用できません。 このワーク ストリームでは、業務でのダウンタイム制限を満たすために、データ アップグレード手順をチューニングする必要があります。
- **機能的なワーク ストリーム** – このワーク ストリームには、データのアップグレードが完了した後に実行されるコンフィギュレーション タスクが含まれます。 機能的なワークストリームと技術的なワークストリームの両方が業務のダウンタイム制限内に収まる必要があるため、これらのタスクをすべて文書化および定量化し、リソースを割り当てる必要があります。
- **AX 2012 ロールバック** - このワークストリームには AX 2012 環境へのロールバックが含まれています。 ロールバックする必要はありませんが、必要な場合に備えてテスト済みのプロセスがあることが非常に重要です。

次の図は、運用環境で発生するような、切替中の全体的なプロセスを示しています。

![切替プロセス](./media/cutover-selfservice_01.png)

モック カットオーバー プロセスは、サンドボックス環境でのデータ アップグレードの検証と非常によく似ています。 そのプロセスを熟知していて、そのプロセスを既に実行済みであると仮定します。 切替モックは、次の点で異なります。

- サンドボックス環境でデータ更新を実行した後、[セルフサービス データベースを更新](../database/database-refresh.md#self-service-database-refresh) の手順を参照し、アップグレードされたデータベースをデータ アップグレード サンドボックス環境から運用環境にコピーします。 

- 次のタスクを追加しました。
    - スモーク テストを実行します。
    - アプリケーションの設定タスクを完了します。 このステップは、使用する機能に応じて大規模になる場合があります。 このステップでは、機能チームは新しいアプリケーションの機能を構成して、アップグレードされたシステムで使用できるようにします。
    - ユーザーがシステムに戻れるようにします。 アップグレードが完了して、システムを再度使用できることをユーザーに通知します。

> [!NOTE]
> この記事では、*サンドボックス* という用語を使用して SQL Azure データベースに接続されている標準またはプレミア承認テスト (レベル 2 または 3)、またはより高度な環境を示します。

## <a name="technical-workstream"></a>技術的なワーク ストリーム

技術的なワークストリームに含まれるさまざまな技術チームのメンバー: データベース管理者 (DBA)、AX 2012 のシステム管理者、サーバー管理者、AX 2012 および Finance and Operations に精通している開発者。 

切替テスト中には、技術チームは、データ アップグレード プロセスのパフォーマンスと信頼性のテストに焦点を当てて、ビジネスのダウンタイム制限を満たすようにします。 ハードウェアとソフトウェアの多くの要素がこのプロセスに関連しています。 これらの要素の一部はオンプレミスですが、他の要素は Microsoft クラウドに含まれています。 加えて、カスタム アプリケーション コードと標準コードの多くの要素が含まれています。 このテストの結果は、環境の切替プロセスを信頼する必要があります。

### <a name="technical-workstream-process"></a>技術的なワーク ストリーム プロセス

> [!NOTE]
> 技術的なワークストリームについては、切替テストのプロセスは、実際/稼働の切替プロセスの高レベルの手順と同じです。

技術的なワークストリームについては、切替テストのプロセスは [AX 2012 からのアップグレード - セルフサービス環境でのデータ アップグレード](data-upgrade-self-service.md) で説明したものと同じです。

## <a name="functional-workstream"></a>機能的なワーク ストリーム

データのアップグレード後に、新しい環境でいくつかのコンフィギュレーション タスクが必要になります。 このワーク ストリームの目的は、すべてのコンフィギュレーション タスクを文書化および定量化し、リソースを各タスクに割り当てることで、ダウンタイム期間中にこれらのタスクを機能的なワーク ストリームとともに実行できるようにすることです。

通常、機能的なタスクでは、特定のシステム パラメータの値または他のコンフィギュレーション データの値の変更が含まれます。 これらのタスクは、機能テストのパス全体を通して識別されます。これは、切替テストとは別のアクティビティです。 このタイプのタスクが特定された場合、機能のリソースおよび開発者と共に確認する必要があります。

より大きな変更を行うには、新しいカスタム データ アップグレード スクリプトを作成して、データのアップグレード プロセス中にデータを更新する必要があります。 ただし、機能のリソースは、データのアップグレード後に新しいシステムを使用して、より小さな変更を手動で実行できます。

新しいデータのアップグレード スクリプトを持つ、より大規模な変更をテストする必要があります。 したがって、MajorVersionDataUpgrade.zip パッケージの 1 つ以上の追加の繰り返しを実行する必要があります。 手動のデータ入力のコストに対して、パッケージを再度実行するコストを比較検討することが重要です。

手動による変更のたびに、切替計画ドキュメントにタスクを追加する必要があります。 このタスクでは、次の詳細を示す必要があります。

-   タスクとは何か、また必要な作業は何か。
-   そのタスクを実行するのは誰か。
-   時間はどのくらいかかるか。

### <a name="add-users-and-perform-functional-tests"></a>ユーザーの追加、および機能テストの実行
環境を完全に構成したときは、ユーザーを追加し、適切なテストを実行します。 

## <a name="roll-back-to-ax-2012"></a>AX 2012 にロールバックする

このタスクの目的は、AX 2012 をオフにしたときのバックアップを使用してデータベースを復元し、AX 2012 を再度オンにすることです。 統合システムの状態も復元する必要があります。 ただし、統合システムは企業間で異なるため、特定の状況に応じてこのシナリオを個別に計画する必要があります。 ロールバックする必要はありませんが、必要な場合に備えてテスト済みのプロセスがあることが非常に重要です。

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]

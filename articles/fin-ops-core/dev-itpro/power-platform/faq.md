---
title: Finance and Operations 仮想エンティティに関するよく寄せられる質問
description: このトピックでは、Finance and Operations 仮想エンティティに関してよく寄せられる質問の一覧を示します。
author: Sunil-Garg
ms.date: 03/31/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Developer, IT Pro
ms.reviewer: sericks
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2020-05-31
ms.dyn365.ops.version: 10.0.12
ms.openlocfilehash: 4cd386f831ec03489bc7a4f18256b7c6ee5e0da2
ms.sourcegitcommit: 17cee26b03f7b5afe8a089a0a9b2380e8d377d70
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/15/2021
ms.locfileid: "6048932"
---
# <a name="finance-and-operations-virtual-entities-faq"></a><span data-ttu-id="1402b-103">Finance and Operations 仮想エンティティに関するよく寄せられる質問</span><span class="sxs-lookup"><span data-stu-id="1402b-103">Finance and Operations virtual entities FAQ</span></span>

[!include[banner](../includes/banner.md)]

[!include [rename-banner](~/includes/cc-data-platform-banner.md)]

> [!IMPORTANT]
> <span data-ttu-id="1402b-104">この機能を使用するには、Finance and Operations アプリのバージョン 10.0.12 が必要ですが、Dataverse にはサービス更新 189 が必要です。</span><span class="sxs-lookup"><span data-stu-id="1402b-104">This functionality requires version 10.0.12 for Finance and Operations apps, while service update 189 is required for Dataverse.</span></span> <span data-ttu-id="1402b-105">Dataverse のリリース情報は、[最新バージョンの利用可能性](/business-applications-release-notes/dynamics/released-versions/dynamics-365ce#all-version-availability)ページに発行されています。</span><span class="sxs-lookup"><span data-stu-id="1402b-105">The release information for Dataverse is published on the [latest version availability page](/business-applications-release-notes/dynamics/released-versions/dynamics-365ce#all-version-availability).</span></span>

<span data-ttu-id="1402b-106">このトピックでは、Finance and Operations 仮想エンティティに関してよく寄せられる質問のコレクションを示します。</span><span class="sxs-lookup"><span data-stu-id="1402b-106">This topic is a collection of frequently asked questions about Finance and Operations virtual entities.</span></span> 

### <a name="do-tier-1-finance-and-operations-environments-or-demo-topologies-work"></a><span data-ttu-id="1402b-107">レベル 1 Finance and Operations 環境またはデモ トポロジは機能しますか。</span><span class="sxs-lookup"><span data-stu-id="1402b-107">Do Tier 1 Finance and Operations environments or demo topologies work?</span></span>

<span data-ttu-id="1402b-108">はい、レベル 1、DEVTEST、およびデモの各トポロジが機能します。</span><span class="sxs-lookup"><span data-stu-id="1402b-108">Yes, Tier 1 and DEVTEST and DEMO topologies should work.</span></span>

### <a name="what-version-of-finance-and-operations-do-i-need"></a><span data-ttu-id="1402b-109">必要な Finance and Operations のバージョンを教えてください。</span><span class="sxs-lookup"><span data-stu-id="1402b-109">What version of Finance and Operations do I need?</span></span>

<span data-ttu-id="1402b-110">必要な最小バージョンは 10.0.12 です。</span><span class="sxs-lookup"><span data-stu-id="1402b-110">10.0.12 is the minimum version that is required.</span></span>

### <a name="can-a-solution-from-an-independent-software-vendor-isv-take-a-dependency-on-virtual-entities-what-does-the-application-lifecycle-management-alm-look-like"></a><span data-ttu-id="1402b-111">独立系ソフトウェアベンダー (ISV) のソリューションは、仮想エンティティへの依存を受けることができますか。</span><span class="sxs-lookup"><span data-stu-id="1402b-111">Can a solution from an independent software vendor (ISV) take a dependency on virtual entities?</span></span> <span data-ttu-id="1402b-112">アプリケーション ライフサイクル管理 (ALM) はどのような外観になりますか。</span><span class="sxs-lookup"><span data-stu-id="1402b-112">What does the application lifecycle management (ALM) look like?</span></span>

<span data-ttu-id="1402b-113">はい。</span><span class="sxs-lookup"><span data-stu-id="1402b-113">Yes.</span></span> <span data-ttu-id="1402b-114">仮想エンティティはすべて MicrosoftOperationsERPVE ソリューションで生成され、API 管理されます。言い換えると、ソリューションの項目は、エンティティの表示/非表示を切り替えたときに変更されますが、ソリューションは依存できるマネージド ソリューションのままになります。</span><span class="sxs-lookup"><span data-stu-id="1402b-114">The virtual entities are all generated in the MicrosoftOperationsERPVE solution, which isAPI-managed In other words, the items in the solution change as you make entities visible or hidden, but the solution is still a managed solution that you can take dependency on.</span></span> <span data-ttu-id="1402b-115">標準 ALM フローでは、ISV ソリューションの **既存の追加** オプションを使用して、このソリューションから仮想エンティティに対する標準参照を取得するだけです。</span><span class="sxs-lookup"><span data-stu-id="1402b-115">The standard ALM flow just takes a standard reference to a virtual entity from this solution with the **Add existing** option in the ISV solution.</span></span> <span data-ttu-id="1402b-116">ソリューションの依存関係が見つからない場合は、ソリューションがインポートされたときやインポート時に、その仮想エンティティが存在しない場合は自動的に表示されます。</span><span class="sxs-lookup"><span data-stu-id="1402b-116">Missing dependency of the solution will be checked when the solution is imported and during import, if a specified virtual entity doesn't yet exist, the virtual entity is automatically made visible.</span></span>

### <a name="which-entities-from-finance-and-operations-do-users-see-in-the-catalog-in-dataverse"></a><span data-ttu-id="1402b-117">Dataverse のカタログでユーザーに表示される Finance and Operations のエンティティは何ですか。</span><span class="sxs-lookup"><span data-stu-id="1402b-117">Which entities from Finance and Operations do users see in the catalog in Dataverse?</span></span>

<span data-ttu-id="1402b-118">一般に、ユーザーには、**IsPublic** が **はい** に設定されているすべてのエンティティが表示されます。</span><span class="sxs-lookup"><span data-stu-id="1402b-118">Generally, users see all entities where **IsPublic** is set to **Yes**.</span></span> <span data-ttu-id="1402b-119">これらのエンティティは、Open Data Protocol (OData) で現在表示されているものと同じです。</span><span class="sxs-lookup"><span data-stu-id="1402b-119">These entities are the same entities that are currently visible in Open Data Protocol (OData).</span></span>

### <a name="do-all-microsoft-power-platform-users-have-to-be-users-in-finance-and-operations"></a><span data-ttu-id="1402b-120">すべての Microsoft Power Platform ユーザーが Finance and Operations のユーザーである必要がありますか。</span><span class="sxs-lookup"><span data-stu-id="1402b-120">Do all Microsoft Power Platform users have to be users in Finance and Operations?</span></span>

<span data-ttu-id="1402b-121">仮想エンティティを介して Finance and Operations データにアクセスしようとする Microsoft Power Platform の **対話型ユーザー** はすべて、Finance and Operations でユーザーとして存在している必要があります。</span><span class="sxs-lookup"><span data-stu-id="1402b-121">Any **interactive user** of Microsoft Power Platform who tries to access Finance and Operations data through a virtual entity must also exist as a user in Finance and Operations.</span></span> <span data-ttu-id="1402b-122">したがって、*すべて* のユーザーが Finance and Operations のユーザーであるとは限りません。</span><span class="sxs-lookup"><span data-stu-id="1402b-122">Therefore, technically, not *all* users have to be users in Finance and Operations.</span></span> <span data-ttu-id="1402b-123">仮想エンティティを介して Finance and Operations データにアクセスするユーザーのみが Finance and Operations のユーザーである必要があります。</span><span class="sxs-lookup"><span data-stu-id="1402b-123">Only those users who access Finance and Operations data through virtual entities must be users in Finance and Operations.</span></span>

<span data-ttu-id="1402b-124">**S2S アプリケーション ユーザー** は、仮想エンティティへの呼び出しにも使用できます。</span><span class="sxs-lookup"><span data-stu-id="1402b-124">A **S2S application user** can also be used to call into virtual entities.</span></span> <span data-ttu-id="1402b-125">この種類の統合を行う場合は、**システム管理 > 設定 > Azure Active Directory アプリケーションの構成** でアプリケーション ユーザーを設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="1402b-125">For this kind of integration, the application user must be set up in **System administration > Setup > Configure Azure Active Directory Applications**.</span></span> <span data-ttu-id="1402b-126">これにより、アプリケーションは仮想エンティティを使用して Finance and Operations と統合できます。</span><span class="sxs-lookup"><span data-stu-id="1402b-126">This allows for applications to integrate with Finance and Operations using virtual entities.</span></span>

### <a name="where-do-i-find-the-catalog-entity"></a><span data-ttu-id="1402b-127">カタログ エンティティはどこにありますか。</span><span class="sxs-lookup"><span data-stu-id="1402b-127">Where do I find the catalog entity?</span></span>

<span data-ttu-id="1402b-128">**高度な検索** ウィンドウでは、エンティティは **使用可能な Finance and Operations エンティティ** という名前になります。</span><span class="sxs-lookup"><span data-stu-id="1402b-128">In the **Advanced find** window, the entity is named **Available Finance and Operations Entities**.</span></span>

### <a name="is-there-a-way-to-specify-a-company-when-i-perform-data-operations-on-a-virtual-entity"></a><span data-ttu-id="1402b-129">仮想エンティティに対してデータ操作を実行するときに会社を指定する方法はありますか。</span><span class="sxs-lookup"><span data-stu-id="1402b-129">Is there a way to specify a company when I perform data operations on a virtual entity?</span></span>

<span data-ttu-id="1402b-130">はい。</span><span class="sxs-lookup"><span data-stu-id="1402b-130">Yes.</span></span> <span data-ttu-id="1402b-131">Finance and Operations には、会社が暗黙のうちに含まれていますが、Dataverse では会社でストライプされたエンティティごとに明示的なフィールドになっています。</span><span class="sxs-lookup"><span data-stu-id="1402b-131">Although the company is implicit in Finance and Operations, it's an explicit field on each company-striped entity in Dataverse.</span></span> <span data-ttu-id="1402b-132">**会社コード** フィールド (値は 4 文字の文字列) または **会社** フィールド (cdm\_Company へのルックアップ) のいずれかを使用できます。</span><span class="sxs-lookup"><span data-stu-id="1402b-132">You can use either the **Company Code** field, where the value is a four-character string, or the **Company** field, which is a lookup to cdm\_Company.</span></span> <span data-ttu-id="1402b-133">どちらの方法でも同じ情報が得られます。</span><span class="sxs-lookup"><span data-stu-id="1402b-133">Both approaches provide the same information.</span></span>

### <a name="can-i-change-the-prefix-for-the-virtual-entities"></a><span data-ttu-id="1402b-134">仮想エンティティの接頭辞を変更することはできますか。</span><span class="sxs-lookup"><span data-stu-id="1402b-134">Can I change the prefix for the virtual entities?</span></span>

<span data-ttu-id="1402b-135">No.</span><span class="sxs-lookup"><span data-stu-id="1402b-135">No.</span></span> <span data-ttu-id="1402b-136">すべての Finance and Operations 仮想エンティティは、MicrosoftOperationsERPVE ソリューションで生成する必要があり、すべて "mserp\_" プレフィックスが付いている必要があります。</span><span class="sxs-lookup"><span data-stu-id="1402b-136">All Finance and Operations virtual entities should be generated in the MicrosoftOperationsERPVE solution, and they should all have the "mserp\_" prefix.</span></span> <span data-ttu-id="1402b-137">この接頭語は変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="1402b-137">This prefix should not be changed.</span></span> <span data-ttu-id="1402b-138">接頭語を変更する必要があると考えられる場合は、そのシナリオを Microsoft と共有する必要があります。</span><span class="sxs-lookup"><span data-stu-id="1402b-138">If you have a scenario where you believe the prefix has to be changed, you should share that scenario with Microsoft.</span></span>

### <a name="how-can-i-filter-data-in-an-app-that-is-created-by-using-power-apps-based-on-the-current-user-or-any-other-dynamic-criteria-such-as-today-10"></a><span data-ttu-id="1402b-139">Power Apps を使用して作成されたアプリのデータについては、現在のユーザーまたはその他の動的な基準 (10 日前など) に基づいてフィルター処理を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="1402b-139">How can I filter data in an app that is created by using Power Apps, based on the current user or any other dynamic criteria, such as today-10?</span></span>

<span data-ttu-id="1402b-140">エンティティの RetrieveMultiple メッセージに対して前工程プラグインを作成し、その中のクエリに対する基準を変更することができます。</span><span class="sxs-lookup"><span data-stu-id="1402b-140">You can write a pre-operation plug-in on the RetrieveMultiple message of the entity and change the criteria on the query in it.</span></span> <span data-ttu-id="1402b-141">または、結果を返す前に結果をフィルター処理するために、操作後のプラグインを作成することもできます。</span><span class="sxs-lookup"><span data-stu-id="1402b-141">Alternatively, you can write a post-operation plug-in to filter the results before they are returned.</span></span>

### <a name="can-i-pin-a-model-driven-app-into-finance-and-operations"></a><span data-ttu-id="1402b-142">モデル駆動型アプリを Finance and Operations にピン留めできますか。</span><span class="sxs-lookup"><span data-stu-id="1402b-142">Can I pin a model-driven app into Finance and Operations?</span></span>

<span data-ttu-id="1402b-143">いいえ、現時点では、モデル駆動アプリを Finance and Operations にピン留めすることはできません。</span><span class="sxs-lookup"><span data-stu-id="1402b-143">No, it isn't currently possible to pin a model-driven app into Finance and Operations.</span></span>

### <a name="how-can-i-show-in-the-same-grid-data-from-multiple-virtual-entities-that-are-joined-to-a-physical-entity-record-in-dataverse"></a><span data-ttu-id="1402b-144">Dataverse の物理エンティティ レコードに結合されている複数の仮想エンティティからのデータを、同じグリッドで表示する方法はありますか。</span><span class="sxs-lookup"><span data-stu-id="1402b-144">How can I show, in the same grid, data from multiple virtual entities that are joined to a physical entity record in Dataverse?</span></span>

<span data-ttu-id="1402b-145">このアプローチは、現在 Dataverse でサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="1402b-145">This approach isn't currently possible in Dataverse.</span></span>

### <a name="how-do-i-add-subcomponents-in-the-new-power-apps-experience"></a><span data-ttu-id="1402b-146">新しい Power Apps エクスペリエンスでサブコンポーネントを追加するにはどうすればよいですか。</span><span class="sxs-lookup"><span data-stu-id="1402b-146">How do I add subcomponents in the new Power Apps experience?</span></span>

<span data-ttu-id="1402b-147">前の Power Apps ユーザー インターフェイス (UI) と同様に、**既存の追加** 操作をやり直す必要があります。</span><span class="sxs-lookup"><span data-stu-id="1402b-147">As in the previous Power Apps user interface (UI), you must redo the **Add Existing** operation.</span></span> <span data-ttu-id="1402b-148">ソリューションを選択した後、顧客グループが既にエンティティとして追加されている場合は、次の手順に従います。</span><span class="sxs-lookup"><span data-stu-id="1402b-148">After the solution is selected, and Customer Groups has already been added as an entity, follow these steps.</span></span>

1. <span data-ttu-id="1402b-149">**既存の追加** \> **エンティティ** を選択します。</span><span class="sxs-lookup"><span data-stu-id="1402b-149">Select **Add existing** \> **Entity**.</span></span>
2. <span data-ttu-id="1402b-150">顧客グループ エンティティを選択し、**次へ** を選択します。</span><span class="sxs-lookup"><span data-stu-id="1402b-150">Select customer group entity, and then select **Next**.</span></span>
3. <span data-ttu-id="1402b-151">**コンポーネント** で、**コンポーネントの選択** を選択します。</span><span class="sxs-lookup"><span data-stu-id="1402b-151">Under **Components**, select **Select components**.</span></span>
4. <span data-ttu-id="1402b-152">必要なフィールド、リレーションシップ、およびフォームを選択し、**追加** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="1402b-152">Select the fields, relationships, and forms that you want, and then select **Add**.</span></span>

### <a name="if-i-want-a-default-value-to-be-entered-in-a-field-during-pre-create-will-an-initvalue-on-the-data-entity-work"></a><span data-ttu-id="1402b-153">事前作成時にフィールドに既定値を入力する必要がある場合は、データ エンティティの initValue は機能しますか。</span><span class="sxs-lookup"><span data-stu-id="1402b-153">If I want a default value to be entered in a field during pre-create, will an initValue on the data entity work?</span></span>

<span data-ttu-id="1402b-154">はい。</span><span class="sxs-lookup"><span data-stu-id="1402b-154">Yes.</span></span> <span data-ttu-id="1402b-155">呼び出しの順序を次に示します。</span><span class="sxs-lookup"><span data-stu-id="1402b-155">Here is the order of calls:</span></span>

1. <span data-ttu-id="1402b-156">Dataverse が作成または更新メッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="1402b-156">Dataverse sends a create or update message.</span></span>
2. <span data-ttu-id="1402b-157">Finance and Operations エンティティおよびバッキング テーブルの既存のすべてのロジックが呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="1402b-157">All the existing logic on the Finance and Operations entity and backing tables is invoked.</span></span> <span data-ttu-id="1402b-158">このロジックには、値を変更する可能性がある既定値のエントリが含まれています。</span><span class="sxs-lookup"><span data-stu-id="1402b-158">This logic includes default value entry that might change values.</span></span>
3. <span data-ttu-id="1402b-159">Dataverse は、既定値が入力されたフィールドを含む、データの最新のコピーを取得するための別の取得 (1 つ) メッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="1402b-159">Dataverse sends another Retrieve (single) message to get the latest copy of the data, including any fields that default values were entered for.</span></span>

### <a name="can-i-debug-finance-and-operations-when-we-do-a-create-read-update-and-delete-crud-operation-from-dataverse-if-so-which-process-do-i-have-to-attach"></a><span data-ttu-id="1402b-160">Dataverse から作成、読み取り、更新、および削除 (CRUD) 操作を行うとき、Finance and Operations をデバッグできますか。</span><span class="sxs-lookup"><span data-stu-id="1402b-160">Can I debug Finance and Operations when we do a create, read, update, and delete (CRUD) operation from Dataverse?</span></span> <span data-ttu-id="1402b-161">できる場合、どのプロセスにアタッチする必要がありますか。</span><span class="sxs-lookup"><span data-stu-id="1402b-161">If so, which process do I have to attach?</span></span>

<span data-ttu-id="1402b-162">はい、Finance and Operations でデバッグするには、管理者として Visual Studio を起動します。通常、Finance and Operations アプリは、w3wp.exe でプロセスとして実行されます。</span><span class="sxs-lookup"><span data-stu-id="1402b-162">Yes, to debug in Finance and Operations, open Visual Studio as an admin. Typically, Finance and Operations apps run under w3wp.exe as a process.</span></span> <span data-ttu-id="1402b-163">ただし、管理者として Visual Studio を開くと、IISExpress が自動的に開かれ、Finance and Operations がそこにホストされます。</span><span class="sxs-lookup"><span data-stu-id="1402b-163">However, when you open Visual Studio as an admin, IISExpress.exe is automatically opened, and Finance and Operations is hosted there.</span></span> <span data-ttu-id="1402b-164">IISExpress.exe (管理者として Visual Studio が実行されていない場合は w3wp.exe) にアタッチできます。</span><span class="sxs-lookup"><span data-stu-id="1402b-164">You can attach to IISExpress.exe (or to w3wp.exe if not running Visual Studio as an admin).</span></span> <span data-ttu-id="1402b-165">仮想エンティティ コードにブレークポイントを設定するには、**CDSVirtualEntityAdapter** および **CDSVirtualEntityController** クラスを検索します。</span><span class="sxs-lookup"><span data-stu-id="1402b-165">To set breakpoints in the virtual entity code, find the **CDSVirtualEntityAdapter** and **CDSVirtualEntityController** classes.</span></span> <span data-ttu-id="1402b-166">アダプター クラスは、最初に呼び出されるクラスであり、シリアル化と逆シリアル化のみを行います。</span><span class="sxs-lookup"><span data-stu-id="1402b-166">The adapter class is the first class that is called, and it only does serialization/deserialization.</span></span> <span data-ttu-id="1402b-167">次に、実際のクエリを実行するためにコントローラー クラスに委任します。</span><span class="sxs-lookup"><span data-stu-id="1402b-167">It then delegates to the controller class to do the actual queries.</span></span> <span data-ttu-id="1402b-168">したがって、通常はコントローラー クラスが最も簡単なブレークポイントの配置です。</span><span class="sxs-lookup"><span data-stu-id="1402b-168">Therefore, the controller class is usually the easiest place to put breakpoints.</span></span>

### <a name="does-the-form-business-logic-in-finance-and-operations-get-called-through-virtual-entities"></a><span data-ttu-id="1402b-169">Finance and Operations のフォーム ビジネス ロジックは、仮想エンティティを介して呼び出されますか。</span><span class="sxs-lookup"><span data-stu-id="1402b-169">Does the form business logic in Finance and Operations get called through virtual entities?</span></span>

<span data-ttu-id="1402b-170">フォームに存在する Finance and Operations ビジネス ロジックは、仮想エンティティを介して起動されることはありません。</span><span class="sxs-lookup"><span data-stu-id="1402b-170">Finance and Operations business logic that resides on forms isn't invoked through virtual entities.</span></span> <span data-ttu-id="1402b-171">代わりに、同じエンティティへの OData アクセスを行う場合と同じ動作を期待する必要があります。</span><span class="sxs-lookup"><span data-stu-id="1402b-171">Instead, you should expect the same behavior that you get through OData access to the same entities.</span></span> <span data-ttu-id="1402b-172">予想されるのは、OData に公開されているエンティティ (つまり、**IsPublic** が **Yes** に設定されているエンティティ) が適切に保護され、データが破損しないようにすることです。</span><span class="sxs-lookup"><span data-stu-id="1402b-172">The expectation is that an entity that is exposed to OData (that is, **IsPublic** is set to **Yes**) has appropriate protections to ensure that data can't be corrupted.</span></span> <span data-ttu-id="1402b-173">この保護がないエンティティがある場合は、この状況はエンティティのバグを表します。</span><span class="sxs-lookup"><span data-stu-id="1402b-173">If any entity lacks this protection, that situation represents a bug in the entity.</span></span> <span data-ttu-id="1402b-174">OData と仮想エンティティ間でエンティティの動作に違いがある場合は、仮想エンティティ機能のバグを示しています。</span><span class="sxs-lookup"><span data-stu-id="1402b-174">If you see differences in entity behavior between OData and virtual entities, that situation represents a bug in the virtual entity feature.</span></span>

### <a name="if-i-develop-a-new-finance-and-operations-entity-and-want-to-see-it-in-dataverse-do-i-have-to-select-refresh-entity-list-in-finance-and-operations-do-i-have-to-do-anything-in-dataverse"></a><span data-ttu-id="1402b-175">新しい Finance and Operations エンティティを作成し、それを Dataverse に表示する場合 、Finance and Operationsで [エンティティの更新] リストを選択する必要はありますか。</span><span class="sxs-lookup"><span data-stu-id="1402b-175">If I develop a new Finance and Operations entity and want to see it in Dataverse, do I have to select Refresh entity list in Finance and Operations?</span></span> <span data-ttu-id="1402b-176">Dataverse で何かを行う必要はありますか。</span><span class="sxs-lookup"><span data-stu-id="1402b-176">Do I have to do anything in Dataverse?</span></span>

<span data-ttu-id="1402b-177">理論的には、エンティティの一覧を更新する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="1402b-177">In theory, no, you don't have to refresh the entity list.</span></span> <span data-ttu-id="1402b-178">通常は、Application Object Server (AOS) の実行場所に応じて、インターネット インフォメーション サービス (IIS) をリセットするか、IIS Express を再起動するだけでかまいません。</span><span class="sxs-lookup"><span data-stu-id="1402b-178">At most, you might have to either reset Internet Information Services (IIS) or restart IIS Express, depending on where Application Object Server (AOS) is running.</span></span> <span data-ttu-id="1402b-179">エンティティの一覧は、プロセスごとのキャッシュである SysGlobalObjectCache にキャッシュされるということになります。</span><span class="sxs-lookup"><span data-stu-id="1402b-179">The fact that the list of entities is accurate is cached in SysGlobalObjectCache, which is a per-process cache.</span></span> <span data-ttu-id="1402b-180">このキャッシュにリストが正確であると示されていない場合は、リストが再構築されます。</span><span class="sxs-lookup"><span data-stu-id="1402b-180">Any time that this cache doesn't indicate that the list is accurate, the list is rebuilt.</span></span> <span data-ttu-id="1402b-181">リビルド プロセスには約 5 秒かかります。</span><span class="sxs-lookup"><span data-stu-id="1402b-181">The rebuild process takes about five seconds.</span></span> <span data-ttu-id="1402b-182">したがって、AOS プロセス (w3wp.exe または iisexpress.exe) を再起動すると、リストは次に Dataverse から照会されるときに正確になります。</span><span class="sxs-lookup"><span data-stu-id="1402b-182">Therefore, when you restart your AOS process (w3wp.exe or iisexpress.exe), the list will be accurate the next time that you query it from Dataverse.</span></span> <span data-ttu-id="1402b-183">また、リコンパイルは SysGlobalObjectCache キャッシュをフラッシュする *必要があります* が、そうでない場合もあります。</span><span class="sxs-lookup"><span data-stu-id="1402b-183">Additionally, although recompilation *should* flush the SysGlobalObjectCache cache, it might not.</span></span> <span data-ttu-id="1402b-184">この場合、AOS を再起動すると、それがフラッシュされます。</span><span class="sxs-lookup"><span data-stu-id="1402b-184">In that case, an AOS restart will flush it.</span></span>

### <a name="is-there-guidance-on-when-to-use-a-virtual-entity-and-when-to-use-dual-write"></a><span data-ttu-id="1402b-185">いつ仮想エンティティを使用するか、いつ二重書き込みを使用するかについてのガイダンスはありますか?</span><span class="sxs-lookup"><span data-stu-id="1402b-185">Is there guidance on when to use a virtual entity and when to use dual-write?</span></span>

<span data-ttu-id="1402b-186">仮想エンティティおよび二重書き込みを使用する場合のガイダンスについては、[Finance and Operations アプリとサード パーティ サービス間の統合](../data-entities/integration-overview.md)で説明されています。</span><span class="sxs-lookup"><span data-stu-id="1402b-186">Guidance on when to use a virtual entity and when to use dual-write is covered in [Integration between Finance and Operations apps and third-party services](../data-entities/integration-overview.md).</span></span>

### <a name="when-adding-records-using-virtual-entities-is-there-any-way-to-use-number-sequences"></a><span data-ttu-id="1402b-187">仮想エンティティを使用してレコードを追加する場合、番号順序を使用する方法はありますか?</span><span class="sxs-lookup"><span data-stu-id="1402b-187">When adding records using virtual entities is there any way to use number sequences?</span></span>
<span data-ttu-id="1402b-188">はい、Finance and Operations エンティティで番号順序が自動生成される場合は、仮想エンティティからも同じように機能します。</span><span class="sxs-lookup"><span data-stu-id="1402b-188">Yes, if the Finance and Operations entity can auto generate number sequences, then it will work the same way from the virtual entity.</span></span>

### <a name="why-does-search-view-not-work-in-power-apps"></a><span data-ttu-id="1402b-189">Power Apps で「検索ビュー」が機能しないのはなぜですか?</span><span class="sxs-lookup"><span data-stu-id="1402b-189">Why does 'search view' not work in Power Apps?</span></span>
<span data-ttu-id="1402b-190">エンティティの簡易検索ビューにフィールドが追加されていない場合、検索ボックスは使用できません。</span><span class="sxs-lookup"><span data-stu-id="1402b-190">If there are no fields added in the quick find view for the entity, then the search box does nothing.</span></span> <span data-ttu-id="1402b-191">回避策として、エンティティのフィールドを 1 つ以上、簡易検索ビューに追加することができます。</span><span class="sxs-lookup"><span data-stu-id="1402b-191">The workaround is to add one or more fields of the entity to the quick find view.</span></span>

### <a name="the-virtual-entity-performance-is-slow-when-a-virtual-entity-has-relationships-to-other-entities-is-there-guidance-on-how-to-avoid-these-issues"></a><span data-ttu-id="1402b-192">仮想エンティティに他のエンティティとのリレーションシップがある場合、仮想エンティティのパフォーマンスが低下します。</span><span class="sxs-lookup"><span data-stu-id="1402b-192">The virtual entity performance is slow when a virtual entity has relationships to other entities.</span></span> <span data-ttu-id="1402b-193">これらの問題を回避する方法のガイダンスはありますか?</span><span class="sxs-lookup"><span data-stu-id="1402b-193">Is there guidance on how to avoid these issues?</span></span>
<span data-ttu-id="1402b-194">仮想エンティティに他のエンティティとのリレーションシップがある場合に、仮想エンティティのパフォーマンスが低下する理由はいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="1402b-194">There could be several reasons why performance is slow when a virtual entity has relationships to other entities.</span></span> <span data-ttu-id="1402b-195">新しいパターンが特定されると、このセクションが更新されます。</span><span class="sxs-lookup"><span data-stu-id="1402b-195">This section will be updated as new patterns are identified.</span></span> <span data-ttu-id="1402b-196">現在、次のパターンが知られています。このパターンは、ガイダンスとして使用できます。</span><span class="sxs-lookup"><span data-stu-id="1402b-196">The following  is  currently known patterns, which can be used as a guidance.</span></span>

<span data-ttu-id="1402b-197">仮想エンティティに他のエンティティとのリレーションシップがある場合は、フィールドの選択リストに関連エンティティの外部キー値が含まれる場合、仮想エンティティ フレームワークは、関連するエンティティをクエリする必要があります。</span><span class="sxs-lookup"><span data-stu-id="1402b-197">When virtual entities have relationships to other entities, the virtual entity framework needs to query the related entities if the field select list includes the foreign key values for the related entities.</span></span> <span data-ttu-id="1402b-198">既定では、エンティティに対するクエリは、呼び出し元が特定のフィールド セットを要求しない限り、すべてのフィールドを返します。</span><span class="sxs-lookup"><span data-stu-id="1402b-198">By default, queries against the entities return all fields unless the caller requests a specific set of fields.</span></span> <span data-ttu-id="1402b-199">ベスト プラクティスは、絞り込み選択リストを指定します。</span><span class="sxs-lookup"><span data-stu-id="1402b-199">The best practice is to specify a narrow select list.</span></span> <span data-ttu-id="1402b-200">これは、パフォーマンスの低下を防ぐのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="1402b-200">This can help to prevent slow performance.</span></span>

<span data-ttu-id="1402b-201">この問題の例については、[仮想テーブル クエリの Dataverse 最適化](../../../human-resources/hr-developer-optimize-virtual-table-queries.md) で説明します。</span><span class="sxs-lookup"><span data-stu-id="1402b-201">An example of this issue is explained in [Optimize Dataverse virtual table queries](../../../human-resources/hr-developer-optimize-virtual-table-queries.md).</span></span>

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]

---
title: Intelligent Data Management Framework のアーカイブ オブジェクトの作成
description: このトピックでは、アーカイブ オブジェクトの使用方法について説明します。
author: kfend
ms.date: 11/14/2017
ms.topic: article
ms.prod: dynamics-ax-2012
ms.technology: ''
audience: Developer, IT Pro
ms.reviewer: sericks
ms.custom: 17931
ms.assetid: 4d3e61d1-48aa-4e39-8112-6d211a1d0209
ms.search.region: Global
ms.author: kfend
ms.search.validFrom: ''
ms.dyn365.ops.version: 2012
ms.openlocfilehash: a4ee4fca91ed850641864ab09245f7d1f4ccd5ab
ms.sourcegitcommit: 074b6e212d19dd5d84881d1cdd096611a18c207f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/31/2021
ms.locfileid: "5743957"
---
# <a name="create-archive-objects-for-the-intelligent-data-management-framework"></a><span data-ttu-id="b0a2a-103">Intelligent Data Management Framework のアーカイブ オブジェクトの作成</span><span class="sxs-lookup"><span data-stu-id="b0a2a-103">Create archive objects for the Intelligent Data Management Framework</span></span>

[!include [banner](../../includes/banner.md)]

<a name="overview-of-archive-objects"></a><span data-ttu-id="b0a2a-104">アーカイブ オブジェクトの概要</span><span class="sxs-lookup"><span data-stu-id="b0a2a-104">Overview of Archive Objects</span></span>
---------------------------

<span data-ttu-id="b0a2a-105">アーカイブ オブジェクトはドライバー テーブルに基づき作成した階層関係ツリーです。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-105">An Archive Object is a hierarchical relationship tree that you create based on a driver table.</span></span> <span data-ttu-id="b0a2a-106">アーカイブ オブジェクトは、アーカイブ オブジェクトで作成したルールおよび選択基準に基づいて、生産データベースからトランザクション レコードをアーカイブします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-106">The Archive Object archives transactional records from the production database, based on the rules and selection criteria you created in the Archive Object.</span></span> <span data-ttu-id="b0a2a-107">このトピックでは、運用データベースからアーカイブ データベースにレコードをコピーし、運用データベースからこれらのレコードを削除することによってアーカイブを実施する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-107">This topic refers to archiving as copying records from the production database to the archive database, and then deleting these records from the production database.</span></span> <span data-ttu-id="b0a2a-108">IDMF に含まれているテンプレート、または探索プロセスに基づき、アーカイブ オブジェクトを作成することができます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-108">You can create an Archive Object based either on the templates that are included in IDMF or on the discovery process.</span></span>

> [!WARNING]
> <span data-ttu-id="b0a2a-109">このトピックを使用するには、Microsoft Dynamics AX のアプリケーションとデータベースのメンテナンスと管理に精通している必要があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-109">To use this topic, you must have experience in the maintenance and administration of the Microsoft Dynamics AX application and database.</span></span> <span data-ttu-id="b0a2a-110">IDMF では、Microsoft Dynamics AX アプリケーション テーブル間の階層関係ツリーを定義するアーカイブ オブジェクトを作成できます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-110">IDMF lets you create an Archive Object that defines a hierarchical relationship tree among the Microsoft Dynamics AX application tables.</span></span> <span data-ttu-id="b0a2a-111">特定の条件に基づきレコードを選択するルールを適用することができます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-111">You can then apply rules to select records based on specific criteria.</span></span> <span data-ttu-id="b0a2a-112">アーカイブ オブジェクト内の関係ツリー全体から選択基準に一致するレコードは、生産データベースからアーカイブ データベースに移動されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-112">Records matching the selection criteria from the whole relationship tree in the Archive Object are moved from the production database to the archive database.</span></span> <span data-ttu-id="b0a2a-113">このフレームワークを不適切に使用すると、予期しない結果、データベース破損、データベース全体およびアプリケーションの復旧が必要となるアプリケーション ダウンタイムが発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-113">Improper use of this framework can cause unexpected results, database corruption, and application downtime requiring full database and application recovery.</span></span> <span data-ttu-id="b0a2a-114">実稼働環境で作業する前に、十分に注意を払い、テスト環境でリサイクル戦略を入念にテストする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-114">Exercise extreme caution, and thoroughly test your recycling strategy in a test environment before working in the production environment.</span></span>

## <a name="overview-of-the-data-archiving-process"></a><span data-ttu-id="b0a2a-115">データ アーカイブ プロセスの概要</span><span class="sxs-lookup"><span data-stu-id="b0a2a-115">Overview of the data archiving process</span></span>
<span data-ttu-id="b0a2a-116">アーカイブ機能により、スケジュールされているアーカイブ タスクを使用してレコードがアーカイブされます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-116">The archive function archives records by using a scheduled archive task.</span></span> <span data-ttu-id="b0a2a-117">実行時に、アーカイブ タスクはこれらのタスクを完了します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-117">At run time, an archive task completes these tasks:</span></span>

-   <span data-ttu-id="b0a2a-118">ドライバー テーブルに対して定義されているルールに基づいて、ドライバー テーブルから対象のレコードを選択します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-118">Select qualifying records from the driver table, based on rules that are defined for the driver table.</span></span>
-   <span data-ttu-id="b0a2a-119">親子関係に基づいて、すべての子テーブルから対象のレコードを選択します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-119">Select qualifying records from all child tables, based on the parent-child relationship.</span></span>
-   <span data-ttu-id="b0a2a-120">特定のレコードを生産データベースからアーカイブ データベースにコピーします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-120">Copy the qualifying records from the production database to the archive database.</span></span>
-   <span data-ttu-id="b0a2a-121">運用データベースから特定のレコードを削除します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-121">Delete the qualifying records from the production database.</span></span>

## <a name="considerations-for-archive-objects-driver-tables-relations-and-rules"></a><span data-ttu-id="b0a2a-122">アーカイブ オブジェクト、ドライバー テーブル、関係、およびルールに関する注意事項</span><span class="sxs-lookup"><span data-stu-id="b0a2a-122">Considerations for Archive Objects, driver tables, relations, and rules</span></span>
<span data-ttu-id="b0a2a-123">アーカイブ オブジェクトで作業する場合は、次の点を考慮してください。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-123">Consider the following points when working with an Archive Object:</span></span>

-   <span data-ttu-id="b0a2a-124">削除オブジェクトのドライバー テーブルとして選択したテーブルが、**SalesTable** などのヘッダー テーブルであることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-124">Verify that the table you select as the driver table for an Archive Object is a header table, such as **SalesTable**.</span></span> <span data-ttu-id="b0a2a-125">必ずしもいつも正確ではありませんが、そのようなテーブルの **TableGroup** の値は、**WorkSheetHeader**、**Miscellaneous**、または **Transaction** です。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-125">A good indication, although not always accurate, is that the **TableGroup** value for such a table is **WorkSheetHeader**, **Miscellaneous**, or **Transaction**.</span></span>
-   <span data-ttu-id="b0a2a-126">**TableGroup** 値が **Main**、**Parameter**、**Group**、**WorkSheetLine** のテーブルをドライバー テーブルにすることはできません。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-126">Tables with a **TableGroup** value of **Main**, **Parameter**, **Group**, and **WorkSheetLine** cannot be driver tables.</span></span>
-   <span data-ttu-id="b0a2a-127">ドライバー テーブルは、階層リレーションシップ ツリーのルート親になります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-127">The driver table becomes the root parent in the hierarchical relationship tree.</span></span> <span data-ttu-id="b0a2a-128">IDMF は **XRefTableRelation** テーブルを照会して、親子関係を判別します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-128">IDMF queries the **XRefTableRelation** table to determine the parent-child relationships.</span></span>
-   <span data-ttu-id="b0a2a-129">アーカイブ オブジェクトに基づいてレコードをアーカイブすると、次の条件では、アプリケーションでデータの不整合が発生する場合があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-129">Archiving records based on an Archive Object may cause data inconsistency in your application in these conditions:</span></span>
    -   <span data-ttu-id="b0a2a-130">ドライバー テーブルには既知の親テーブルがあります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-130">The driver table has known parent tables.</span></span>
    -   <span data-ttu-id="b0a2a-131">ドライバー テーブルには、アーカイブ オブジェクトにリレーションとして追加されていない既知の子テーブルがあります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-131">The driver table has known child tables that are not added to the Archive Object as a relation.</span></span>
-   <span data-ttu-id="b0a2a-132">常にアーカイブ オブジェクトを最小化し、実装に必要なルールおよび関係のみを保持します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-132">Always minimize the Archive Object, and keep only necessary relations and rules for your implementations.</span></span> <span data-ttu-id="b0a2a-133">次の条件のアーカイブ オブジェクトからテーブルを削除することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-133">Consider removing a table from the Archive Object in these conditions:</span></span>
    -   <span data-ttu-id="b0a2a-134">このテーブルにはデータが含まれておらず、将来もデータが含まれない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-134">The table does not contain any data, and it is not likely to contain data in the future.</span></span>
    -   <span data-ttu-id="b0a2a-135">このテーブルには、**SalesParmTable** や **SpecTrans** などの一時データのみが格納されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-135">The table stores only transient data, such as **SalesParmTable** or **SpecTrans**.</span></span>
    -   <span data-ttu-id="b0a2a-136">このテーブルには、**CustTransOpen** や **VendTransOpen** などの未処理のトランザクションが格納されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-136">The table stores open transactions, such as **CustTransOpen** or **VendTransOpen**.</span></span>
    -   <span data-ttu-id="b0a2a-137">テーブルはネストされたリレーションシップを作成します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-137">The table creates nested relationships.</span></span> <span data-ttu-id="b0a2a-138">テーブルが、同じ特定関係条件のもとまたは主キーのセットで、関係ツリー上の異なるレベルで複数回表示される場合、関係ツリーの最も低い番号のレベルでのみ表示されるように検討します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-138">If a table appears multiple times on different levels in the relationship tree, with the same qualifying relationship condition or set of primary keys, consider keeping the occurrence only in the lowest-numbered level in the relationship tree.</span></span>
-   <span data-ttu-id="b0a2a-139">テーブルがドライバー テーブルに関連していて、独自のアーカイブ オブジェクトを作成している場合、ドライバー テーブル自体にすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-139">If a table is related to the driver table and makes its own Archive Object, it is a good candidate to be a driver table itself.</span></span> <span data-ttu-id="b0a2a-140">たとえば、**SalesTable** をドライバー テーブルとして使用する場合、会社間の **PurchTable** が検出されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-140">For example, if you use **SalesTable** as a driver table, it discovers **PurchTable** for intercompany.</span></span> <span data-ttu-id="b0a2a-141">この場合、**PurchTable** を別のアーカイブ オブジェクトにすることを検討します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-141">In this case, consider making **PurchTable** a separate Archive Object.</span></span> <span data-ttu-id="b0a2a-142">ドライバー テーブルと子テーブルが異なる機能領域からのものである場合は、子テーブルが別々にアーカイブされるのに適している場合は、独独立したアーカイブ オブジェクトを個別に作成します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-142">If the driver table and the child table are from different functional areas, and if the child table is a good candidate to be archived separately, create a separate, independent Archive Object.</span></span> <span data-ttu-id="b0a2a-143">これらの条件で、この子テーブルを関連するアーカイブ オブジェクトにすることを検討してください。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-143">Consider making this child table a Related Archive Object in these conditions:</span></span>
    -   <span data-ttu-id="b0a2a-144">このドライバー テーブルとその子テーブルは、機能的またはリレーショナルの依存関係のために一緒にアーカイブする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-144">This driver table and its child table must be archived together because of functional or relational dependencies.</span></span>
    -   <span data-ttu-id="b0a2a-145">子テーブルの正しいアーカイブのルールを追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-145">You have to add rules for correct archiving of the child table.</span></span> <span data-ttu-id="b0a2a-146">ドライバー テーブルにはルールのみ追加することができます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-146">You can only add rules for the driver table.</span></span> <span data-ttu-id="b0a2a-147">子テーブルのルールを追加するには、関連するアーカイブ オブジェクトのドライバー テーブルでなければなりません。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-147">To add rules for the child table, it has to be the driver table of a Related Archive Object.</span></span> <span data-ttu-id="b0a2a-148">関連アーカイブ オブジェクトに追加するルールが親アーカイブ オブジェクトからのアーカイブに悪影響を及ぼさないようにしてください。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-148">Be sure that the rules you add to the Related Archive Object do not adversely affect the archiving from the parent Archive Object.</span></span>
-   <span data-ttu-id="b0a2a-149">2 つのテーブル間に複数のリレーションシップが存在することがあります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-149">There may be multiple relationships between two tables.</span></span> <span data-ttu-id="b0a2a-150">その場合、リレーションシップと機能を慎重に評価します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-150">In that case, evaluate the relationships and functionality carefully.</span></span> <span data-ttu-id="b0a2a-151">アーカイブ オブジェクトでは単一のリレーションシップのみを使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-151">We recommend that you use only a single relationship in the Archive Object.</span></span> <span data-ttu-id="b0a2a-152">ただし、必要に応じて、複数のリレーションシップを使用できます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-152">However, you can use multiple relationships if necessary.</span></span> <span data-ttu-id="b0a2a-153">有効なリレーションシップが存在する場合は固有インデックスまたは主キーを使用して、有効なリレーションシップを選択してください。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-153">Be sure to select a valid relationship using a unique index or primary key, if one exists.</span></span>
-   <span data-ttu-id="b0a2a-154">アーカイブ オブジェクトを作成する IDMF に含まれているアーカイブ テンプレートを使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-154">Do not use the archive templates that are included with IDMF to create your Archive Objects.</span></span> <span data-ttu-id="b0a2a-155">これらのテンプレートは特定の Microsoft Dynamics AX アプリケーションで作成され、実装と一致しない場合があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-155">These templates are created in a specific Microsoft Dynamics AX application and may not match your implementation.</span></span> <span data-ttu-id="b0a2a-156">代わりに、検出オプションを使用して独自のオブジェクトを作成し、テンプレートと比較します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-156">Instead, use the discovery option to create your own objects, and compare them with the templates.</span></span> <span data-ttu-id="b0a2a-157">テンプレート内のテーブルは、実装で有効でない場合があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-157">Tables in the templates may not be valid for your implementation.</span></span> <span data-ttu-id="b0a2a-158">有効な既知のテーブルには、検出されたオブジェクトに表示されないものがあります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-158">Some valid and known tables may not appear in your discovered object.</span></span> <span data-ttu-id="b0a2a-159">探索プロセスで作成したオブジェクトおよびテンプレートの違いを慎重に分析し、その違いの原因を特定します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-159">Carefully analyze any difference between the objects you created through the discovery process and the templates, to determine the cause of the difference.</span></span> <span data-ttu-id="b0a2a-160">要件に合わせるために、削除オブジェクトとアーカイブ オブジェクトからテーブルを手動で追加または削除します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-160">Manually add or remove tables from the Purge Objects and Archive Objects to fit your requirements.</span></span>
-   <span data-ttu-id="b0a2a-161">テーブル間の関係が正しく設定されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-161">Be sure that relationships among tables are set correctly.</span></span> <span data-ttu-id="b0a2a-162">すべてのカスタム テーブルに対して **TableGroup** プロパティが設定されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-162">Be sure that the **TableGroup** property is set for all custom tables.</span></span>
-   <span data-ttu-id="b0a2a-163">アーカイブ オブジェクトに作成したリレーションシップ ツリーがシステムから目的のデータをアーカイブしていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-163">Verify that the relationship tree that you have created in the Archive Object archives the intended data from your system.</span></span> <span data-ttu-id="b0a2a-164">作成するアーカイブ オブジェクトは関連するすべてのレコードを検索する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-164">An Archive Object that you create must look at all related records.</span></span> <span data-ttu-id="b0a2a-165">不足している関係は、データの孤立を引き起こします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-165">Missing relationships lead to orphaned data.</span></span>
-   <span data-ttu-id="b0a2a-166">リレーションシップ ツリーのテーブルは、アーカイブ機能の一部となり、マスター データ テーブルのリストから無効になります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-166">A table in the relationship tree becomes part of the archive function and becomes disabled from the master data tables list.</span></span>

> [!WARNING]
> <span data-ttu-id="b0a2a-167">運用環境に似たテスト環境で、アーカイブ オブジェクトとアーカイブ戦略がデータベースとアプリケーションに及ぼす影響を十分にテストします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-167">Thoroughly test the effect of your Archive Objects and your archive strategy on your database and application in a test environment that resembles your production environment.</span></span> <span data-ttu-id="b0a2a-168">すべての業務プロセスをテストし、実稼働環境にアーカイブ オブジェクトを実装する前にユーザーの承認を得ます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-168">Test all business processes, and obtain user sign-off before trying to implement the Archive Objects in the production environment.</span></span>

## <a name="overview-of-related-archive-objects"></a><span data-ttu-id="b0a2a-169">関連するアーカイブ オブジェクトの概要</span><span class="sxs-lookup"><span data-stu-id="b0a2a-169">Overview of Related Archive Objects</span></span>
<span data-ttu-id="b0a2a-170">アーカイブ オブジェクトのリレーションシップ ツリーは非常に複雑である場合があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-170">The relationship tree of an Archive Object can be very complex.</span></span> <span data-ttu-id="b0a2a-171">すべての関連するテーブルからデータをアーカイブするためには、複雑なリレーションシップ ツリーを管理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-171">In order to archive data from all the related tables, complex relationship trees have to be managed.</span></span> <span data-ttu-id="b0a2a-172">場合によっては、1 つのリレーションシップ ツリーに、データの整合性との機能的に有効なアーカイブを保証するために別のリレーションシップ ツリーを含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-172">In some cases, one relationship tree has to include another relationship tree to guarantee data integrity and functionally valid archiving of data.</span></span> <span data-ttu-id="b0a2a-173">複雑であるため、別のアーカイブ オブジェクトに 1 つのアーカイブ オブジェクトを追加することによって、2 つの独立したアーカイブ オブジェクト間の関係を作成できます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-173">Due to this complexity, you can create a relationship between two independent Archive Objects by adding one Archive Object in the other Archive Object.</span></span> <span data-ttu-id="b0a2a-174">子アーカイブ オブジェクトは関連アーカイブ オブジェクトと呼ばれ、親アーカイブ オブジェクトとの関係を形成します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-174">The child Archive Object is called the Related Archive Object and forms a relationship with the parent Archive Object.</span></span> <span data-ttu-id="b0a2a-175">アーカイブ タスクは選択したレコードをアーカイブ オブジェクト内の全てのテーブルおよび関連するアーカイブ オブジェクトにアーカイブします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-175">An archive task archives selected records from all the tables in the Archive Object and the Related Archive Object.</span></span> <span data-ttu-id="b0a2a-176">次の手順では、関連するアーカイブ オブジェクトを含むアーカイブ オブジェクトのチュートリアルを行います。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-176">The following steps provide a walkthrough of an Archive Object with a Related Archive Object:</span></span>
1. <span data-ttu-id="b0a2a-177">Microsoft Dynamics AX Windows クライアントを使用して、アプリケーション オブジェクト ツリー (AOT) を操作します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-177">Use the Microsoft Dynamics AX Windows client to work with the Application Object Tree (AOT).</span></span> <span data-ttu-id="b0a2a-178">AOT で、**データ ディクショナリ** &gt; **テーブル** &gt; **CustInvoiceSalesLink** &gt; **リレーション** と展開します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-178">In the AOT, expand **Data Dictionary** &gt; **Tables** &gt; **CustInvoiceSalesLink** &gt; **Relations**.</span></span> <span data-ttu-id="b0a2a-179">**CustInvoiceSalesLink** テーブルには、2つの親 **SalesTable** および **CustInvoiceJour** があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-179">The **CustInvoiceSalesLink** table has two parents, **SalesTable** and **CustInvoiceJour**.</span></span> <span data-ttu-id="b0a2a-180">**CustInvoiceJour** テーブルの **関係** ノードを展開します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-180">Expand the **Relations** node for the **CustInvoiceJour** table.</span></span> <span data-ttu-id="b0a2a-181">**CustInvoiceJour** テーブルには、AOT の **SalesTable** との関係がありません。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-181">The **CustInvoiceJour** table does not have a relationship with **SalesTable** in the AOT.</span></span>
2. <span data-ttu-id="b0a2a-182">IDMF で、**構成** &gt; **アーカイブ テンプレート/アーカイブ オブジェクト** &gt; **SalesTable** とクリックして **SalesTable** アーカイブ オブジェクトを開きます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-182">In IDMF, click **Configure** &gt; **Archive templates/Archive Object** &gt; **SalesTable** to open the **SalesTable** Archive Object.</span></span>
3. <span data-ttu-id="b0a2a-183">階層ツリーを確認し、親/子の関係を理解します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-183">Review the hierarchical tree, and understand the parent-child relationship.</span></span> <span data-ttu-id="b0a2a-184">AOT が 2 つのテーブル間の関係を示す場合でも、手順 1 の **CustInvoiceSalesLink** テーブルが **SalesTable** の子としてリレーションシップ ツリーにないことに注意します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-184">Notice that the **CustInvoiceSalesLink** table from step 1 is not in the relationship tree as a child of **SalesTable**, even though the AOT shows a relationship between the two tables.</span></span> <span data-ttu-id="b0a2a-185">リレーションシップ ツリーに、**CustInvoiceJour** および **CustPackingSlipJour** という 2 つの楕円図形が含まれていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-185">Notice that the relationship tree contains two oval shapes, named **CustInvoiceJour** and **CustPackingSlipJour**.</span></span> <span data-ttu-id="b0a2a-186">これらの楕円形は、**SalesTable** の関連アーカイブ オブジェクトを表します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-186">These oval shapes represent Related Archive Objects for **SalesTable**.</span></span> <span data-ttu-id="b0a2a-187">関連するアーカイブ オブジェクトは、親アーカイブ オブジェクトのリレーションシップ ツリーの一部であるアーカイブ オブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-187">A Related Archive Object is an Archive Object that is part of the relationship tree of a parent Archive Object.</span></span>
4. <span data-ttu-id="b0a2a-188">**CustInvoiceJour** をダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-188">Double-click **CustInvoiceJour**.</span></span> <span data-ttu-id="b0a2a-189">**CustInvoiceJour** アーカイブ オブジェクトがルート テーブル **CustInvoiceJour** の横にある緑色の長方形に **SalesTable** を開いて表示していることに注意します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-189">Notice that the **CustInvoiceJour** Archive Object opens and shows the **SalesTable** in a green rectangle next to the root table, **CustInvoiceJour**.</span></span> <span data-ttu-id="b0a2a-190">緑の長方形は、**CustInvoiceJour** アーカイブ オブジェクトの親アーカイブ オブジェクトとして **SalesTable** を強調表示します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-190">The green rectangle highlights **SalesTable** as the parent Archive Object of the **CustInvoiceJour** Archive Object.</span></span> <span data-ttu-id="b0a2a-191">**CustInvoiceSalesLink** テーブルには、子テーブル **CustInvoiceJour** テーブルがあります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-191">The **CustInvoiceSalesLink** table is a child table of the **CustInvoiceJour** table.</span></span> <span data-ttu-id="b0a2a-192">関連アーカイブ オブジェクトを戻すには、**SalesTable** をダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-192">Double-click **SalesTable** to return to the parent Archive Object.</span></span>
5. <span data-ttu-id="b0a2a-193">**CustInvoiceJour** を右クリックし、**関係の表示** を選択します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-193">Right-click **CustInvoiceJour**, and select **View relation**.</span></span> <span data-ttu-id="b0a2a-194">**関連するアーカイブ オブジェクトの構成** ウィンドウで、**SalesTable** および **CustInvoiceJour** テーブルの関係を確認してから、**閉じる** をクリックしてウィンドウを閉じます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-194">In the **Configure Related Archive Object** window, review the relationship between the **SalesTable** and **CustInvoiceJour** tables, and then click **Close** to close the window.</span></span>
6. <span data-ttu-id="b0a2a-195">**SalesTable** アーカイブ オブジェクトで、**CustInvoiceJour** を右クリックして **削除** を選択します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-195">In the **SalesTable** Archive Object, right-click **CustInvoiceJour**, and select **Remove**.</span></span> <span data-ttu-id="b0a2a-196">関連するアーカイブ オブジェクト **CustInvoiceJour** が削除されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-196">Confirm that the Related Archive Object **CustInvoiceJour** is removed.</span></span>
7. <span data-ttu-id="b0a2a-197">**SalesTable** を右クリックし、**関連するアーカイブ オブジェクトの追加** を選択します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-197">Right-click **SalesTable**, and select **Add Related Archive Object**.</span></span>
8. <span data-ttu-id="b0a2a-198">**関連するアーカイブ オブジェクトの構成** ウィンドウで、これらの手順に従います。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-198">In the **Configure Related Archive Object** window, follow these steps:</span></span>

   1.  <span data-ttu-id="b0a2a-199">**関連するアーカイブ オブジェクトの選択** リストで、**CustInvoiceJour** を選択します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-199">In the **Select Related Archive Object** list, select **CustInvoiceJour**.</span></span> <span data-ttu-id="b0a2a-200">**新しい関係** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-200">Click **New relation**.</span></span>
   2.  <span data-ttu-id="b0a2a-201">**関連するアーカイブ オブジェクトの関係を構成** ウィンドウで、**関係名** フィールドに SalesTable と入力します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-201">In the **Configure relations for Related Archive Object** pane, enter SalesTable in the **Relation name** field.</span></span>
   3.  <span data-ttu-id="b0a2a-202">**リレーションの説明** フィールドの有効な説明を入力します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-202">Enter a valid description in the **Relation description** field.</span></span>
   4.  <span data-ttu-id="b0a2a-203">**関係の構成** ウィンドウで、次のテーブルを使用してフィールドを選択してから **追加** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-203">In the **Configure relations** pane, use the following table to select fields, and then click **Add**.</span></span>

       | <span data-ttu-id="b0a2a-204">リストから</span><span class="sxs-lookup"><span data-stu-id="b0a2a-204">From the list</span></span>          | <span data-ttu-id="b0a2a-205">値を選択</span><span class="sxs-lookup"><span data-stu-id="b0a2a-205">Select the value</span></span>    |
       |------------------------|---------------------|
       | <span data-ttu-id="b0a2a-206">**テーブル名**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-206">**Table name**</span></span>         | <span data-ttu-id="b0a2a-207">**SalesTable**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-207">**SalesTable**</span></span>      |
       | <span data-ttu-id="b0a2a-208">**フィールド名**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-208">**Field name**</span></span>         | <span data-ttu-id="b0a2a-209">**データ領域 ID**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-209">**dataAreaId**</span></span>      |
       | <span data-ttu-id="b0a2a-210">**条件**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-210">**Condition**</span></span>          | **=**               |
       | <span data-ttu-id="b0a2a-211">**関連テーブル名**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-211">**Related table name**</span></span> | <span data-ttu-id="b0a2a-212">**CustInvoiceJour**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-212">**CustInvoiceJour**</span></span> |
       | <span data-ttu-id="b0a2a-213">**関連フィールド名**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-213">**Related field name**</span></span> | <span data-ttu-id="b0a2a-214">**データ領域 ID**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-214">**dataAreaID**</span></span>      |

   5.  <span data-ttu-id="b0a2a-215">**新しい関係** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-215">Click **New Relation**.</span></span> <span data-ttu-id="b0a2a-216">前のステップを使用することで、**SalesID** を使用して、**SalesTable** テーブルと **CustInvoiceJour** テーブル間にリレーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-216">Using the previous step, use the **SalesID** field to create a relationship between the **SalesTable** and **CustInvoiceJour** tables.</span></span> <span data-ttu-id="b0a2a-217">**追加** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-217">Click **Add**.</span></span>
   6.  <span data-ttu-id="b0a2a-218">**DataAreaId** フィールと **SalesID** フィールドを使用して、**SalesTable** テーブルと **CustInvoiceJour** テーブルが関連していることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-218">Verify that the **SalesTable** and **CustInvoiceJour** tables are related using the **DataAreaId** and **SalesID** fields.</span></span>
   7.  <span data-ttu-id="b0a2a-219">**保存** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-219">Click **Save**.</span></span> <span data-ttu-id="b0a2a-220">**OK** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-220">Click **OK**.</span></span> <span data-ttu-id="b0a2a-221">**閉じる** をクリックして親の SalesTable アーカイブ オブジェクトに戻ります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-221">Click **Close** to return to the parent SalesTable Archive Object.</span></span>
   8.  <span data-ttu-id="b0a2a-222">SalesTable Archive Object オブジェクトに CustInvoiceJour Related Archive オブジェクトが含まれていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-222">Verify that the SalesTable Archive Object contains the CustInvoiceJour Related Archive Object.</span></span>
   9.  <span data-ttu-id="b0a2a-223">**保存** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-223">Click **Save**.</span></span> <span data-ttu-id="b0a2a-224">**名前を付けて保存** ダイアログ ボックスに、SalesTable\_a と入力してから **保存** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-224">In the **Save as** dialog box, type SalesTable\_a, and then click **Save**.</span></span> <span data-ttu-id="b0a2a-225">**OK** をクリックして続行します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-225">Click **OK** to continue.</span></span> <span data-ttu-id="b0a2a-226">アーカイブ オブジェクトは、新しい名前で保存する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-226">You must save an Archive Object with a new name.</span></span>
   10. <span data-ttu-id="b0a2a-227">リレーションシップ ツリー ワークスペースの右上にある **プロパティ** をクリックし、**プロパティ** ウィンドウをワークスペースにピン留めします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-227">Click **Properties** on the upper-right side of the relationship tree workspace, and pin the **Properties** window to the workspace.</span></span> <span data-ttu-id="b0a2a-228">リレーションシップ ツリーで、**関連するアーカイブ オブジェクト CustInoviceJour** をクリックしてから **削除** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-228">In the relationship tree, right-click the **Related Archive Object CustInoviceJour**, and then click **Remove**.</span></span> <span data-ttu-id="b0a2a-229">**プロパティ** ウィンドウで **元に戻す** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-229">In the **Properties** window, click **Revert**.</span></span> <span data-ttu-id="b0a2a-230">元に戻す操作は、最後に **保存** をクリックした後に行った変更を元に戻します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-230">The revert action reverses the changes you have made since the last time you clicked **Save**.</span></span> <span data-ttu-id="b0a2a-231">関連するアーカイブ オブジェクトを削除した後に **保存** をクリックしなかったため、ここでは、関連するアーカイブ オブジェクト **CustInvoiceJour** は元に戻す操作で戻されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-231">The revert action here brings back the Related Archive Object **CustInvoiceJour**, because you did not click **Save** after you removed the Related Archive Object.</span></span>
   11. <span data-ttu-id="b0a2a-232">関連するアーカイブ オブジェクト **CustInvoiceJour** をもう一度削除します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-232">Remove the Related Archive Object **CustInvoiceJour** again.</span></span> <span data-ttu-id="b0a2a-233">アーカイブ オブジェクトを **SalesTable\_deleted** という名前で保存します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-233">Save the Archive Object as **SalesTable\_deleted**.</span></span>
   12. <span data-ttu-id="b0a2a-234">ツールバーで、**アーカイブ テンプレート/アーカイブ オブジェクト** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-234">On the toolbar, click **Archive templates/Archive Object**.</span></span> <span data-ttu-id="b0a2a-235">SalesTable アーカイブ オブジェクトのアイコンをリスト内の他のオブジェクトと比較し、その違いを確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-235">Compare the icon of the SalesTable Archive Object with other objects in the list, and notice the difference.</span></span> <span data-ttu-id="b0a2a-236">このアイコンは、既定のテンプレートを開いてアーカイブ オブジェクトとして保存したことを示します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-236">The icon indicates that you have opened the default template and saved it as an Archive Object.</span></span> <span data-ttu-id="b0a2a-237">アーカイブ タスクでは、アーカイブ テンプレートではなく、アーカイブ オブジェクトのみを使用することができます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-237">You can only use an Archive Object, and not an archive template, in an archive task.</span></span> <span data-ttu-id="b0a2a-238">**SalesTable** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-238">Click **SalesTable**.</span></span> <span data-ttu-id="b0a2a-239">IDMF が **SalesTable\_deleted** として保存したアーカイブ オブジェクトを開くことを確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-239">Notice that IDMF opens the Archive Object you just saved as **SalesTable\_deleted**.</span></span> <span data-ttu-id="b0a2a-240">IDMF を使用すると、複数のバージョンのアーカイブ オブジェクトを保存し、最も最近に保存したバージョンのアーカイブ オブジェクトを使用できます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-240">IDMF lets you save multiple versions of the Archive Object and uses the most recently saved version of the Archive Object.</span></span>
   13. <span data-ttu-id="b0a2a-241">ツール バーで、**バージョンの表示** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-241">On the toolbar, click **Show versions**.</span></span> <span data-ttu-id="b0a2a-242">**バージョン履歴** ウィンドウで、**SalesTable** を **アーカイブ テンプレート** リストで選択します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-242">In the **Version history** window, select **SalesTable** in the **Archive template** list.</span></span> <span data-ttu-id="b0a2a-243">**アーカイブ オブジェクト** リストに、さまざまなバージョンの **SalesTable** が上部にある最新バージョンとともに表示されていることに注意します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-243">Notice that the **Archive Object** list displays the different versions of **SalesTable**, with the most recent version at the top.</span></span> <span data-ttu-id="b0a2a-244">アーカイブ タスクはアーカイブ オブジェクトの最新のバージョンを使用します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-244">An archive task uses the most recent version of the Archive Object.</span></span>

   <span data-ttu-id="b0a2a-245">このチュートリアルでは、あるアーカイブ オブジェクトに、関連するアーカイブ オブジェクトを含めるという概念について説明しました。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-245">This walkthrough explained the concept of including a Related Archive Object in an Archive Object.</span></span> <span data-ttu-id="b0a2a-246">アーカイブ オブジェクトを操作したり、親アーカイブ オブジェクトに関連アーカイブ オブジェクトを含める前に、Microsoft Dynamics AX のメタデータと機能について十分に理解する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-246">You must understand the Microsoft Dynamics AX metadata and functionality thoroughly before working with an Archive Object or including a Related Archive Object in a parent Archive Object.</span></span>

   <a name="understanding-the-archive-object-exception-list"></a><span data-ttu-id="b0a2a-247">アーカイブ オブジェクト例外リストを理解する</span><span class="sxs-lookup"><span data-stu-id="b0a2a-247">Understanding the Archive Object exception list</span></span>
   -----------------------------------------------

   <span data-ttu-id="b0a2a-248">IDMF を使用すると、このトピックの後半のセクションで説明する例外パラメーター リストを作成できます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-248">IDMF lets you create an exception parameters list as detailed in a later section of this topic.</span></span> <span data-ttu-id="b0a2a-249">例外パラメーター リストは、すべての削除テンプレート、削除オブジェクト、アーカイブ テンプレート、およびアーカイブ オブジェクトにグローバルに適用されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-249">The exception parameters list applies globally to all purge templates, Purge Objects, archive templates, and Archive Objects.</span></span> <span data-ttu-id="b0a2a-250">例外パラメータ一覧に加えて、IDMF により、特にアーカイブ オブジェクトに対する例外テーブル リストを管理することができます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-250">In addition to the exception parameters list, IDMF lets you maintain an exception tables list specifically for Archive Objects.</span></span> <span data-ttu-id="b0a2a-251">新しいアーカイブ オブジェクトを作成し、ドライバー テーブルを選択すると、IDMF にアーカイブ オブジェクト例外テーブル ウィンドウが表示されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-251">When you create a new Archive Object and select the driver table, IDMF displays the Archive Object exception tables window.</span></span> <span data-ttu-id="b0a2a-252">例外リストには、個別に独立したアーカイブ オブジェクトを作成するためのドライバー テーブルとして使用できるテーブルが含まれています。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-252">The exception list contains tables that you can use as driver tables to create a separate and independent Archive Object.</span></span> <span data-ttu-id="b0a2a-253">これらのテーブルを慎重に評価し、関連する子テーブルまたは関連するアーカイブ オブジェクトとしてリレーションシップ ツリーに含めるかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-253">Carefully evaluate these tables to determine whether you want to include them in the relationship tree as related child tables or as Related Archive Objects.</span></span> <span data-ttu-id="b0a2a-254">検出プロセスは、アーカイブ オブジェクト例外テーブル リスト内のすべてのテーブルを無視し、リレーションシップが存在する場合でも、それらをリレーションシップ ツリーに含めません。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-254">The discovery process ignores all tables in the Archive Object exception tables list and does not include them in the relationship tree, even if a relationship exists.</span></span> <span data-ttu-id="b0a2a-255">アーカイブ オブジェクト例外テーブルの一覧からテーブルを含めるには、テーブルの選択を解除し、**保存** をクリックしてから **続行** をクリックして検出プロセスを開始します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-255">To include a table from the Archive Object exception tables list, deselect the table, and click **Save** before you click **Continue** to begin the discovery process.</span></span> <span data-ttu-id="b0a2a-256">この場合、関係が存在する場合、検出プロセスに選択解除されたテーブルが含まれます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-256">In this case, the discovery process includes the deselected table if a relationship exists.</span></span> <span data-ttu-id="b0a2a-257">また、他のテーブルをリストに追加して、新規追加したテーブルを探索プロセスから除外するように選択することができます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-257">You can also add other tables to the list and select to exclude the newly added table from the discovery process.</span></span>

   <a name="navigation-of-the-archive-object-exception-tables-window"></a><span data-ttu-id="b0a2a-258">アーカイブ オブジェクト例外テーブル ウィンドウのナビゲーション</span><span class="sxs-lookup"><span data-stu-id="b0a2a-258">Navigation of the Archive Object exception tables window</span></span>
   --------------------------------------------------------

   <span data-ttu-id="b0a2a-259">次のテーブルで、このウィンドウのコントロールについて説明します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-259">The following tables provide descriptions for the controls in this window.</span></span>
   #### <a name="panes"></a><span data-ttu-id="b0a2a-260">ウィンドウ</span><span class="sxs-lookup"><span data-stu-id="b0a2a-260">Panes</span></span>

   | <span data-ttu-id="b0a2a-261">ウィンドウ</span><span class="sxs-lookup"><span data-stu-id="b0a2a-261">Pane</span></span>                        | <span data-ttu-id="b0a2a-262">説明</span><span class="sxs-lookup"><span data-stu-id="b0a2a-262">Description</span></span>                                                                                                                                           |
   |-----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|
   | <span data-ttu-id="b0a2a-263">**メイン** ウィンドウ</span><span class="sxs-lookup"><span data-stu-id="b0a2a-263">**Main** window</span></span>             | <span data-ttu-id="b0a2a-264">ドライバー テーブル、およびこのドライバー テーブルの例外テーブルの一覧を示します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-264">Provides the driver table, and a list of exception tables for this driver table.</span></span> <span data-ttu-id="b0a2a-265">例外テーブルのリストは、ドライバー テーブルに応じて変更されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-265">The list of exception tables changes, depending on the driver table.</span></span> |
   | <span data-ttu-id="b0a2a-266">**新しい例外テーブルの追加**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-266">**Add new exception table**</span></span> | <span data-ttu-id="b0a2a-267">例外テーブルの一覧にテーブルを追加するためのコントロールを提供します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-267">Provides controls to add a table to the exception tables list.</span></span>                                                                                        |

   #### 

   #### <a name="buttons-main-window"></a><span data-ttu-id="b0a2a-268">ボタン (主要なウィンドウ)</span><span class="sxs-lookup"><span data-stu-id="b0a2a-268">Buttons (main window)</span></span>

   | <span data-ttu-id="b0a2a-269">ボタン</span><span class="sxs-lookup"><span data-stu-id="b0a2a-269">Button</span></span>       | <span data-ttu-id="b0a2a-270">説明</span><span class="sxs-lookup"><span data-stu-id="b0a2a-270">Description</span></span>                                                                                                 |
   |--------------|-------------------------------------------------------------------------------------------------------------|
   | <span data-ttu-id="b0a2a-271">**保存**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-271">**Save**</span></span>     | <span data-ttu-id="b0a2a-272">**ステータス** フィールドの変更や追加されたテーブルなど、例外テーブルの一覧への変更を保存します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-272">Save the changes to the exception tables list, such as change to the **Status** field and any added tables.</span></span> |
   | <span data-ttu-id="b0a2a-273">**続行**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-273">**Continue**</span></span> | <span data-ttu-id="b0a2a-274">アーカイブ オブジェクトの探索プロセスを続行します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-274">Continue with the discovery process for the Archive Object.</span></span>                                                 |

   #### 

   #### <a name="buttons-add-new-exception-tables-pane"></a><span data-ttu-id="b0a2a-275">ボタン (新しい例外テーブル ウィンドウの追加)</span><span class="sxs-lookup"><span data-stu-id="b0a2a-275">Buttons (Add new exception tables pane)</span></span>

   | <span data-ttu-id="b0a2a-276">ボタン</span><span class="sxs-lookup"><span data-stu-id="b0a2a-276">Button</span></span>    | <span data-ttu-id="b0a2a-277">説明</span><span class="sxs-lookup"><span data-stu-id="b0a2a-277">Description</span></span>                                                                                                                       |
   |-----------|-----------------------------------------------------------------------------------------------------------------------------------|
   | <span data-ttu-id="b0a2a-278">**追加**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-278">**Add**</span></span>   | <span data-ttu-id="b0a2a-279">例外テーブル リストに選択したテーブルを追加します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-279">Add the selected table to the exception tables list.</span></span> <span data-ttu-id="b0a2a-280">**追加** をクリックする前に、**テーブル名** の一覧からテーブルを選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-280">You must select a table in the **Table name** list before you click **Add**.</span></span> |
   | <span data-ttu-id="b0a2a-281">**クリア**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-281">**Clear**</span></span> | <span data-ttu-id="b0a2a-282">**テーブル名** リストをクリアします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-282">Clear the **Table name** list.</span></span>                                                                                                    |

   #### 

   #### <a name="fields-main-window"></a><span data-ttu-id="b0a2a-283">フィールド (主要なウィンドウ)</span><span class="sxs-lookup"><span data-stu-id="b0a2a-283">Fields (main window)</span></span>

   | <span data-ttu-id="b0a2a-284">フィールド</span><span class="sxs-lookup"><span data-stu-id="b0a2a-284">Field</span></span>                | <span data-ttu-id="b0a2a-285">説明</span><span class="sxs-lookup"><span data-stu-id="b0a2a-285">Description</span></span>                                                                                                                                                                                                                                                    |
   |----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | <span data-ttu-id="b0a2a-286">**テーブル名**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-286">**Table name**</span></span>       | <span data-ttu-id="b0a2a-287">ドライバー テーブル名。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-287">The name of the driver table.</span></span>                                                                                                                                                                                                                                  |
   | <span data-ttu-id="b0a2a-288">**例外テーブル**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-288">**Exception tables**</span></span> | <span data-ttu-id="b0a2a-289">例外テーブルの名前。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-289">The names of the exception tables.</span></span> <span data-ttu-id="b0a2a-290">リスト内の各テーブルは、ドライバー テーブルになることが可能です。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-290">Each table in the list can become a driver table.</span></span>                                                                                                                                                                           |
   | <span data-ttu-id="b0a2a-291">**ステータス**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-291">**Status**</span></span>           | <span data-ttu-id="b0a2a-292">**ステータス** フィールドが選択されたテーブルは、リレーションシップが存在していても、検索プロセス中にリレーションシップ ツリーに追加されません。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-292">A table with the **Status** field selected is not added to the relationship tree during the discovery process, even if a relationship exists.</span></span> <span data-ttu-id="b0a2a-293">**ステータス** フィールドが選択されていない場合、リレーションシップが存在している場合、テーブルは検索プロセス中にリレーションシップ ツリーに追加されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-293">If the **Status** field is not selected, the table is added to the relationship tree if there is a relationship.</span></span> |
   | <span data-ttu-id="b0a2a-294">更新者</span><span class="sxs-lookup"><span data-stu-id="b0a2a-294">Modified by</span></span>          | <span data-ttu-id="b0a2a-295">既存のテーブルのステータス変更、または新しいテーブルの一覧への追加を行ったユーザーの Windows ID。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-295">The Windows ID of the user who changed the status of an existing table or added a new table to the list.</span></span>                                                                                                                                                       |

   #### 

   #### <a name="fields-add-exception-list"></a><span data-ttu-id="b0a2a-296">フィールド (例外リストの追加)</span><span class="sxs-lookup"><span data-stu-id="b0a2a-296">Fields (Add exception list)</span></span>

   | <span data-ttu-id="b0a2a-297">フィールド</span><span class="sxs-lookup"><span data-stu-id="b0a2a-297">Field</span></span>          | <span data-ttu-id="b0a2a-298">説明</span><span class="sxs-lookup"><span data-stu-id="b0a2a-298">Description</span></span>                                                         |
   |----------------|---------------------------------------------------------------------|
   | <span data-ttu-id="b0a2a-299">**テーブル名**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-299">**Table name**</span></span> | <span data-ttu-id="b0a2a-300">例外テーブルの一覧に追加するテーブルを選択します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-300">Select the table that you want to add to the exception tables list.</span></span> |

    <a name="create-a-new-archive-object"></a><span data-ttu-id="b0a2a-301">新しいアーカイブ オブジェクトを作成します</span><span class="sxs-lookup"><span data-stu-id="b0a2a-301">Create a new Archive Object</span></span>
   ----------------------------

   <span data-ttu-id="b0a2a-302">IDMF に含まれるテンプレートを選択する代わりに、ドライバー テーブルを選択してドライバー テーブルに基づきリレーションシップ ツリーを作成することにより、アーカイブ オブジェクトを作成することができます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-302">You can create an Archive Object by selecting a driver table and creating a relationship tree based on the driver table, instead of selecting a template that is included with IDMF.</span></span> <span data-ttu-id="b0a2a-303">アーカイブ オブジェクトを作成するには、これらの手順に従います。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-303">Follow these steps to create a new Archive Object:</span></span>
   1. <span data-ttu-id="b0a2a-304">ツールバーで、**アーカイブ オブジェクトの作成** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-304">On the toolbar, click **Create Archive Object**.</span></span>
   2. <span data-ttu-id="b0a2a-305">**アーカイブ オブジェクトの作成** ダイアログ ボックスで、**ドライバー テーブル** リストからテーブルを選択します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-305">In the **Create Archive Object** dialog box, select a table from the **Driver table** list.</span></span> <span data-ttu-id="b0a2a-306">リストでは、このトピックの後半で説明する例外パラメーター リストからテーブルを除外します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-306">The list excludes tables from the exception parameters list, which is covered later in this topic.</span></span> <span data-ttu-id="b0a2a-307">**WMSOrder** に移動して選択します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-307">Navigate to and select **WMSOrder**.</span></span> <span data-ttu-id="b0a2a-308">ドライバー テーブルは、特定のアーカイブ オブジェクトのリレーションシップ ツリーを定義する親テーブルです。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-308">A driver table is the parent table that defines the relationship tree for a specific Archive Object.</span></span> <span data-ttu-id="b0a2a-309">アーカイブ オブジェクトでは、ドライバー テーブルに子エンティティがある場合がありますが、リレーションシップ ツリーに親エンティティはありません。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-309">In an Archive Object, the driver table may have child entities but does not have a parent entity in the relationship tree.</span></span>
   3. <span data-ttu-id="b0a2a-310">続行するには、テーブルの最もユニークなインデックスを選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-310">To continue, you must select the most unique index for the table.</span></span> <span data-ttu-id="b0a2a-311">このインデックスは、アーカイブ オブジェクトに親子関係を作成するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-311">This index is used to create the parent-child relationship in the Archive Object.</span></span> <span data-ttu-id="b0a2a-312">固有のキー フィールドで、orderid を選択します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-312">In the Unique keys field, select orderid.</span></span> <span data-ttu-id="b0a2a-313">**WMSOrderIdx** インデックスは、**orderid** フィールドを使用して作成されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-313">The **WMSOrderIdx** index is created by using the **orderid** field.</span></span>
   4. <span data-ttu-id="b0a2a-314">**検出** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-314">Click **Discover**.</span></span> <span data-ttu-id="b0a2a-315">**アーカイブ オブジェクト例外テーブル** ダイアログ ボックスで、例外テーブルの一覧を慎重に確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-315">In the **Archive Object exception tables** dialog box, review the exception tables list carefully.</span></span> <span data-ttu-id="b0a2a-316">リストからテーブルを関係ツリーに含めるには、**ステータス** フィールドをクリアします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-316">If you want a table from the list to be included in the relationship tree, clear the **Status** field.</span></span> <span data-ttu-id="b0a2a-317">**新しい例外テーブルを追加** ウィンドウを使用して、新しいテーブルをリストに追加します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-317">Use the **Add new exception table** pane to add a new table to the list.</span></span> <span data-ttu-id="b0a2a-318">新しく追加されたテーブルの **ステータス** フィールドは、既定で選択されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-318">The **Status** field for the newly added table is selected by default.</span></span> <span data-ttu-id="b0a2a-319">**保存** をクリックして、変更をアーカイブ オブジェクト例外テーブル ウィンドウに保存します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-319">Click **Save** to save your changes in the Archive Object exception tables window.</span></span> <span data-ttu-id="b0a2a-320">探索プロセスを開始し、アーカイブ オブジェクトを作成するには、**続行** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-320">Click **Continue** to start the discovery process and create the Archive Object.</span></span>
      > [!NOTE]
      > <span data-ttu-id="b0a2a-321">**管理** &gt; **検出** コマンドを使用すると、例外パラメーター リストを管理できます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-321">The **Administer** &gt; **Discovery** command lets you maintain an exception parameters list.</span></span> <span data-ttu-id="b0a2a-322">アーカイブ検索が選択されている例外パラメーター リストに属しているテーブルは、ドライバー テーブルと除外さらたテーブルの間にリレーションシップがあっても、アーカイブ オブジェクトが作成されると、リレーションシップ ツリーから除外されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-322">A table that belongs to the exception parameters list, with Archive discovery selected, is excluded from the relationship tree when the Archive Object is created, even if there is a relationship between the driver table and the excluded table.</span></span>

   <span data-ttu-id="b0a2a-323">Microsoft Dynamics AX データベースからインポートされるメタデータと、例外パラメーター、およびアーカイブ オブジェクト例外テーブル リストを使用して、IDMF は階層的なリレーション ツリーを生成します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-323">Using the metadata that is imported from the Microsoft Dynamics AX database, the exception parameters, and the Archive Object exception tables list, IDMF generates a hierarchical relationship tree.</span></span> <span data-ttu-id="b0a2a-324">リレーションシップ ツリーは 0 階でドライバー テーブルで始まり、親子関係の階層を作成します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-324">The relationship tree starts with the driver table, in level 0, and creates a hierarchy of parent-child relationships.</span></span> <span data-ttu-id="b0a2a-325">アーカイブ オブジェクトが次のスクリーン ショットのようになっていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-325">Make sure that your Archive Object resembles the following screen shot.</span></span> <span data-ttu-id="b0a2a-326">アーカイブ オブジェクトを保存しないでください。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-326">Do not save the Archive Object.</span></span> 

   ![展開された IDMF アーカイブ オブジェクト](./media/idmfarchiveobjectexpanded.png) 

   <span data-ttu-id="b0a2a-328">このアーカイブ オブジェクトのリレーションシップ ツリーは 5 階層の深さです。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-328">The relationship tree in this Archive Object is five levels deep.</span></span> <span data-ttu-id="b0a2a-329">最上位レベルのレベル 0 には、ドライバー テーブル **WMSOrder** が含まれています。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-329">Level 0, the topmost level, contains the driver table, **WMSOrder**.</span></span> <span data-ttu-id="b0a2a-330">レベル 1 には、ドライバー テーブルの子エンティティが含まれています。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-330">Level 1 contains the child entities of the driver table.</span></span> <span data-ttu-id="b0a2a-331">レベル 2 には、レベル 1 のテーブルの子エンティティが含まれています。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-331">Level 2 contains child entities of tables in level 1.</span></span> <span data-ttu-id="b0a2a-332">レベル 4 の最後のレベルには、レベル 3 のテーブルの子エンティティが含まれています。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-332">The last level, level 4, contains the child entities of tables in level 3.</span></span> <span data-ttu-id="b0a2a-333">この関係ツリーは、以下のデータに基づいて作成されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-333">This relationship tree is created based on the following data:</span></span>
   -   <span data-ttu-id="b0a2a-334">Microsoft Dynamics AX メタデータ。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-334">The Microsoft Dynamics AX metadata.</span></span> <span data-ttu-id="b0a2a-335">検出プロセスは、メタデータを使用して、ドライバー テーブルに基づいて親子階層を形成する関連テーブルのリストを作成します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-335">The discovery process uses the metadata to create a list of related tables that form the parent-child hierarchy based on the driver table.</span></span>
   -   <span data-ttu-id="b0a2a-336">例外パラメーター。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-336">The exception parameters.</span></span> <span data-ttu-id="b0a2a-337">例外パラメーターの一覧に属しているテーブルは関係ツリーから除外されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-337">Tables that belong to the exception parameters list are filtered out of the relationship tree.</span></span> <span data-ttu-id="b0a2a-338">**管理** メニューを使用して、例外パラメーターを設定します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-338">Use the **Administer** menu to configure the exception parameters.</span></span>
   -   <span data-ttu-id="b0a2a-339">アーカイブ オブジェクトの例外テーブル ダイアログ ボックスに一覧表示されているテーブル。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-339">The tables listed in the Archive Object exception tables dialog box.</span></span> <span data-ttu-id="b0a2a-340">このダイアログ ボックスで選択したテーブルは、階層的なリレーションシップ ツリーからも除外されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-340">The tables you selected in this dialog box are also filtered out of the hierarchical relationship tree.</span></span>

> [!WARNING]
> <span data-ttu-id="b0a2a-341">**管理** &gt; **マスター データ テーブル** をクリックしてマスター テーブルとして構成するテーブルは、マスター データ同期タスクによって実稼働データベースからアーカイブ データベースに複製されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-341">Tables that you configure as master tables by clicking **Administer** &gt; **Master data tables** are replicated from the production database to the archive database by a master data synchronization task.</span></span> <span data-ttu-id="b0a2a-342">検出プロセスによって作成されたリレーションシップ ツリーには、マスター テーブルとして構成されたテーブルが含まれている場合があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-342">The relationship tree created by the discovery process may include tables that are configured as master tables.</span></span> <span data-ttu-id="b0a2a-343">リレーションシップ ツリーに含まれるテーブルを確認し、マスタ テーブルとして扱う必要があるテーブルを削除します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-343">Verify the tables in the relationship tree, and remove any tables that must be treated as master tables.</span></span> <span data-ttu-id="b0a2a-344">テーブルを右クリックし、**データ レプリケーションを追加** を選択して関係からテーブルを削除し、マスター データ テーブルとしてコンフィギュレーションします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-344">Right-click the table, and select **Add to data replicate** to remove the table from the relationship and configure it as a master data table.</span></span> <span data-ttu-id="b0a2a-345">これらのテーブルを削除しない限り場合、関係ツリー内のテーブルは、アーカイブ オブジェクトを保存するときにマスター データの同期リストから自動的に削除されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-345">If you do not remove these tables, tables in the relationship tree are automatically removed from that master data synchronization list when you save the Archive Object.</span></span>

<span data-ttu-id="b0a2a-346">リレーションシップ ツリーを検証し、Microsoft Dynamics AX アプリケーション上でそのツリーの機能的効果を評価します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-346">Verify the relationship tree, and assess the functional effect of the tree on your Microsoft Dynamics AX application.</span></span> <span data-ttu-id="b0a2a-347">評価の結果として、一部の関係やルールを手動で追加、変更、または削除が必要となる場合があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-347">As a result of your assessment, you may have to manually add, modify, or remove some relations and rules.</span></span> <span data-ttu-id="b0a2a-348">たとえば、**バージョンの表示** をクリックして、IDMF に含まれる既定のテンプレートからアーカイブ オブジェクトを表示します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-348">For example, click **Show versions** to display the Archive Object from the default template that is included with IDMF.</span></span> <span data-ttu-id="b0a2a-349">前の手順で作成したリレーションシップ ツリーとテンプレートのリレーションシップ ツリーを比較します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-349">Compare the relationship tree from the template with the relationship tree you created in the previous procedure.</span></span> <span data-ttu-id="b0a2a-350">**WMSOrder** アーカイブ テンプレートのリレーションシップ ツリーは、作成した **WMSOrder** アーカイブ オブジェクトと異なります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-350">The relationship tree in the **WMSOrder** archive template differs from the **WMSOrder** Archive Object you created.</span></span> <span data-ttu-id="b0a2a-351">この違いは、Microsoft Dynamics AX アプリケーションの機能評価に基づいて既定のテンプレートに加えられた変更によるものです。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-351">The difference is caused by the modification made to the default template, based on the functionality assessment of the Microsoft Dynamics AX application.</span></span> <span data-ttu-id="b0a2a-352">このチュートリアルが示すように、検索によって作成するアーカイブ オブジェクトは、IDMF に含まれる既定のテンプレートと一致しない場合があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-352">As demonstrated by this walkthrough, an Archive Object you create through discovery may not match the default template that is included with IDMF.</span></span> <span data-ttu-id="b0a2a-353">ドライバー テーブルの選択には注意が必要です。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-353">Be careful with your selection of the driver table.</span></span> <span data-ttu-id="b0a2a-354">**ProdTable** などのテーブルを選択すると、各レベルの多数のテーブルにまたがっている数多くのレベルの関係ツリーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-354">If you select a table such as **ProdTable**, the relationship tree can go many levels deep, spanning many tables on each level.</span></span> <span data-ttu-id="b0a2a-355">このようなアーカイブ オブジェクトは、複雑な関係ツリーを作成して、エラーの可能性を高くし、結果としてデータの破損やアプリケーションのダウンタイムが生じます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-355">Such an Archive Object creates a complex relationship tree and increases the potential for error, and for resulting data corruption and application downtime.</span></span> 

![無効なテーブルを含む IDMF アーカイブ オブジェクト](./media/idmfarchiveobjectwithinvalidtables.png)

<span data-ttu-id="b0a2a-357">IDMF に含まれている既定のテンプレートは、Microsoft Dynamics AX 実装のメタデータと一致しない場合があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-357">The default template that is included with IDMF may not match the metadata of your Microsoft Dynamics AX implementation.</span></span> <span data-ttu-id="b0a2a-358">生産データベースのメタデータに見つからない既定テンプレートのテーブルは、無効とマークされます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-358">A table in the default template that is not found in the metadata from the production database is marked invalid.</span></span> <span data-ttu-id="b0a2a-359">図 2 に示すように、無効なテーブルに赤い点線の枠線が表示されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-359">An invalid table appears with a dotted red border, as shown in Figure 2.</span></span> <span data-ttu-id="b0a2a-360">無効なテーブルは削除する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-360">You must remove invalid tables.</span></span> <span data-ttu-id="b0a2a-361">有効なテーブルのフィールドを使用してリレーションとルールを作成するとき、IDMF はこれらのフィールドを検証します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-361">When you use fields from valid tables to create relations and rules, IDMF validates those fields.</span></span> <span data-ttu-id="b0a2a-362">無効なコンフィギュレーション キーが設定されたフィールドは無効と見なされます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-362">A field with a disabled configuration key is considered invalid.</span></span> <span data-ttu-id="b0a2a-363">無効なフィールドを持つ有効なテーブルは、黄色の点線の枠線で表示されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-363">A valid table with invalid fields is shown with a yellow dotted border.</span></span> <span data-ttu-id="b0a2a-364">アーカイブ オブジェクトを保存する前に、リレーションシップ ツリーから無効なルールを含む有効なテーブルを削除するか、またはリレーションシップを修正する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-364">You must either remove valid tables with invalid rules from the relationship tree or fix the relationships before you can save the Archive Object.</span></span>

<a name="navigation-of-the-create-archive-object-workspace"></a><span data-ttu-id="b0a2a-365">アーカイブ オブジェクトの作成ワークスペースのナビゲーション</span><span class="sxs-lookup"><span data-stu-id="b0a2a-365">Navigation of the Create Archive Object workspace</span></span>
-------------------------------------------------

<span data-ttu-id="b0a2a-366">次のテーブルで、このワークスペースのコントロールについて説明します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-366">The following tables provide descriptions for the controls in this workspace.</span></span>
#### <a name="panes"></a><span data-ttu-id="b0a2a-367">ウィンドウ</span><span class="sxs-lookup"><span data-stu-id="b0a2a-367">Panes</span></span>

<table>
  <colgroup>
    <col width="50%" />
    <col width="50%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><span data-ttu-id="b0a2a-368">ウィンドウ</span><span class="sxs-lookup"><span data-stu-id="b0a2a-368">Pane</span></span></th>
    <th><span data-ttu-id="b0a2a-369">説明</span><span class="sxs-lookup"><span data-stu-id="b0a2a-369">Description</span></span></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><span data-ttu-id="b0a2a-370"><strong>リレーションシップ ツリー</strong> ウィンドウ</span><span class="sxs-lookup"><span data-stu-id="b0a2a-370"><strong>Relationship tree</strong> pane</span></span></td>
    <td><span data-ttu-id="b0a2a-371">アーカイブ オブジェクトにすべてのテーブルのグラフィック ビューを提供します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-371">Provides a graphical view of all the tables in the Archive Object.</span></span> <span data-ttu-id="b0a2a-372">次のリストでは、リレーションシップ ツリー ウィンドウを移動するために使用できるコントロールとコマンドを示しています。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-372">The following list provides controls and commands that you can use to navigate the relationship tree pane:</span></span> <ul>
    <li><span data-ttu-id="b0a2a-373"><strong><span class="ui">レベル</span></strong> スライダーでは、レベルを選択して、選択したレベルおよび上位レベルにあるテーブルのみを表示することができます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-373">With the <strong><span class="ui">Level</span></strong> slider, you can select a level and show only the tables at the selected and higher levels.</span></span></li>
    <li><span data-ttu-id="b0a2a-374"><strong><span class="ui">ズーム</span></strong> スライダーでは、図のサイズを変更することができます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-374">With the <strong><span class="ui">Zoom</span></strong> slider, you can change the diagram size.</span></span></li>
    <li><span data-ttu-id="b0a2a-375">次のコマンドを操作するドライバー テーブルを右クリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-375">Right-click the driver table to work with the following commands:</span></span> <ul>
    <li><span data-ttu-id="b0a2a-376"><strong><span class="ui">関連アーカイブ オブジェクトを追加する</span></strong>をクリックし、関連アーカイブ オブジェクトを追加します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-376">Click <strong><span class="ui">Add Related Archive Object</span></strong> to add a Related Archive Object.</span></span></li>
    <li><span data-ttu-id="b0a2a-377">無効なすべてのテーブルを、関連するすべてのテーブルとともに入れ子になった階層から削除するには、<strong><span class="ui">無効なテーブルをすべて削除する</span></strong>をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-377">Click <strong><span class="ui">Remove all invalid tables</span></strong> to remove all invalid tables, together with all their related tables, from the nested hierarchy.</span></span></li>
    </ul></li>
    <li><span data-ttu-id="b0a2a-378">次のコマンドを操作する子テーブルを右クリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-378">Right-click a child table to work with the following commands:</span></span> <ul>
    <li><span data-ttu-id="b0a2a-379">選択したテーブルをレベルから削除し、階層ツリーから入れ子になった子テーブルを削除するには、<strong><span class="ui">削除</span></strong>をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-379">Click <strong><span class="ui">Remove</span></strong> to remove the selected table from the level, and to remove its nested child tables from the hierarchical tree.</span></span> <span data-ttu-id="b0a2a-380">たとえば、<strong>SpecTrans</strong> テーブルはレベル 2 とレベル 3 で表示されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-380">For example, the <strong>SpecTrans</strong> table appears in level 2 and level 3.</span></span> <span data-ttu-id="b0a2a-381">レベル 2 のテーブルを右クリックし、<strong><span class="ui">削除</span></strong>を選択すると、レベル 2 からテーブルが、入れ子になった子関係と共に削除されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-381">If you right-click the table in level 2, and then select <strong><span class="ui">Remove</span></strong>, the table is removed from level 2, together with its nested child relations.</span></span> <span data-ttu-id="b0a2a-382">テーブルの発生はレベル 3 のままです。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-382">The occurrence of the table remains intact in level 3.</span></span></li>
    <li><span data-ttu-id="b0a2a-383"><strong><span class="ui">すべての発生を選択</span></strong>をクリックすると、選択したテーブルとその関連テーブルのすべての出来事が緑色の点線の枠内に表示されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-383">Click <strong><span class="ui">Select all occurrences</span></strong> to display all occurrences of the selected table and its related tables in a dotted green border.</span></span> <span data-ttu-id="b0a2a-384">この場合、テーブル <strong>SpecTrans</strong> は入れ子になった子関係すべてと共にレベル 2 と 3 で選択されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-384">In this case, the table <strong>SpecTrans</strong> is selected in levels 2 and 3, together with all its nested child relationships.</span></span></li>
    <li><span data-ttu-id="b0a2a-385">選択したテーブル、およびその関連テーブルのすべての内容を削除するには、<strong><span class="ui">すべてを削除</span></strong>をクリックしてください。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-385">Click <strong><span class="ui">Remove all occurrences</span></strong> to remove all occurrences of the selected table and its related tables.</span></span> <span data-ttu-id="b0a2a-386">この場合、テーブル <strong>SpecTrans</strong> は入れ子になった子関係すべてと共にレベル 2 と 3 から削除されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-386">In this case, the table <strong>SpecTrans</strong> is removed from levels 2 and 3, together with all its nested child relationships.</span></span> <span data-ttu-id="b0a2a-387">削除されたテーブルが赤い実線の入った灰色の図形に表示されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-387">The removed tables appear in a gray shape with a solid red border.</span></span></li>
    <li><span data-ttu-id="b0a2a-388">選択したテーブルをリレーション ツリーから削除し、マスター テーブル リストに追加するには、<span class="ui"><strong>データ複製に追加</strong></span>をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-388">Click <span class="ui"><strong>Add to data replicate</strong></span> to remove the selected table from the relationship tree and add it to the master tables list.</span></span> <span data-ttu-id="b0a2a-389">このコマンドは次のタスクを実行します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-389">This command performs these tasks:</span></span> <ol>
    <li><span data-ttu-id="b0a2a-390">すべての既存のアーカイブ オブジェクトとアーカイブ テンプレートから、選択したテーブルをそのネストされた子テーブルすべてと共に削除します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-390">Remove the selected table, together with all its nested child tables, from the relationship tree of all existing Archive Objects and archive templates.</span></span></li>
    <li><span data-ttu-id="b0a2a-391">マスター データ テーブル リストの<strong><span class="ui">推奨テーブル</span></strong> タブで選択したテーブルを追加します (<strong><span class="ui">管理</span></strong> &gt; <strong><span class="ui">マスター データ テーブル</span></strong>)。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-391">Add the selected table to the <strong><span class="ui">Recommended tables</span></strong> tab in the master data tables list (<strong><span class="ui">Administer</span></strong> &gt; <strong><span class="ui">Master data tables</span></strong>).</span></span></li>
    </ol></li>
    </ul></li>
    <li><span data-ttu-id="b0a2a-392">選択したテーブルの親子関係階層を再生成するには、<strong><span class="ui">検出</span></strong>をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-392">Click <strong><span class="ui">Discover</span></strong> to regenerate the hierarchical parent-child relationship for the selected table.</span></span> <span data-ttu-id="b0a2a-393">このコマンドは、<strong><span class="ui">WorkSheetHeader</span></strong> というテーブル グループ プロパティを持つテーブルを選択した場合にのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-393">This command is available only when you select a table with the table group property of <strong><span class="ui">WorkSheetHeader</span></strong>.</span></span></li>
    </ul>
    <div class="alert">
    <table>
    <thead>
    <tr class="header">
    <th><span data-ttu-id="b0a2a-394"><strong>メモ</strong></span><span class="sxs-lookup"><span data-stu-id="b0a2a-394"><strong>Note</strong></span></span></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><span data-ttu-id="b0a2a-395">右上隅の記号 X があるテーブルは、フレームワーク オプション ウィンドウの行サイズ、またはテーブルサイズのコンフィギュレーションを満たしています (<strong><span class="ui">管理</span></strong> &gt; <strong><span class="ui">フレームワーク オプション</span></strong>)。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-395">A table with the symbol X in the top-right corner meets the row size or table size configuration in the Framework options window (<strong><span class="ui">Administer</span></strong> &gt; <strong><span class="ui">Framework options</span></strong>).</span></span> <span data-ttu-id="b0a2a-396">これらのテーブルを慎重に確認し、関係から削除してマスター データ テーブル リストに追加する必要があるかどうかを判断します (<strong><span class="ui">管理</span></strong> &gt; <strong><span class="ui">マスター データ テーブル</span></strong>)。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-396">Review these tables carefully to determine whether such tables have to be removed from the relationship and added to the master data tables list (<strong><span class="ui">Administer</span></strong> &gt; <strong><span class="ui">Master data tables</span></strong>).</span></span> <span data-ttu-id="b0a2a-397">マスター データ テーブルの一覧にテーブルを追加するには、テーブルを右クリックし、<strong><span class="ui">データ レプリケートに追加</span></strong> を選択します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-397">To add a table to the master data tables list, right-click the table, and then select <strong><span class="ui">Add to data replicate</span></strong>.</span></span></td>
    </tr>
    </tbody>
    </table>
    </div></td>
    </tr>
    <tr class="even">
    <td><span data-ttu-id="b0a2a-398"><strong><span class="ui">プロパティ</span></strong></span><span class="sxs-lookup"><span data-stu-id="b0a2a-398"><strong><span class="ui">Properties</span></strong></span></span></td>
    <td><span data-ttu-id="b0a2a-399">選択したテーブルのプロパティを表示し、選択したテーブルに使用できるコマンドを提供します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-399">Shows properties for the selected table and provides commands that you can use for the selected table.</span></span> <span data-ttu-id="b0a2a-400">アーカイブ オブジェクト内のテーブルに複数のリレーションが存在するときは、ツリー ビューの <span class="ui">Relations</span> ノードを使用して、このセクションで後で詳しく説明しているように、1 つまたは複数のリレーションを無効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-400">When a table in the Archive Object contains multiple relations, you can use the <span class="ui">Relations</span> node in the tree view to disable one or more relations, as detailed later in this section.</span></span></td>
    </tr>
    <tr class="odd">
    <td><span data-ttu-id="b0a2a-401"><strong><span class="ui">テーブルの削除</span></strong></span><span class="sxs-lookup"><span data-stu-id="b0a2a-401"><strong><span class="ui">Remove table</span></strong></span></span></td>
    <td><span data-ttu-id="b0a2a-402">関係ツリーから削除するテーブルを選択するために使用できるデータ グリッドを提供します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-402">Provides a data grid that you can use to select tables that you want to remove from the relationship tree.</span></span> <span data-ttu-id="b0a2a-403">このペインには、データ グリッドをフィルタリングするために使用できる<span class="ui">高度なフィルタ</span>コントロールもあります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-403">This pane also provides an <span class="ui">Advanced filter</span> control that you can use to filter the data grid.</span></span></td>
    </tr>
    <tr class="even">
    <td><span data-ttu-id="b0a2a-404"><strong><span class="ui">関連情報</span></strong></span><span class="sxs-lookup"><span data-stu-id="b0a2a-404"><strong><span class="ui">Related Information</span></strong></span></span></td>
    <td><span data-ttu-id="b0a2a-405">一部のテーブルの追加情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-405">Provides additional information for some of the tables.</span></span> <span data-ttu-id="b0a2a-406">関連する情報が指定された場合は、テーブルのアーカイブの妥当性を理解するために慎重に読んでください。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-406">If related information is provided, read it carefully to understand the archive relevance of the table.</span></span></td>
    </tr>
    </tbody>
    </table>

#### <a name="buttons"></a><span data-ttu-id="b0a2a-407">ボタン</span><span class="sxs-lookup"><span data-stu-id="b0a2a-407">Buttons</span></span>

| <span data-ttu-id="b0a2a-408">ボタン</span><span class="sxs-lookup"><span data-stu-id="b0a2a-408">Button</span></span>                    | <span data-ttu-id="b0a2a-409">説明</span><span class="sxs-lookup"><span data-stu-id="b0a2a-409">Description</span></span>                                                                                                                                                                                                                                                                                              |
    |---------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="b0a2a-410">**削除**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-410">**Remove**</span></span>                | <span data-ttu-id="b0a2a-411">**テーブルの削除** ウィンドウのデータ グリッドで選択されているテーブルを削除します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-411">Remove tables that are selected in the data grid in the **Remove table** pane.</span></span> <span data-ttu-id="b0a2a-412">テーブルを削除すると、選択したテーブルのすべての子テーブルが削除されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-412">When you remove a table, all the child tables for the selected table are removed.</span></span> <span data-ttu-id="b0a2a-413">削除すると、リレーションシップ ツリー全体が削除され、選択したテーブルの子テーブルのすべてのネストされた親子関係が削除されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-413">The removal spans the whole relationship tree, and all nested parent-child relations for the selected table's child tables are removed.</span></span> |
    | <span data-ttu-id="b0a2a-414">**元に戻す**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-414">**Revert**</span></span>                | <span data-ttu-id="b0a2a-415">アーカイブ対象に行われた変更を前回の変更まで戻します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-415">Reverse the modifications made to the Archive Object, back to the last save.</span></span> <span data-ttu-id="b0a2a-416">これは、「元に戻す」コマンドに似ています。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-416">This resembles an "undo" command.</span></span>                                                                                                                                                                                           |
    | <span data-ttu-id="b0a2a-417">**allShow を選択して表示**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-417">**Show allShow selected**</span></span> | <span data-ttu-id="b0a2a-418">すべてのテーブルまたは選択したテーブルを表示し、ボタンのラベルを切り替えます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-418">Show all tables or selected tables, and toggle the label of the button.</span></span> <span data-ttu-id="b0a2a-419">削除されたテーブルが、周囲に赤い実線の入った灰色のボックスに表示されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-419">Removed tables appear in gray boxes with a solid red line around them.</span></span>                                                                                                                                                           |


#### <a name="fields-remove-table-pane"></a><span data-ttu-id="b0a2a-420">フィールド (テーブルの削除ウィンドウ)</span><span class="sxs-lookup"><span data-stu-id="b0a2a-420">Fields (Remove table pane)</span></span>

| <span data-ttu-id="b0a2a-421">フィールド</span><span class="sxs-lookup"><span data-stu-id="b0a2a-421">Field</span></span>                 | <span data-ttu-id="b0a2a-422">説明</span><span class="sxs-lookup"><span data-stu-id="b0a2a-422">Description</span></span>                                                       |
|-----------------------|-------------------------------------------------------------------|
| <span data-ttu-id="b0a2a-423">**チェック ボックス**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-423">**Check boxes**</span></span>       | <span data-ttu-id="b0a2a-424">関係ツリーから削除するテーブルを選択します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-424">Select tables that you want to remove from the relationship tree.</span></span> |
| <span data-ttu-id="b0a2a-425">**テーブル名**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-425">**Table name**</span></span>        | <span data-ttu-id="b0a2a-426">テーブルの名前。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-426">The name of the table.</span></span>                                            |
| <span data-ttu-id="b0a2a-427">**コンフィギュレーション キー**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-427">**Configuration key**</span></span> | <span data-ttu-id="b0a2a-428">このテーブルのコンフィギュレーション キー。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-428">The configuration key of the table.</span></span>                               |
| <span data-ttu-id="b0a2a-429">**レベル**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-429">**Level**</span></span>             | <span data-ttu-id="b0a2a-430">リレーションシップ ツリー内のテーブルのレベル。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-430">The level of the table in the relationship tree.</span></span>                  |
| <span data-ttu-id="b0a2a-431">**行数**</span><span class="sxs-lookup"><span data-stu-id="b0a2a-431">**Row count**</span></span>         | <span data-ttu-id="b0a2a-432">テーブルの行数。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-432">The number of rows in the table.</span></span>                                  |

<a name="walkthrough-work-with-an-archive-object"></a><span data-ttu-id="b0a2a-433">チュートリアル: アーカイブ オブジェクトの操作</span><span class="sxs-lookup"><span data-stu-id="b0a2a-433">Walkthrough: Work with an Archive Object</span></span>
-----------------------------------------

<span data-ttu-id="b0a2a-434">このセクションでは、アーカイブ オブジェクトの操作に関するチュートリアルを提供します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-434">This section provides a walkthrough for working with an Archive Object.</span></span>

1.  <span data-ttu-id="b0a2a-435">アーカイブ オブジェクトを既に作成していない場合は、1 つを作成します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-435">If you have not created the Archive Object already, create one.</span></span> <span data-ttu-id="b0a2a-436">ツール バーの **保存** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-436">On the toolbar, click **Save**.</span></span> <span data-ttu-id="b0a2a-437">次のダイアログ ボックスで、警告メッセージを注意深く読んでから **はい** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-437">In the next dialog box, read the warning message carefully, and then click **Yes**.</span></span> <span data-ttu-id="b0a2a-438">**名前を付けて保存** ダイアログ ボックスに、**WmsOrder1** と入力してから **保存** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-438">In the **Save as** dialog box, enter **WmsOrder1**, and then click **Save**.</span></span> <span data-ttu-id="b0a2a-439">**OK** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-439">Click **OK**.</span></span>
2.  <span data-ttu-id="b0a2a-440">階層図の **WMSOrder** テーブルをクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-440">Click the **WMSOrder** table in the hierarchy diagram.</span></span>
3.  <span data-ttu-id="b0a2a-441">**ズーム** スライダーを使用して、テーブル名を簡単に読み取れるように図のサイズを変更します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-441">Use the **Zoom** slider to change the diagram size so that you can read the table names easily.</span></span>
4.  <span data-ttu-id="b0a2a-442">リレーションシップ ツリーで、テーブル **WMSOrder** にマウス ポインターを移動し、ツール ヒントに表示される情報を確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-442">In the relationship tree, move the mouse pointer over table **WMSOrder** to see the information that is displayed in the tooltip.</span></span> <span data-ttu-id="b0a2a-443">リレーションシップ ツリーで、**WMSOrderTrans** テーブルの上の **1:N 関係の説明** にマウス ポインターを移動し、ツール ヒントに表示される情報を確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-443">In the relationship tree, move the mouse pointer over the **1:N relationship description** above the **WMSOrderTrans** table to see the information that is displayed in the tooltip.</span></span>
5.  <span data-ttu-id="b0a2a-444">**プロパティ** ウィンドウで、ツリー ビューの各ノードを展開して指定されている情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-444">In the **Properties** pane, expand each node in the tree view to see the information that is provided.</span></span>
6.  <span data-ttu-id="b0a2a-445">**高度な** フィルター コントロールでの選択基準が表示されない場合、**高度な** フィルター矢印をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-445">If the **Advanced** filter control does not show the selection criteria, click the **Advanced** filter arrow.</span></span> <span data-ttu-id="b0a2a-446">**レベル** フィールドに 1 と入力してから、**検索** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-446">Type 1 in the **Level** field, and then click **Search**.</span></span> <span data-ttu-id="b0a2a-447">これにより、レベル 1 にあるテーブルのみが表示されるようにグリッドが変更されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-447">This changes the grid to show only those tables that are in level 1.</span></span>
7.  <span data-ttu-id="b0a2a-448">横にあるチェック ボックスをオンにして **WMSOrderTrans** テーブルを選択します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-448">Select the **WMSOrderTrans** table by selecting the check box next to it.</span></span>
8.  <span data-ttu-id="b0a2a-449">**プロパティ** ウィンドウで **削除** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-449">In the **Properties** pane, click **Remove**.</span></span> <span data-ttu-id="b0a2a-450">テーブル **WMSOrderTrans** とそこのレベル 2、3、4 にあるすべての子テーブルは削除されることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-450">Note that table **WMSOrderTrans** and all its child tables in levels 2, 3, and 4 are removed.</span></span>
9.  <span data-ttu-id="b0a2a-451">**プロパティ** ウィンドウの **すべて表示** ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-451">Click the **Show all** button in the **Properties** pane.</span></span> <span data-ttu-id="b0a2a-452">図にはすべてのテーブルが表示され、削除されたテーブルは赤い線で表示されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-452">The diagram shows all the tables, with the removed tables in red lines.</span></span>
10. <span data-ttu-id="b0a2a-453">**元に戻す** をクリックし、元のアーカイブ オブジェクトを復元します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-453">Click **Revert** to restore the original Archive Object.</span></span> <span data-ttu-id="b0a2a-454">この図は、手順 8で **WMSOrderTrans** を削除する前の状態に戻ります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-454">The diagram now reverts to the state it was in before you deleted **WMSOrderTrans** in step 8.</span></span>
11. <span data-ttu-id="b0a2a-455">手順 7、8、9 を繰り返して、もう一度テーブルを削除します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-455">Repeat steps 7, 8, and 9 to remove the tables again.</span></span> <span data-ttu-id="b0a2a-456">すべての削除されたテーブルが赤い実線の入った灰色の図形に表示されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-456">All the removed tables appear in gray shapes with solid red lines.</span></span>
12. <span data-ttu-id="b0a2a-457">**プロパティ** ウィンドウ内の **選択項目の表示** をクリックし、改訂されたアーカイブ オブジェクトを表示します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-457">Click **Show selected** in the **Properties** pane to see the revised Archive Object.</span></span> <span data-ttu-id="b0a2a-458">削除したテーブルがアーカイブ オブジェクトに存在しないことを確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-458">Verify that the removed tables are not in the Archive Object.</span></span>
13. <span data-ttu-id="b0a2a-459">ツール バーの **保存** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-459">On the toolbar, click **Save**.</span></span> <span data-ttu-id="b0a2a-460">アーカイブ オブジェクトを新しいバージョンで保存するには、ダイアログボックスの **保存** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-460">Click **Save** in the dialog box to save the Archive Object with a new version.</span></span> <span data-ttu-id="b0a2a-461">アーカイブ オブジェクトを保存するときに、一意の名前を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-461">You must provide a unique name when you save an Archive Object.</span></span> <span data-ttu-id="b0a2a-462">IDMF は、新しいバージョンの元のアーカイブ オブジェクトまたはアーカイブ テンプレートとして保存されているアーカイブ オブジェクトを扱います。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-462">IDMF treats the saved Archive Object as a new version of the original Archive Object or archive template.</span></span>
14. <span data-ttu-id="b0a2a-463">ツールバーで、**アーカイブ テンプレート/アーカイブ オブジェクト** をクリックし、**WMSOrder** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-463">On the toolbar, click **Archive template/Archive Objects**, and then click **WMSOrder**.</span></span>
15. <span data-ttu-id="b0a2a-464">アーカイブ オブジェクト図に手順 11 で削除したテーブルが含まれていないことを確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-464">Verify that the Archive Object diagram does not contain the tables you removed in step 11.</span></span> <span data-ttu-id="b0a2a-465">**すべての表示/選択項目の表示** を切り替えて、削除したテーブルが赤い実線による灰色の形状に表示されることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-465">Switch between **Show all/Show** selected to confirm that the removed tables still appear in gray shapes with solid red lines.</span></span>
16. <span data-ttu-id="b0a2a-466">**プロパティ** ウィンドウで **元に戻す** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-466">In the **Properties** pane, click **Revert**.</span></span> <span data-ttu-id="b0a2a-467">アーカイブ オブジェクトは変化しません。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-467">The Archive Object does not change.</span></span> <span data-ttu-id="b0a2a-468">アーカイブ オブジェクトが保存されているため、元に戻す操作で変更を元に戻すことはできません。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-468">The revert action cannot undo the changes, because the Archive Object has been saved.</span></span>
17. <span data-ttu-id="b0a2a-469">ツール バーで、**バージョンの表示** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-469">On the toolbar, click **Show versions**.</span></span> <span data-ttu-id="b0a2a-470">**バージョン履歴** ダイアログ ボックスで、**WMSOrder** をリストから選択し、アーカイブ オブジェクト リストでアーカイブ オブジェクトのバージョンを選択します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-470">In the **Version history** dialog box, select **WMSOrder** from the list, and select the version of the Archive Object in the Archive Object list.</span></span> <span data-ttu-id="b0a2a-471">アーカイブ オブジェクトの各バージョンは、一意の名前で保存されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-471">Each version of the Archive Object is saved with a unique name.</span></span> <span data-ttu-id="b0a2a-472">したがって、リストの各アーカイブ オブジェクトは、異なるバージョンの **WMSOrder** を提供します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-472">Therefore, each Archive Object in the list provides a different version of **WMSOrder**.</span></span>
18. <span data-ttu-id="b0a2a-473">一覧で最後の項目 **WMSOrder** を選択し、**表示** をクリックしてアーカイブ オブジェクトを IDMF にアーカイブ テンプレートとして含まれている最初のバージョンに復元します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-473">Select the last item in the list, **WMSOrder**, and then click **Show** to restore the Archive Object to the first version that is included as the archive template in IDMF.</span></span> <span data-ttu-id="b0a2a-474">復元されたアーカイブ オブジェクトは、手順 1 で作業を開始したアーカイブ オブジェクトとは異なります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-474">The restored Archive Object differs from the Archive Object you started working with in step 1.</span></span> <span data-ttu-id="b0a2a-475">既定のアーカイブ テンプレートのリレーションシップ ツリーは、Microsoft Dynamics AX アプリケーションの機能評価に基づいて調整されています。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-475">The relationship tree in the default archive template has been adjusted based on the functional assessment of the Microsoft Dynamics AX application.</span></span>
19. <span data-ttu-id="b0a2a-476">ツール バーの **保存** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-476">On the toolbar, click **Save**.</span></span> <span data-ttu-id="b0a2a-477">オブジェクトを上書きするには、**はい** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-477">Click **Yes** to overwrite the object.</span></span> <span data-ttu-id="b0a2a-478">**名前を付けて保存** ダイアログ ボックスで、アーカイブ オブジェクトの名前を入力してから **保存** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-478">In the **Save as** dialog box, enter the name for the Archive Object, and then click **Save**.</span></span> <span data-ttu-id="b0a2a-479">保存操作の成功または失敗を示すメッセージを閉じるには、**OK** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-479">Click **OK** to close the message indicating the success or failure of the save operation.</span></span> <span data-ttu-id="b0a2a-480">次のセクションでも使用するため、アーカイブ オブジェクトを開いたままにします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-480">Keep the Archive Object open, because it is also used in the next section.</span></span>

<a name="archive-templatesarchive-object"></a><span data-ttu-id="b0a2a-481">アーカイブ テンプレート/アーカイブ オブジェクト</span><span class="sxs-lookup"><span data-stu-id="b0a2a-481">Archive templates/Archive Object</span></span>
---------------------------------

<span data-ttu-id="b0a2a-482">このコマンドは、システム内のアーカイブ テンプレートとアーカイブ オブジェクトのリストを提供します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-482">This command provides a list of archive templates and Archive Objects in your system.</span></span> <span data-ttu-id="b0a2a-483">アーカイブ テンプレートとは事前定義されたリレーションシップ ツリーで IDMF に含まれているテンプレートです。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-483">An archive template is a template that is included with IDMF with a predefined relationship tree.</span></span> <span data-ttu-id="b0a2a-484">出発点としてアーカイブ テンプレートを使用し、アーカイブ オブジェクトを作成することができます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-484">You can use an archive template as a starting point to create an Archive Object.</span></span> <span data-ttu-id="b0a2a-485">スケジュールされたアーカイブ タスクの使用前に、要件を満たしているかどうか確認するためにアーカイブ テンプレートを確認して保存する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-485">You must review an archive template to make sure that it meets your requirements, and save it before you can use it in a scheduled archive task.</span></span> <span data-ttu-id="b0a2a-486">このコマンドは、**アーカイブ オブジェクトの作成** ワークスペースと同じナビゲーションおよびツールバー コマンドを使用します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-486">This command uses the same navigation and toolbar commands as the **Create Archive Object** workspace.</span></span>

### <a name="walkthrough-work-with-an-archive-template"></a><span data-ttu-id="b0a2a-487">チュートリアル: アーカイブ テンプレートの操作</span><span class="sxs-lookup"><span data-stu-id="b0a2a-487">Walkthrough: Work with an archive template</span></span>

<span data-ttu-id="b0a2a-488">このセクションでは、アーカイブ テンプレートの操作に関するチュートリアルを提供します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-488">This section provides a walkthrough for working with an archive template.</span></span>

1.  <span data-ttu-id="b0a2a-489">ツールバーで、**アーカイブ テンプレート/アーカイブ オブジェクト** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-489">On the toolbar, click **Archive templates/Archive Object**.</span></span> <span data-ttu-id="b0a2a-490">**BankChequeTable** テンプレートのアイコンを確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-490">Observe the icon of the **BankChequeTable** template.</span></span>
2.  <span data-ttu-id="b0a2a-491">リストから **BankChequeTable** を選択します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-491">Select **BankChequeTable** from the list.</span></span>
3.  <span data-ttu-id="b0a2a-492">テーブル、テーブルのプロパティ、関係ツリーを確認し、**BankChequeTable** のデータ アーカイブがアーカイブ テンプレートの関係ツリーを通じてカスケードする方法を理解します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-492">Review the tables, table properties, and relationship tree to understand how the data archiving for **BankChequeTable** cascades through the relationship tree in the archive template.</span></span> <span data-ttu-id="b0a2a-493">このリレーションシップ ツリーに、アプリケーションと、Microsoft Dynamics AX アプリケーションに対して行ったすべてのカスタマイズが含まれていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-493">Make sure that this relationship tree covers your application and any customizations you may have made to the Microsoft Dynamics AX application.</span></span>
4.  <span data-ttu-id="b0a2a-494">ツール バーの **保存** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-494">On the toolbar, click **Save**.</span></span> <span data-ttu-id="b0a2a-495">アーカイブ オブジェクトを保存するときに、一意の名前を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-495">You must provide a unique name when you save an Archive Object.</span></span> <span data-ttu-id="b0a2a-496">名前を BankChequeTable\_ オブジェクトに変更し、この保存されたオブジェクトをアーカイブ オブジェクトとして識別します。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-496">Change the name to BankChequeTable\_object to identify this saved object as an Archive Object.</span></span> <span data-ttu-id="b0a2a-497">**保存** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-497">Click **Save**.</span></span>
5.  <span data-ttu-id="b0a2a-498">続行するにはダイアログ ボックスで **OK** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-498">Click **OK** in the dialog box to continue.</span></span>
6.  <span data-ttu-id="b0a2a-499">ツールバーで、**アーカイブ テンプレート/アーカイブ オブジェクト** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-499">On the toolbar, click **Archive templates/Archive Objects**.</span></span> <span data-ttu-id="b0a2a-500">リストの **BankChequeTable\_オブジェクト** が表示されません。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-500">You do not see **BankChequeTable\_object** in the list.</span></span> <span data-ttu-id="b0a2a-501">パージ オブジェクトとは異なり、アーカイブ オブジェクトは同じ名前で保存されますが、新しいバージョンで保存されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-501">Unlike Purge Objects, Archive Objects are saved with the same name, but with a new version.</span></span> <span data-ttu-id="b0a2a-502">この場合、**BankChequeTable** オブジェクトはバージョン名 **BankChequeTable\_object** で作成されます。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-502">In this case, the **BankChequeTable** object is created with a version name **BankChequeTable\_object**.</span></span> <span data-ttu-id="b0a2a-503">同様に、最新バージョンは有効です。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-503">As always, the latest version is effective.</span></span>
7.  <span data-ttu-id="b0a2a-504">**BankChequeTable** のアイコンが以前と比較して変わっていると、オブジェクトとして保存されることを示しています。</span><span class="sxs-lookup"><span data-stu-id="b0a2a-504">Notice that the icon of **BankChequeTable** is changed compared to earlier, which indicates that it is saved as an object.</span></span>


[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]
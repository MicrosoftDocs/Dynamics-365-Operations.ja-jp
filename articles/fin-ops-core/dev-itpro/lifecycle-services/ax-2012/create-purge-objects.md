---
title: Intelligent Data Management Framework の削除オブジェクトの作成
description: このトピックでは、Microsoft Dynamics AX のアプリケーション テーブル間で階層関係ツリーを定義する IDMF パージ オブジェクトを作成する方法について説明します。
author: kfend
manager: AnnBe
ms.date: 10/26/2017
ms.topic: article
ms.prod: dynamics-ax-2012
ms.service: ''
ms.technology: ''
audience: Developer, IT Pro
ms.reviewer: sericks
ms.search.scope: AX 2012
ms.custom: 17951
ms.assetid: 2ecae3f6-1163-4a0f-8db3-8b53908961ce
ms.search.region: Global
ms.author: kfend
ms.search.validFrom: ''
ms.dyn365.ops.version: 2012
ms.openlocfilehash: efab1b7230fc73587155c33e34d694402b439081
ms.sourcegitcommit: 759325234a763e14071348a6f5399999a92f8264
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/25/2020
ms.locfileid: "2983752"
---
# <a name="create-purge-objects-for-the-intelligent-data-management-framework"></a><span data-ttu-id="384bb-103">Intelligent Data Management Framework の削除オブジェクトの作成</span><span class="sxs-lookup"><span data-stu-id="384bb-103">Create purge objects for the Intelligent Data Management Framework</span></span>

[!include [banner](../../includes/banner.md)]

<a name="considerations-for-purge-objects-driver-tables-relations-and-rules"></a><span data-ttu-id="384bb-104">削除オブジェクト、ドライバー テーブル、関係、およびルールに関する注意事項</span><span class="sxs-lookup"><span data-stu-id="384bb-104">Considerations for Purge Objects, driver tables, relations, and rules</span></span>
---------------------------------------------------------------------

<span data-ttu-id="384bb-105">**注記**: 削除オブジェクトを使用する前に、Microsoft Dynamics AX アプリケーションとデータベースのメンテナンスと管理に精通している必要があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-105">**Note**: Before you use Purge Objects, you must have experience in the maintenance and administration of the Microsoft Dynamics AX application and database.</span></span> <span data-ttu-id="384bb-106">IDMF では、Microsoft Dynamics AX アプリケーション テーブル間の階層関係ツリーを定義する削除オブジェクトを作成できます。</span><span class="sxs-lookup"><span data-stu-id="384bb-106">IDMF lets you create a Purge Object that defines a hierarchical relationship tree among the Microsoft Dynamics AX application tables.</span></span> <span data-ttu-id="384bb-107">特定の条件に基づき選択したレコードにルールを適用することができます。</span><span class="sxs-lookup"><span data-stu-id="384bb-107">You can then apply rules to selected records based on specific criteria.</span></span> <span data-ttu-id="384bb-108">選択基準に一致するレコードは、削除タスクが実行されたときに削除オブジェクト内の関係ツリー全体から削除されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-108">Records matching the selection criteria are deleted from the whole relationship tree in the Purge Object when a purge task runs.</span></span> <span data-ttu-id="384bb-109">このフレームワークを不適切に使用すると、予期しない結果、データベース破損、データベース全体およびアプリケーションの復旧が必要となるアプリケーション ダウンタイムが発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-109">Improper use of this framework can cause unexpected results, database corruption, and application downtime requiring full database and application recovery.</span></span> <span data-ttu-id="384bb-110">実稼働環境で作業する前に、十分に注意を払い、テスト環境でリサイクル戦略を入念にテストする必要があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-110">Exercise extreme caution, and thoroughly test your recycling strategy in a test environment before working in the production environment.</span></span> <span data-ttu-id="384bb-111">削除オブジェクトで作業する場合は、次の点を考慮してください。</span><span class="sxs-lookup"><span data-stu-id="384bb-111">Consider the following points when working with a Purge Object:</span></span>

-   <span data-ttu-id="384bb-112">一時的または中間的なデータを格納するテーブルは通常、削除オブジェクトの主な候補です。</span><span class="sxs-lookup"><span data-stu-id="384bb-112">Tables that store transient or intermediate data are usually good candidates for a Purge Object.</span></span> <span data-ttu-id="384bb-113">こうしたテーブルで削除オブジェクトを作成する前に、データの依存関係とアプリケーションの機能を検証する必要があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-113">You must validate the data dependency and application functionality before creating a Purge Object with such tables.</span></span>
-   <span data-ttu-id="384bb-114">削除オブジェクトのドライバー テーブルとして選択したテーブルが、**SalesParmTable** または **SalesQuotationTable** などのヘッダー テーブルであることを確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-114">Verify that the table you select as the driver table for a Purge Object is a header table, such as **SalesParmTable** or **SalesQuotationTable**.</span></span> <span data-ttu-id="384bb-115">必ずしもいつも正確ではありませんが、そのようなテーブルの **TableGroup** の値は、**WorkSheetHeader**、**Miscellaneous**、または **Transaction** です。</span><span class="sxs-lookup"><span data-stu-id="384bb-115">A good indication, although not always accurate, is that the **TableGroup** value for such a table is **WorkSheetHeader**, **Miscellaneous**, or **Transaction**.</span></span>
-   <span data-ttu-id="384bb-116">**TableGroup** 値が **Main**、**Parameter**、**Group**、**WorkSheetLine** のテーブルをドライバー テーブルにすることはできません。</span><span class="sxs-lookup"><span data-stu-id="384bb-116">Tables with a **TableGroup** value of **Main**, **Parameter**, **Group**, and **WorkSheetLine** cannot be driver tables.</span></span>
-   <span data-ttu-id="384bb-117">ドライバー テーブルは、階層リレーションシップ ツリーのルート親になります。</span><span class="sxs-lookup"><span data-stu-id="384bb-117">The driver table becomes the root parent in the hierarchical relationship tree.</span></span> <span data-ttu-id="384bb-118">IDMF は **XRefTableRelation** テーブルを照会して、親子関係を判別します。</span><span class="sxs-lookup"><span data-stu-id="384bb-118">IDMF queries the **XRefTableRelation** table to determine the parent-child relationships.</span></span>
-   <span data-ttu-id="384bb-119">削除オブジェクトからレコードを削除すると、次の条件では、アプリケーションでデータの不整合が発生する場合があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-119">Removing records from a Purge Object may cause data inconsistency in your application in these conditions:</span></span>
    -   <span data-ttu-id="384bb-120">ドライバー テーブルには既知の親テーブルがあります。</span><span class="sxs-lookup"><span data-stu-id="384bb-120">The driver table has known parent tables.</span></span>
    -   <span data-ttu-id="384bb-121">ドライバー テーブルには、削除テーブルにリレーションとして追加されていない既知の子テーブルがあります。</span><span class="sxs-lookup"><span data-stu-id="384bb-121">The driver table has known child tables that are not added to the Purge Table as a relation.</span></span>
-   <span data-ttu-id="384bb-122">常に削除オブジェクトを最小化し、実装に必要なルールおよび関係のみを保持します。</span><span class="sxs-lookup"><span data-stu-id="384bb-122">Always minimize the Purge Object, and keep only the necessary relations and rules for your implementations.</span></span> <span data-ttu-id="384bb-123">次の条件の 削除オブジェクトからテーブルを削除することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="384bb-123">Consider removing a table from the Purge Object in these conditions:</span></span>
    -   <span data-ttu-id="384bb-124">このテーブルにはデータが含まれておらず、将来もデータが含まれない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-124">The table does not contain any data, and it is not likely to contain data in the future.</span></span>
    -   <span data-ttu-id="384bb-125">このテーブルには、**CustTransOpen** や **SpecTrans** などの一時データのみが格納されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-125">The table stores only transient data, such as **CustTransOpen** or **SpecTrans**.</span></span>
    -   <span data-ttu-id="384bb-126">テーブルには未処理のトランザクションが格納されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-126">The table stores open transactions.</span></span>
    -   <span data-ttu-id="384bb-127">テーブルはネストされたリレーションシップを作成します。</span><span class="sxs-lookup"><span data-stu-id="384bb-127">The table creates nested relationships.</span></span> <span data-ttu-id="384bb-128">テーブルが、同じ特定関係条件のもとまたは主キーのセットで、関係ツリー上の異なるレベルで複数回表示される場合、関係ツリーの最も低い番号のレベルでのみ表示されるように検討します。</span><span class="sxs-lookup"><span data-stu-id="384bb-128">If a table appears multiple times on different levels in the relationship tree, with the same qualifying relationship condition or set of primary keys, consider keeping the occurrence only in the lowest-numbered level in the relationship tree.</span></span>
    -   <span data-ttu-id="384bb-129">2 つのテーブル間に複数のリレーションシップが存在することがあります。</span><span class="sxs-lookup"><span data-stu-id="384bb-129">There may be multiple relationships between two tables.</span></span> <span data-ttu-id="384bb-130">その場合、リレーションシップと機能を慎重に評価します。</span><span class="sxs-lookup"><span data-stu-id="384bb-130">In that case, evaluate the relationships and functionality carefully.</span></span> <span data-ttu-id="384bb-131">削除オブジェクトでは単一のリレーションシップのみを使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="384bb-131">We recommend that you use only a single relationship in the Purge Object.</span></span> <span data-ttu-id="384bb-132">ただし、必要に応じて、複数のリレーションシップを使用できます。</span><span class="sxs-lookup"><span data-stu-id="384bb-132">However, you can use multiple relationships if necessary.</span></span> <span data-ttu-id="384bb-133">有効なリレーションシップが存在する場合は固有インデックスまたは主キーを使用して、有効なリレーションシップを選択してください。</span><span class="sxs-lookup"><span data-stu-id="384bb-133">Be sure to select a valid relationship using a unique index or primary key, if one exists.</span></span>
    -   <span data-ttu-id="384bb-134">テーブルは、ドライバー テーブルとは無関係で、独自の削除オブジェクトを作成します。</span><span class="sxs-lookup"><span data-stu-id="384bb-134">A table is unrelated to the driver table and makes its own Purge Object.</span></span> <span data-ttu-id="384bb-135">たとえば、**ProdTable** をドライバー テーブルとして使用する場合、**ProdJournalTable** が検出され、それ自体は別の削除オブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="384bb-135">For example, if you use **ProdTable** as a driver table, it also discovers **ProdJournalTable**, which itself is a separate Purge Object.</span></span> <span data-ttu-id="384bb-136">もう 1 つの例は PurchReqTable です。</span><span class="sxs-lookup"><span data-stu-id="384bb-136">Another example is PurchReqTable.</span></span> <span data-ttu-id="384bb-137">**PurchReqTable** をドライバー テーブルとして使用する場合、**PurchParmTable** 削除オブジェクトの一部として、**PurchParmLine** が検出されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-137">If you use **PurchReqTable** as a driver table, it discovers **PurchParmLine**, which itself is a part of the **PurchParmTable** Purge Object.</span></span>
-   <span data-ttu-id="384bb-138">削除オブジェクトに作成したリレーションシップ ツリーがシステムから目的のデータを実際に削除していることを確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-138">Verify that the relationship tree that you have created in the Purge Object actually purges the intended data from your system.</span></span> <span data-ttu-id="384bb-139">作成された削除オブジェクトは、関連するすべてのレコードを参照する必要があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-139">A Purge Object that you create must look at all related records.</span></span> <span data-ttu-id="384bb-140">不足している関係は、データの孤立を引き起こします。</span><span class="sxs-lookup"><span data-stu-id="384bb-140">Missing relationships lead to orphaned data.</span></span>
-   <span data-ttu-id="384bb-141">実稼働環境テスト環境でのデータベースとアプリケーションには、削除の影響を十分にテストします。運用環境に似たテスト環境でデータベースとアプリケーションに対するパージの影響を完全にテストします。</span><span class="sxs-lookup"><span data-stu-id="384bb-141">Thoroughly test the effect of the purge on your database and application in a test environment that resembles your production environment.</span></span> <span data-ttu-id="384bb-142">すべての業務プロセスをテストし、実稼働環境に削除オブジェクトを実装する前にユーザーの承認を得ます。</span><span class="sxs-lookup"><span data-stu-id="384bb-142">Test all business processes, and obtain user sign-off before trying to implement the Purge Object in the production environment.</span></span>
-   <span data-ttu-id="384bb-143">IDMF に含まれている削除テンプレートから削除オブジェクトを作成するときは、テスト環境で、削除オブジェクトを検証して徹底的にテストします。</span><span class="sxs-lookup"><span data-stu-id="384bb-143">When you create a Purge Object from a purge template that is included with IDMF, validate and thoroughly test the Purge Object in a test environment.</span></span> <span data-ttu-id="384bb-144">これらのテンプレートは標準の Microsoft Dynamics AX アプリケーションで作成され、実装と一致しない場合があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-144">These templates are created in a standard Microsoft Dynamics AX application and may not match your implementation.</span></span> <span data-ttu-id="384bb-145">検出プロセスを使用して独自の削除オブジェクトまたはアーカイブ オブジェクトを作成し、適合しているテンプレートを使用できる場合は、プロセスそれらのオブジェクトをそのテンプレートと比較することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="384bb-145">We recommend that you use the discovery process to create your own Purge Objects or Archive Objects, and compare them with the templates, if a matching template is available.</span></span> <span data-ttu-id="384bb-146">探索プロセスで作成したオブジェクトとテンプレートの違いを慎重に分析し、その違いの原因を特定します。</span><span class="sxs-lookup"><span data-stu-id="384bb-146">Carefully analyze any difference between the object you created through the discovery process and the template, to determine the cause of the difference.</span></span> <span data-ttu-id="384bb-147">要件に合わせるために、削除オブジェクトとアーカイブ オブジェクトの関係およびルールを手動で追加または削除します。</span><span class="sxs-lookup"><span data-stu-id="384bb-147">Manually add relations and rules to, or remove relations and rules from, the Purge Objects and Archive Objects to fit your requirements.</span></span>
-   <span data-ttu-id="384bb-148">検出プロセスで関連するすべてのテーブルを取得できるように、TableGroup プロパティが Microsoft Dynamics AX ですべてのカスタム テーブルに対して設定されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-148">Make sure that the TableGroup property is set for all custom tables in Microsoft Dynamics AX, so that the discovery process can retrieve all related tables.</span></span>
-   <span data-ttu-id="384bb-149">アプリケーション オブジェクト ツリー (AOT) でのテーブルの追加、削除、更新や、IDMF を使った Microsoft Dynamics AX メタデータでのデータ ディクショナリ同期など、変更を同期します。</span><span class="sxs-lookup"><span data-stu-id="384bb-149">Synchronize changes, such as adding, deleting, or updating a table in the Application Object Tree (AOT), or the data dictionary synchronization in the Microsoft Dynamics AX metadata with IDMF.</span></span> <span data-ttu-id="384bb-150">メタデータを同期するため、インストール後の作業を実行します。</span><span class="sxs-lookup"><span data-stu-id="384bb-150">Run the post-installation tasks to synchronize the metadata.</span></span> <span data-ttu-id="384bb-151">詳細については、[データ管理フレームワークのインストール ガイド](https://www.microsoft.com/download/details.aspx?id=16111) の「インストール後の作業」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="384bb-151">For information, see the "Post-installation tasks" section in the [Data Management Framework Installation Guide](https://www.microsoft.com/download/details.aspx?id=16111).</span></span>

| <span data-ttu-id="384bb-152">**注意**</span><span class="sxs-lookup"><span data-stu-id="384bb-152">**Caution**</span></span>                                                                                                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="384bb-153">トランザクション タイプのテーブル グループを持つテーブルが、これらのテーブルからデータをパージできる場合にのみ、パージ オブジェクトの一部であることを確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-153">Verify that any tables with a table group of type Transaction are part of the Purge Object only if it is acceptable to purge data from these tables.</span></span> |

## <a name="create-a-new-purge-object"></a><span data-ttu-id="384bb-154">新しい削除オブジェクトを作成します</span><span class="sxs-lookup"><span data-stu-id="384bb-154">Create a new Purge Object</span></span>
<span data-ttu-id="384bb-155">削除オブジェクトを作成するには、これらの手順に従います。</span><span class="sxs-lookup"><span data-stu-id="384bb-155">Follow these steps to create a new Purge Object:</span></span>
1.  <span data-ttu-id="384bb-156">ツールバーで、**削除オブジェクトの作成**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-156">On the toolbar, click **Create Purge Object**.</span></span>
2.  <span data-ttu-id="384bb-157">**削除オブジェクトの作成**ダイアログ ボックスで、**ドライバー テーブル** リストからテーブルを選択します。</span><span class="sxs-lookup"><span data-stu-id="384bb-157">In the **Create Purge Object** dialog box, select a table from the **Driver table** list.</span></span> <span data-ttu-id="384bb-158">このリストは例外リストのテーブルを除外します。</span><span class="sxs-lookup"><span data-stu-id="384bb-158">The list excludes tables from the exception list.</span></span> <span data-ttu-id="384bb-159">**PurchParmTable** に移動して選択します。</span><span class="sxs-lookup"><span data-stu-id="384bb-159">Navigate to and select **PurchParmTable**.</span></span> <span data-ttu-id="384bb-160">ドライバー テーブルは、特定の削除オブジェクトのリレーションシップ ツリーを定義する親テーブルです。</span><span class="sxs-lookup"><span data-stu-id="384bb-160">A driver table is the parent table that defines the relationship tree for a specific Purge Object.</span></span> <span data-ttu-id="384bb-161">削除オブジェクトでは、ドライバー テーブルに子エンティティがある場合がありますが、リレーションシップ ツリーに親エンティティはありません。</span><span class="sxs-lookup"><span data-stu-id="384bb-161">In a Purge Object, the driver table may have child entities, but it does not have a parent entity in the relationship tree.</span></span>
3.  <span data-ttu-id="384bb-162">続行するには、テーブルの最もユニークなインデックスを選択します。</span><span class="sxs-lookup"><span data-stu-id="384bb-162">To continue, select the most unique index for the table.</span></span> <span data-ttu-id="384bb-163">このインデックスは、削除オブジェクトに親子関係を作成するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-163">This index is used to create the parent-child relationship in the Purge Object.</span></span> <span data-ttu-id="384bb-164">**固有のキー** フィールドで、**ParmId** を選択します。</span><span class="sxs-lookup"><span data-stu-id="384bb-164">In the **Unique keys** field, select **ParmId**.</span></span> <span data-ttu-id="384bb-165">**ParmTableRefIdx** インデックスは、**ParmID** および **TableRefID** フィールドを使用して作成されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-165">The **ParmTableRefIdx** index is created using the **ParmID** and **TableRefID** fields.</span></span> <span data-ttu-id="384bb-166">**ParmID** を選択して部分的なキーを選択していることに注意します。</span><span class="sxs-lookup"><span data-stu-id="384bb-166">Notice that by selecting **ParmID**, you are selecting a partial key.</span></span> <span data-ttu-id="384bb-167">固有インデックスを使用すると、探索プロセスは、Finance などの同じ機能エリアに関連するテーブルを識別できます。</span><span class="sxs-lookup"><span data-stu-id="384bb-167">A unique index enables the discovery process to identify related tables in the same functional area, such as Finance.</span></span> <span data-ttu-id="384bb-168">固有のインデックスを選択しない場合、検出プロセスですべての機能領域から関連テーブルが検索されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-168">If you do not select a unique index, the discovery process may find related tables from all functional areas.</span></span> <span data-ttu-id="384bb-169">探索プロセスにより、Microsoft Dynamics AX 実装の正しい機能関係を識別できるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-169">You must make sure that the discovery process identifies the correct functional relationships for your implementation of Microsoft Dynamics AX.</span></span>
4.  <span data-ttu-id="384bb-170">**検出**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-170">Click **Discover**.</span></span> <span data-ttu-id="384bb-171">IDMF は、Microsoft Dynamics AX データベースからインポートされたメタデータと例外パラメーター リストを使用して、関係ツリーを生成します。</span><span class="sxs-lookup"><span data-stu-id="384bb-171">IDMF uses metadata that is imported from the Microsoft Dynamics AX database, and the exception parameters list, to generate a relationship tree.</span></span> <span data-ttu-id="384bb-172">リレーションシップ ツリーはドライバー テーブルで始まり、親子関係の階層を作成します。</span><span class="sxs-lookup"><span data-stu-id="384bb-172">The relationship tree starts with the driver table and creates a hierarchy of parent-child relationships.</span></span> <span data-ttu-id="384bb-173">削除オブジェクトが次の図のようになっていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-173">Make sure that your Purge Object resembles the following graphic.</span></span>

![IDMF 削除オブジェクト](./media/idmfpurgeobject.png) 

<span data-ttu-id="384bb-175">この削除オブジェクトのリレーションシップ ツリーは 3 階層の深さです。</span><span class="sxs-lookup"><span data-stu-id="384bb-175">The relationship tree in this Purge Object is three levels deep.</span></span> <span data-ttu-id="384bb-176">最上位レベルのレベル 0 には、ドライバー テーブル PurchParmTable が含まれています。</span><span class="sxs-lookup"><span data-stu-id="384bb-176">Level 0, the topmost level, contains the driver table, PurchParmTable.</span></span> <span data-ttu-id="384bb-177">レベル 1 には、ドライバー テーブルの子エンティティが含まれています。</span><span class="sxs-lookup"><span data-stu-id="384bb-177">Level 1 contains the child entities of the driver table.</span></span> <span data-ttu-id="384bb-178">レベル 2 の最後のレベルには、レベル 1 のテーブルの子エンティティが含まれています。</span><span class="sxs-lookup"><span data-stu-id="384bb-178">The last level, level 2, contains the child entities of tables in level 1.</span></span> <span data-ttu-id="384bb-179">この関係ツリーは、以下の情報に基づいて作成されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-179">This relationship tree is created based on the following information:</span></span>
-   <span data-ttu-id="384bb-180">Microsoft Dynamics AX メタデータ。</span><span class="sxs-lookup"><span data-stu-id="384bb-180">The Microsoft Dynamics AX metadata.</span></span> <span data-ttu-id="384bb-181">検出プロセスは、メタデータを使用して、ドライバー テーブルに基づいて親子階層を形成する関連テーブルのリストを作成します。</span><span class="sxs-lookup"><span data-stu-id="384bb-181">The discovery process uses the metadata to create a list of related tables that form the parent-child hierarchy based on the driver table.</span></span>
-   <span data-ttu-id="384bb-182">例外パラメーター。</span><span class="sxs-lookup"><span data-stu-id="384bb-182">The exception parameters.</span></span> <span data-ttu-id="384bb-183">例外パラメーターの一覧に属しているテーブルは関係ツリーから除外されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-183">Tables that belong to the exception parameters list are filtered out from the relationship tree.</span></span> <span data-ttu-id="384bb-184">**管理** メニューを使用して、例外パラメーターを設定します。</span><span class="sxs-lookup"><span data-stu-id="384bb-184">Use the **Administer** menu to configure the exception parameters.</span></span>

<span data-ttu-id="384bb-185">リレーションシップ ツリーを検証し、Microsoft Dynamics AX アプリケーション上でそのツリーの機能的効果を評価します。</span><span class="sxs-lookup"><span data-stu-id="384bb-185">Verify the relationship tree, and assess the functional effect of the tree on your Microsoft Dynamics AX application.</span></span> <span data-ttu-id="384bb-186">評価の結果、一部の関係やルールを手動で追加または削除することができます。</span><span class="sxs-lookup"><span data-stu-id="384bb-186">As a result of your assessment, you may decide to manually add or remove some relations and rules.</span></span> <span data-ttu-id="384bb-187">たとえば、**プロパティ**ウィンドウで**復元**をクリックすると、IDMF で出荷する既定のテンプレートから削除オブジェクトが復元されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-187">For example, when you click **Restore** in the **Properties** pane, the Purge Object is restored from the default template that ships with IDMF.</span></span> <span data-ttu-id="384bb-188">この場合の復元されたリレーションシップ ツリーは、ディスカバリ テーブルとして **PurchParmTable** を使用して作成した削除オブジェクトとは異なります。</span><span class="sxs-lookup"><span data-stu-id="384bb-188">The restored relationship tree in this case differs from the Purge Object you created using **PurchParmTable** as the discovery table.</span></span> <span data-ttu-id="384bb-189">これは、標準の Microsoft Dynamics AX アプリケーションの機能評価に基づいて、IDMF の既定のテンプレートが変更されるためです。</span><span class="sxs-lookup"><span data-stu-id="384bb-189">This is because the default template in IDMF is modified based on the functionality assessment of a standard Microsoft Dynamics AX application.</span></span> <span data-ttu-id="384bb-190">検出テーブルにいずれかが存在する場合、検索で作成した削除オブジェクトは、IDMF に含まれている既定のテンプレートと一致しない場合があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-190">The Purge Object you create through discovery may not agree with the default template that is included with IDMF, if one exists for the discovery table.</span></span> <span data-ttu-id="384bb-191">ドライバー テーブルの選択には注意が必要です。</span><span class="sxs-lookup"><span data-stu-id="384bb-191">Be careful with your selection of the driver table.</span></span> <span data-ttu-id="384bb-192">**ProdTable** テーブルなどのテーブルを選択すると、各レベルの多数のテーブルにまたがっている数多くのレベルの関係ツリーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-192">If you select a table such as the **ProdTable** table, the relationship tree can go many levels deep, spanning many tables on each level.</span></span> <span data-ttu-id="384bb-193">そのような削除オブジェクトは、複雑な関係ツリーを作成し、エラーが発生する可能性を高くします。</span><span class="sxs-lookup"><span data-stu-id="384bb-193">Such a Purge Object creates a complex relationship tree and increases the potential for error.</span></span> <span data-ttu-id="384bb-194">IDMF に含まれている既定のテンプレートは、Microsoft Dynamics AX 実装のメタデータと一致しない場合があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-194">The default template that is included with IDMF may not match the metadata of your Microsoft Dynamics AX implementation.</span></span> <span data-ttu-id="384bb-195">生産データベースのメタデータに見つからない既定テンプレートのテーブルは、無効とマークされます。</span><span class="sxs-lookup"><span data-stu-id="384bb-195">A table in the default template that is not found in the metadata from the production database is marked invalid.</span></span> <span data-ttu-id="384bb-196">無効なテーブルに破線の赤い点線の枠線が表示されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-196">An invalid table appears with a dotted red border.</span></span> <span data-ttu-id="384bb-197">削除オブジェクトからすべての無効なテーブルを削除する必要があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-197">You must remove all invalid tables from the Purge Object.</span></span> <span data-ttu-id="384bb-198">有効なテーブルからリレーションおよびルールを作成するために使用するフィールドも検証されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-198">The fields that you use to create relations and rules from the valid tables are also validated.</span></span> <span data-ttu-id="384bb-199">無効なコンフィギュレーション キーが設定されたフィールドは無効と見なされます。</span><span class="sxs-lookup"><span data-stu-id="384bb-199">A field with a disabled configuration key is considered invalid.</span></span> <span data-ttu-id="384bb-200">無効なフィールドを持つ有効なテーブルは、図 2 に示すように、黄色の点線の枠線で表示されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-200">A valid table with invalid fields is shown with a yellow dotted border, as shown in Figure 2.</span></span> <span data-ttu-id="384bb-201">無効フィールドで定義された削除オブジェクトのルールや関係を、すべて削除する必要があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-201">You must remove any rules or relations in the Purge Object that are defined with the disabled fields.</span></span> <span data-ttu-id="384bb-202">無効なテーブル、または無効なフィールドを含むテーブルを削除した後、オブジェクトの使用を続行することができます。</span><span class="sxs-lookup"><span data-stu-id="384bb-202">You can continue using the object after removing the invalid table or tables with invalid fields.</span></span> 

![無効なテーブルを含む IDMF 削除オブジェクト](./media/idmfpurgeobjectwithinvalidtables.png)

## <a name="navigation-of-the-create-purge-object-workspace"></a><span data-ttu-id="384bb-204">削除オブジェクトの作成ワークスペースのナビゲーション</span><span class="sxs-lookup"><span data-stu-id="384bb-204">Navigation of the Create Purge Object workspace</span></span>

<span data-ttu-id="384bb-205">次のテーブルで、このワークスペースのコントロールについて説明します。</span><span class="sxs-lookup"><span data-stu-id="384bb-205">The following tables provide descriptions for the controls in this workspace.</span></span>
### <a name="panes"></a><span data-ttu-id="384bb-206">ウィンドウ</span><span class="sxs-lookup"><span data-stu-id="384bb-206">Panes</span></span>

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th><span data-ttu-id="384bb-207">ウィンドウ</span><span class="sxs-lookup"><span data-stu-id="384bb-207">Pane</span></span></th>
<th><span data-ttu-id="384bb-208">説明</span><span class="sxs-lookup"><span data-stu-id="384bb-208">Description</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span data-ttu-id="384bb-209"><strong>リレーションシップ ツリー ウィンドウ</strong></span><span class="sxs-lookup"><span data-stu-id="384bb-209"><strong>Relationship tree pane</strong></span></span></td>
<td><span data-ttu-id="384bb-210">削除オブジェクトにすべてのテーブルのグラフィック ビューを提供します。</span><span class="sxs-lookup"><span data-stu-id="384bb-210">Provides a graphical view of all the tables in the Purge Object.</span></span> <span data-ttu-id="384bb-211">次のリストでは、リレーションシップ ツリー ウィンドウを移動するために使用できるコントロールとコマンドについて説明します。</span><span class="sxs-lookup"><span data-stu-id="384bb-211">The following list describes the controls and command that you can use to navigate the relationship tree pane:</span></span>
<ul>
<li><span data-ttu-id="384bb-212"><strong><span class="ui">レベル</span></strong> スライダーでは、レベルを選択して、選択したレベルおよび上位レベルにあるテーブルのみを表示することができます。</span><span class="sxs-lookup"><span data-stu-id="384bb-212">With the <strong><span class="ui">Level</span></strong> slider, you can select a level and show only the tables at the selected and higher levels.</span></span></li>
<li><span data-ttu-id="384bb-213"><strong><span class="ui">ズーム</span></strong> スライダーでは、図のサイズを変更することができます。</span><span class="sxs-lookup"><span data-stu-id="384bb-213">With the <strong><span class="ui">Zoom</span></strong> slider, you can change the diagram size.</span></span></li>
<li><span data-ttu-id="384bb-214">ドライバー テーブルを右クリックし、無効なすべてのテーブルを、関連するすべてのテーブルとともに入れ子になった階層で削除するには、<strong><span class="ui">無効なテーブルをすべて削除する</span></strong> をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-214">Right-click the driver table, and then click <strong><span class="ui">Remove all invalid tables</span></strong> to remove all invalid tables, together with all related tables in the nested hierarchy.</span></span></li>
<li><span data-ttu-id="384bb-215">次のオプションを含むメニューを表示するテーブルを右クリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-215">Right-click a table to display a menu with the following options:</span></span>
<ul>
<li><span data-ttu-id="384bb-216">選択したテーブル、およびその関連テーブルを階層ツリーから削除するには、<strong><span class="ui">削除</span></strong>をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-216">Click <strong><span class="ui">Remove</span></strong> to remove the selected table and its related tables from the hierarchical tree.</span></span> <span data-ttu-id="384bb-217">たとえば、<strong>SpecTrans</strong> テーブルはレベル 2 とレベル 3 で表示されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-217">For example, the <strong>SpecTrans</strong> table appears in level 2 and level 3.</span></span> <span data-ttu-id="384bb-218">レベル 2 のテーブルを右クリックし、<strong><span class="ui">削除</span></strong>を選択すると、レベル 2 からテーブルが、入れ子になった子関係と共に削除されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-218">If you right-click the table in level 2, and then select <strong><span class="ui">Remove</span></strong>, the table is removed from level 2, together with its nested child relations.</span></span> <span data-ttu-id="384bb-219">テーブルの発生はレベル 3 のままです。</span><span class="sxs-lookup"><span data-stu-id="384bb-219">The occurrence of the table remains intact in level 3.</span></span></li>
<li><span data-ttu-id="384bb-220"><strong><span class="ui">すべての発生を選択</span></strong>をクリックすると、選択したテーブルとその関連テーブルのすべての出来事が緑色の点線の枠内に表示されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-220">Click <strong><span class="ui">Select all occurrences</span></strong> to display all occurrences of the selected table and its related tables in a dotted green border.</span></span> <span data-ttu-id="384bb-221">この場合、テーブル <strong>SpecTrans</strong> は入れ子になった子関係すべてと共にレベル 2 と 3 で選択されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-221">In this case, the table <strong>SpecTrans</strong> is selected in levels 2 and 3, together with all its nested child relations.</span></span></li>
<li><span data-ttu-id="384bb-222">選択したテーブル、およびその関連テーブルのすべての内容を削除するには、<strong><span class="ui">すべてを削除</span></strong>をクリックしてください。</span><span class="sxs-lookup"><span data-stu-id="384bb-222">Click <strong><span class="ui">Remove all occurrences</span></strong> to remove all occurrences of the selected table and its related tables.</span></span> <span data-ttu-id="384bb-223">この場合、テーブル <strong>SpecTrans</strong> は入れ子になった子関係すべてと共にレベル 2 と 3 から削除されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-223">In this case, the table <strong>SpecTrans</strong> is removed from levels 2 and 3, together with all its nested child relations.</span></span> <span data-ttu-id="384bb-224">削除されたテーブルが赤い実線の入った灰色の図形に表示されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-224">The removed tables appear in a gray-colored shape with a solid red border.</span></span></li>
</ul></li>
<li><span data-ttu-id="384bb-225">選択したテーブルの親子関係階層を再生成するには、<strong><span class="ui">検出</span></strong>をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-225">Click <strong><span class="ui">Discover</span></strong> to regenerate the hierarchical parent-child relationship for the selected table.</span></span> <span data-ttu-id="384bb-226">このコマンドは、<strong><span class="ui">WorkSheetHeader</span></strong> の <strong><span class="ui">TableGroup</span></strong> 値を持つテーブルを選択した場合にのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="384bb-226">This command is available only when you select a table with a <strong><span class="ui">TableGroup</span></strong> value of <strong><span class="ui">WorkSheetHeader</span></strong>.</span></span></li>
</ul></td>
</tr>
<tr class="even">
<td><span data-ttu-id="384bb-227"><strong><span class="ui">プロパティ</span></strong></span><span class="sxs-lookup"><span data-stu-id="384bb-227"><strong><span class="ui">Properties</span></strong></span></span></td>
<td><span data-ttu-id="384bb-228">選択したテーブルのプロパティを表示し、選択したテーブルに使用できるコマンドを提供します。</span><span class="sxs-lookup"><span data-stu-id="384bb-228">Shows properties for the selected table and provides commands that you can use for the selected table.</span></span> <span data-ttu-id="384bb-229">削除オブジェクト内のテーブルに複数のリレーションが存在するときは、ツリー ビューの <span class="ui">Relations</span> ノードを使用して、このトピックで後で詳しく説明しているように、1 つまたは複数のリレーションを無効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="384bb-229">When a table in the Purge Object contains multiple relations, you can use the <span class="ui">Relations</span> node in the tree view to disable one or more relations, as detailed later in this topic.</span></span></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="384bb-230"><strong><span class="ui">テーブルの削除</span></strong></span><span class="sxs-lookup"><span data-stu-id="384bb-230"><strong><span class="ui">Remove table</span></strong></span></span></td>
<td><span data-ttu-id="384bb-231">関係ツリーから削除するテーブルを選択するために使用できるデータ グリッドを提供します。</span><span class="sxs-lookup"><span data-stu-id="384bb-231">Provides a data grid that you can use to select tables for removal from the relationship tree.</span></span> <span data-ttu-id="384bb-232">このペインには、データ グリッドをフィルタリングするために使用できる<span class="ui">高度なフィルタ</span>コントロールもあります。</span><span class="sxs-lookup"><span data-stu-id="384bb-232">This pane also provides an <span class="ui">Advanced filter</span> control that you can use to filter the data grid.</span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="384bb-233"><strong><span class="ui">関連情報</span></strong></span><span class="sxs-lookup"><span data-stu-id="384bb-233"><strong><span class="ui">Related information</span></strong></span></span></td>
<td><span data-ttu-id="384bb-234">一部のテーブルの追加情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="384bb-234">Provides additional information for some of the tables.</span></span> <span data-ttu-id="384bb-235">関連する情報が指定された場合は、テーブルのリサイクルの妥当性を理解するために慎重に読んでください。</span><span class="sxs-lookup"><span data-stu-id="384bb-235">If related information is provided, read it carefully to understand the recycle relevance of the table.</span></span></td>
</tr>
</tbody>
</table>

### 

### <a name="buttons"></a><span data-ttu-id="384bb-236">ボタン</span><span class="sxs-lookup"><span data-stu-id="384bb-236">Buttons</span></span>

| <span data-ttu-id="384bb-237">ボタン</span><span class="sxs-lookup"><span data-stu-id="384bb-237">Button</span></span>                     | <span data-ttu-id="384bb-238">説明</span><span class="sxs-lookup"><span data-stu-id="384bb-238">Description</span></span>                                                                                                                                                                                                                                                                                                 |
|----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="384bb-239">**削除**</span><span class="sxs-lookup"><span data-stu-id="384bb-239">**Remove**</span></span>                 | <span data-ttu-id="384bb-240">[テーブルの削除] ウィンドウのデータ グリッドで選択されているテーブルを削除します。</span><span class="sxs-lookup"><span data-stu-id="384bb-240">Remove tables that are selected in the data grid in the Remove table pane.</span></span> <span data-ttu-id="384bb-241">テーブルを削除すると、選択したテーブルのすべての子テーブルが削除されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-241">When you remove a table, all of the child tables for the selected table are removed.</span></span> <span data-ttu-id="384bb-242">削除すると、リレーションシップ ツリー全体が削除され、選択したテーブルの子テーブルのすべてのネストされた親子リレーションが削除されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-242">The removal spans the whole relationship tree, and all nested parent-child relationships for the selected table's child tables are removed.</span></span> |
| <span data-ttu-id="384bb-243">**元に戻す**</span><span class="sxs-lookup"><span data-stu-id="384bb-243">**Revert**</span></span>                 | <span data-ttu-id="384bb-244">削除オブジェクトに行われた変更を前回の変更まで戻します。</span><span class="sxs-lookup"><span data-stu-id="384bb-244">Reverse the modifications made to the Purge Object, back to the last save.</span></span> <span data-ttu-id="384bb-245">これは、「元に戻す」のようなものです。</span><span class="sxs-lookup"><span data-stu-id="384bb-245">This is like an "undo" command.</span></span>                                                                                                                                                                                                  |
| <span data-ttu-id="384bb-246">**すべて表示/選択されたものを表示**</span><span class="sxs-lookup"><span data-stu-id="384bb-246">**Show all/Show selected**</span></span> | <span data-ttu-id="384bb-247">すべてのテーブルまたは選択したテーブルを表示し、コマンド ボタンのラベルを切り替えます。</span><span class="sxs-lookup"><span data-stu-id="384bb-247">Show all tables or selected tables, and switch the label of the command button.</span></span> <span data-ttu-id="384bb-248">削除されたテーブルが、周囲に赤い点線付きで表示されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-248">Removed tables appear with a dotted red line around them.</span></span>                                                                                                                                                                   |
| <span data-ttu-id="384bb-249">**復元**</span><span class="sxs-lookup"><span data-stu-id="384bb-249">**Restore**</span></span>                | <span data-ttu-id="384bb-250">作成時に使用した元のソースに削除オブジェクトを戻します。</span><span class="sxs-lookup"><span data-stu-id="384bb-250">Revert the Purge Object to the original source that you used to create it.</span></span> <span data-ttu-id="384bb-251">削除テンプレートを使用していた場合、削除オブジェクトは IDMF に同梱されているテンプレートに戻ります。</span><span class="sxs-lookup"><span data-stu-id="384bb-251">If a purge template was used, the Purge Object reverts to the template that is shipped with IDMF.</span></span> <span data-ttu-id="384bb-252">検出プロセスを使用していた場合、削除オブジェクトは、検出し保存した最初の削除オブジェクトに戻ります。</span><span class="sxs-lookup"><span data-stu-id="384bb-252">If the discovery process was used, the Purge Object reverts to the first Purge Object that you discovered and saved.</span></span>           |

### 

### <a name="fields-remove-table-pane"></a><span data-ttu-id="384bb-253">フィールド (テーブルの削除ウィンドウ)</span><span class="sxs-lookup"><span data-stu-id="384bb-253">Fields (Remove table pane)</span></span>

| <span data-ttu-id="384bb-254">フィールド</span><span class="sxs-lookup"><span data-stu-id="384bb-254">Field</span></span>                 | <span data-ttu-id="384bb-255">説明</span><span class="sxs-lookup"><span data-stu-id="384bb-255">Description</span></span>                                                           |
|-----------------------|-----------------------------------------------------------------------|
| <span data-ttu-id="384bb-256">**チェック ボックス**</span><span class="sxs-lookup"><span data-stu-id="384bb-256">**Check boxes**</span></span>       | <span data-ttu-id="384bb-257">関係ツリーから削除するテーブルを選択します。</span><span class="sxs-lookup"><span data-stu-id="384bb-257">Select the tables that you want to remove from the relationship tree.</span></span> |
| <span data-ttu-id="384bb-258">**テーブル名**</span><span class="sxs-lookup"><span data-stu-id="384bb-258">**Table name**</span></span>        | <span data-ttu-id="384bb-259">テーブルの名前。</span><span class="sxs-lookup"><span data-stu-id="384bb-259">The name of the table.</span></span>                                                |
| <span data-ttu-id="384bb-260">**コンフィギュレーション キー**</span><span class="sxs-lookup"><span data-stu-id="384bb-260">**Configuration key**</span></span> | <span data-ttu-id="384bb-261">このテーブルのコンフィギュレーション キー。</span><span class="sxs-lookup"><span data-stu-id="384bb-261">The configuration key of the table.</span></span>                                   |
| <span data-ttu-id="384bb-262">**レベル**</span><span class="sxs-lookup"><span data-stu-id="384bb-262">**Level**</span></span>             | <span data-ttu-id="384bb-263">リレーションシップ ツリー内のテーブルのレベル。</span><span class="sxs-lookup"><span data-stu-id="384bb-263">The level of the table in the relationship tree.</span></span>                      |
| <span data-ttu-id="384bb-264">**行数**</span><span class="sxs-lookup"><span data-stu-id="384bb-264">**Row count**</span></span>         | <span data-ttu-id="384bb-265">テーブルの行数。</span><span class="sxs-lookup"><span data-stu-id="384bb-265">The number of rows in the table.</span></span>                                      |

## <a name="walkthrough-create-a-purge-object"></a><span data-ttu-id="384bb-266">チュートリアル: 削除オブジェクトの作成</span><span class="sxs-lookup"><span data-stu-id="384bb-266">Walkthrough: Create a Purge Object</span></span>
<span data-ttu-id="384bb-267">このセクションでは、削除オブジェクトの操作に関するチュートリアルを提供します。</span><span class="sxs-lookup"><span data-stu-id="384bb-267">This section provides a walkthrough for working with a Purge Object.</span></span>
1.  <span data-ttu-id="384bb-268">削除オブジェクトをまだ作成していない場合は、作成します。</span><span class="sxs-lookup"><span data-stu-id="384bb-268">If you have not created the Purge Object already, create one.</span></span>
2.  <span data-ttu-id="384bb-269">**ズーム** スライダーを使用して、テーブル名を簡単に読み取れるように図のサイズを変更します。</span><span class="sxs-lookup"><span data-stu-id="384bb-269">Use the **Zoom** slider to change the diagram size, so that you can read the table names easily.</span></span>
3.  <span data-ttu-id="384bb-270">リレーションシップ ツリーで、テーブル **PurchParmTable** にマウス ポインターを移動し、ツール ヒントに表示される情報を確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-270">In the relationship tree, move the mouse pointer over the table **PurchParmTable** to see the information that is displayed in the tooltip.</span></span> <span data-ttu-id="384bb-271">リレーションシップ ツリーで、**PurchParmLine** テーブルの上の **1:N 関係の説明**にマウス ポインターを移動し、ツール ヒントに表示される情報を確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-271">In the relationship tree, move the mouse pointer over the **1:N relationship description** above the **PurchParmLine** table to see the information that is displayed in the tooltip.</span></span>
4.  <span data-ttu-id="384bb-272">**プロパティ** ウィンドウで、ツリー ビューの各ノードを展開して指定されている情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="384bb-272">In the **Properties** pane, expand each node in the tree view to see the information that is provided.</span></span>
5.  <span data-ttu-id="384bb-273">**高度なフィルター** コントロールでの選択基準が表示されない場合、**高度なフィルター**矢印をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-273">If the **Advanced filter** control does not show the selection criteria, click the **Advanced filter** arrow.</span></span> <span data-ttu-id="384bb-274">レベル ボックスに 1 と入力してから、**検索** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-274">Type 1 in the level box, and then click **Search**.</span></span> <span data-ttu-id="384bb-275">これにより、レベル 1 にあるテーブルのみが表示されるようにグリッドが変更されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-275">This changes the grid so that it shows only those tables that are in level 1.</span></span>
6.  <span data-ttu-id="384bb-276">横にあるチェック ボックスをオンにして **PurchParmLine** テーブルを選択します。</span><span class="sxs-lookup"><span data-stu-id="384bb-276">Select the **PurchParmLine** table by selecting the check box next to it.</span></span>
7.  <span data-ttu-id="384bb-277">**プロパティ** ウィンドウで**削除**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-277">In the **Properties** pane, click **Remove**.</span></span> <span data-ttu-id="384bb-278">テーブル **PurchParmLine**、およびレベル 1 および 2 のすべての子テーブルが赤い枠線でマークされていることを確認します。これらのテーブルはリレーションシップ ツリーから削除されたことを示します。</span><span class="sxs-lookup"><span data-stu-id="384bb-278">Notice that the table **PurchParmLine**, and all its child tables in levels 1 and 2, are marked with a red border, which indicates that these tables have been removed from the relationship tree.</span></span>
8.  <span data-ttu-id="384bb-279">**プロパティ** ウィンドウの**すべて表示**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-279">Click the **Show all** button in the **Properties** pane.</span></span> <span data-ttu-id="384bb-280">図にはすべてのテーブルが表示され、削除されたテーブルは灰色の形で赤い線で表示されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-280">The diagram shows all the tables, with the removed tables in a gray-colored shape with solid red lines.</span></span>
9.  <span data-ttu-id="384bb-281">**元に戻す**をクリックし、元の削除オブジェクトを復元します。</span><span class="sxs-lookup"><span data-stu-id="384bb-281">Click **Revert** to restore the original Purge Object.</span></span> <span data-ttu-id="384bb-282">この図は、手順 7で **PurchParmLine** を削除する前の状態に戻ります。</span><span class="sxs-lookup"><span data-stu-id="384bb-282">The diagram now reverts to the state it was in before you deleted **PurchParmLine** in step 7.</span></span>
10. <span data-ttu-id="384bb-283">手順 6、7、8 を繰り返して、もう一度テーブルを削除します。</span><span class="sxs-lookup"><span data-stu-id="384bb-283">Repeat steps 6, 7, and 8 to remove the tables again.</span></span> <span data-ttu-id="384bb-284">赤い実線の入った灰色の図形に、削除されたすべてのテーブルが表示されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-284">You see all the removed tables in a gray-colored shape with solid red lines.</span></span>
11. <span data-ttu-id="384bb-285">**プロパティ** ウィンドウ内の**選択項目の表示**をクリックし、改訂された削除オブジェクトを表示します。</span><span class="sxs-lookup"><span data-stu-id="384bb-285">Click **Show selected** in the **Properties** pane to see the revised Purge Object.</span></span> <span data-ttu-id="384bb-286">削除したテーブルが削除オブジェクトに存在しないことを確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-286">Verify that the removed tables are not in the Purge Object.</span></span>
12. <span data-ttu-id="384bb-287">削除オブジェクトを保存します。</span><span class="sxs-lookup"><span data-stu-id="384bb-287">Save the Purge Object.</span></span> <span data-ttu-id="384bb-288">ツール バーの **保存** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-288">On the toolbar, click **Save**.</span></span>
13. <span data-ttu-id="384bb-289">警告が表示されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-289">A warning is displayed.</span></span> <span data-ttu-id="384bb-290">警告を慎重に読みます。</span><span class="sxs-lookup"><span data-stu-id="384bb-290">Read the warning carefully.</span></span> <span data-ttu-id="384bb-291">IDMF では、Microsoft Dynamics AX アプリケーション テーブル間の階層関係ツリーを定義する削除オブジェクトを作成できます。</span><span class="sxs-lookup"><span data-stu-id="384bb-291">IDMF lets you create a Purge Object that defines a hierarchical relationship tree among the Microsoft Dynamics AX application tables.</span></span> <span data-ttu-id="384bb-292">特定の条件に基づき選択したレコードにルールを適用することができます。</span><span class="sxs-lookup"><span data-stu-id="384bb-292">You can then apply rules to selected records based on specific criteria.</span></span> <span data-ttu-id="384bb-293">選択基準に一致するレコードは、削除オブジェクト内の関係ツリー全体から削除されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-293">Records matching the selection criteria are deleted from the entire relationship tree in the Purge Object.</span></span> <span data-ttu-id="384bb-294">IDMF を不適切に使用すると、予期しない結果、データベース破損、データベース全体およびアプリケーションの復旧が必要となるアプリケーション ダウンタイムが発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-294">Improper use of IDMF can cause unexpected results, database corruption, and application downtime requiring full database and application recovery.</span></span> <span data-ttu-id="384bb-295">実稼働環境で作業する前に、十分に注意を払い、テスト環境でリサイクル戦略を入念にテストする必要があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-295">Exercise extreme caution, and thoroughly test your recycling strategy in a test environment before working in the production environment.</span></span> <span data-ttu-id="384bb-296">削除オブジェクトの保存を続ける場合は**はい**を 、保存操作をキャンセルする場合は**いいえ**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-296">Click **Yes** to continue saving the Purge Object or **No** to cancel the save operation.</span></span> <span data-ttu-id="384bb-297">チュートリアルを続行するには、**はい**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-297">Click **Yes** to continue with the walkthrough.</span></span>
14. <span data-ttu-id="384bb-298">**名前を付けて保存**ダイアログ ボックスで、名前が **PurchParmTable** であることを確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-298">In the\*\* Save as\*\* dialog box, verify that the name is **PurchParmTable**.</span></span> <span data-ttu-id="384bb-299">**保存** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-299">Click **Save**.</span></span>
15. <span data-ttu-id="384bb-300">**削除オブジェクトの上書き**ダイアログ ボックスで、**はい**をクリックして新しいバージョンで削除オブジェクトを上書きします。</span><span class="sxs-lookup"><span data-stu-id="384bb-300">In the **Overwrite Purge Object** dialog box, click **Yes** to overwrite the Purge Object with the new version.</span></span> <span data-ttu-id="384bb-301">**保存状態**ダイアログ ボックスで **OK** をクリックして続行します。</span><span class="sxs-lookup"><span data-stu-id="384bb-301">In the **Save status** dialog box, click **OK** to continue.</span></span>
16. <span data-ttu-id="384bb-302">ツールバーで、**削除テンプレート/削除オブジェクト**をクリックし、**PurchParmTable** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-302">On the toolbar, click **Purge template/Purge Objects**, and then click **PurchParmTable**.</span></span> <span data-ttu-id="384bb-303">削除オブジェクトのアイコンが変更されたことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="384bb-303">Notice that the icon of the Purge Object has changed.</span></span> <span data-ttu-id="384bb-304">このアイコンの変更により、削除オブジェクトと削除テンプレートが区別されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-304">This change in the icon differentiates a Purge Object from a purge template.</span></span>
17. <span data-ttu-id="384bb-305">削除オブジェクト図に手順 10 で削除したテーブルが含まれていないことを確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-305">Verify that the Purge Object diagram does not contain the tables you removed in step 10.</span></span> <span data-ttu-id="384bb-306">**すべての表示/選択項目の表示** を切り替えて、削除したテーブルが赤い境界線に引き続き表示されることを確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-306">Switch between **Show all/Show selected** to confirm that the removed tables still show up in the red border.</span></span>
18. <span data-ttu-id="384bb-307">**プロパティ** ウィンドウで**元に戻す**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-307">In the **Properties** pane, click **Revert**.</span></span> <span data-ttu-id="384bb-308">削除オブジェクトは変化しません。</span><span class="sxs-lookup"><span data-stu-id="384bb-308">The Purge Object does not change.</span></span> <span data-ttu-id="384bb-309">削除オブジェクトが保存されているため、元に戻す操作で変更を元に戻すことはできません。</span><span class="sxs-lookup"><span data-stu-id="384bb-309">The revert action cannot undo the changes, because the Purge Object has been saved.</span></span>
19. <span data-ttu-id="384bb-310">**プロパティ** ウィンドウで、**復元**をクリックして削除オブジェクトを元に戻します。</span><span class="sxs-lookup"><span data-stu-id="384bb-310">In the **Properties** pane, click **Restore** to revert the Purge Object.</span></span> <span data-ttu-id="384bb-311">削除オブジェクトは、いずれかが存在する場合、IDMF に含まれる削除テンプレートに戻ります。</span><span class="sxs-lookup"><span data-stu-id="384bb-311">The Purge Object reverts to the purge template that is included in IDMF, if one exists.</span></span> <span data-ttu-id="384bb-312">既定の削除テンプレートがない場合は、削除オブジェクトは検索プロセスで作成した最初のバージョンに戻ります。</span><span class="sxs-lookup"><span data-stu-id="384bb-312">If there is no default purge template, the Purge Object reverts to the first version you created through the discovery process.</span></span> <span data-ttu-id="384bb-313">復元された削除オブジェクトは、手順 1 で作業を開始した削除オブジェクトと同じか、異なる場合があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-313">The restored Purge Object may be the same as, or different from, the Purge Object you started working with in step 1.</span></span> <span data-ttu-id="384bb-314">既定の削除テンプレートには、Microsoft Dynamics AX アプリケーションの機能評価に基づいて変更または調整されたリレーションシップ ツリーが含まれています。</span><span class="sxs-lookup"><span data-stu-id="384bb-314">The default purge template contains a modified or adjusted relationship tree based on the functional assessment of the Microsoft Dynamics AX application.</span></span>
20. <span data-ttu-id="384bb-315">ツール バーの **保存** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-315">On the toolbar, click **Save**.</span></span> <span data-ttu-id="384bb-316">オブジェクトを上書きするには、**はい**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-316">Click **Yes** to overwrite the object.</span></span> <span data-ttu-id="384bb-317">**保存状態**ダイアログ ボックスで **OK** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-317">In the **Save status** dialog box, click **OK**.</span></span> <span data-ttu-id="384bb-318">次のセクションでも使用するため、削除オブジェクトを開いたままにします。</span><span class="sxs-lookup"><span data-stu-id="384bb-318">Keep the Purge Object open, because it is also used in the next section.</span></span>

## <a name="walkthrough-disable-a-relation"></a><span data-ttu-id="384bb-319">チュートリアル: リレーションの無効化</span><span class="sxs-lookup"><span data-stu-id="384bb-319">Walkthrough: Disable a relation</span></span>
<span data-ttu-id="384bb-320">このセクションでは、複数の関係を持つテーブル内の関係を無効にするためのチュートリアルを提供します。</span><span class="sxs-lookup"><span data-stu-id="384bb-320">This section provides a walkthrough for disabling relations in a table with multiple relationships.</span></span>
1.  <span data-ttu-id="384bb-321">**コンフィギュレーション** メニューをクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-321">Click the **Configure** menu.</span></span> <span data-ttu-id="384bb-322">ツールバーで、**削除テンプレート/削除オブジェクト**をクリックし、リストから **InventJournalTable** を選択します。</span><span class="sxs-lookup"><span data-stu-id="384bb-322">On the toolbar, click **Purge template/Purge Objects**, and then select **InventJournalTable** from the list.</span></span>
2.  <span data-ttu-id="384bb-323">リレーションシップ ツリーで、**InventJournalTrans** テーブルの上の **1:N 関係の説明**にマウス ポインターを移動し、ツール ヒントに表示される情報を確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-323">In the relationship tree, move the mouse pointer over the **1:N relationship description** above the **InventJournalTrans** table to see the information displayed in the tooltip.</span></span> <span data-ttu-id="384bb-324">このテーブルに関係が 1 つだけあることを確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-324">Notice that this table has only one relation.</span></span>
3.  <span data-ttu-id="384bb-325">リレーションシップ ツリーで、**WMSJournalTable** テーブルの上の **1:N 関係の説明**にマウス ポインターを移動し、ツール ヒントに表示される情報を確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-325">In the relationship tree, move the mouse pointer over the **1:N relationship description** above the **WMSJournalTable** table to see the information displayed in the tooltip.</span></span> <span data-ttu-id="384bb-326">このテーブルに多くの関係があることを確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-326">Notice that this table has many relations.</span></span>
4.  <span data-ttu-id="384bb-327">リレーションシップ ツリーで、**WMSJournalTable** を選択します。</span><span class="sxs-lookup"><span data-stu-id="384bb-327">In the relationship tree, select **WMSJournalTable**.</span></span>
5.  <span data-ttu-id="384bb-328">**プロパティ** ウィンドウで **WMSJournalTable**&gt; **関係**と展開します。</span><span class="sxs-lookup"><span data-stu-id="384bb-328">In the **Properties** pane, expand **WMSJournalTable** &gt; **Relations**.</span></span> <span data-ttu-id="384bb-329">このテーブルには多くのリレーションが含まれていて、**プロパティ** ウィンドウを使用して、1 つまたは複数のリレーションを無効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="384bb-329">This table has many relations, and you can use the **Properties** pane to disable one or more relations.</span></span> <span data-ttu-id="384bb-330">**InventBOM** 関係を右クリックして **関係の無効化** メニューを開きます。</span><span class="sxs-lookup"><span data-stu-id="384bb-330">Right-click the **InventBOM** relation to open the **Disable relation** menu.</span></span> <span data-ttu-id="384bb-331">**関係の無効化** メニューは、テーブルが複数の関係を持つ場合にのみ表示されます。</span><span class="sxs-lookup"><span data-stu-id="384bb-331">The **Disable relation** menu appears only when a table has multiple relations.</span></span>
6.  <span data-ttu-id="384bb-332">**関係**ノードで、**InventCount** を右クリックして**関係の無効化**を選択します。</span><span class="sxs-lookup"><span data-stu-id="384bb-332">In the **Relations** node, right-click **InventCount**, and select **Disable relation**.</span></span> <span data-ttu-id="384bb-333">無効な関係が赤色で表示されていることに注意します。</span><span class="sxs-lookup"><span data-stu-id="384bb-333">Notice that the disabled relation appears in red.</span></span> <span data-ttu-id="384bb-334">**InventCount** を右クリックし、**関係の有効化** を選択します。</span><span class="sxs-lookup"><span data-stu-id="384bb-334">Right-click **InventCount**, and select **Enable relation**.</span></span> <span data-ttu-id="384bb-335">有効な関係が黒色で表示されていることに注意します。</span><span class="sxs-lookup"><span data-stu-id="384bb-335">Notice that the enabled relation appears in black.</span></span> <span data-ttu-id="384bb-336">除外された関係は削除オブジェクトの一部にはなりません。</span><span class="sxs-lookup"><span data-stu-id="384bb-336">An excluded relation does not become part of the Purge Object.</span></span> <span data-ttu-id="384bb-337">複数の有効な関係が削除オブジェクトが生成する SQL ステートメントで「or」句を形成します。</span><span class="sxs-lookup"><span data-stu-id="384bb-337">Multiple enabled relations form the "or" clause in the SQL statement that the Purge Object generates.</span></span>
7.  <span data-ttu-id="384bb-338">削除テンプレートを保存しないでください。</span><span class="sxs-lookup"><span data-stu-id="384bb-338">Do not save the purge template.</span></span>

    | <span data-ttu-id="384bb-339">**注意**</span><span class="sxs-lookup"><span data-stu-id="384bb-339">**Caution**</span></span>                                                                                                            |
    |------------------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="384bb-340">除外された関係を徹底的にテストし、慎重に行います。</span><span class="sxs-lookup"><span data-stu-id="384bb-340">Exercise care, and thoroughly test the excluded relations.</span></span> <span data-ttu-id="384bb-341">誤ったまたは間違った除外はデータの破損を引き起こします。</span><span class="sxs-lookup"><span data-stu-id="384bb-341">An erroneous or incorrect exclusion causes data corruption.</span></span> |

## <a name="purge-templatepurge-objects"></a><span data-ttu-id="384bb-342">テンプレートの削除/オブジェクトの削除</span><span class="sxs-lookup"><span data-stu-id="384bb-342">Purge template/Purge Objects</span></span>
<span data-ttu-id="384bb-343">このコマンドは、システム内の削除テンプレートと削除オブジェクトのリストを提供します。</span><span class="sxs-lookup"><span data-stu-id="384bb-343">This command provides a list of purge templates and Purge Objects in your system.</span></span> <span data-ttu-id="384bb-344">削除テンプレートは、事前定義されたリレーションシップ ツリーで IDMF に含まれているテンプレートです。</span><span class="sxs-lookup"><span data-stu-id="384bb-344">A purge template is a template that is included with IDMF with a predefined relationship tree.</span></span> <span data-ttu-id="384bb-345">出発点として削除テンプレートを使用し、削除オブジェクトを作成することができます。</span><span class="sxs-lookup"><span data-stu-id="384bb-345">You can use a purge template as a starting point to create a Purge Object.</span></span> <span data-ttu-id="384bb-346">削除タスクの使用前に、要件を満たしているかどうか確認するために削除テンプレートを確認して保存する必要があります。</span><span class="sxs-lookup"><span data-stu-id="384bb-346">You must review a purge template to make sure that it meets your requirements, and save it before you can use it in a purge task.</span></span>
### <a name="walkthrough-work-with-a-purge-template"></a><span data-ttu-id="384bb-347">チュートリアル: 削除テンプレートの操作</span><span class="sxs-lookup"><span data-stu-id="384bb-347">Walkthrough: Work with a purge template</span></span>

<span data-ttu-id="384bb-348">このセクションでは、削除テンプレートの操作に関するチュートリアルを提供します。</span><span class="sxs-lookup"><span data-stu-id="384bb-348">This section provides a walkthrough for working with a purge template.</span></span>
1.  <span data-ttu-id="384bb-349">ツールバーで、**削除テンプレート/削除オブジェクト**をクリックし、リストから **InventJournalTable** を選択します。</span><span class="sxs-lookup"><span data-stu-id="384bb-349">On the toolbar, click **Purge template/Purge Objects**, and then select **PurchReqTable** from the list.</span></span>
2.  <span data-ttu-id="384bb-350">テーブル、テーブルのプロパティ、関係ツリーを確認し、**PurchReqTable** での削除アクションが削除テンプレートの関係ツリーを通じてカスケードする方法を理解します。</span><span class="sxs-lookup"><span data-stu-id="384bb-350">Review the tables, table properties, and relationship tree to understand how the delete action on the **PurchReqTable** cascades through the relationship tree in the purge template.</span></span> <span data-ttu-id="384bb-351">このリレーションシップ ツリーに、アプリケーションと、Microsoft Dynamics AX アプリケーションに対して行ったすべてのカスタマイズが含まれていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-351">Make sure that this relationship tree covers your application and any customizations you may have made to the Microsoft Dynamics AX application.</span></span>
3.  <span data-ttu-id="384bb-352">ツール バーの **保存** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-352">On the toolbar, click **Save**.</span></span> <span data-ttu-id="384bb-353">同じ名前を保持するか、名前を変更することができます。</span><span class="sxs-lookup"><span data-stu-id="384bb-353">You can either keep the same name or change the name.</span></span> <span data-ttu-id="384bb-354">名前を PurchReqTable\_ オブジェクトに変更し、この保存されたオブジェクトを削除オブジェクトとして識別します。</span><span class="sxs-lookup"><span data-stu-id="384bb-354">Change the name to PurchReqTable\_object to identify this saved object as a Purge Object.</span></span> <span data-ttu-id="384bb-355">**保存** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-355">Click **Save**.</span></span>
4.  <span data-ttu-id="384bb-356">続行するにはダイアログ ボックスで **OK** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="384bb-356">Click **OK** in the dialog box to continue.</span></span>
5.  <span data-ttu-id="384bb-357">ツールバーで、**削除テンプレート/削除オブジェクト**をクリックし、**PurchReqTable** と **PurchReqTable \_オブジェクト**のアイコンを比較します。</span><span class="sxs-lookup"><span data-stu-id="384bb-357">On the toolbar, click **Purge template/Purge Objects**, and compare the icons of **PurchReqTable** and **PurchReqTable\_object**.</span></span>
6.  <span data-ttu-id="384bb-358">手順 1 ～ 3 を繰り返しますが、オブジェクトを元の名前 **PurchReqTable** で保存します。</span><span class="sxs-lookup"><span data-stu-id="384bb-358">Repeat steps 1 through 3, but save the object as **PurchReqTable**, the original name.</span></span>
7.  <span data-ttu-id="384bb-359">**削除オブジェクトの上書き**ダイアログ ボックスで、**はい**をクリックして新しいバージョンでオブジェクトを上書きします。</span><span class="sxs-lookup"><span data-stu-id="384bb-359">In the **Overwrite Purge Object** dialog box, click **Yes** to overwrite the object with the new version.</span></span> <span data-ttu-id="384bb-360">**OK** をクリックして続行します。</span><span class="sxs-lookup"><span data-stu-id="384bb-360">Click **OK** to continue.</span></span>
8.  <span data-ttu-id="384bb-361">ステップ 5 を繰り返します。</span><span class="sxs-lookup"><span data-stu-id="384bb-361">Repeat step 5.</span></span> <span data-ttu-id="384bb-362">削除オブジェクトと保存された削除テンプレートのアイコンが同じであることを確認します。</span><span class="sxs-lookup"><span data-stu-id="384bb-362">Notice that the icons of a Purge Object and a saved purge template are same.</span></span> <span data-ttu-id="384bb-363">これは、削除テンプレートを保存すると削除オブジェクトになるためです。</span><span class="sxs-lookup"><span data-stu-id="384bb-363">This is because when you save a purge template, it becomes a Purge Object.</span></span>






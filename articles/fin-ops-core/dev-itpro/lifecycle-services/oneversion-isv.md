---
title: 1 つのバージョンを使用した ISV ソリューションの提供
description: このトピックでは、独立系ソフトウェア ベンダー (ISV) が 1 つのバージョンを使用して、ソリューションを 渡す方法について説明します。
author: FrankDahl
manager: AnnBe
ms.date: 04/12/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Developer, IT Pro
ms.reviewer: rhaertle
ms.search.scope: Operations
ms.search.region: Global
ms.author: rhaertle
ms.search.validFrom: 2019-4-12
ms.dyn365.ops.version: Platform update 24
ms.openlocfilehash: 42329ed1e511e70baa540b1f78b04817853cb0dd
ms.sourcegitcommit: a08470a59cfa34a2f451be3431e4ae0bfd7df8cf
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/28/2020
ms.locfileid: "3291674"
---
# <a name="delivering-isv-solutions-using-one-version"></a><span data-ttu-id="2de38-103">1 つのバージョンを使用した ISV ソリューションの提供</span><span class="sxs-lookup"><span data-stu-id="2de38-103">Delivering ISV solutions using One Version</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="2de38-104">1 つのバージョンにより、新しい更新プログラムは自動的にブロードキャストされ、ダウンタイムは最小限に抑えられます。さらに、高価なアップグレードを行うことなく、最新の機能や修正を最新の状態に保つことができます。</span><span class="sxs-lookup"><span data-stu-id="2de38-104">Thanks to One Version, new updates are now automatically broadcast, downtime is minimal, and customers enjoy the benefits of staying current with recent features and fixes without having to go through expensive upgrades.</span></span>

<span data-ttu-id="2de38-105">機能管理により、新しい機能をいつ適用するか顧客が制御できます。</span><span class="sxs-lookup"><span data-stu-id="2de38-105">Feature management lets customers control when new features are applied.</span></span> <span data-ttu-id="2de38-106">したがって、独立系ソフトウェア ベンダ (ISV) のパートナーとして、長いリリース サイクルを伴う待ち時間を処理することなく、Microsoft と協力して新機能を活用できます。</span><span class="sxs-lookup"><span data-stu-id="2de38-106">Therefore, as an independent software vendor (ISV) partner, you can innovate together with Microsoft to take advantage of new features without having to handle the waiting times that come with long release cycles.</span></span> <span data-ttu-id="2de38-107">すべての顧客が現在のバージョンを稼働している場合、保守するバージョンが少なくなります。</span><span class="sxs-lookup"><span data-stu-id="2de38-107">When all your customers run on current versions, you have fewer versions to maintain.</span></span> <span data-ttu-id="2de38-108">代わりに、顧客に提供するソリューションの品質の構築に集中することができます。</span><span class="sxs-lookup"><span data-stu-id="2de38-108">You can focus instead on building quality into the solutions that you provide for your customers.</span></span>

<span data-ttu-id="2de38-109">また、現在のバージョンを処理するプロセスは、以前のバージョンよりシームレスで安全です。</span><span class="sxs-lookup"><span data-stu-id="2de38-109">The process of servicing current versions is also more seamless and safer than it was in earlier versions.</span></span> <span data-ttu-id="2de38-110">以前は、パッチ適用には個々の修正を組み合わせて顧客環境とマージする必要がありました。</span><span class="sxs-lookup"><span data-stu-id="2de38-110">Previously, patching required that individual fixes be combined and merged into a customer environment.</span></span>

<span data-ttu-id="2de38-111">拡張性によって並んだソリューションの展開が可能になり、ソリューションをどのように構成するかに関してより多くの選択を顧客に提供します。</span><span class="sxs-lookup"><span data-stu-id="2de38-111">Extensibility allows for deployment of side-by-side solutions that give customers more choices about how they configure their solutions.</span></span>

<span data-ttu-id="2de38-112">1 つのバージョンのモデルでは、顧客ユーザー受け入れテスト (UAT) 環境と実稼働環境が毎月更新されます。</span><span class="sxs-lookup"><span data-stu-id="2de38-112">In the One Version model, customer user acceptance testing (UAT) environments and production environments are updated every month.</span></span> <span data-ttu-id="2de38-113">更新プログラムによって問題が起きないことが重要です。</span><span class="sxs-lookup"><span data-stu-id="2de38-113">It's critical that updates not cause issues.</span></span> <span data-ttu-id="2de38-114">ただし、Microsoft は環境の更新によって技術的な問題と機能的な問題の両方が発生する可能性を認識しています。</span><span class="sxs-lookup"><span data-stu-id="2de38-114">However, Microsoft acknowledges that both technical issues and functional issues may arise when environments are updated.</span></span>

+ <span data-ttu-id="2de38-115">技術的な問題には、ソリューションのカスタマイズが使用するアプリケーション プログラミング インターフェイス (API) の重大な変更が含まれます。</span><span class="sxs-lookup"><span data-stu-id="2de38-115">Technical issues include breaking changes in application programming interfaces (APIs) that customizations in your solutions use.</span></span>
+ <span data-ttu-id="2de38-116">顧客が経験する機能上の問題は、新機能導入の時期を誤ることで引き起こされる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-116">Functional issues that customers experience can be caused by the untimely introduction of new features.</span></span> <span data-ttu-id="2de38-117">Microsoft は、既存のプロセスに影響を与える可能性があるすべての新機能を、機能管理の対象とします。</span><span class="sxs-lookup"><span data-stu-id="2de38-117">Microsoft will put any new functionality that might affect existing processes under feature management.</span></span> <span data-ttu-id="2de38-118">この方法で、顧客は新機能をいつ採用するか制御できます。</span><span class="sxs-lookup"><span data-stu-id="2de38-118">In this way, customers can control when new functionality is adopted.</span></span> <span data-ttu-id="2de38-119">したがって、新機能について検証し、文書化し、そしてユーザーをトレーニングする時間があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-119">Therefore, they have time to validate, document, and train their users about the new features.</span></span>
+ <span data-ttu-id="2de38-120">機能的な問題は、機能的な後退を起こす意図しない変更であるかもしれません。</span><span class="sxs-lookup"><span data-stu-id="2de38-120">Functional issues might also be unintended changes that cause functional regressions.</span></span>

<span data-ttu-id="2de38-121">技術的および機能的な問題を防止することは困難であり、Microsoft と ISV パートナーとの間の緊密な調整が求められます。</span><span class="sxs-lookup"><span data-stu-id="2de38-121">Prevention of technical and functional issues is difficult and requires close coordination between Microsoft and you as an ISV partner.</span></span> <span data-ttu-id="2de38-122">Microsoft の目標は、マイクロソフトの経験と似た方法を採用することです。</span><span class="sxs-lookup"><span data-stu-id="2de38-122">The Microsoft goal is that you will adopt practices that resemble Microsoft practices.</span></span> <span data-ttu-id="2de38-123">このトピックでは、お客様と Microsoft がともにこの目標を達成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="2de38-123">This topic explains how you and Microsoft can achieve this goal together.</span></span> <span data-ttu-id="2de38-124">今後数ヶ月間のうちに、Microsoft は役に立つ新しい経験とツールをリリースします。</span><span class="sxs-lookup"><span data-stu-id="2de38-124">Over the next several months, Microsoft will release new practices and tools to help you.</span></span> <span data-ttu-id="2de38-125">このトピックはツールとプラクティスの進化とともに更新されます。</span><span class="sxs-lookup"><span data-stu-id="2de38-125">This topic will be updated as the tools and practices evolve.</span></span>

<span data-ttu-id="2de38-126">このトピックは次のセクションを含みます:</span><span class="sxs-lookup"><span data-stu-id="2de38-126">This topic includes the following sections:</span></span>

+ [<span data-ttu-id="2de38-127">顧客サービス</span><span class="sxs-lookup"><span data-stu-id="2de38-127">Servicing customers</span></span>](#servicing-customers)
+ [<span data-ttu-id="2de38-128">互換性</span><span class="sxs-lookup"><span data-stu-id="2de38-128">Compatibility</span></span>](#compatibility)

    - [<span data-ttu-id="2de38-129">ランタイムの互換性</span><span class="sxs-lookup"><span data-stu-id="2de38-129">Runtime compatibility</span></span>](#runtime-compatibility)
    - [<span data-ttu-id="2de38-130">デザイン時の互換性</span><span class="sxs-lookup"><span data-stu-id="2de38-130">Design-time compatibility</span></span>](#design-time-compatibility)

+ [<span data-ttu-id="2de38-131">新しいリリースの開発</span><span class="sxs-lookup"><span data-stu-id="2de38-131">Developing new releases</span></span>](#developing-new-releases)

    - [<span data-ttu-id="2de38-132">拡張性の設計</span><span class="sxs-lookup"><span data-stu-id="2de38-132">Designing for extensibility</span></span>](#designing-for-extensibility)
    - [<span data-ttu-id="2de38-133">データ アップグレード</span><span class="sxs-lookup"><span data-stu-id="2de38-133">Data upgrade</span></span>](#data-upgrade)
    - [<span data-ttu-id="2de38-134">エクスポージャ機能</span><span class="sxs-lookup"><span data-stu-id="2de38-134">Feature exposure</span></span>](#feature-exposure)

+ [<span data-ttu-id="2de38-135">分岐とビルド</span><span class="sxs-lookup"><span data-stu-id="2de38-135">Branches and builds</span></span>](#branches-and-builds)
+ [<span data-ttu-id="2de38-136">テスト</span><span class="sxs-lookup"><span data-stu-id="2de38-136">Testing</span></span>](#testing)
+ [<span data-ttu-id="2de38-137">更新の展開</span><span class="sxs-lookup"><span data-stu-id="2de38-137">Deploying updates</span></span>](#deploying-updates)
+ [<span data-ttu-id="2de38-138">1 つのバージョン 自動展開の一部である ISV ソリューション</span><span class="sxs-lookup"><span data-stu-id="2de38-138">ISV solutions as part of One Version automated deployment</span></span>](#isv-solutions-as-part-of-one-version-automated-deployment)
+ [<span data-ttu-id="2de38-139">バイナリやソースコードをリリースする必要があるか</span><span class="sxs-lookup"><span data-stu-id="2de38-139">Should I release binaries or source code?</span></span>](#should-i-release-binaries-or-source-code)

## <a name="servicing-customers"></a><span data-ttu-id="2de38-140">顧客サービス</span><span class="sxs-lookup"><span data-stu-id="2de38-140">Servicing customers</span></span>

<span data-ttu-id="2de38-141">Dynamics 365 Finance and Operations アプリは、Microsoft Azure で実行されます。</span><span class="sxs-lookup"><span data-stu-id="2de38-141">Dynamics 365 Finance and Operations apps run on Microsoft Azure.</span></span> <span data-ttu-id="2de38-142">したがって、それはサービスとして実行されるソリューションです。</span><span class="sxs-lookup"><span data-stu-id="2de38-142">Therefore, it's a solution that runs as a service.</span></span> <span data-ttu-id="2de38-143">Microsoft は企業に対して、異常動作をレポートする警告から、顧客やそのパートナーによって送信されたサポート チケットまで、積極的に年中無休で対応しています。</span><span class="sxs-lookup"><span data-stu-id="2de38-143">Microsoft services companies 24/7, either proactively from alerts that report unusual behavior, or from support tickets that are submitted by customers or their partners.</span></span> <span data-ttu-id="2de38-144">Microsoft は稼働中のサービスをサポートする幅広いツールを持っています。</span><span class="sxs-lookup"><span data-stu-id="2de38-144">Microsoft has a range of tools to help support the services that are running.</span></span> <span data-ttu-id="2de38-145">これらのツールには、サービスから収集される使用状況のデータが含まれます。</span><span class="sxs-lookup"><span data-stu-id="2de38-145">These tools include usage data that is collected from the services.</span></span> <span data-ttu-id="2de38-146">顧客データを保護するために、Microsoft は顧客システムにアクセスできる人物に注意を払っています。</span><span class="sxs-lookup"><span data-stu-id="2de38-146">To help safeguard customer data, Microsoft is also careful about who can access customer systems.</span></span>

<span data-ttu-id="2de38-147">マイクロソフトが問題を分析するときは、問題がお客様の ISV ソリューションに関連すると判断する場合があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-147">When Microsoft analyzes an issue, it might determine that the issue is related to your ISV solution.</span></span> <span data-ttu-id="2de38-148">Microsoft はこの種類の問題をお客様にレポートし、オフラインでフォローアップできるようにします。</span><span class="sxs-lookup"><span data-stu-id="2de38-148">Microsoft reports this type of issue to you, so that you can follow up offline.</span></span>

<span data-ttu-id="2de38-149">次のサービス更新プログラムが環境に適用される前に、企業は 2 つの連続したサービス更新プログラムをオプトアウトすることができます。</span><span class="sxs-lookup"><span data-stu-id="2de38-149">Companies can opt out of updates for two consecutive service updates before the next service update is applied to their environments.</span></span> <span data-ttu-id="2de38-150">したがって、いつの時点でも、Microsoft は最新の 3 つの月例更新プログラムうち 1 つを企業が実行することを期待できます。</span><span class="sxs-lookup"><span data-stu-id="2de38-150">Therefore, at any time, Microsoft can expect that companies will be running one of the last three monthly updates.</span></span>

<span data-ttu-id="2de38-151">Microsoft がコードの修正が必要な問題を解決したときは、通常は次回の月例更新プログラムにそのコード修正が含まれます。</span><span class="sxs-lookup"><span data-stu-id="2de38-151">When Microsoft resolves an issue that requires a code fix, it generally includes that code fix in the next monthly update.</span></span> <span data-ttu-id="2de38-152">ただし、稼働停止などの報告された非常に重大な問題は、お客様が現在実行しているバージョンに対する修正を要求する場合があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-152">However, very critical issues that are reported, such as production outage, might require that a fix be provided for the version that customers are currently running.</span></span>

<span data-ttu-id="2de38-153">同様のポリシーは ISV ソリューションにも適用され、またコードの更新が必要な場合もあります。</span><span class="sxs-lookup"><span data-stu-id="2de38-153">Similar policies apply to your ISV solution, and you might also have to provide a code update.</span></span> <span data-ttu-id="2de38-154">ソリューションをすべての顧客とバイナリ互換にするには、サポートすべき最も古いプラットフォーム リリースに構築する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-154">For your solution to be binary-compatible with all your customers, it must be built on the oldest platform release that you want to support.</span></span> <span data-ttu-id="2de38-155">Microsoft がリリースする新しい更新プログラムはすべて、バイナリの下位互換性を意図しています。</span><span class="sxs-lookup"><span data-stu-id="2de38-155">All new updates that Microsoft releases are intended to be binary backward-compatible.</span></span> <span data-ttu-id="2de38-156">この互換性により、最新 3 つの更新のうち最も古いものに基づいて、ソリューションのひとつのサービス バージョンのみを保守することが可能です。</span><span class="sxs-lookup"><span data-stu-id="2de38-156">This compatibility gives you the option of maintaining only one servicing version of your solution that is based on the oldest of the three most recent updates.</span></span> <span data-ttu-id="2de38-157">したがって、ただひとつのリリース済みソリューションを保守する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-157">Therefore, you must maintain just one released solution,.</span></span> <span data-ttu-id="2de38-158">最新 3 つの更新プログラムのどれを実行しているかに関わらず、そのソリューションを使用してすべての顧客を更新できます。</span><span class="sxs-lookup"><span data-stu-id="2de38-158">You can then use that solution to update all your customers, regardless of which of the three most recent updates they are running.</span></span> <span data-ttu-id="2de38-159">顧客が新しい Microsoft の更新プログラムを採用したら、保守しているソリューションを新しいリリースにリベースして、最新の 3 つの更新プログラムで最新の状態に維持します。</span><span class="sxs-lookup"><span data-stu-id="2de38-159">As your customers adopt new Microsoft updates, you can rebase your maintained solution to a newer release to remain current with the three most recent updates.</span></span>

<span data-ttu-id="2de38-160">この推奨はリリースされたソリューションのサービスと保守に適用されます。</span><span class="sxs-lookup"><span data-stu-id="2de38-160">This recommendation applies to servicing and maintaining your released solution.</span></span> <span data-ttu-id="2de38-161">ソリューションの新しいリリースを開発するには異なるアプローチがありえます。</span><span class="sxs-lookup"><span data-stu-id="2de38-161">You will use a different approach to develop new releases of your solution.</span></span> <span data-ttu-id="2de38-162">詳細はこのトピックの [新しいリリースの開発](#developing-new-releases) セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="2de38-162">For more information, see the [Developing new releases](#developing-new-releases) section of this topic.</span></span>

## <a name="compatibility"></a><span data-ttu-id="2de38-163">互換性</span><span class="sxs-lookup"><span data-stu-id="2de38-163">Compatibility</span></span>

<span data-ttu-id="2de38-164">Microsoft は既存のカスタマイズとの互換性を保証するよう努めています。</span><span class="sxs-lookup"><span data-stu-id="2de38-164">Microsoft diligently tries to guarantee compatibility with existing customizations.</span></span> <span data-ttu-id="2de38-165">この目標を達成するために、Microsoft は意図せず壊れた API 契約の識別に役立つツールや自動化のサポートと共に、エンジニアリング プロセスにおいて厳格なプラクティスを使用しています。</span><span class="sxs-lookup"><span data-stu-id="2de38-165">To achieve this goal, Microsoft uses strict practices in its engineering processes, together with tool and automation support that helps identify API contracts that are unintentionally broken.</span></span> <span data-ttu-id="2de38-166">Microsoft のエンジニアはテレメトリによって Microsoft API を参照または拡張するカスタマイズを決定できます。</span><span class="sxs-lookup"><span data-stu-id="2de38-166">Telemetry lets Microsoft engineers determine customizations that reference or extend a Microsoft API.</span></span>

<span data-ttu-id="2de38-167">顧客環境に適用される Finance and Operations アプリの更新は、既存のカスタマイズとの機能的な互換性とバイナリ互換性を意図しています。</span><span class="sxs-lookup"><span data-stu-id="2de38-167">Updates to Finance and Operations apps that are applied to customer environments are intended to be functionally compatible and binary-compatible with existing customizations.</span></span> <span data-ttu-id="2de38-168">この互換性は API だけでなく、機能とユーザー エクスペリエンスも対象にしています。</span><span class="sxs-lookup"><span data-stu-id="2de38-168">This compatibility covers not only APIs, but also functionality and the user experience.</span></span> <span data-ttu-id="2de38-169">顧客はすべての新しい経験に明示的にオプトインする必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-169">Customers must explicitly opt in to all new experiences.</span></span>

<span data-ttu-id="2de38-170">バイナリまたは機能の互換性における廃止または大幅な変更は、12 か月前に発表されます。</span><span class="sxs-lookup"><span data-stu-id="2de38-170">Any deprecation or breaking change in binary or functional compatibility will be announced 12 months in advance.</span></span> <span data-ttu-id="2de38-171">したがって、カスタマイズを替わりのデザインに合わせる十分な時間があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-171">Therefore, you will have enough time to align your customizations with an alternative design.</span></span> <span data-ttu-id="2de38-172">Microsoft ドキュメントの月例更新に注意してください。そして廃止 (非推奨) または内部としてマークされた API を確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-172">You must pay attention to the monthly updates to Microsoft documentation, and you must review the APIs that are marked as obsolete (deprecated) or internal.</span></span> <span data-ttu-id="2de38-173">この方法によって、良いタイミングで変更を管理できるでしょう。</span><span class="sxs-lookup"><span data-stu-id="2de38-173">In this way, you will be able to manage changes in a timely manner.</span></span>

<span data-ttu-id="2de38-174">以下のセクションでは、下位互換性の側面を定義し説明します: ランタイム互換性とデザイン時互換性。</span><span class="sxs-lookup"><span data-stu-id="2de38-174">The following sections define and describe the aspects of backward compatibility: runtime compatibility and design-time compatibility.</span></span>

### <a name="runtime-compatibility"></a><span data-ttu-id="2de38-175">ランタイムの互換性</span><span class="sxs-lookup"><span data-stu-id="2de38-175">Runtime compatibility</span></span>

<span data-ttu-id="2de38-176">Microsoft がリリースする新しい更新プログラムはすべて、ランタイムの下位互換性を意図しています。</span><span class="sxs-lookup"><span data-stu-id="2de38-176">All new updates are intended to be runtime backward-compatible.</span></span> <span data-ttu-id="2de38-177">この互換性はバイナリ互換性と機能互換性の両方を対象にしています。</span><span class="sxs-lookup"><span data-stu-id="2de38-177">This compatibility covers both binary compatibility and functional compatibility.</span></span> <span data-ttu-id="2de38-178">ランタイム互換性とは、運用環境およびサンドボックス環境に存在するカスタマイズが、それらの環境に新しい更新プログラムが展開された後も引き続き機能することを意味します。</span><span class="sxs-lookup"><span data-stu-id="2de38-178">Runtime compatibility means that customizations that exist in production and sandbox environments will continue to work after new updates are deployed in those environments.</span></span> <span data-ttu-id="2de38-179">これらの更新プログラムは、サービス更新と品質更新の両方を含みます。</span><span class="sxs-lookup"><span data-stu-id="2de38-179">These updates include both service updates and quality updates.</span></span>

<span data-ttu-id="2de38-180">ランタイム互換性は、以前のプラットフォームでコンパイルされたカスタマイズに対して、Microsoft によるプラットフォームの変更が下位互換性があることも意味します。</span><span class="sxs-lookup"><span data-stu-id="2de38-180">Runtime compatibility also means that changes made by Microsoft to the platform will be backward-compatible with customizations that were compiled on an earlier platform.</span></span>

<span data-ttu-id="2de38-181">バイナリ後方互換性にのみ対応しています。</span><span class="sxs-lookup"><span data-stu-id="2de38-181">Binary compatibility is backwards only.</span></span> <span data-ttu-id="2de38-182">古いバージョンのプラットフォームにカスタマイズをコンパイルし、それを新しいバージョンの顧客環境に展開することが可能となります。</span><span class="sxs-lookup"><span data-stu-id="2de38-182">You can compile a customization on an older platform, and deploy it to a customer environment that has been updated to a later version.</span></span> <span data-ttu-id="2de38-183">コードをコンパイルして展開する際は、展開先の環境で稼働しているバージョンよりも新しいバージョンでコンパイルしたコードを展開することはできません。</span><span class="sxs-lookup"><span data-stu-id="2de38-183">You cannot deploy code compiled on a later version than the one running on the environment you deploy to.</span></span>

### <a name="design-time-compatibility"></a><span data-ttu-id="2de38-184">デザイン時の互換性</span><span class="sxs-lookup"><span data-stu-id="2de38-184">Design-time compatibility</span></span>

<span data-ttu-id="2de38-185">デザイン時の下位互換性 (つまり、コンパイル時の互換性) とは、開発者が開発環境に更新を適用できて、なんら変更を加えることなくコードが正常にコンパイル可能であることを意味します。</span><span class="sxs-lookup"><span data-stu-id="2de38-185">Design-time backward compatibility (that is, compile-time compatibility) means that developers can apply updates to their development environments and successfully compile their code without having to make any changes.</span></span>

<span data-ttu-id="2de38-186">ソリューションの API が顧客の実装でどのように使用されているか、そして大きな変更を引き起こすことなくこれらの API を使用する方法を認識する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-186">You must be aware of how APIs in your solution are used in your customers' implementations, and how you can use these APIs without causing breaking changes.</span></span> <span data-ttu-id="2de38-187">この取り組みの一部として、変更された対象に深く注意して、エンジニアリングのベストプラクティスを信頼する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-187">As part of this effort, you must pay careful attention to what is changed and rely on engineering best practices.</span></span> <span data-ttu-id="2de38-188">避けるべき変更の例は [重大な変更](../extensibility/breaking-changes.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2de38-188">For examples of changes that you should avoid, see [Breaking changes](../extensibility/breaking-changes.md).</span></span>

<span data-ttu-id="2de38-189">Microsoft が設定する基準のような、基準を満たすよう試みる必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-189">You should try to meet a bar that resembles the bar that Microsoft sets.</span></span> <span data-ttu-id="2de38-190">この方法は、お客様とマイクロソフトがどちらも回帰の作成を避けるのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="2de38-190">In that way, both you and Microsoft can help avoid creating regressions.</span></span>

<span data-ttu-id="2de38-191">すべての Microsoft の更新はバイナリ (ランタイム) 互換であることを意図しており、Microsoft はデザイン時の互換性も目指しています。</span><span class="sxs-lookup"><span data-stu-id="2de38-191">All Microsoft updates are intended to be binary (runtime) compatible, and Microsoft also aims for design-time compatibility.</span></span> <span data-ttu-id="2de38-192">ただし、デザイン時の互換性が **なく** バイナリ互換性のままの、必要な変更のカテゴリがひとつあります。</span><span class="sxs-lookup"><span data-stu-id="2de38-192">However, there is one category of required changes that is **not** design time–compatible but remains binary-compatible.</span></span> <span data-ttu-id="2de38-193">更新プログラムが適用された後、コードのコンパイル時に新しいエラーまたは警告が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-193">After an update is applied, new errors or warnings might occur when your code is compiled.</span></span> <span data-ttu-id="2de38-194">これらの変更の例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="2de38-194">Here are some examples of these changes:</span></span>

- <span data-ttu-id="2de38-195">Microsoft は列挙型を拡張可能にします。</span><span class="sxs-lookup"><span data-stu-id="2de38-195">Microsoft makes an enumeration extensible.</span></span>
- <span data-ttu-id="2de38-196">Microsoft は API を廃止または内部としてマークします。</span><span class="sxs-lookup"><span data-stu-id="2de38-196">Microsoft marks an API as obsolete or internal.</span></span>
- <span data-ttu-id="2de38-197">Microsoft は安全でないコーディング方法を回避するために新しいコンパイラ エラーを導入します。</span><span class="sxs-lookup"><span data-stu-id="2de38-197">Microsoft introduces a new compiler error to help avoid unsafe coding practices.</span></span>

<span data-ttu-id="2de38-198">これらすべての変更はソリューションでの作業が必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-198">All these changes might require work on your solution.</span></span>

<span data-ttu-id="2de38-199">バイナリ互換であるデザイン時の重大な変更は、12 か月の廃止予定の通知を必要としません。</span><span class="sxs-lookup"><span data-stu-id="2de38-199">Design-time breaking changes that are binary-compatible don't require a 12-month deprecation notice.</span></span>

## <a name="developing-new-releases"></a><span data-ttu-id="2de38-200">新しいリリースの開発</span><span class="sxs-lookup"><span data-stu-id="2de38-200">Developing new releases</span></span>

<span data-ttu-id="2de38-201">1 つのバージョンと、Finance and Operations アプリがサービスとして実行されているという事実が重なり、フィードバックを収集する優れた手段になります。</span><span class="sxs-lookup"><span data-stu-id="2de38-201">Together, One Version and the fact that the Finance and Operations apps run as a service provides a great vehicle for collecting feedback.</span></span> <span data-ttu-id="2de38-202">フィードバックは今後の更新プログラムに追加すべき新機能を Microsoft が判断するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="2de38-202">Feedback is useful, because it helps Microsoft decide which new features it should add to upcoming updates.</span></span> <span data-ttu-id="2de38-203">これまで、Microsoft のアプローチは多くの新機能を含んむ主要リリースをリリースすることでした。</span><span class="sxs-lookup"><span data-stu-id="2de38-203">Historically, the Microsoft approach has been to release major releases that include many new features.</span></span> <span data-ttu-id="2de38-204">しかし、新しいモデルはに別のアプローチを推奨します。</span><span class="sxs-lookup"><span data-stu-id="2de38-204">However, the new model encourages a different approach.</span></span> <span data-ttu-id="2de38-205">そのため、Microsoft はシステムの利用可能な機能を徐々に構築する一連の継続的な更新プログラムに移行しました。</span><span class="sxs-lookup"><span data-stu-id="2de38-205">Therefore, Microsoft has moved to a series of continuous updates that gradually build on the available capabilities of the system.</span></span> <span data-ttu-id="2de38-206">多くの場合、ひとつの更新プログラムには、Microsoft が以降の更新で強化する初期の小さな機能が含まれています。</span><span class="sxs-lookup"><span data-stu-id="2de38-206">In many cases, one update contains an initial small feature that Microsoft then enriches in later updates.</span></span> <span data-ttu-id="2de38-207">ある場合には、Microsoft は新機能の足場を提供し、新機能を隠したり加える変更を制御するエクスポージャ機能を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-207">In some cases, Microsoft must provide staging for new features, and must use feature exposure to hide the new features or control modifications to them.</span></span>

<span data-ttu-id="2de38-208">ISV ソリューションでも同様のアプローチに従うことを推奨します。</span><span class="sxs-lookup"><span data-stu-id="2de38-208">We recommend that you follow a similar approach for your ISV solutions.</span></span> <span data-ttu-id="2de38-209">迅速な統合と新しい標準機能の拡張が便利です。</span><span class="sxs-lookup"><span data-stu-id="2de38-209">You will benefit from quicker integration and extension of new standard features.</span></span>

<span data-ttu-id="2de38-210">次の図に示すように、独自の新しいリリースの頻度は Microsoft のリリースに依存しないようにできます。</span><span class="sxs-lookup"><span data-stu-id="2de38-210">As the following illustration shows, the frequency of your new releases can be independent of Microsoft releases.</span></span> <span data-ttu-id="2de38-211">このトピックの [分岐とビルド](#branches-and-builds) セクションで説明されているように、ソースコード分岐の戦略の採用を検討する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-211">You should consider adopting a strategy for source code branching, as described in the [Branches and builds](#branches-and-builds) section of this topic.</span></span>

![分岐戦略](media/oneversion-isv-branch.png)

<span data-ttu-id="2de38-213">重要なのは、リリースされた各更新プログラムの品質です。</span><span class="sxs-lookup"><span data-stu-id="2de38-213">What is essential is the quality of every update that is released.</span></span> <span data-ttu-id="2de38-214">テストは品質を保証するのに役立ちますが、一方で品質は設計と実装のフェーズで構築されるべきです。</span><span class="sxs-lookup"><span data-stu-id="2de38-214">Although testing helps guarantee quality, quality must also be built in during the design and implementation phases.</span></span> <span data-ttu-id="2de38-215">次のセクションで説明するように、1 つのバージョンのモデルでは、考慮すべき新しい分析コードがいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="2de38-215">In the One Version model, there are some new dimensions to consider, as described in the following sections.</span></span>

### <a name="designing-for-extensibility"></a><span data-ttu-id="2de38-216">拡張性の設計</span><span class="sxs-lookup"><span data-stu-id="2de38-216">Designing for extensibility</span></span>

<span data-ttu-id="2de38-217">拡張性のあるソリューションを設計するには、標準アプリケーションを拡張してカスタマイズする方法だけでなく、顧客やパートナーによる ISV ソリューションのカスタマイズを有効にする方法についても考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-217">To design your solution for extensibility, you must consider now only how you will customize by extending the standard application, but also how you will enable customization of your ISV solutions by your customers and partners.</span></span>

<span data-ttu-id="2de38-218">カスタマイズが侵入的ではなく加算的であることを確認し、 [拡張機能のホーム ページ](../extensibility/extensibility-home-page.md) のガイダンスに従います。</span><span class="sxs-lookup"><span data-stu-id="2de38-218">Make sure that customizations are additive instead of intrusive, and follow the guidance on the [Extensibility home page](../extensibility/extensibility-home-page.md).</span></span>

<span data-ttu-id="2de38-219">独自のカスタマイズを構築する方法について過度にクリエイティブにならないでください。</span><span class="sxs-lookup"><span data-stu-id="2de38-219">Don't be too creative about the way that you build your customization.</span></span> <span data-ttu-id="2de38-220">そうでなければ、疑わしい API を拡張してしまい、後の更新でソリューションが壊れるリスクが増します。</span><span class="sxs-lookup"><span data-stu-id="2de38-220">Otherwise, you might extend an API that is questionable and increase the risk that later updates will break your solution.</span></span> <span data-ttu-id="2de38-221">代わりに [拡張機能の要求](../extensibility/extensibility-requests.md) をログに記録して、Microsoft が破損に対してより弾力があるはっきりした API を作成するよう依頼してください。</span><span class="sxs-lookup"><span data-stu-id="2de38-221">Instead, log an [extensibility request](../extensibility/extensibility-requests.md), and ask that Microsoft create a more explicit API that is more resilient to breakage.</span></span>

<span data-ttu-id="2de38-222">拡張可能なソリューションを設計します。</span><span class="sxs-lookup"><span data-stu-id="2de38-222">Design solutions that are extensible.</span></span> <span data-ttu-id="2de38-223">インスピレーションを得るには [拡張可能なコードを書く](../extensibility/writing-extensible-code.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2de38-223">For inspiration, see [Write extensible code](../extensibility/writing-extensible-code.md).</span></span>

<span data-ttu-id="2de38-224">顧客の実装を壊すことを防ぐために下位互換性を考慮して設計します。</span><span class="sxs-lookup"><span data-stu-id="2de38-224">Design for backward compatibility to avoid breaking customer implementations.</span></span> <span data-ttu-id="2de38-225">良い戦略は、拡張コードをフックやラップするために、何を提供するかを明確にすることです。</span><span class="sxs-lookup"><span data-stu-id="2de38-225">A good strategy is to be explicit about what you offer for hooking and wrapping extension code.</span></span> <span data-ttu-id="2de38-226">メソッドを装飾する方法によって、どのメソッドに対して拡張機能を有効にするかを細かく制御できます。</span><span class="sxs-lookup"><span data-stu-id="2de38-226">The way that you decorate your methods gives you lots of control over which methods you enable extensions for.</span></span> <span data-ttu-id="2de38-227">詳細については、 [メソッドを拡張可能にする属性](../extensibility/extensibility-attributes.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2de38-227">For more information, see [Attributes that make methods extensible](../extensibility/extensibility-attributes.md).</span></span>

### <a name="data-upgrade"></a><span data-ttu-id="2de38-228">データ アップグレード</span><span class="sxs-lookup"><span data-stu-id="2de38-228">Data upgrade</span></span>

<span data-ttu-id="2de38-229">以前のバージョンに存在したデータ アップグレード ジョブのタイプは現在サポートされていません。</span><span class="sxs-lookup"><span data-stu-id="2de38-229">The types of data upgrade jobs that existed in earlier versions are no longer supported.</span></span> <span data-ttu-id="2de38-230">この変更は、Microsoftが 実稼働環境の更新中に最小限のダウンタイムを提供するために行われました。</span><span class="sxs-lookup"><span data-stu-id="2de38-230">This change was made because Microsoft wants to provide minimum downtime while a production environment is updated.</span></span>

<span data-ttu-id="2de38-231">データベースの同期はアップグレード中も実行され、新しいテーブル、フィールド、インデックスの追加などの基本操作をサポートします。</span><span class="sxs-lookup"><span data-stu-id="2de38-231">Database synchronization is still run during upgrade, and it supports basic operations such as adding new tables, field, and indexes.</span></span>

<span data-ttu-id="2de38-232">ダウンタイムを防ぐに、Microsoft は非同期で実行される駆動データ アップグレードの新しい方法を導入しました。</span><span class="sxs-lookup"><span data-stu-id="2de38-232">To prevent downtime, Microsoft is introducing new ways of driving data upgrade that are run asynchronously.</span></span> <span data-ttu-id="2de38-233">たとえば、機能フラグによって機能が有効になったときに、データのアップグレードがトリガーされる場合があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-233">For example, data upgrade will sometimes be triggered when a feature is turned on through a feature flag.</span></span> <span data-ttu-id="2de38-234">データのアップグレードに対するこの新しいアプローチは以前と大きく異なり、今後のアップデートで利用可能になります。</span><span class="sxs-lookup"><span data-stu-id="2de38-234">This new approach for data upgrade differs significantly from earlier approaches and will become available in upcoming updates.</span></span> <span data-ttu-id="2de38-235">ドキュメント リソースも利用可能になります。</span><span class="sxs-lookup"><span data-stu-id="2de38-235">Documentation resources will also be available.</span></span>

### <a name="feature-exposure"></a><span data-ttu-id="2de38-236">エクスポージャ機能</span><span class="sxs-lookup"><span data-stu-id="2de38-236">Feature exposure</span></span>

<span data-ttu-id="2de38-237">1 つのバージョンのモデルでは、更新は Microsoft によって管理され顧客環境にプッシュされます。</span><span class="sxs-lookup"><span data-stu-id="2de38-237">In the One Version model, updates are managed by Microsoft and pushed to customer environments.</span></span> <span data-ttu-id="2de38-238">プッシュされる更新プログラムでは、顧客が機能変更に順応したり、毎月の新機能や変更についてユーザーにトレーニングする必要はありません。</span><span class="sxs-lookup"><span data-stu-id="2de38-238">Pushed updates should not require that customers adjust to functional changes, or that they train their users about new or changed features every month.</span></span> <span data-ttu-id="2de38-239">また、プッシュされる更新プログラムは顧客環境の更新の遅延を引き起こしません。</span><span class="sxs-lookup"><span data-stu-id="2de38-239">Pushed updates also should not cause customers to delay updates to their environment.</span></span>

<span data-ttu-id="2de38-240">機能管理は新しい概念で、新しい機能や変更をいつ使用するか顧客が管理できるようにします。</span><span class="sxs-lookup"><span data-stu-id="2de38-240">Feature management is a new concept that puts customers in control of deciding when new or changed features are used.</span></span> <span data-ttu-id="2de38-241">新機能や変更を採用する前に、顧客はそれらを確認、検証、および文書化できます。</span><span class="sxs-lookup"><span data-stu-id="2de38-241">Customers can review, validate, and document new or changed features before they are adopted.</span></span> <span data-ttu-id="2de38-242">また、新規または変更されたプロセスを採用する前にユーザーをトレーニングして、日常業務への影響を減らすこともできます。</span><span class="sxs-lookup"><span data-stu-id="2de38-242">They can also train users before new or changed processes are adopted, to reduce the impact on daily operations.</span></span>

<span data-ttu-id="2de38-243">機能管理は今後の月例更新プログラムでリリースされる予定です。</span><span class="sxs-lookup"><span data-stu-id="2de38-243">Feature management will be released in upcoming monthly updates.</span></span>

<span data-ttu-id="2de38-244">新機能をいつ採用するか顧客が管理できるようにするには、ISV ソリューションで機能管理を使用することを検討する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-244">You should consider using feature management with your ISV solution to let customers control when new features are adopted.</span></span>

## <a name="branches-and-builds"></a><span data-ttu-id="2de38-245">分岐とビルド</span><span class="sxs-lookup"><span data-stu-id="2de38-245">Branches and builds</span></span>

<span data-ttu-id="2de38-246">ISV として最低 2 つのソースコード分岐を計画する必要があります: サービス分岐と開発分岐。</span><span class="sxs-lookup"><span data-stu-id="2de38-246">As an ISV, you should plan on a minimum of two source code branches: a servicing branch and a development branch.</span></span>

### <a name="servicing-branch"></a><span data-ttu-id="2de38-247">サービスの分岐</span><span class="sxs-lookup"><span data-stu-id="2de38-247">Servicing branch</span></span>

<span data-ttu-id="2de38-248">サービスの分岐は、ISV ソリューションのバグ修正を作成するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="2de38-248">The servicing branch is used to produce bug fixes for your ISV solution.</span></span> <span data-ttu-id="2de38-249">ISV として、ブランチからのリリース頻度とリリースの配布を指定します。</span><span class="sxs-lookup"><span data-stu-id="2de38-249">As the ISV, you specify the frequency of releases from the branch and distribution of the releases.</span></span> <span data-ttu-id="2de38-250">これらのサービス分枝からのリリースはバイナリ累積リリースになると予想されます。</span><span class="sxs-lookup"><span data-stu-id="2de38-250">The expectation is that these releases from the servicing branch will be binary cumulative releases.</span></span>

<span data-ttu-id="2de38-251">ISV ソリューションを構築するために使用する基準の Microsoft バージョンは、顧客がそのソリューションで使用する最も古いバージョンと一致する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-251">The base Microsoft version that you use to build your ISV solution should match the oldest version that customers use with the solution.</span></span> <span data-ttu-id="2de38-252">1 つのバージョンのモデルでは、そのバージョンはバージョン 8.1 で始まり、最大で 3 か月前です。</span><span class="sxs-lookup"><span data-stu-id="2de38-252">In the One Version model, that version starts with version 8.1 and is a maximum of three months old.</span></span>

### <a name="development-branch"></a><span data-ttu-id="2de38-253">開発分岐</span><span class="sxs-lookup"><span data-stu-id="2de38-253">Development branch</span></span>

<span data-ttu-id="2de38-254">開発分岐は、ISV ソリューションの新機能を開発するために使用します。</span><span class="sxs-lookup"><span data-stu-id="2de38-254">The development branch is used to develop new capabilities for the ISV solution.</span></span> <span data-ttu-id="2de38-255">ISV として開発分枝からのリリース頻度を決定します。</span><span class="sxs-lookup"><span data-stu-id="2de38-255">As the ISV, you determine the frequency of releases from the development branch.</span></span> <span data-ttu-id="2de38-256">毎月のMicrosoft のリリースと、独自のリリースを同期させる必要はありません。</span><span class="sxs-lookup"><span data-stu-id="2de38-256">You don't have to synchronize your releases with the monthly Microsoft releases.</span></span> <span data-ttu-id="2de38-257">最善の方法は、独自のリリース スケジュールを Microsoft のリリース スケジュールから分離して、リリース頻度を減らすことです。</span><span class="sxs-lookup"><span data-stu-id="2de38-257">The best approach might be to decouple your release schedule from the Microsoft release schedule and deliver releases less often.</span></span> <span data-ttu-id="2de38-258">四半期ごとや半年ごとのリズムが出発点として良いです。</span><span class="sxs-lookup"><span data-stu-id="2de38-258">A quarterly or biannual cadence is a good starting point.</span></span>

<span data-ttu-id="2de38-259">開発分枝の基準 Microsoft バージョンは、入手可能な最新のリリース バージョンか、もしくは新しいリリースが実施されたときにサービスで使用する予定のリリース バージョンかのいずれかです。目標は、できるだけ最新の状態を維持しながら Microsoft と一緒に革新すること、そして開発モデルに最近の機能作業を取り入れることです。</span><span class="sxs-lookup"><span data-stu-id="2de38-259">The base Microsoft version in the development branch should be either the latest released version that is available or the released version that you plan to use for servicing when your new release goes out. The goals are that you innovate together with Microsoft by staying as current as is feasible, and that your development model allows for uptake of recent feature work.</span></span>

## <a name="testing"></a><span data-ttu-id="2de38-260">テスト</span><span class="sxs-lookup"><span data-stu-id="2de38-260">Testing</span></span>

<span data-ttu-id="2de38-261">Microsoft は機能とバイナリ互換性を保証するために、開発プロセスにいくつかの確認と調整をします。</span><span class="sxs-lookup"><span data-stu-id="2de38-261">Microsoft has several checks and balances in its development process to help guarantee functional and binary compatibility.</span></span> <span data-ttu-id="2de38-262">この互換性を保証するために、ISV ソリューションを Microsoft の各リリースで検証する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-262">ISV solutions must be validated with each Microsoft release to help guarantee this compatibility.</span></span> <span data-ttu-id="2de38-263">各リリースのパートナー早期アクセス プログラム (PEAP) の期間中にこの検証を行うことが期待されます。</span><span class="sxs-lookup"><span data-stu-id="2de38-263">The expectation is that you will do this validation during the Partner Early Access Program (PEAP) phase of each release.</span></span>

<span data-ttu-id="2de38-264">月例更新プログラムが顧客環境に配置される前に、問題を解決する時間を取れるよう、フィードバックに対して迅速に対応を提供することが非常に重要です。</span><span class="sxs-lookup"><span data-stu-id="2de38-264">It's very important that you provide quick turnaround for feedback, so that you will have time to fix any issues before the monthly updates are deployed in customer environments.</span></span>

<span data-ttu-id="2de38-265">テストの自動化は新しい更新プログラムの迅速な検証に重要です。</span><span class="sxs-lookup"><span data-stu-id="2de38-265">Test automation is important for quick validation of new updates.</span></span> <span data-ttu-id="2de38-266">Microsoft はテスト自動化の構築をサポートするテスト フレームワークとライブラリをリリースする予定です。</span><span class="sxs-lookup"><span data-stu-id="2de38-266">Microsoft plans to release the test framework and libraries to support you as you build your test automation.</span></span>

<span data-ttu-id="2de38-267">Microsoft には検証をサポートする広範なテスト スイートがあります。</span><span class="sxs-lookup"><span data-stu-id="2de38-267">Microsoft has an extensive suite of tests that support our validation.</span></span> <span data-ttu-id="2de38-268">ISV として独自の自動テスト スイートを作成することが期待されます。</span><span class="sxs-lookup"><span data-stu-id="2de38-268">The expectation is that you, as an ISV, will create your own suites of automated tests.</span></span>

<span data-ttu-id="2de38-269">開発者向けの SysTest 自動化フレームワークに加えて、[Regression Suite Automation Tool (RSAT)](using-task-guides-and-bpm-to-create-user-acceptance-tests.md) ではコードを記述する必要なく業務プロセスを自動化できます。</span><span class="sxs-lookup"><span data-stu-id="2de38-269">In addition to the SysTest automation framework that is aimed at developers, the [Regression Suite Automation Tool (RSAT)](using-task-guides-and-bpm-to-create-user-acceptance-tests.md) enables automation of business processes without requiring that code be written.</span></span> <span data-ttu-id="2de38-270">機能のユーザーは RSAT を使用して重要なテストを記録し、UAT の一部を自動化できます。</span><span class="sxs-lookup"><span data-stu-id="2de38-270">Functional users can use the RSAT to record their critical tests and automate part of their UAT.</span></span> <span data-ttu-id="2de38-271">テストの自動化の構築を開始するときも RSAT を使用できます。</span><span class="sxs-lookup"><span data-stu-id="2de38-271">You can also use the RSAT as you start to build your test automation.</span></span>

<span data-ttu-id="2de38-272">最近、Microsoft は [承認テスト ライブラリのリソース](../perf-test/acceptance-test-library.md) と、付随するライブラリをリリースしました。</span><span class="sxs-lookup"><span data-stu-id="2de38-272">Recently, Microsoft released the [Acceptance test library resources](../perf-test/acceptance-test-library.md) and accompanying libraries.</span></span> <span data-ttu-id="2de38-273">このフレームワークは開発者を対象にしており、単体テストよりも包括的なテストを構築できます。</span><span class="sxs-lookup"><span data-stu-id="2de38-273">This framework is aimed at developers and lets them build tests that are more comprehensive than unit tests.</span></span> <span data-ttu-id="2de38-274">フレームワークに付随するライブラリは、テスト スイートの構築をシームレスな方法にします。</span><span class="sxs-lookup"><span data-stu-id="2de38-274">The libraries that accompany the framework help make it a seamless way to build suites of tests.</span></span>

### <a name="currently-released-products--testing-binary-and-functional-compatibility"></a><span data-ttu-id="2de38-275">現在リリースされている製品 - バイナリと機能の互換性のテスト</span><span class="sxs-lookup"><span data-stu-id="2de38-275">Currently released products – Testing binary and functional compatibility</span></span>

<span data-ttu-id="2de38-276">サービス分岐で管理された現在リリースされている製品は、まず最初にバイナリと機能の互換性についてテストする必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-276">The currently released product that is maintained in the servicing branch should first be tested for binary and functional compatibility.</span></span> <span data-ttu-id="2de38-277">ISV ソリューションに対する一連の自動化開発者テスト、自動化機能テスト、そして手動テストは、Microsoft の新しいバージョンと既存の独自 ISV ソリューションの環境で実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-277">Your suite of automated developer tests, automated functional tests, and manual tests for your ISV solution should be run on an environment that has the new version from Microsoft and your existing ISV solution.</span></span> <span data-ttu-id="2de38-278">このテスト実行はバイナリと機能の互換性をテストするので、ISV ソリューションを再コンパイル **しない** でください。</span><span class="sxs-lookup"><span data-stu-id="2de38-278">Because this test run is testing for binary and functional compatibility, the ISV solution should **not** be recompiled.</span></span>

<span data-ttu-id="2de38-279">テストが成功した場合、このステップは Microsoft が新しいリリースを顧客に配信するときに、現在のバージョンの ISV ソリューションの顧客インストールを更新する必要がないことを検証します。</span><span class="sxs-lookup"><span data-stu-id="2de38-279">If the testing is successful, this step will validate that a customer installation of the current version of your ISV solution won't have to be updated when Microsoft broadcasts the new release to the customer.</span></span>

<span data-ttu-id="2de38-280">テストに成功しなかった場合、ISV として [PEAP コミュニケーション プロセス](https://docs.microsoft.com/dynamics365/unified-operations/fin-and-ops/get-started/one-version#how-can-i-get-early-access-to-non-released-platform-updates) を通じて Microsoft に直ちに通知する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-280">If the testing isn't successful, you, as the ISV, must immediately notify Microsoft through the [PEAP communication process](https://docs.microsoft.com/dynamics365/unified-operations/fin-and-ops/get-started/one-version#how-can-i-get-early-access-to-non-released-platform-updates).</span></span> <span data-ttu-id="2de38-281">このプロセスでは Yammer と問題通知プロセスを使用します。</span><span class="sxs-lookup"><span data-stu-id="2de38-281">This process uses Yammer and an issue notification process.</span></span> <span data-ttu-id="2de38-282">この問題には Microsoft による修正か、または独自の ISV ソリューションの修正が必要です。</span><span class="sxs-lookup"><span data-stu-id="2de38-282">The issue will require either a fix from Microsoft or a fix in your ISV solution.</span></span> <span data-ttu-id="2de38-283">ソリューションの修正は顧客をサービス分枝から順番に更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-283">A fix in your solution might, in turn, require that customers be updated from the servicing branch.</span></span> <span data-ttu-id="2de38-284">どちらの場合も、Microsoft は問題について知る必要があります。そのため今後のリリースに向けて、より積極的なプロセスをとる場合があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-284">In both cases, Microsoft must know about the issue, so that it can become more proactive in its processes for future releases.</span></span>

### <a name="currently-released-products--testing-design-time-compatibility"></a><span data-ttu-id="2de38-285">現在リリースされている製品 - デザイン時の互換性のテスト</span><span class="sxs-lookup"><span data-stu-id="2de38-285">Currently released products – Testing design-time compatibility</span></span>

<span data-ttu-id="2de38-286">次に、サービス分岐で管理された現在リリースされている製品は、デザイン時の互換性についてテストする必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-286">Next, the currently released product that is maintained in the servicing branch should be tested for design-time compatibility.</span></span> <span data-ttu-id="2de38-287">このテストを行うには、新しい Microsoft リリースの配置に対してソリューションをコンパイルする必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-287">To do this testing, you should compile the solution against a deployment of the new Microsoft release.</span></span> <span data-ttu-id="2de38-288">Microsoft の目標はデザイン時の互換性の問題を最小限することですが、いくつかの状況では発生してしまう可能性があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-288">Although the goal of Microsoft is to minimize design-time compatibility issues, they might occur in some situations.</span></span> <span data-ttu-id="2de38-289">ひとつの例は、Microsoft が列挙型を拡張可能にして、ソリューションが基礎となる整数表示を想定した方法で使用した時です (たとえば、論理比較や数学関数での列挙値の使用)。</span><span class="sxs-lookup"><span data-stu-id="2de38-289">One example is when Microsoft makes an enumeration extensible, and the solution uses it in a manner that assumes an underlying integer representation (for example, it uses the enumeration value in a logical comparison or mathematical function).</span></span> <span data-ttu-id="2de38-290">基礎となる値が管理されているため、コードは顧客の配置で引き続き動作しますが、コンパイラー エラーが発生し今後のリリースで対処されます。</span><span class="sxs-lookup"><span data-stu-id="2de38-290">Although the code will continue to work in a customer deployment because the underlying values are maintained, a compiler error is generated and addressed in future releases.</span></span> <span data-ttu-id="2de38-291">デザイン時の互換性問題に関する別の例は、Microsoft が安全でないコーディング パターンから保護する新しいコンパイラー エラーを導入したときです。</span><span class="sxs-lookup"><span data-stu-id="2de38-291">Another example of a design-time compatibility issue is when Microsoft introduces a new compiler error to protect against unsafe coding patterns.</span></span> <span data-ttu-id="2de38-292">デザイン時の互換性問題に関するカテゴリの詳細は [重大な変更](../extensibility/breaking-changes.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2de38-292">To learn about more categories of design-time compatibility issues, see [Breaking changes](../extensibility/breaking-changes.md).</span></span>

<span data-ttu-id="2de38-293">ISV ソリューションに対する一連の自動化開発者テスト、自動化機能テスト、そして手動テストを実行する必要があり、Microsoft の新しいバージョンとコンパイルされた独自 ISV ソリューションの環境で実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-293">You should run your suite of automated developer tests, automated functional tests, and manual tests on an environment that has the new version from Microsoft and your compiled ISV solution.</span></span>

<span data-ttu-id="2de38-294">テストが成功した場合、ソースコードが顧客に提供され、顧客が ISV ソリューションを再コンパイルしても、このステップは ISVソリューションを更新する必要がないことを検証します。</span><span class="sxs-lookup"><span data-stu-id="2de38-294">If the testing is successful, this step will validate that your ISV solution won't have to be updated even if source code is supplied to the customer and the customer recompiles the ISV solution.</span></span>

<span data-ttu-id="2de38-295">テストが成功せず、その問題が [重大な変更](../extensibility/breaking-changes.md) に記載されているカテゴリに該当しない場合、ISV として直ちに [PEAP コミュニケーション プロセス](https://docs.microsoft.com/dynamics365/unified-operations/fin-and-ops/get-started/one-version#how-can-i-get-early-access-to-non-released-platform-updates) を通じて Microsoft に通知する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-295">If the testing isn't successful, and the issue isn't one of the categories that are described in [Breaking changes](../extensibility/breaking-changes.md), you, as the ISV, must immediately notify Microsoft through the [PEAP communication process](https://docs.microsoft.com/dynamics365/unified-operations/fin-and-ops/get-started/one-version#how-can-i-get-early-access-to-non-released-platform-updates).</span></span> <span data-ttu-id="2de38-296">このプロセスでは Yammer と問題通知プロセスを使用します。</span><span class="sxs-lookup"><span data-stu-id="2de38-296">This process uses Yammer and an issue notification process.</span></span> <span data-ttu-id="2de38-297">この問題には Microsoft による修正か、または独自の ISV ソリューションの修正が必要です。</span><span class="sxs-lookup"><span data-stu-id="2de38-297">The issue will require either a fix from Microsoft or a fix in your ISV solution.</span></span> <span data-ttu-id="2de38-298">ソリューションの修正は顧客をサービス分枝から順番に更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-298">A fix in your solution might, it turn, require that customers be updated from the servicing branch.</span></span> <span data-ttu-id="2de38-299">どちらの場合も、Microsoft は問題について知る必要があります。そのため今後のリリースに向けて、より積極的なプロセスをとる場合があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-299">In both cases, Microsoft must know about the issue, so that it can become more proactive in its processes for future releases.</span></span>

### <a name="currently-released-products--updating-the-base-build"></a><span data-ttu-id="2de38-300">現在リリースされている製品 - 基本ビルドの更新</span><span class="sxs-lookup"><span data-stu-id="2de38-300">Currently released products – Updating the base build</span></span>

<span data-ttu-id="2de38-301">Microsoft が顧客を新しいリリースに更新するときは、ISV ソリューションを実行する顧客が使用している最も古いバージョンと一致するように、基準ビルドを定期的に更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-301">As Microsoft updates your customers to new releases, you should periodically update the base build, so that it matches the oldest version that is used by customers who run your ISV solution.</span></span>

### <a name="solutions-that-are-in-development"></a><span data-ttu-id="2de38-302">開発中のソリューション</span><span class="sxs-lookup"><span data-stu-id="2de38-302">Solutions that are in development</span></span>

<span data-ttu-id="2de38-303">最新のリリース バージョン、または新しいリリースが終了したときにサービスに使用する予定のリリース バージョンで、新しいソリューション開発を検証します。ただし、どちらの場合にも最新バージョンでの検証をご検討ください。</span><span class="sxs-lookup"><span data-stu-id="2de38-303">You validate your new solution development on either the latest released version or the released version that you plan for to use for servicing when your new release goes out. However, in both cases, consider doing validation on the most current version.</span></span> <span data-ttu-id="2de38-304">この検証は問題の早期発見や必須の作業を理解するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="2de38-304">This validation will help with early discovery of issues or uptake work that you must do.</span></span>

<span data-ttu-id="2de38-305">予期せぬ中断が発生した場合は、ISV として [PEAP コミュニケーション プロセス](https://docs.microsoft.com/dynamics365/unified-operations/fin-and-ops/get-started/one-version#how-can-i-get-early-access-to-non-released-platform-updates) を通じて Microsoft に直ちに通知する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-305">If an unexpected break occurs, then you, as the ISV, must immediately notify Microsoft through the [PEAP communication process](https://docs.microsoft.com/dynamics365/unified-operations/fin-and-ops/get-started/one-version#how-can-i-get-early-access-to-non-released-platform-updates).</span></span> <span data-ttu-id="2de38-306">このプロセスでは Yammer と問題通知プロセスを使用します。</span><span class="sxs-lookup"><span data-stu-id="2de38-306">This process uses Yammer and an issue notification process.</span></span>

## <a name="deploying-updates"></a><span data-ttu-id="2de38-307">更新の展開</span><span class="sxs-lookup"><span data-stu-id="2de38-307">Deploying updates</span></span>

<span data-ttu-id="2de38-308">Microsoft の標準プラットフォームやアプリケーションの更新プログラムで、1 つのバージョンのサービスには顧客環境を自動アップデートするプロセスが含まれています。</span><span class="sxs-lookup"><span data-stu-id="2de38-308">For Microsoft standard platform and application updates, One Version servicing includes a process for automated updates of customer environments.</span></span> <span data-ttu-id="2de38-309">ただし、この自動化は現行の ISV ソリューションでは利用できません。</span><span class="sxs-lookup"><span data-stu-id="2de38-309">However, this automation isn't currently available for ISV solutions.</span></span> <span data-ttu-id="2de38-310">詳細については [1 つのバージョン サービス更新の一部としての ISV](#isv-solutions-as-part-of-one-version-automated-deployment) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2de38-310">For more information, see [ISV's as part of One Version service updates](#isv-solutions-as-part-of-one-version-automated-deployment).</span></span>

<span data-ttu-id="2de38-311">ISV ソリューションは手動で更新され、独自のリリース頻度を管理します。</span><span class="sxs-lookup"><span data-stu-id="2de38-311">ISV solutions are manually updated, and you control your release cadence.</span></span> <span data-ttu-id="2de38-312">バイナリの下位互換性によって標準プラットフォームとアプリケーションを安全に更新できます。</span><span class="sxs-lookup"><span data-stu-id="2de38-312">The binary backward compatibility allows for safe updates of the standard platform and application.</span></span>

<span data-ttu-id="2de38-313">更新プロセスにはデータベースの同期 (たとえば、新しいフィールドやインデックスの追加) が含まれます。</span><span class="sxs-lookup"><span data-stu-id="2de38-313">The update process includes database synchronization (for example, the addition of new fields and indexes).</span></span>

## <a name="isv-solutions-as-part-of-one-version-automated-deployment"></a><span data-ttu-id="2de38-314">1 つのバージョン 自動展開の一部である ISV ソリューション</span><span class="sxs-lookup"><span data-stu-id="2de38-314">ISV solutions as part of One Version automated deployment</span></span>

<span data-ttu-id="2de38-315">現在 Microsoft は 1 つのバージョン自動展開プロセスの一部として ISV ソリューションをリリースする予定はありませんが、将来このオプションが利用可能になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-315">Although Microsoft doesn't currently plan to release ISV solutions as part of the One Version automated deployment process, this option might become available at some point.</span></span> <span data-ttu-id="2de38-316">ただしこのオプションを実行可能にするには、Microsoft は最初にエンジニアリング プロセスを調整する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-316">However, Microsoft must first align engineering processes to make this option feasible.</span></span>

<span data-ttu-id="2de38-317">以下は調整が必要な分野です:</span><span class="sxs-lookup"><span data-stu-id="2de38-317">Here are some areas where alignment will be required:</span></span>

+ <span data-ttu-id="2de38-318">**機能の管理** – ユーザーは新機能をいつ有効にするか制御できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-318">**Feature management** – The user must be able to control when a new feature is turned on.</span></span>
+ <span data-ttu-id="2de38-319">**下位互換性と準拠** – API カスタマイズの使用法に準拠が必要です。</span><span class="sxs-lookup"><span data-stu-id="2de38-319">**Backward compatibility and compliance** – Compliance with API customization usage is required.</span></span>
+ <span data-ttu-id="2de38-320">**機能の廃止** – 機能や API の廃止に関する事前通知を提供する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-320">**Feature deprecation** – Advanced notice about deprecation of features or APIs must be provided.</span></span>
+ <span data-ttu-id="2de38-321">**テスト自動化スイート**</span><span class="sxs-lookup"><span data-stu-id="2de38-321">**Test automation suite**</span></span> 
+ <span data-ttu-id="2de38-322">**プレビュー フェーズでのテスト**</span><span class="sxs-lookup"><span data-stu-id="2de38-322">**Testing during the preview phase**</span></span>
+ <span data-ttu-id="2de38-323">**ISVソリューションのサインオフおよびアップロード**</span><span class="sxs-lookup"><span data-stu-id="2de38-323">**ISV solution sign-off and upload**</span></span> 
+ <span data-ttu-id="2de38-324">**自動展開スクリプト**</span><span class="sxs-lookup"><span data-stu-id="2de38-324">**Automated deployment scripts**</span></span>
+ <span data-ttu-id="2de38-325">**ゼロ ダウンタイム** – 更新プログラムを瞬時に展開する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-325">**Zero downtime** – Deployment of updates must be instantaneous.</span></span>
+ <span data-ttu-id="2de38-326">**ダウンタイムなしのデータ移行**</span><span class="sxs-lookup"><span data-stu-id="2de38-326">**Data migration without downtime**</span></span>
+ <span data-ttu-id="2de38-327">**致命的な製造問題をサービスする、呼び出し対応のサポート**</span><span class="sxs-lookup"><span data-stu-id="2de38-327">**Support for on-call duty, for servicing of critical production issues**</span></span>

## <a name="should-i-release-binaries-or-source-code"></a><span data-ttu-id="2de38-328">バイナリやソースコードをリリースする必要があるか</span><span class="sxs-lookup"><span data-stu-id="2de38-328">Should I release binaries or source code?</span></span>

<span data-ttu-id="2de38-329">再コンパイルを提供しなければ、バイナリ互換性がサポートされます。</span><span class="sxs-lookup"><span data-stu-id="2de38-329">Binary compatibility is supported, provided that you don't recompile.</span></span> <span data-ttu-id="2de38-330">独自の ISV ソリューションを顧客環境でコンパイルしないことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="2de38-330">We recommend that your ISV solution not be compiled in customer environments.</span></span> <span data-ttu-id="2de38-331">代わりに、準備して検証したコンパイル済みのバイナリを展開する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-331">Instead, you should deploy precompiled binaries that you've prepared and validated.</span></span> <span data-ttu-id="2de38-332">このアプローチが役立つ場合は、ソリューションのバイナリを以前のバージョンに基づいてサービス分岐から作成できます。</span><span class="sxs-lookup"><span data-stu-id="2de38-332">Your solution binaries can then be created from your servicing branch, based on an earlier version, when this approach is practical.</span></span>

<span data-ttu-id="2de38-333">実装パートナーや顧客が更新された環境でソリューションをコンパイルすると、このトピックの [デザイン時の互換性](#design-time-compatibility) セクションで説明したように、新しい警告やエラーが発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="2de38-333">If an implementation partner or customer compiles your solution in an updated environment, new warnings and errors might occur, as was mentioned in the [Design-time compatibility](#design-time-compatibility) section of this topic.</span></span> <span data-ttu-id="2de38-334">したがって、実装パートナーがソリューションをコンパイルしないことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="2de38-334">Therefore, we recommend that implementation partners not compile your solution.</span></span> <span data-ttu-id="2de38-335">ただしこの推奨は、例えばソースコードを共有して、デバッグのサポートに役立ててはいけないという意味ではありません。</span><span class="sxs-lookup"><span data-stu-id="2de38-335">However, this recommendation doesn't mean that you shouldn't share your source code to help support debugging, for example.</span></span> <span data-ttu-id="2de38-336">実装パートナーをデザイン時の問題にさらさないために、ただコードのコンパイルを回避する対策を検討してください。</span><span class="sxs-lookup"><span data-stu-id="2de38-336">You should just consider taking steps to avoid compilation of your code, so that implementation partners aren't exposed to design-time issues.</span></span>

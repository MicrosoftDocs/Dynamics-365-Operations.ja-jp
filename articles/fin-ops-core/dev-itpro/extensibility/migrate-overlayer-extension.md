---
title: オーバーレイから拡張機能への移行
description: このトピックでは、拡張機能の基準となるカスタマイズoverlayeredコードに基づいていますカスタマイズからの移行について説明します。
author: FrankDahl
ms.date: 04/10/2018
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Developer
ms.reviewer: rhaertle
ms.custom: 89563
ms.assetid: ''
ms.search.region: Global
ms.author: fdahl
ms.search.validFrom: 2017-07-01
ms.dyn365.ops.version: Platform update 9
ms.openlocfilehash: 3b1e6851cd98d9a477e26b140ecc0e36f9a8d46b
ms.sourcegitcommit: e4992c57eea4c15ac052e9d65dddae625e3528f9
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/07/2021
ms.locfileid: "5866033"
---
# <a name="migrate-from-overlayering-to-extensions"></a><span data-ttu-id="e2cab-103">オーバーレイから拡張機能への移行</span><span class="sxs-lookup"><span data-stu-id="e2cab-103">Migrate from overlayering to extensions</span></span>

[!include [banner](../includes/banner.md)]

## <a name="introduction"></a><span data-ttu-id="e2cab-104">はじめに</span><span class="sxs-lookup"><span data-stu-id="e2cab-104">Introduction</span></span>

<span data-ttu-id="e2cab-105">アプリケーションの最初のリリース時に、カスタマイズのオーバーレイの代わりに拡張機能を使用することを強くお勧めしました。</span><span class="sxs-lookup"><span data-stu-id="e2cab-105">When the application was first released, we strongly recommended that extensions be used instead of overlayering for customization.</span></span> <span data-ttu-id="e2cab-106">オーバーレイヤーに基づくカスタマイズは、コードの移行を通じてリリースごとに移行され、アプリケーション コードの多くのカスタマイズは引き続きコードのオーバーレイヤーがベースとなります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-106">Overlayering-based customizations have been migrated from release to release through code migrations, and many customizations of application code are still based on the overlayering of code.</span></span> <span data-ttu-id="e2cab-107">ほとんどのパートナーについては、少なくともソリューションの一部が引き続きオーバーレイに基づいており、および一部のパートナーはソリューション間でたくさんのオーバーレイを持ちます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-107">For most partners, at least some of their solution is still based on overlaying, and some partners will have lots of overlayering across their solutions.</span></span>

<span data-ttu-id="e2cab-108">オーバーレイ コードから拡張への実装を変更するために必要な作業の金額は、そのコード自体によって異なります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-108">The amount of work that is required to change an implementation from overlayered code to extensions depends on the code itself.</span></span> <span data-ttu-id="e2cab-109">いくつかのオーバーレイヤーされたコードは、比較的シームレスに変更できます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-109">Some overlayered code can be changed relatively seamlessly.</span></span> <span data-ttu-id="e2cab-110">ただし、いくつかの変更については、拡張機能によりそれを達成できるよう適切な方法を見つけるためのカスタマイズを再考する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-110">However, for some changes, you must rethink the customization to find an appropriate way to accomplish it through extension.</span></span> <span data-ttu-id="e2cab-111">したがって、複数の場所にコードが重複している場合、完全なソリューションを変更することが大きな課題になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-111">Therefore, it can be a major undertaking to change complete solutions where multiple places have overlayered code.</span></span> <span data-ttu-id="e2cab-112">このような仕事には、ソリューションへの投資が必要です。</span><span class="sxs-lookup"><span data-stu-id="e2cab-112">Such an undertaking requires an investment in the solution.</span></span> <span data-ttu-id="e2cab-113">カスタマイズは現在、拡張を介したアプリケーション プログラミング インターフェイス (API) に基づいているため、この投資のメリットはよりシームレスなアップグレード プロセスにあります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-113">The upside of this investment is a more seamless upgrade process, because customization is now based on application programming interfaces (APIs) through extensions.</span></span> <span data-ttu-id="e2cab-114">また、オーバーレイ コードの場合と同様に、長いコード アップグレード プロセスは不要になりました。</span><span class="sxs-lookup"><span data-stu-id="e2cab-114">Additionally, a lengthy code upgrade process is no longer required as it was for overlayered code.</span></span> <span data-ttu-id="e2cab-115">さらに重要なことに、実行中の環境を日々保守すると多くの利点があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-115">More importantly, daily servicing of a running environment offers many benefits.</span></span> <span data-ttu-id="e2cab-116">コア アプリケーションと拡張機能をまとめてコンパイルする必要がなくなり、プリ コンパイルされたアセンブリをデプロイすることでパッチを適用することができます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-116">The core application and extensions no longer have to be compiled together, and patching can be done by deploying precompiled assemblies.</span></span> <span data-ttu-id="e2cab-117">したがって、顧客は比較的シームレスにシステムにパッチを適用することができ、ダウンタイムの量は最小限に抑えられます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-117">Therefore, customers can apply patches to their system in a relatively seamless manner, and the amount of downtime is minimized.</span></span> <span data-ttu-id="e2cab-118">ただし、この結果が得られる前に行う必要がある作業があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-118">However, there is work that must be done before this result can be achieved.</span></span>

<span data-ttu-id="e2cab-119">このタスクには複数の方法がありますが、既にオーバーレイから拡張機能に移行を開始した独立系ソフトウェア ベンダー (ISV) および付加価値再販業者 (VAR) との緊密な連携を通じて経験を積んでいます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-119">Although there are multiple ways to approach this task, we have gained experience through our close work with independent software vendors (ISVs) and value-added resellers (VARs) that have already started to migrate from overlayering to extensions.</span></span> <span data-ttu-id="e2cab-120">このトピックではこの体験の一部を共有します。</span><span class="sxs-lookup"><span data-stu-id="e2cab-120">In this topic, we share some of this experience.</span></span>

### <a name="first-things-first"></a><span data-ttu-id="e2cab-121">重要なものから順番に</span><span class="sxs-lookup"><span data-stu-id="e2cab-121">First things first</span></span>

<span data-ttu-id="e2cab-122">今後の課題はかなりあり、私たちは共有投資が配当を支払うことを確実にしたいと考えています。</span><span class="sxs-lookup"><span data-stu-id="e2cab-122">The task ahead is substantial, and we want to make sure that our shared investment pays dividends.</span></span> <span data-ttu-id="e2cab-123">カスタマイズを通じて作業するため、目標に注意してください。</span><span class="sxs-lookup"><span data-stu-id="e2cab-123">Keep the goal in mind as you work through your customizations.</span></span> <span data-ttu-id="e2cab-124">カスタマイズが正しく完了したとき、ソリューションには次の品質が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-124">When customization is done correctly, your solution has these qualities:</span></span>

+ <span data-ttu-id="e2cab-125">侵入的なカスタマイズはありません。</span><span class="sxs-lookup"><span data-stu-id="e2cab-125">It has no intrusive customizations.</span></span>
+ <span data-ttu-id="e2cab-126">他の ISV ソリューションと横に並べる配置をサポートします。</span><span class="sxs-lookup"><span data-stu-id="e2cab-126">It supports side-by-side deployment with other ISV solutions.</span></span>
+ <span data-ttu-id="e2cab-127">Microsoft コードでの変更に対して復元力があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-127">It's resilient to changes in Microsoft code.</span></span>
+ <span data-ttu-id="e2cab-128">その他の ISV ソリューションでの変更に対して復元力があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-128">It's resilient to changes in other ISV solutions.</span></span>
+ <span data-ttu-id="e2cab-129">今後のバージョンに自動的にアップグレードすることができます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-129">It can be upgraded automatically to future versions.</span></span>

<span data-ttu-id="e2cab-130">この種のカスタマイズは、アプローチが根本的に変化することを表しています。</span><span class="sxs-lookup"><span data-stu-id="e2cab-130">This type of customization represents a fundamental shift of approach.</span></span> <span data-ttu-id="e2cab-131">以前は、主な目的は、現在のバージョンで機能の要件を実装するためのものでした。</span><span class="sxs-lookup"><span data-stu-id="e2cab-131">Previously, the primary objective was to implement the functional requirements on the current version.</span></span> <span data-ttu-id="e2cab-132">ソリューションをアップグレードするために手動作業が必要であることがわかっていたため、この目標は受け入れられました。</span><span class="sxs-lookup"><span data-stu-id="e2cab-132">This objective was acceptable, because we knew that manual work was required in order to upgrade the solution.</span></span> <span data-ttu-id="e2cab-133">以前は、優れたエンジニアは、手動アップグレード コストを最小化していました。</span><span class="sxs-lookup"><span data-stu-id="e2cab-133">Previously, great engineers minimized the manual upgrade cost.</span></span> <span data-ttu-id="e2cab-134">現在は、*各* エンジニアがアップグレードの *労力をゼロ* にするソリューションを実装する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-134">Now, *every* engineer must implement solutions that require *zero effort* to upgrade.</span></span>

### <a name="staying-on-the-right-path"></a><span data-ttu-id="e2cab-135">適切なパスに残る</span><span class="sxs-lookup"><span data-stu-id="e2cab-135">Staying on the right path</span></span>

<span data-ttu-id="e2cab-136">自動車は安全であるように設計されています。</span><span class="sxs-lookup"><span data-stu-id="e2cab-136">Cars are designed to be safe.</span></span> <span data-ttu-id="e2cab-137">ただし、まだ事故を防ぐことはできません。</span><span class="sxs-lookup"><span data-stu-id="e2cab-137">However, they can't yet prevent accidents.</span></span> <span data-ttu-id="e2cab-138">事故防止は、ドライバーの責任です。</span><span class="sxs-lookup"><span data-stu-id="e2cab-138">Accident prevention remains the driver's responsibility.</span></span> <span data-ttu-id="e2cab-139">同様に、拡張機能用に開発ツールセットが設計されています。</span><span class="sxs-lookup"><span data-stu-id="e2cab-139">Similarly, the development toolset is designed for extensibility.</span></span> <span data-ttu-id="e2cab-140">ただし、侵入的なカスタマイズのすべてのタイプを防ぐことは、ツールセットにはまだできません。</span><span class="sxs-lookup"><span data-stu-id="e2cab-140">However, the toolset can't yet prevent every type of intrusive customization.</span></span> <span data-ttu-id="e2cab-141">エンジニアとして、侵入的なカスタマイズを回避することは職責です。</span><span class="sxs-lookup"><span data-stu-id="e2cab-141">As an engineer, it's your responsibility to avoid intrusive customizations.</span></span> 

<span data-ttu-id="e2cab-142">場合によっては、煩雑なカスタマイズを実装することによってのみ、機能の目標に到達できることがわかる場合があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-142">Sometimes, you might find that you can reach your functional goal only by implementing intrusive customizations.</span></span> <span data-ttu-id="e2cab-143">この場合、正しい解決策を見つけるために Microsoft に問い合わせる必要があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-143">In this case, you should reach out to Microsoft to find a correct solution.</span></span> <span data-ttu-id="e2cab-144">ご自分のやり方で進めないようにしてください。</span><span class="sxs-lookup"><span data-stu-id="e2cab-144">You should not force your way forward.</span></span> <span data-ttu-id="e2cab-145">それ以外の場合、たとえば、自動アップグレード後にサービスの停止が発生した顧客が、ソリューションに結局将来性がないことに気づく可能性があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-145">Otherwise, customers who, for example, experience an outage of their service after an automated upgrade might realize that your solution isn't future-proof after all.</span></span>

<span data-ttu-id="e2cab-146">将来性のあるソリューションは競合の利点を表しているため、それを正しく行うための特別な努力は価値があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-146">Because a future-proof solution represents a competitive advantage, it's worth the extra effort to do it correctly.</span></span>

## <a name="obtain-an-overview-of-your-code"></a><span data-ttu-id="e2cab-147">コードの概要の取得</span><span class="sxs-lookup"><span data-stu-id="e2cab-147">Obtain an overview of your code</span></span>

<span data-ttu-id="e2cab-148">コードの概要を作成するときは、ソリューションをまとめて分析するのではなく、各ソリューションの分析をまず検討します。</span><span class="sxs-lookup"><span data-stu-id="e2cab-148">When you create an overview of your code, first consider analyzing each of your solutions independently instead of analyzing them all together.</span></span> <span data-ttu-id="e2cab-149">この方法は、さまざまなチームが個々のソリューションで作業している場合でも実用的な場合があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-149">This approach might be practical even if different teams work on the individual solutions.</span></span> <span data-ttu-id="e2cab-150">他のチームよりも前に関与するチームを 1 つ選択することで、いくらか経験を積むことができます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-150">By choosing one team that you will engage before the other teams, you can gain some experience.</span></span> <span data-ttu-id="e2cab-151">経験は、作業を分析し計画するのに役立つだけでなく、チームがランプアップして拡張性モデルに慣れることにも役立ちます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-151">Experience is valuable, because it not only helps you analyze and plan the work, but also helps the team ramp up and become familiar with the extensibility model.</span></span> <span data-ttu-id="e2cab-152">したがって、あなたとあなたのチームが得た経験は、後のソリューションにも適用できる貴重な「教訓」となります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-152">Therefore, the experience that you and your team gain can become valuable "lessons learned" that you can apply to later solutions.</span></span>

<span data-ttu-id="e2cab-153">各 ISV ソリューションを順番に実行する ISVと、VAR として機能して顧客のソリューションを後で実行する ISV の両方について、実際的な経験を得ました。</span><span class="sxs-lookup"><span data-stu-id="e2cab-153">We have gained practical experience both with ISVs that take each ISV solution in turn, and with ISVs that work as VARs and take customer solutions later.</span></span>

<span data-ttu-id="e2cab-154">どのような形で作業がソリューションにまとめられていても、[カスタマイズ分析のレポート (CAR)](../dev-tools/customization-analysis-report.md) を使用してオーバーレイされたものに関する情報を取得できます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-154">No matter how the work is pieced together in solutions, you can use the [Customization Analysis Report (CAR)](../dev-tools/customization-analysis-report.md) to get information about what has been overlayered.</span></span> <span data-ttu-id="e2cab-155">このレポートは、Microsoft Dynamics Lifecycle Services (LCS) のコード移行ツールにソリューションを提出すると生成されます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-155">This report is generated when you submit your solutions to the Code Migration tool on Microsoft Dynamics Lifecycle Services (LCS).</span></span> <span data-ttu-id="e2cab-156">レポートは Microsoft Excel 形式で、重複したコードを持つすべての場所の一覧が含まれています。</span><span class="sxs-lookup"><span data-stu-id="e2cab-156">The report is in Microsoft Excel format and includes a list of all the places that have overlayered code.</span></span> <span data-ttu-id="e2cab-157">レポートを使用すると、ソリューションのすべてのオーバーレイ インスタンスの分析と分類の両方をすることができます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-157">You can use the report to both analyze and categorize all overlayered instances in your solution.</span></span>

<span data-ttu-id="e2cab-158">概要を得るには、オーバーレイヤーされたそれぞれのインスタンスを分類すると便利です。</span><span class="sxs-lookup"><span data-stu-id="e2cab-158">To obtain an overview, you might find it helpful to categorize each overlayered instance.</span></span> <span data-ttu-id="e2cab-159">オーバーレイされたインスタンスに適用するカテゴリは、カスタマイズを拡張に変更するために必要なおよその労力を表す必要があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-159">The category that you apply to an overlayered instance should represent the approximate effort that is required in order to change the customization to extensions.</span></span> <span data-ttu-id="e2cab-160">いくつかのカスタマイズは、拡張機能に簡単に変更されます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-160">Some customizations will be easily changed to extensions.</span></span> <span data-ttu-id="e2cab-161">ただし、その他のカスタマイズについては、変更がより難しくなります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-161">However, for other customizations, the change will be more difficult.</span></span>

<span data-ttu-id="e2cab-162">さまざまな ISV を操作する経験から、次のカテゴリが良い出発点であることがわかりました。</span><span class="sxs-lookup"><span data-stu-id="e2cab-162">From our experience working with numerous ISVs, we have found that the following categories are a good starting point.</span></span>

| <span data-ttu-id="e2cab-163">カテゴリ</span><span class="sxs-lookup"><span data-stu-id="e2cab-163">Category</span></span> | <span data-ttu-id="e2cab-164">説明</span><span class="sxs-lookup"><span data-stu-id="e2cab-164">Description</span></span> |
|----------|-------------|
| <span data-ttu-id="e2cab-165">拡張可能な列挙</span><span class="sxs-lookup"><span data-stu-id="e2cab-165">Extensible enums</span></span> | <span data-ttu-id="e2cab-166">拡張機能を使用して新しい列挙値を追加することができます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-166">You can add new enum values by using extensions.</span></span> <span data-ttu-id="e2cab-167">詳細については、[拡張機能による列挙への値の追加](add-enum-value.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e2cab-167">For more information, see [Add values to enums through extension](add-enum-value.md).</span></span> |
| <span data-ttu-id="e2cab-168">throw による構築</span><span class="sxs-lookup"><span data-stu-id="e2cab-168">Construct with throw</span></span> | <span data-ttu-id="e2cab-169">ほとんどのコンストラクト メソッドは単純で、ポストイベント ハンドラーを使用して拡張することができます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-169">Most construct methods are simple and can be extended by using post-event handlers.</span></span> <span data-ttu-id="e2cab-170">ただし、一部の construct メソッドはより複雑であり、クラスを作成していないとき例外をスローします。</span><span class="sxs-lookup"><span data-stu-id="e2cab-170">However, some construct methods are more complex and throw an exception when no class is created.</span></span> |
| <span data-ttu-id="e2cab-171">メンバーを公開</span><span class="sxs-lookup"><span data-stu-id="e2cab-171">Exposing members</span></span> | <span data-ttu-id="e2cab-172">定義に **プライベート** のアクセス修飾子があるメンバー変数は、パブリック メソッドを通じて公開されない限り、拡張機能を通じてアクセスできません。</span><span class="sxs-lookup"><span data-stu-id="e2cab-172">Member variables that have the **private** access modifier in their definition can't be accessed through extensions unless they become exposed through public methods.</span></span> <span data-ttu-id="e2cab-173">このために現在公開されていない拡張を通じて、メンバーに対するアクセス許可の追加を要求することができます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-173">You can request that we add access to members through extensions that currently have not been exposed for this.</span></span> <span data-ttu-id="e2cab-174">保護されたメンバーへのアクセスは通常、拡張クラスを通じて有効になることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="e2cab-174">Note that access to protected members is generally enabled through extension classes.</span></span> |
| <span data-ttu-id="e2cab-175">DataEvents を発生させないデータ操作メソッド</span><span class="sxs-lookup"><span data-stu-id="e2cab-175">Data manipulation methods that don't raise DataEvents</span></span> | <span data-ttu-id="e2cab-176">アプリケーションの一部の場所では、**insert()** および **update()** などのデータ メソッドは **super()** を呼び出しません。</span><span class="sxs-lookup"><span data-stu-id="e2cab-176">In some places in the application, data methods such as **insert()** and **update()** don't call **super()**.</span></span> <span data-ttu-id="e2cab-177">したがって、これらのメソッドは、拡張機能を追加する DataEvents を生成しません。</span><span class="sxs-lookup"><span data-stu-id="e2cab-177">Therefore, the methods don't raise DataEvents to add extensions to.</span></span> <span data-ttu-id="e2cab-178">Microsoft は、これらの場所で拡張機能を有効にする追加のメソッドが含まれるように、標準のアプリケーションのリファクターを計画しています。</span><span class="sxs-lookup"><span data-stu-id="e2cab-178">Microsoft plans to refactor the standard application so that it includes additional methods that enable extensions in these places.</span></span> <span data-ttu-id="e2cab-179">これを追加するために Microsoft の要求を送信する場合は、それらのメソッドがまだ転記されていない場合は、現在オーバーレイする必要がある影響を受けるメソッドのいずれかを追加します。</span><span class="sxs-lookup"><span data-stu-id="e2cab-179">If you submit a request for Microsoft to add this, add any of the affected methods that you must currently overlayer, if those methods haven't already been accounted for.</span></span> |
| <span data-ttu-id="e2cab-180">メソッドの抽出</span><span class="sxs-lookup"><span data-stu-id="e2cab-180">Extract method</span></span> | <span data-ttu-id="e2cab-181">このカテゴリは、コマンドの連鎖ではできないメソッドの途中でのコード変更用です。</span><span class="sxs-lookup"><span data-stu-id="e2cab-181">This category is for code changes in the middle of methods, which can't be made through chain of command.</span></span> <span data-ttu-id="e2cab-182">メソッドの抽出を要求するときは、抽出するメソッドの行と、新規メソッドの署名を何にする必要があるかをかならず指定します。</span><span class="sxs-lookup"><span data-stu-id="e2cab-182">When you request a method extraction, be sure to specify which lines of a method to extract, and what the signature of the new method must be.</span></span> |
| <span data-ttu-id="e2cab-183">SQL ステートメント操作</span><span class="sxs-lookup"><span data-stu-id="e2cab-183">SQL statement operations</span></span> | <span data-ttu-id="e2cab-184">アプリケーション コードで直接記述されている SQL ステートメントは、拡張機能を有効にしません。</span><span class="sxs-lookup"><span data-stu-id="e2cab-184">SQL statements that are written directly in the application code don't enable extensions.</span></span> <span data-ttu-id="e2cab-185">これらの SQL ステートメントの拡張を要求するときは、フィールド一覧、**WHERE** 句、または注文などの、拡張を必要とする内容を明示的に指定していることを確認します。</span><span class="sxs-lookup"><span data-stu-id="e2cab-185">When you make a request to extend these SQL statements, be sure to explicitly specify what you must extend, such as a field list, **where** clauses, or ordering.</span></span> |
| <span data-ttu-id="e2cab-186">メタデータのオーバーレイ</span><span class="sxs-lookup"><span data-stu-id="e2cab-186">Metadata overlayering</span></span> | <span data-ttu-id="e2cab-187">メタデータ (プロパティ値) を変更する必要があると思われる要素のアプリケーション オブジェクト ツリー (AOT) のパスを提供します。</span><span class="sxs-lookup"><span data-stu-id="e2cab-187">Provide the Application Object Tree (AOT) path of the element where you believe the metadata (property value) must be changed.</span></span> <span data-ttu-id="e2cab-188">メタデータの変更は、現在の拡張機能を通じて行うことはできません。</span><span class="sxs-lookup"><span data-stu-id="e2cab-188">Metadata changes can't be made through the current extension capabilities.</span></span> |
| <span data-ttu-id="e2cab-189">メソッドのオーバーレイ</span><span class="sxs-lookup"><span data-stu-id="e2cab-189">Method overlayering</span></span> | <span data-ttu-id="e2cab-190">このカテゴリは、メソッドがオーバーレイされているカスタマイズのためのものです。</span><span class="sxs-lookup"><span data-stu-id="e2cab-190">This category is for customizations where a method is overlayered.</span></span> <span data-ttu-id="e2cab-191">代替機能ではなく拡張機能ごとに変更がクリーンになるように、オーバーレイ メソッドを拡張機能に変換することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="e2cab-191">You should consider converting the overlayed method to an extension, so that changes are clean by extension not substitution.</span></span> |
| <span data-ttu-id="e2cab-192">メソッド シグネチャの変更</span><span class="sxs-lookup"><span data-stu-id="e2cab-192">Method signature changes</span></span> | <span data-ttu-id="e2cab-193">オーバレイによるメソッド シグネチャの変更機能は廃止されます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-193">The capability to change method signatures through overlayering will be discontinued.</span></span> <span data-ttu-id="e2cab-194">同様の結果を実現するための他のパターンが必要です。</span><span class="sxs-lookup"><span data-stu-id="e2cab-194">Other patterns for achieving similar results are required.</span></span> <span data-ttu-id="e2cab-195">拡張性をサポートするために、標準シグネチャへの変更を要求することができます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-195">You can request changes to the standard signature to support extensibility.</span></span> <span data-ttu-id="e2cab-196">必要な追加パラメーターについての情報が含まれていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="e2cab-196">Be sure to include information about additional parameters that are required.</span></span> |
| <span data-ttu-id="e2cab-197">在庫分析コード</span><span class="sxs-lookup"><span data-stu-id="e2cab-197">Inventory dimensions</span></span> | <span data-ttu-id="e2cab-198">マクロを編集および標準アプリケーションのコンパイルでは、分析コードを追加することができなくなりました。</span><span class="sxs-lookup"><span data-stu-id="e2cab-198">You can no longer add dimensions by editing the macro and recompiling the standard application.</span></span> <span data-ttu-id="e2cab-199">実行時に配置される定義済分析コードに関連する別の方法が提供されます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-199">Another approach will be offered that involves predefined dimensions that are deployed at runtime.</span></span> <span data-ttu-id="e2cab-200">この方法では、新しいディメンションが追加される既存のカスタマイズに対する変更が行われます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-200">This approach drives changes to existing customizations where new dimensions are added.</span></span> |
| <span data-ttu-id="e2cab-201">拡張性プラットフォーム</span><span class="sxs-lookup"><span data-stu-id="e2cab-201">Extensibility platform</span></span>  | <span data-ttu-id="e2cab-202">いくつかのカスタマイズは、新しいプラットフォーム機能が追加されない限り、拡張機能から使用できない場合があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-202">Some customizations might not be possible through extensions unless new platform features are added.</span></span> <span data-ttu-id="e2cab-203">カスタマイズが拡張機能を通じて現在実行できないと判断した場合は、シナリオと必要な内容を説明する拡張依頼を開きます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-203">If you determine that customizations can't currently be done through extensions, open an extensibility request that explains the scenario and what is required.</span></span> |
| <span data-ttu-id="e2cab-204">レポート</span><span class="sxs-lookup"><span data-stu-id="e2cab-204">Reports</span></span>  | <span data-ttu-id="e2cab-205">レポート デザインのカスタマイズでは、拡張性のサポートが限られています。</span><span class="sxs-lookup"><span data-stu-id="e2cab-205">Customizations of report designs have limited support for extensibility.</span></span> <span data-ttu-id="e2cab-206">一般に、新しいレポートを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-206">In general, a new report must be created.</span></span> <span data-ttu-id="e2cab-207">データ プロバイダー クラスは、追加情報を含むようにカスタマイズすることもできます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-207">Data provider classes can also be customized so that they include additional information.</span></span> <span data-ttu-id="e2cab-208">一部の場所では、標準のアプリケーションを変更して、このタイプのカスタマイズを有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-208">In some places, the standard application must be changed to enable this type of customization.</span></span> |
| <span data-ttu-id="e2cab-209">外</span><span class="sxs-lookup"><span data-stu-id="e2cab-209">Other</span></span>  | <span data-ttu-id="e2cab-210">このカテゴリは、他のカテゴリに収まらないインスタンスをオーバーレイするためのものです。</span><span class="sxs-lookup"><span data-stu-id="e2cab-210">This category is for overlayering instances that don't fit into any other category.</span></span> |

<span data-ttu-id="e2cab-211">オーバーレイするすべてのコードを分類することによって、変更が必要な対象の概要を得ることができます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-211">By categorizing all overlaying code, you gain an overview of what must be changed.</span></span>

## <a name="analyzing-for-impact-and-estimating-work"></a><span data-ttu-id="e2cab-212">影響の分析と作業の見積もり</span><span class="sxs-lookup"><span data-stu-id="e2cab-212">Analyzing for impact and estimating work</span></span>

<span data-ttu-id="e2cab-213">作業の影響を評価する標準的なアプローチでは、タスクを具体的なものに分割します。</span><span class="sxs-lookup"><span data-stu-id="e2cab-213">In a typical approach to assessing work impact, you break down tasks into something tangible.</span></span> <span data-ttu-id="e2cab-214">この方法はこの作業にも当てはまります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-214">This approach also applies to this work.</span></span> <span data-ttu-id="e2cab-215">前のセクションで説明したカテゴリは、同様のカスタマイズをフレームするのに役立ちます。また、これらのカテゴリおよびソリューションを構成する同様のカテゴリの全体的な見積もりを作成することで、見積もりの最初のパスを構築できます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-215">The categories that were discussed in the previous section help frame similar customizations, and a first pass on estimates can be built by coming up with an overall estimate for each of these categories and similar categories that make up your solution.</span></span> <span data-ttu-id="e2cab-216">指定したカテゴリのカスタマイズ グループには、いくつかの点で優れていることが多く、これらのカスタマイズの見積もりを個別に確立することが適切な場合があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-216">The group of customizations in a given category often has a few extremes that stand out, and it might be appropriate to establish estimates for these customizations individually.</span></span>

<span data-ttu-id="e2cab-217">一部のカスタマイズでは、拡張性を有効にするために Microsoft への要求、または拡張性を介して行うことができるようにカスタマイズの大幅なリファクタリングが必要になることを考慮してください。</span><span class="sxs-lookup"><span data-stu-id="e2cab-217">Consider that some customizations will require either a request to Microsoft to enable extensibility or significant refactoring of the customization so that it can be done through extensibility.</span></span> <span data-ttu-id="e2cab-218">これらの両方のシナリオはソリューションを移行するための見積を増加させます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-218">Both of these scenarios will increase the estimates for migrating the solution.</span></span>

<span data-ttu-id="e2cab-219">侵入的な変更を実行するカスタマイズは、拡張機能に変換する場合、より複雑な場合があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-219">Customization that drives what are referred to as intrusive changes is often more complex to convert to extensions.</span></span> <span data-ttu-id="e2cab-220">これらの変更については、カスタマイズにアプローチする正しい方法を考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-220">For these changes, you must consider what is the correct way to approach the customization.</span></span> <span data-ttu-id="e2cab-221">これらの変更の例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="e2cab-221">Here are some examples of these changes:</span></span>

+ <span data-ttu-id="e2cab-222">インライン デリゲートを要求するカスタマイズ。</span><span class="sxs-lookup"><span data-stu-id="e2cab-222">Customizations that request inline delegates.</span></span> 
+ <span data-ttu-id="e2cab-223">**SalesLinetype** のような、複雑なクラスまたはメソッドのカスタマイズ。</span><span class="sxs-lookup"><span data-stu-id="e2cab-223">Customizations of complex classes or methods such as **SalesLinetype**.</span></span>
+ <span data-ttu-id="e2cab-224">メソッド シグネチャの変更。</span><span class="sxs-lookup"><span data-stu-id="e2cab-224">Changes to method signatures.</span></span>
+ <span data-ttu-id="e2cab-225">在庫分析コードの追加。</span><span class="sxs-lookup"><span data-stu-id="e2cab-225">Additions of inventory dimensions.</span></span>
+ <span data-ttu-id="e2cab-226">レポート定義およびレポート データ プロバイダー クラスの変更。</span><span class="sxs-lookup"><span data-stu-id="e2cab-226">Changes to report definitions and report data provider classes.</span></span>
+ <span data-ttu-id="e2cab-227">フォームへの侵入的な変更。</span><span class="sxs-lookup"><span data-stu-id="e2cab-227">Intrusive changes to forms.</span></span>

<span data-ttu-id="e2cab-228">カスタマイズを拡張ベースにするための異なるアプローチが必要な変更については、拡張機能を有効にするため Microsoft にログ要求をする必要があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-228">For changes that require different approaches to make the customizations extension-based, you might have to log requests to Microsoft to enable extensibility.</span></span> <span data-ttu-id="e2cab-229">移行スケジュールを作成するとき、Microsoft からの更新プログラム待ちの遅延を考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-229">When creating your migration schedule, you'll need to take into account the delay of waiting for updates from Microsoft.</span></span>

## <a name="what-is-supported-and-what-requires-an-extensibility-request"></a><span data-ttu-id="e2cab-230">何がサポートされるか、また何が拡張機能を必要とするか ?</span><span class="sxs-lookup"><span data-stu-id="e2cab-230">What is supported, and what requires an extensibility request?</span></span>

<span data-ttu-id="e2cab-231">カスタマイズを確認するときは、カスタマイズを拡張機能へ変換するための各種オプションをかならず考慮してください。</span><span class="sxs-lookup"><span data-stu-id="e2cab-231">When you review a customization, be sure to consider different options for converting it to an extension.</span></span> <span data-ttu-id="e2cab-232">フック可能なメソッドかどうか、またはクラス拡張かフォーム イベントかどうかを必ず考慮してください。</span><span class="sxs-lookup"><span data-stu-id="e2cab-232">Be sure to consider whether a method is hookable, or whether it can be a class extension or form event.</span></span> <span data-ttu-id="e2cab-233">使用できる現在使用可能なアプリケーション コードの大部分を確認します。</span><span class="sxs-lookup"><span data-stu-id="e2cab-233">Review most of the currently available application code that is available to you.</span></span> 

<span data-ttu-id="e2cab-234">必要な拡張子を有効にするために、標準アプリケーションへの変更が必要であると結論付ける可能性があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-234">You might conclude that a change to the standard application is required in order to enable the required extension.</span></span> <span data-ttu-id="e2cab-235">この場合は、 [拡張機能の要求を記録](extensibility-requests.md) する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-235">In this case, you must [log an extensibility request](extensibility-requests.md).</span></span> <span data-ttu-id="e2cab-236">この要求は対処できるように Microsoft のバックログに配置されます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-236">The request is then put into the backlog at Microsoft so that it can be addressed.</span></span> <span data-ttu-id="e2cab-237">Microsoft は修正プログラムの機能拡張要求を解放しないので、修正プログラムの要求を開いて、拡張機能の要求をログないでください。</span><span class="sxs-lookup"><span data-stu-id="e2cab-237">Don't log extensibility requests by opening a request for a hotfix, because Microsoft doesn't release extensibility requests as hotfixes.</span></span>

<span data-ttu-id="e2cab-238">拡張機能の要求には十分なコンテキスト情報を供給してください。</span><span class="sxs-lookup"><span data-stu-id="e2cab-238">Be sure to supply enough contextual information in your extensibility requests.</span></span> <span data-ttu-id="e2cab-239">たとえば、インライン デリゲートの要求が、現在のカスタマイズ アプローチから来る可能性があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-239">For example, a request for an inline delegate might come from the current customization approach.</span></span> <span data-ttu-id="e2cab-240">ただし、より適切な拡張を行うため、このカスタマイズにつながなる要求は、標準アプリケーションへの構造的な変更によってより効果的になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-240">However, to better accommodate extension, the requirement that led to this customization might be better served by a structural change to the standard application.</span></span> <span data-ttu-id="e2cab-241">この種のご提案は、アプリケーションをさまざまなカスタマイズを構築するためのより良いプラットフォームに近づけることに役に立ちますのでよろしくお願い致します。</span><span class="sxs-lookup"><span data-stu-id="e2cab-241">We appreciate suggestions of this type, because they help move the application toward a better platform for building different customizations.</span></span>

## <a name="planning-the-migration"></a><span data-ttu-id="e2cab-242">移行の計画</span><span class="sxs-lookup"><span data-stu-id="e2cab-242">Planning the migration</span></span>

<span data-ttu-id="e2cab-243">早期にソリューションの移行を計画開始してください。</span><span class="sxs-lookup"><span data-stu-id="e2cab-243">Be sure to start planning the migration of your solutions early.</span></span> <span data-ttu-id="e2cab-244">この計画は、機能拡張要求を識別してログに記録するためのスケジュールに余裕があること、およびこれらの要求が製品リリースで利用可能になるまでの時間の余地があることを確認するのに役立つので重要です。</span><span class="sxs-lookup"><span data-stu-id="e2cab-244">This planning is important because it helps you make sure that you have room in your schedules to identify and log extensibility requests, and that you have room for the time delay before these requests become available in product releases.</span></span> <span data-ttu-id="e2cab-245">また、開発者は、新しいスキルをビルドする可能性があることに同意し、移行計画の一部として必要な学習に対応するかどうかを確認してください。</span><span class="sxs-lookup"><span data-stu-id="e2cab-245">Additionally, acknowledge that your developers might have to build new skills, and make sure that you cater to any required learning as part of the migration plan.</span></span>

<span data-ttu-id="e2cab-246">ソリューションに、拡張機能を通じて簡単に対応できない侵入的なカスタマイズが含まれていることがあります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-246">Your solution might contain intrusive customizations that aren't easily accommodated through extensions.</span></span> <span data-ttu-id="e2cab-247">このようなカスタマイズの業務の値が拡張機能を通じて構築する手間を上回るかどうかを検討してください。</span><span class="sxs-lookup"><span data-stu-id="e2cab-247">You should consider whether the business value of these customizations outweighs the effort of building them through extensions.</span></span> <span data-ttu-id="e2cab-248">場合によっては、パートナーが拡張機能を通じてパーツを再構築することが困難で、それらのパーツはソリューションにとって重要ではないため、ソリューションのパーツを中止することを決定しました。</span><span class="sxs-lookup"><span data-stu-id="e2cab-248">In some cases, partners have decided to discontinue parts of their solutions, because they found that it was impractical to rebuild those parts through extensions, and those parts weren't critical to the solutions.</span></span>

<span data-ttu-id="e2cab-249">アプリケーション全体でカスタマイズする小規模な修正プログラムの一部は、ソリューションのコアでない場合がありますが、関係するユーザーにとって重要です。</span><span class="sxs-lookup"><span data-stu-id="e2cab-249">Some smaller fixes that you're customizing across the application might not be core for your solution, but they are important for the customers that you engage with.</span></span> <span data-ttu-id="e2cab-250">そのような場合、標準アプリケーションに類似の機能を実装するよう Microsoft に依頼するほうがよいかどうかを決定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-250">In these cases, you must decide whether you prefer to ask Microsoft to implement similar capabilities in the standard application.</span></span> <span data-ttu-id="e2cab-251">この目的のために拡張性要求を入力することができます。</span><span class="sxs-lookup"><span data-stu-id="e2cab-251">You can enter an extensibility request for this purpose.</span></span> <span data-ttu-id="e2cab-252">たとえば、顧客がシステムでの標準の業務プロセスを簡略化する場合、標準のアプリケーションでプロセスの手順を無効にするためのオプションを追加するよう、提案する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="e2cab-252">For example, if customers want to simplify standard business processes in the system, you might suggest that we add options for disabling steps of the process in the standard application.</span></span>


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
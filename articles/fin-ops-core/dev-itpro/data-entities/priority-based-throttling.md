---
title: スロットリング優先度
description: この記事では、OData およびカスタム サービス ベース統合の優先順位に基づく調整に関する情報を提供します。
author: jaredha
ms.date: 08/25/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Developer
ms.reviewer: sericks
ms.custom: 21311
ms.assetid: 5ff7fd93-1bb8-4883-9cca-c8c42ddc1746
ms.search.region: Global
ms.author: jaredha
ms.search.validFrom: 2020-07-31
ms.dyn365.ops.version: Platform update 37
ms.openlocfilehash: 25aafdd9e32d2eb22fd4ae37a9b61b46b2240cca
ms.sourcegitcommit: d3f7a56eaf788d223ece4cedac4a319eaf5f6112
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/19/2022
ms.locfileid: "9539129"
---
# <a name="throttling-prioritization"></a>スロットリング優先度

[!include [banner](../includes/banner.md)]

この記事では、Open Data Protocol (OData) をカスタム サービス ベース統合の優先順位に基づく調整に関する情報を提供します。

サービス保護アプリケーション プログラミング インターフェイス (API) のリソース ベースの制限は、サービス保護 API のユーザー ベースの制限と連携し、リソースの過剰利用を防ぐのに役立つ保護設定として機能します。 これにより、システムの応答性を維持し、財務と運用アプリを実行する環境で一貫した可用性とパフォーマンスを実現できます。 リソース ベースの制限は、Web サーバー リソースの総消費量がサービスのパフォーマンスと可用性を低下させるレベルに達すると、サービス要求を調整します。

> [!NOTE]
> 優先順位を調整しないマッピングは、ユーザー ベースのサービス保護 API の制限には適用されません。 優先順位マッピングは、リソース ベースのサービス保護 API の制限ごとに異なります。 API 制限タイプの詳細については、[サービス保護 API の制限](service-protection-api-limits.md)を参照してください。

リソース ベースのサービス保護 API の制限では、ビジネスにとって重要なこれらの統合の必要性に応じて、OData とカスタム サービス ベース統合の相対的な優先順位を設定することができます。 調整マネージャーは、要求に対して設定されたその優先順位を受け入れます。 OData およびカスタム サービス ベース要求では、システムの正常性とパフォーマンスが影響を受けると、「要求過多」 のエラーが送信されます。

## <a name="determine-prioritization"></a>優先順位の決定

**調整優先順位マッピング** ページは、要求が調整された場合、優先順位が受け入れられるように統合の優先順位を割り当てるために使用されます。 適切な優先順位を設定することにより、優先順位の低い統合を優先順位の高い統合の前に調整することができます。 統合の設定方法の詳細については、[外部サービスとの接続を有効にする](/training/modules/integrate-azure-finance-operations/7-connect-external) を参照してください。 

次は、Azure Active Directory (AAD) でサポートされる認証タイプです。 詳細については、[認証](services-home-page.md) を参照してください。
- **ユーザー ベース**: このフローでは、認証と承認にユーザー名とパスワードを使用します。 
- **AAD アプリケーション ベース**: このフローでは、AAD に登録されたアプリケーションと、認証に関連付けられたアプリケーションを使用します。 

優先順位マッピングを設定する場合、特定のアプリケーション (クライアント ID) または特定のユーザーの統合に使用される認証タイプを選択します。
- アプリケーションに対して優先順位マッピングが設定されている場合は、優先順位マッピングが、選択した AAD アプリケーション ID の任意の API 要求に適用されます。
- ユーザーに対して優先順位マッピングが設定されている場合は、優先順位マッピングが、選択した AAD ユーザー ID の任意の API 要求に適用されます。

使用可能な優先順位には、「低」、「中」、および「高」の 3 つがあります。 選択したアプリケーションまたはユーザーには、優先順位ごとに異なる調整しきい値を割り当てる必要があります。
- **低**: 優先順位が「低」のマッピングを使用するアプリケーションまたはユーザーには、サービス リソース消費のしきい値が低くなります。サービス リソース消費は、優先順位「中」または「高」で設定された統合よりも優先されます。
- **中**: 優先順位が「中」のマッピングを使用するアプリケーションまたはユーザーには、優先順位が「低」のマッピングを使用する統合よりもサービス リソース消費のしきい値を大きく、優先順位が「高」のマッピングを使用する統合よりもリソース消費のしきい値を低く設定できます。
- **高**: 優先順位が「高」のマッピングを使用するアプリケーションまたはユーザーには、サービス リソース消費の調整しきい値が高くなります。サービス リソース消費は、優先順位が「低」または「中」のマッピングを使った統合よりも優先されます。

優先順位の高いアプリケーションやユーザーは、優先順位の低い統合によってサービス リソースの消費に影響を受けずに優先順位が高いアプリケーション要求のマッピングを確実にします。
 
## <a name="configure-priorities-for-integrations"></a>統合優先順位のコンフィギュレーション 

サービスを AAD および財務と運用アプリに登録すると、統合優先順位を設定できます。

> [!NOTE]
> 設定を完了するには、**システム管理者** または **統合優先順位マネージャー** ロールを割り当てる必要があります。 

1. 財務と運用アプリで、 **システム管理** > **設定** > **調整優先順位マッピング** の順に移動します。 
2.  **新規** を選択します。 
3.  **認証タイプ**  フィールドで、統合シナリオに基づいて **ユーザー** または **AAD アプリケーション** を選択します。
4. **AAD アプリケーション タイプ** を選択した場合、Azure Active Directory アプリケーションで登録したアプリケ―ションを  **クライアント ID**  フィールドで選択します。
5. **ユーザー** タイプが選択されている場合は、 **ユーザー ID** フィールドで適切なサービス アカウント ユーザー ID を選択します。
6. 適切な優先順位を割り当て、**保存** を選択します。

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]

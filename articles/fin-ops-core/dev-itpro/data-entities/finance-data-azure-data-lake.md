---
title: Azure Data Lake の Finance and Operations アプリ データ
description: このトピックでは、Data Lakeを実装した Finance and Operations アプリ環境の設定方法を説明します。
author: MilindaV2
manager: AnnBe
ms.date: 06/15/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Developer, IT Pro
ms.reviewer: kfend
ms.custom: 96283
ms.assetid: ''
ms.search.region: Global
ms.author: milindav
ms.search.validFrom: 2020-03-01
ms.dyn365.ops.version: Platform Update 34
ms.openlocfilehash: 3b25a7b7abd2893c05e804b426a7584061543d3d
ms.sourcegitcommit: 659375c4cc7f5524cbf91cf6160f6a410960ac16
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/05/2020
ms.locfileid: "4688065"
---
# <a name="finance-and-operations-apps-data-in-azure-data-lake"></a><span data-ttu-id="80953-103">Azure Data Lake の Finance and Operations アプリ データ</span><span class="sxs-lookup"><span data-stu-id="80953-103">Finance and Operations apps data in Azure Data Lake</span></span>

[!include [banner](../includes/banner.md)]

> [!NOTE]
> <span data-ttu-id="80953-104">制限されたプレビューでの **Azure Data Lake へのエクスポート** 機能は、Finance and Operations アプリで対応しているすべての地域および環境では使用できない場合があります。</span><span class="sxs-lookup"><span data-stu-id="80953-104">The **Export to Azure Data Lake** feature is in limited preview and may not be available in all regions and environments supported by Finance and Operations apps.</span></span> <span data-ttu-id="80953-105">Lifecycle Services (LCS)、または Finance and Operations アプリで **Azure Data Lake へのエクスポート** の機能が見つからない場合は、ご利用の環境でこの機能を使用できません。</span><span class="sxs-lookup"><span data-stu-id="80953-105">If you are unable to find the **Export to Azure Data Lake** functionality in Lifecycle Services (LCS) or your Finance and Operations apps, this feature is not currently available in your environment.</span></span> 
>
> <span data-ttu-id="80953-106">現在、プレビューは終了しています。</span><span class="sxs-lookup"><span data-stu-id="80953-106">Currently, previews are closed.</span></span> <span data-ttu-id="80953-107">数か月後に、いくつかの地域で追加の環境を有効にします。</span><span class="sxs-lookup"><span data-stu-id="80953-107">In the coming months we will enable additional environments in several regions.</span></span> <span data-ttu-id="80953-108">プレビューに参加したい顧客からの要求を承諾しています。</span><span class="sxs-lookup"><span data-stu-id="80953-108">We are accepting requests from customers who would like to join the preview.</span></span> <span data-ttu-id="80953-109">今後のプレビューに参加する場合は、[アンケートを完了します](https://aka.ms/FnODataLakePreviewSurvey)。</span><span class="sxs-lookup"><span data-stu-id="80953-109">If you would like to join a future preview, [complete the survey](https://aka.ms/FnODataLakePreviewSurvey).</span></span> <span data-ttu-id="80953-110">参加の準備ができ次第、ご連絡いたします。</span><span class="sxs-lookup"><span data-stu-id="80953-110">We will contact you when we are ready to include you.</span></span> <span data-ttu-id="80953-111">[アンケートを完了](https://aka.ms/FnODataLakePreviewSurvey) すると、Yammer に参加することもできます。</span><span class="sxs-lookup"><span data-stu-id="80953-111">You can also join a Yammer group by [completing the survey](https://aka.ms/FnODataLakePreviewSurvey).</span></span> <span data-ttu-id="80953-112">Yammer グループを使用して、機能を理解するのに役立つ質問をお伝えすることができます。</span><span class="sxs-lookup"><span data-stu-id="80953-112">You can use the Yammer group to stay in contact and ask questions that will help you understand the feature.</span></span>  
>
> <span data-ttu-id="80953-113">環境でこの機能が有効になるまで、[GitHub ツール](https://github.com/microsoft/Dynamics-365-FastTrack-Implementation-Assets/blob/master/Analytics/AzureDataFactoryARMTemplates/SQLToADLSFullExport/ReadmeV2.md) を使用して機能の実装をプロトタイプ/計画するためのオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="80953-113">Until the feature is enabled in your environment, you have the option to prototype/plan the feature implementation using [GitHub tools](https://github.com/microsoft/Dynamics-365-FastTrack-Implementation-Assets/blob/master/Analytics/AzureDataFactoryARMTemplates/SQLToADLSFullExport/ReadmeV2.md).</span></span> <span data-ttu-id="80953-114">このツールを使用すると、機能によってエクスポートされたのと同じ形式で、サンドボックス環境のデータをストレージ アカウントにエクスポートすることができます。</span><span class="sxs-lookup"><span data-stu-id="80953-114">The tools will enable you to export data from your sandbox environment into a storage account in the same format as exported by the feature.</span></span> 
>
> <span data-ttu-id="80953-115">現時点では、**Azure Data Lake へのエクスポート** 機能は、Tier 1 (開発者) 環境では使用できません。</span><span class="sxs-lookup"><span data-stu-id="80953-115">At this time, **Export to Azure Data Lake** feature is not available in Tier-1 (developer) environments.</span></span> <span data-ttu-id="80953-116">この機能を有効化するには、クラウド ベースの Tier 2 またはそれ以上の環境が必要です。</span><span class="sxs-lookup"><span data-stu-id="80953-116">You need a cloud-based Tier-2 or higher environment to enable this feature.</span></span>
>
> <span data-ttu-id="80953-117">Data Lakeで集計測定を使用できるようにするには、[エンティティ ストアを Data Lake として使用可能とする](entity-store-data-lake.md)で説明されている方法でこの機能を引き続き使用します。</span><span class="sxs-lookup"><span data-stu-id="80953-117">To make aggregate measurements available in a data lake, continue to use the feature in the manner that is described in [Make entity store available as a Data Lake](entity-store-data-lake.md).</span></span>
 
 
<span data-ttu-id="80953-118">**Azure Data lake にエクスポート** 機能を使用すると、アプリケーションのデータをご利用の Azure Data lake (Gen 2) の Finance and Operations アプリにコピーできます。</span><span class="sxs-lookup"><span data-stu-id="80953-118">The **Export to Azure Data Lake** feature lets you copy data from your Finance and Operations apps into your own Azure Data Lake (Gen 2).</span></span> <span data-ttu-id="80953-119">このシステムでは、含めるテーブルやエンティティを選択できます。</span><span class="sxs-lookup"><span data-stu-id="80953-119">The system let's you choose the tables and entities to include.</span></span> <span data-ttu-id="80953-120">必要なデータを選択した後、システムが初期コピーを行います。</span><span class="sxs-lookup"><span data-stu-id="80953-120">After you select the data that you want, the system will make an initial copy.</span></span> <span data-ttu-id="80953-121">システムは、変更、削除、追加を適用することで、選択したデータを最新の状態に保ちます。</span><span class="sxs-lookup"><span data-stu-id="80953-121">The system then keeps the selected data up to date by applying changes, deletions, and additions.</span></span> <span data-ttu-id="80953-122">Finance and Operations アプリのインスタンスのデータを変更後、data lake でデータが使用可能になるまでには数分を要する場合があります。</span><span class="sxs-lookup"><span data-stu-id="80953-122">There may be a delay of a few minutes between data changes in your Finance and Operations apps instances and the time when the data is available in your data lake.</span></span> 

<span data-ttu-id="80953-123">この機能を使用するには、**Data Lake へのエクスポート** を構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="80953-123">Before you can use this feature, you must configure the **Export to Data Lake**.</span></span> <span data-ttu-id="80953-124">詳細については、[Azure Data Lake へのエクスポートの構成](configure-export-data-lake.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="80953-124">For more information, see [Configure export to Azure Data Lake](configure-export-data-lake.md).</span></span>


## <a name="turn-on-the-export-data-to-azure-data-lake-feature"></a><span data-ttu-id="80953-125">Azure Data Lake へのデータのエクスポート機能を有効にします</span><span class="sxs-lookup"><span data-stu-id="80953-125">Turn on the Export Data to Azure Data Lake feature</span></span>

<span data-ttu-id="80953-126">管理者は事前に、**Azure Data Lake へのエクスポート**  機能を有効化しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="80953-126">An administrator must turn on the **Export to Azure Data Lake** feature before it can be activated.</span></span> <span data-ttu-id="80953-127">これを行うには、**機能の管理** ワークスペースにアクセスし、**Azure Data Lake にデータをエクスポート** 機能を選択し、**有効化** を選択してください。</span><span class="sxs-lookup"><span data-stu-id="80953-127">To do this, go to the **Feature management** workspace, locate and select the **Export Data to Azure Data Lake** feature, and then select **Enable**.</span></span>

<span data-ttu-id="80953-128">この機能を有効化すると、**システムの管理** の配下に **Azure Data Lake にエクスポートする** オプションが表示されます。</span><span class="sxs-lookup"><span data-stu-id="80953-128">After the feature is enabled, you should see the **Export to Azure Data Lake** option under **System administration**.</span></span>

## <a name="select-data"></a><span data-ttu-id="80953-129">データの選択</span><span class="sxs-lookup"><span data-stu-id="80953-129">Select data</span></span>

<span data-ttu-id="80953-130">Data Lake にステージングする必要のあるテーブルとエンティティを選択することができます 。</span><span class="sxs-lookup"><span data-stu-id="80953-130">You can select the tables and entities that should be staged in Data Lake.</span></span>

1. <span data-ttu-id="80953-131">ご利用の環境で、**システム管理** \> **Azure Data Lake にエクスポートする** へと移動します。</span><span class="sxs-lookup"><span data-stu-id="80953-131">In your environment, go to **System Administration** \> **Export to Azure Data Lake**.</span></span>
2. <span data-ttu-id="80953-132">**Data Lake にエクスポートするデータフィードの構成** を選択します。</span><span class="sxs-lookup"><span data-stu-id="80953-132">Select **Configure Data feeds for export to Lake**.</span></span>
3. <span data-ttu-id="80953-133">**テーブルの選択** タブの、**Data Lake に対するデータフィードの構成** ページで、 Data Lake にステージングするデータ テーブルを選択します。</span><span class="sxs-lookup"><span data-stu-id="80953-133">On the **Configure data feeds to Data Lake** page, on the **Choose Tables** tab, select the data tables that should be staged in Data Lake.</span></span> <span data-ttu-id="80953-134">テーブルは、表示名またはシステム名で検索できます。</span><span class="sxs-lookup"><span data-stu-id="80953-134">You can search for tables by display name or system name.</span></span> <span data-ttu-id="80953-135">テーブルが既に同期されているかどうかを確認することもできます。</span><span class="sxs-lookup"><span data-stu-id="80953-135">You can also see whether a table is being synced.</span></span> 
4. <span data-ttu-id="80953-136">完了後に、**テーブルの追加** を選択し、選択したテーブルを Data Lake に追加します。</span><span class="sxs-lookup"><span data-stu-id="80953-136">When you've finished, select **Add Tables** to add the selected tables to Data Lake.</span></span>

    ![テーブルの選択](./media/Export-Tables-toData-lake-unselectedv2.png)

5. <span data-ttu-id="80953-138">**データフィードの有効化** を選択し 、**OK** を選択します。</span><span class="sxs-lookup"><span data-stu-id="80953-138">Select **Activate data feed**, and then select **OK**.</span></span> <span data-ttu-id="80953-139">テーブルを追加する際に、このテーブルの状態が **初期化中** と表示される場合があります。</span><span class="sxs-lookup"><span data-stu-id="80953-139">The system may show the status of this table as **Initializing** when you add the table.</span></span> <span data-ttu-id="80953-140">これは、データの初期コピーを作成していることを意味します。</span><span class="sxs-lookup"><span data-stu-id="80953-140">This means, the system is making an initial copy of data.</span></span> <span data-ttu-id="80953-141">初期コピーが完了すると、状態が **実行中** に変更されます</span><span class="sxs-lookup"><span data-stu-id="80953-141">When the initial copy is complete, the system changes the status to **Running**</span></span>

<span data-ttu-id="80953-142">エラーが発生した場合は、状態が **無効** と表示されます。</span><span class="sxs-lookup"><span data-stu-id="80953-142">In case of an error, the system shows the status **Deactivated**.</span></span> <span data-ttu-id="80953-143">**実行中** の状態を確認する際に、データ レイクのデータを使用でき ます。</span><span class="sxs-lookup"><span data-stu-id="80953-143">You can consume data in the lake when you see the **Running** state.</span></span> <span data-ttu-id="80953-144">**初期化** または **無効化** 状態の間にデータ レイクデータを使用している場合は、一部のデータが表示されないことがあります。</span><span class="sxs-lookup"><span data-stu-id="80953-144">If you consume data in the lake while **Initializing** or **Deactivated** status, you may not see all the data.</span></span> 

<span data-ttu-id="80953-145">必要な特定のテーブルについて詳しくない場合は、エンティティを使用してテーブルを選択することができます。</span><span class="sxs-lookup"><span data-stu-id="80953-145">If you aren't familiar with the specific tables that you require, you can select tables by using entities.</span></span> <span data-ttu-id="80953-146">エンティティはデータの抽象度が高く、複数のテーブルを含む場合があります。</span><span class="sxs-lookup"><span data-stu-id="80953-146">Entities are a higher-level abstraction of data and might include multiple tables.</span></span> <span data-ttu-id="80953-147">エンティティを選択することで、それを構成するテーブルも選択することになります。</span><span class="sxs-lookup"><span data-stu-id="80953-147">By selecting entities, you're also selecting the tables that include them.</span></span>
    
7. <span data-ttu-id="80953-148">**使用するエンティティの選択** タブでエンティティを選択し、**エンティティを使用してテーブルを追加する** を選択します。</span><span class="sxs-lookup"><span data-stu-id="80953-148">On the **Choose using Entities** tab, select the entities, and then select **Add Tables using Entities**.</span></span>

    ![エンティティを使用したテーブルの選択](./media/Export-Entities-toData-lake-unselectedv2.png)
    
    <span data-ttu-id="80953-150">テーブルを選択する方法を問わず、Data Lake ではテーブルがステージングされます。</span><span class="sxs-lookup"><span data-stu-id="80953-150">Regardless of the method that you use to select tables, the tables will be staged in Data Lake.</span></span>

## <a name="monitor-the-tables-in-data-lake"></a><span data-ttu-id="80953-151">Data Lake のテーブルを監視する</span><span class="sxs-lookup"><span data-stu-id="80953-151">Monitor the tables in Data Lake</span></span>

<span data-ttu-id="80953-152">システムが Data Lake でデータの更新を維持するため、データのエクスポートの監視や、スケジュールを設定する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="80953-152">You don't have to monitor or schedule data exports because the system keeps the data updated in Data Lake.</span></span> <span data-ttu-id="80953-153">**Data Lake に対するデータフィードの構成** ページの **アクティブ** タブで、進行中のデータ エクスポートの状態を確認することができます。</span><span class="sxs-lookup"><span data-stu-id="80953-153">However, you can view the status of ongoing data exports on the **Active** tab on the **Configure data feeds to Data lake** page.</span></span>

![テーブルの監視の進行状況](./media/Export-Tables-toData-lake-monitorv2.png)

## <a name="troubleshooting-common-issues-and-errors"></a><span data-ttu-id="80953-155">一般的な問題とエラーに対するトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="80953-155">Troubleshooting common issues and errors</span></span>

### <a name="export-to-data-lake-feature-is-not-available-in-your-region-andor-your-environment-at-this-time"></a><span data-ttu-id="80953-156">Data Lake へのエクスポート機能が表示されない場合は、この機能がご利用の環境や地域で対応していないことを意味します</span><span class="sxs-lookup"><span data-stu-id="80953-156">Export to Data Lake feature is not available in your region and/or your environment at this time</span></span>
<span data-ttu-id="80953-157">この機能は、Tier 1 (開発者) 環境では使用できません。</span><span class="sxs-lookup"><span data-stu-id="80953-157">This feature is not available in Tier-1 (developer) environments.</span></span> <span data-ttu-id="80953-158">バージョン 10.0.13、またはそれ以上のプラットフォーム更新プログラムを含むサンドボックス環境 (Tier 2 またはそれ以降) が必要です。</span><span class="sxs-lookup"><span data-stu-id="80953-158">You need a sandbox environment (Tier 2 or higher) with Platform updates for version 10.0.13 or higher.</span></span>

<span data-ttu-id="80953-159">この機能はプレビューが制限されており、Finance and Operations アプリが利用可能となっている Azure の地域や、ご利用の環境によっては利用できない場合があります。</span><span class="sxs-lookup"><span data-stu-id="80953-159">This feature is in limited preview and may not be available in all Azure regions where Finance and Operations apps are available, or this feature may not be available for your environment.</span></span> <span data-ttu-id="80953-160">今後のプレビューに参加する場合は、[アンケートを完了します](https://aka.ms/FnODataLakePreviewSurvey)。</span><span class="sxs-lookup"><span data-stu-id="80953-160">If you would like to join a future preview, [complete the survey](https://aka.ms/FnODataLakePreviewSurvey).</span></span> <span data-ttu-id="80953-161">参加の準備ができ次第、ご連絡いたします。</span><span class="sxs-lookup"><span data-stu-id="80953-161">We will contact you when we are ready to include you.</span></span> <span data-ttu-id="80953-162">アンケートを完了すると、Yammer グループに参加することもできます。</span><span class="sxs-lookup"><span data-stu-id="80953-162">You can also join a Yammer group by completing the survey.</span></span> <span data-ttu-id="80953-163">Yammer グループを使用して、機能を理解するのに役立つ質問をお伝えすることができます。</span><span class="sxs-lookup"><span data-stu-id="80953-163">You can use the Yammer group to stay in contact and ask questions that will help you understand the feature.</span></span> <span data-ttu-id="80953-164">この機能をご利用頂けるよう対応いたします。</span><span class="sxs-lookup"><span data-stu-id="80953-164">We are working hard to make this feature available soon.</span></span>

### <a name="export-to-data-lake-feature-is-currently-being-installed-for-your-environment-please-check-back-later"></a><span data-ttu-id="80953-165">Data Lake へのエクスポート機能は、ご利用の環境にインストールされています。</span><span class="sxs-lookup"><span data-stu-id="80953-165">Export to Data Lake feature is currently being installed for your environment.</span></span> <span data-ttu-id="80953-166">後でもう一度ご確認ください。</span><span class="sxs-lookup"><span data-stu-id="80953-166">Please check back later.</span></span>
<span data-ttu-id="80953-167">この機能を使用するには、Data Lake へのエクスポートを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="80953-167">Before you can use this feature, you need to configure the export to Data Lake.</span></span> <span data-ttu-id="80953-168">詳細については、[Azure Data Lake へのエクスポートの構成](configure-export-data-lake.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="80953-168">For more information, see [Configure export to Azure Data Lake](configure-export-data-lake.md).</span></span>

### <a name="export-to-data-lake-add-in-is-not-installed"></a><span data-ttu-id="80953-169">Data Lake アドインへのエクスポート機能がインストールされていません。</span><span class="sxs-lookup"><span data-stu-id="80953-169">Export to Data Lake add-in is not installed.</span></span> 
<span data-ttu-id="80953-170">Dynamics Lifecycle Services (LCS) を使用してこのアドインをインストールする場合は、管理者に問い合わせてください。</span><span class="sxs-lookup"><span data-stu-id="80953-170">Ask your administrator to install this add-in using Dynamics Lifecycle Services (LCS).</span></span> <span data-ttu-id="80953-171">この機能を使用するには、Data Lake へのエクスポートを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="80953-171">Before you can use this feature, you need to configure the export to Data Lake.</span></span> <span data-ttu-id="80953-172">詳細については、[Azure Data Lake へのエクスポートの構成](configure-export-data-lake.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="80953-172">For more information, see [Configure export to Azure Data Lake](configure-export-data-lake.md).</span></span>

### <a name="export-to-data-lake-feature-failed-to-install-in-dynamics-life-cycle-services-lcs"></a><span data-ttu-id="80953-173">Data Lake へのエクスポート機能は、Dynamics Life Cycle Services (LCS) へのインストールに失敗しました。</span><span class="sxs-lookup"><span data-stu-id="80953-173">Export to Data Lake feature failed to install in Dynamics Life Cycle Services (LCS).</span></span> 
<span data-ttu-id="80953-174">Data Lake アドインへのエクスポート機能を再インストールするには、管理者に問い合わせてください。</span><span class="sxs-lookup"><span data-stu-id="80953-174">Ask your administrator to re-install the Export to Data Lake add-in.</span></span> <span data-ttu-id="80953-175">問題が解消しない場合は、サポートにお問い合わせください。</span><span class="sxs-lookup"><span data-stu-id="80953-175">If this issue persists, contact Support.</span></span> <span data-ttu-id="80953-176">Data Lake へのエクスポート機能を構成した際に、エラーが表示される場合があります。</span><span class="sxs-lookup"><span data-stu-id="80953-176">When you configure the Export to Data Lake feature, the system may report an error.</span></span> <span data-ttu-id="80953-177">または、ご利用の環境の変更がされている場合は、構成後に Data Lake にアクセスした際にエラーが発生する場合があります。</span><span class="sxs-lookup"><span data-stu-id="80953-177">Or, there may be an error when you access the data lake after configuration due to a change in your environments.</span></span> <span data-ttu-id="80953-178">詳細については、[Azure Data Lake へのエクスポートの構成](configure-export-data-lake.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="80953-178">For more information, see [Configure export to Azure Data Lake](configure-export-data-lake.md).</span></span>

### <a name="export-to-data-lake-feature-is-temporarily-unavailable-please-check-back-later"></a><span data-ttu-id="80953-179">Data Lake へのエクスポート機能は、一時的に使用できなくなります。</span><span class="sxs-lookup"><span data-stu-id="80953-179">Export to Data Lake feature is temporarily unavailable.</span></span> <span data-ttu-id="80953-180">後でもう一度ご確認ください。</span><span class="sxs-lookup"><span data-stu-id="80953-180">Please check back later.</span></span>
<span data-ttu-id="80953-181">このエラーが長時間継続するする場合は、サポートに連絡してください。</span><span class="sxs-lookup"><span data-stu-id="80953-181">If you see this error for a prolonged period of time, contact Support.</span></span>  


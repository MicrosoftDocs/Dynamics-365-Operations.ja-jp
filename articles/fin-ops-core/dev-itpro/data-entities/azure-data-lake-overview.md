---
title: Azure Data Lake の概要
description: このトピックでは、Microsoft Azure Data Lake の概要を説明します。
author: MilindaV2
ms.date: 05/27/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Developer, IT Pro
ms.reviewer: kfend
ms.custom:
- intro-internal
- NotInToc
ms.search.region: Global
ms.author: milindav
ms.search.validFrom: 2020-03-31
ms.dyn365.ops.version: Platform update 34
ms.openlocfilehash: 12bac49799a0811e8522b0bc57deafcf6f20e77a
ms.sourcegitcommit: c08a9d19eed1df03f32442ddb65a2adf1473d3b6
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/06/2021
ms.locfileid: "6353716"
---
# <a name="azure-data-lake-overview"></a>Azure Data Lake の概要

[!include [banner](../includes/banner.md)]

[!include [rename-banner](~/includes/cc-data-platform-banner.md)]

## <a name="what-is-azure-data-lake"></a>Azure Data Lake の概要

Microsoft Azure Data Lake は、Azure cloud で大きなデータの分析および人工知能 (AI) を利用できるように設計されたテクノロジーです。 このトピックで、「Data Lake」 という場合、Azure Data Lake Storage Gen2 に基づく記憶域テクノロジーのことを指します。

Data Lakes が提供するクラウドストレージは、リレーショナルデータベースが提供するものよりも安価です。 そのため、大量のデータをクラウドに格納できます。 このデータには、従来、業務システムとデータ ウェアハウス、デバイス、センサーのデータに格納されている、デバイスからの信号などの業務データが含まれます。 さらに、Data Lakeは、大量のデータの報告、照会、変換を実現する広範なツールとプログラミング言語に対応しています。

Data Lake ストレージ Gen2 の概要については、[Azure Data Lake Storage Gen2 入門](/azure/storage/blobs/data-lake-storage-introduction)を参照してください。

Finance and Operationsアプリケーションなど Dynamics 365 製品では、Data Lake の AI や分析のシナリオを行うことができます。 お客様はこのテクノロジーが提供する強みとコストの進歩を活用することができます。 次の表では、シナリオの概要を示しています。

## <a name="analytical-workspaces"></a>分析ワークスペース

分析作業ワークスペースは、Finance and Operationsアプリにコンテキストと実用的な分析情報を提供します。 ユーザーは、業務プロセスを俯瞰的に見ることができるため、関連する情報をすぐに入手し、適切な行動をとることができます。

分析ワークスペースはエンティティー ストアに基づいており、組み込みのPower BI テクノロジーを使用して、Finance and Operations アプリのデータを豊かででインタラクティブなビジュアルで表示します。 分析ワークスペースは、データの探索において楽しくてエキサイティングな使い方ができます。

分析ワークスペースは、次の 2 つの方法でオペレーション分析のシナリオに使用できます。

- 既製の分析ワークスペースを使用、拡張することで、ワークスペースを新たに作成する必要がなくなります。
- Power BIをベースにした独自の分析レポートを作成します。

詳細については、[ワークスペースに組み込まれている Power BI ](../analytics/embed-power-bi-workspaces.md) を参照してください。

## <a name="byod"></a>BYOD

独自のデータベースを導入する (BYOD) は、顧客が Finance and Operations アプリからデータを独自のデータ ウェアハウスに抽出できるサービスです。 Finance and Operations アプリのデータを他のシステムと組み合わせる必要がある場合や、以前のデータを利用したレポートと組み合わせなければならない場合は、BYOD を利用することを推奨します。

詳細については、[独自のデータベースを導入する (byod)](../analytics/export-entities-to-your-own-database.md)を参照してください。

## <a name="data-lake-combines-byod-and-entity-store"></a>BYODとエンティティー ストアの組み合わせによる Data Lake

分析ワークスペース（エンティティ ストアに基づく）と BYOD の組み合わせを様々なシナリオで使用します。 次の表に、シナリオと機能の比較を示します


| エンティティ ストアに構築した分析ワークスペース                                                                                              | 独自のデータベースを導入 (BYOD) したデータ ウェアハウス   |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
| ほぼリアルタイムの運用 Analytics (埋め込まれた Power BI )                                                                            | PowerBI.com またはその他のツールを使用したデータ ウェアハウス |
| F&O のデータに関するレポート                                                                                                               | F&O データを他のデータ ソースと組み合わせる       |
| F&O または ISV ソリューションで標準実装されているレポート                                                                                      | パートナーの提供による拡張または作成されるレポート        |


これら両方のソースで作成されたレポートは、文脈に沿ったセキュリティとドリルスルー アクションにより、F&O の分析ワークスペースに固定することができます。 Data Lake は、これら両方のサービスを組み合わせて、「両方の分野のベスト」を提供する1つのサービスに結合します。

- Data Lake は顧客のサブスクリプションに含まれているため、自社のデータレイクを持ち込んで Finance and Operations アプリと統合することができます。 Finance and Operations アプリは、Data Lake を使用してエンティティー ストアデータを格納し、分析作業スペースを操作します。 分析ワークスペースは、引き続き以前と同様の動作をします。
- エンティティーストアは Data Lake にステージングされ、レポートを簡単にする簡略化された（非正規化された）データ構造のセットを提供します。 ユーザーは、最も関連性の高いデータに直接アクセスできるようになり、選択したツールを使用して独自のレポートを作成することができます。
- BYOD を使用してデータをエクスポートする代わりに、Data Lake にステージングするデータを選択できます。 Finance and Operations サービスの一部であるデータ フィード サービスは、Data Lake のデータを最新の状態に維持します。
- 独自のデータを Data Lake に取り込んで、Finance and Operations アプリが提供するデータを補足することができます。 この機能により、Data Lake におけるデータの組み合わせシナリオが簡単になります。

    - 外部ソースからのデータは、Power BI データフローや Azure Data Factory などのツールで利用可能な数百の既製のコネクタを介して、簡単に Data Lake に取り込むことができます。
    - Finance and Operations アプリへの移行の一環として継承されることが多い履歴データや過去のデータは、直接 Data Lake に取り込むことができます。
    - Data Lake は、業務以外のデータを取り込むオプションを提供します。 たとえば、デバイスのデータを Data Lake に簡単に取り込むことができます。

- クラウド型サービスを使用することで、パワーユーザーと開発者の両方がこのデータを利用できます。

    ![パワー ユーザーと開発者が Data Lake を使用する方法。](./media/PowerUsers-Developers-LoveThis-PPT.png)

## <a name="common-data-model-folders"></a>一般的なデータモデルのフォルダ

データは Data Lake に保存され、共通データ モデル フォルダの規格に準拠しています。 以下にいくつかの結果を挙げます：

- Data Lakeで Finance and Operations アプリがステージするデータは、一連のフォルダに整理されています。
- 共通データモデルのフォルダには、データファイルに加えてメタデータの定義が含まれています。 メタデータ定義は、共通のデータモデル言語が指定した標準に従ってモデルファイルに保持されます。
- メタデータが存在し、データストレージが 共通データモデル フォルダの標準に準拠しているため、Azure や他のサービスがデータを読み込んで変換することができます。

以下の図は、 Finance and Operations アプリの共通データモデルのフォルダ構造を示しています。

![Finance and Operations における共通データモデルのフォルダ構造。](./media/FnO-CDM-Folder-Structure.png)

Data Lake の共通データモデルに関する詳細については、 [共通データモデルを使用して Azure Data Lake Storage Gen2 を最適化する](/common-data-model/data-lake) を参照してください。

次に例を示します。

- 共通データモデルのフォルダを、参照データフローとして Power BI データフローに関連付けることができます。 Power BI データフローを使用してデータの再構築や Power BI のデータセットとレポートを作成することができます。
- データ ファクトリーまたはその他のデータ変換ツールを使用して、データの構造をさらに強化することができます。

Finance and Operations アプリと同様に、他のサービス（Dataverse を含む）、Azure IoT、多くのサードパーティ製ツールやサービスは、共通データモデルフォルダ内のデータを理解して作業することができます。 サービスの一覧は増えています。 次にいくつか例を挙げます。

- Dataverse データを自分の Data Lake にエクスポートできます。 詳細については、[Dataverse データを Azure Data Lake にエクスポートすることは一般的に利用可能です](https://powerapps.microsoft.com/blog/exporting-cds-data-to-azure-data-lake-preview/) を参照してください。
- パワーユーザーは、Dataverse データフローを使用して Data Lake のデータを変換できます。 詳細については、[共通データモデルを使用して Azure Data Lake Storage Gen2 を最適化する](/common-data-model/data-lake)を参照してください。

## <a name="how-you-can-use-data-lake-later-if-youre-currently-using-byod"></a>現在 BYOD を使用している場合に、後から Data Lake を使用する方法

多くの場合、顧客は Finance and Operations データを抽出するた際に BYOD を使用し、そのデータをレポートや分析に活用しています。 BYOD では、 Finance and Operations アプリからエクスポートされたデータを保存する際に、Azure SQL データベースのプロビジョニングとメンテナンスが必要となります。

BYODでエクスポートしたデータをレポートに使用する場合もあります。 この場合は、レポート ツールをSQL データベースにポイントし、レポートを作成することができます。

ステージング領域として BYOD を使用して、Finance and Operations データの "スナップショット" を保持する使い方も可能です。 このようなユーザーは、エンタープライズ データウェアハウスを持っており、BYOD のステージング領域からデータ ウェアハウスにデータをコピーする追加のデータ パイプラインを使用しています。 また、他の下流工程や変換パイプラインが存在する可能性もあります。

現在、このようなシナリオで BYOD を使用している場合、Data Lake にオンボードすることで、いくつかの利点を得ることができます。

## <a name="because-data-is-already-present-export-isnt-required"></a>データが既に存在するため、エクスポートの必要がありません

Data Lake 統合では、ユーザーは BYOD のエクスペリエンスと同様に、テーブルとエンティティを選択できます。 テーブルとエンティティを選択した後、システムが Data Lake のデータを更新します。 また、Finance and Operations アプリでの変更に応じて、データが継続的にエクスポートされます。 Data Lake は、変更が行われてから数分以内に更新された Finance and Operations のデータを反映します。

> [!NOTE]
> テーブルのデータは、Finance and Operations アプリで変更が行われてから数分以内に更新されます。 サービスが提供する現在のサービスレベル契約 (SLA) では、データは **10** 分以内に更新されます。

Data Lake 統合にあたっては、 複雑なデータのエクスポートやオーケストレーションのスケジュールを監視、管理する必要はありません。 Data Lake のデータを更新する際にユーザーの操作は必要ありません。

## <a name="reduced-cost-of-data-storage"></a>データストレージのコストの削減

データは、BYOD が要求する SQL データベースではなく、Data Lake (Gen2) に格納されます。 したがって、ユーザーは Azure SQL データベースよりも安価なストレージ メディアを使用できます。

> [!NOTE]
> このサブスクリプションには Data Lake Storage Gen2 が含まれているため、データレイクにデータを読み書きする際に発生するデータ ストレージや入出力（I/O）のコストを負担しなければなりません。 また、Finance and Operations アプリが Data Lake にデータを書き込んだり、データを更新することにより、 I/O コストが発生する場合があります。 領域内の I/O コストを削減するために、Finance and Operations アプリでは Finance and Operations 環境と同じ国や地域に Data Lake をプロビジョニングする必要があります。

コストの詳細については、[Azure Data Lake Storage Gen2 のコスト決定](https://azure.microsoft.com/pricing/details/storage/data-lake/) ページを参照してください。

## <a name="existing-downstreamconsumption-pipelines-can-be-preserved"></a>既存の下流/消費パイプラインを維持することができます

前述のとおり、BYOD は、主に次の 2 つのシナリオで使用されます。

- レポート ツールおよびその他のツールは、BYOD に直接アクセスします。
- BYODは、データをデータ ウェアハウスなどの他の下流システムにエクスポートする間、データを一時的に保存するステージング エリアとして使用されます。

最初のシナリオでは、SQL データベースに対してレポート ツールをポイントすることができます。 多くのレポート ツールは、Transact-sql (T-sql) を使用してデータを読み取ることができるため、SQL データベースで動作します。

2 つ目のシナリオでは、データ ファクトリーなどのデータ統合/変換ツールを使用できます。 多くのデータ統合ツールでは、Data Lake から直接データを使用することができます。

どちらの場合もで、T-sql For SQL を使用してデータベースを読み込む場合は、Azure Synapse 分析を使用して SQL Server のエンドポイントを作成できます。 Azure Synapse には、T-SQL 言語を使用して Data Lake のクエリを可能にする SQL のオンデマンド機能が含まれています。 下流ツールは、BYOD で作業する時のようにデータ シェイプを残せるため、修正する必要はありません。

## <a name="simplified-data-pipeline-for-near-real-time-reporting"></a>ほぼリアルタイムのレポート作成のためのシンプルなデータ パイプライン

従来のデータ ウェアハウスでは、データはステージング領域に格納されてから、レポートの集計と簡素化が可能になります。 また、データの集計を行うレポート ツールを使用して、ユーザー エクスペリエンスを向上させることもできます。 複数のデータ停止（ステージング、非正規化、集計）がある場合、データの新鮮度が失われます（つまり、アクティビティが発生した後、レポートに結果が反映されるまでの時間が長くなります）。

複数のデータが停止している従来のデータ ウェアハウスは、毎日あるいは複数回変化するデータのレポートに適しています。 しかし、ほぼリアルタイムに近いデータを報告しなければならない場合（例えば、売上が発生してから数分以内に小売店の販売データを報告する必要がある場合）は、データ ストップを最小限に抑えたデータ パイプラインを設計する必要があります。 このパターンは、*ホット パス、コールド パス レポート* (*またはラムダ アーキテクチャー*) と呼ばれます。 複数のデータ ストップと複数のデータ パイプラインにより、複雑さと管理作業が増大します。

Data Lake 統合では、既定のレポートのオプションとして、*ウォームパス レポート* を使用できます。 Data Lake 内のデータは数分以内に更新されるため、このアプローチではほとんどのレポートのシナリオ（ほぼリアルタイムのレポートを含むシナリオ）で許容される場合があります。

ほぼリアルタイムのレポートでは、 Data Lake で途中まで準備されたデータをクエリするオンデマンド クエリ（例：Azure Synapse）と Power BI ダイレクト クエリ モードを使用することで、データのステージングと準備の手順を最小限に抑えることができます。 分析レポートの場合は、Data Lake のデータを非正規化して集計することができます。

## <a name="how-you-can-use-data-lake-later-if-youre-currently-using-analytical-workspaces"></a>現在分析ワークスペースを使用している場合に、後から Data Lake を使用する方法

分析ワークスペースを使用すると、Finance and Operationsアプリでコンテキストに応じた運用分析を行うことができます。 分析ワークスペースは、Finance and Operationsワークスペースの拡張機能として作成されています。 これらは、業務プロセスの概観を表わす "コックピット" の一種です。 25 以上の既製の分析ワークスペースがあり、インタラクティブでほぼリアルタイムでのデータ探査が可能です。

分析的ワークスペースにコンテキスト ジェスチャーを追加することで、アクションを促進することができます。 そのため、ユーザーは表示しているレポートから離れることなく、結果に基づいた行動をすることができます。 Finance and Operations アプリに組み込まれた大規模なプログラミング モデルにより、エンタープライズ リソース プランニング（ERP）アクションやビジネス ロジックを分析ワークスペースから実行できます。

Microsoft、パートナー、独立系ソフトウェアベンダー（ISV）の既製の分析ワークスペースを出発点として利用することができます。 または、BYOD や独自のデータウェアハウスを利用した Power BI ベースの分析レポートを構築している場合は、分析ワークスペースにピン留めすることができます。 いずれの場合も、アクションを実行するコンテキストのレポートを作成することにより、業務プロセスを拡充できます。

![分析ワークスペース。](./media/Customers-Love-analyticalWorkspaces.png)

コア Finance and Operations アプリ (またはISV拡張機能の一部) に含まれる既製の分析ワークスペースには、エンティティストアを使用して作成されたレポートが含まれています。 エンティティストアには、*集約された測定値* （つまり、ファクト テーブルやディメンションなどの簡略化されたデータ構造）が格納されています。

集約された測定値は、エンティティ ストアではなく、 Data Lake で使用できます。 エンティティ ストアを使用して構築された既製の分析ワークスペースを使用している場合は、近日中の月次サービス アップデートで Data Lake をポイントするようになります。 エンティティ ストアが Data Lake への移行準備が整うと、Microsoft サービスチームから通知がされます。 レポート自体を変更する必要はありません。 したがって、開発作業は必要ありません。

分析ワークスペースに独自の Power BI レポートを固定している場合は、独自のスケジュールで Data Lake にそれらを移行できます。

## <a name="how-you-can-modernize-your-existing-data-warehouse-by-using-data-lake"></a>Data Lake を使用して既存のデータウェア ハウスを書き換える方法

Data Lake の統合を使用して BYOD からの移行を行い、直ちに利益を得ることができますが、Data Lake ではそれ以上のことができます。

Data Lake は、大量のデータ (数百 TB) を格納するように設計されています。 Azureで使用されている基本サービスの多くに対応している安価なストレージ テクノロジーである Azure Blob ストレージを利用しています。

Data Lake は、ビッグデータの分析を用途として設計されています。 履歴データや古いデータをシステムから Data Lake に取り込むことができます。 このデータは、スキャンされたドキュメントと業務データの両方を含めることができます。 そして、機械の学習モデルをドキュメントに適用して、ドキュメントの作成者が表現するコンテンツや意見を理解することができます。 また、店頭にある機器や車両、機械などから信号を収集し、Data Lake に保存することもできます。 そして、機械学習モデルを適用して信号の異常やパターンを検出し、その結果を業務データと結びつけて予防的なアクションを起こすことができます。

Data Lake には、分析、データ変換、AI や機械学習の応用を可能にする多くの関連するサービスがあります。 Microsoft やパートナー、オープンソースのツールからの Azure サービスを利用してデータを推測することができます。

Data Lake からオンプレミスのデータ ウェアハウスに Finance and Operations データをダウンロードするかわりに、オンプレミスのデータを Data Lake に取り込むことができます。 Microsoftでは、この変化を *データ ウェアハウスの近代化* と呼びます。

## <a name="planning-the-transition"></a>移行の計画

次の図に示すように、Data Lake への移行を複数のステージに計画することができます。 各ステージでは、それだけで正当化できる業務上の利点を提供しています。 ここに表示しているステージは、計画のガイドラインとして利用することができます。

![Data Lake への移行計画。](./media/ADLS-rollout-roadmap.png)

1. **現在の状況:** すでにエンティティ ストアをベースにした BYOD や分析ワークスペースを利用している場合もあります。
2. **データへの簡単なアクセス：** Data Lake のテーブル、エンティティ、および集計測定にアクセスできるようになると、BYOD を廃止して、すぐに使用できるデータを利用できるようになります。 したがって、前述のとおり、管理の労力とコストを削減することができます。 既存の下流のデータ ウェアハウスやパイプラインを維持して、プロジェクトのスコープと予算を管理することができます。
3. **パワーユーザーの支援** : 分析ワークスペースは、サービス更新の一環として Data Lake に移行します。 そのため、既製の分析ワークスペースは、Data Lake で使用可能なデータに基づいて作成されます。 パワーユーザーは分析ワークスペースの拡張を簡単に実行できます。 サービスの更新が発生すると、PowerBI.com のすべての機能をパワーユーザーが利用できるようになります。 Power BI データフローなどの機能を利用することで、パワーユーザーはオンライン サービスのデータを簡単に組み合わせることができ、Data Lake にはすでにデータが存在しています。 分析ワークスペースで使用可能なレポートは、PowerBI.com にて直接使用することもできます。  
4. **以前のデータ ウェアハウスを近代化する** : 近代化とは、おそらく最も利益をもたらす投資になるでしょう。 オンプレミスのデータ ウェアハウスに現在存在しているデータは、クラウドに移動できます。 クラウドベースのコンピューティング サービスに依存し、同じ変換処理を従量課金ベースで適用することができます。 業務データとセンサー データやデバイス データを組み合わせて使用することもできます。


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]

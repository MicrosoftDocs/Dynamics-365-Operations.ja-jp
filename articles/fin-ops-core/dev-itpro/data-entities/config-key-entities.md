---
title: コンフィギュレーション キーおよびデータ エンティティ
description: このトピックでは、コンフィギュレーション キーとデータ エンティティの関係を示します。
author: Sunil-Garg
ms.date: 05/10/2019
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: sericks
ms.custom: 25341
ms.assetid: 8e214c95-616b-4ee1-b5a4-fa5ce5147f2c
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2018-01-01
ms.dyn365.ops.version: Platform update 13
ms.openlocfilehash: bdb90f8d629a026a84f8c65e7e95b589169a3e4d
ms.sourcegitcommit: 074b6e212d19dd5d84881d1cdd096611a18c207f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/31/2021
ms.locfileid: "5752339"
---
# <a name="configuration-keys-and-data-entities"></a><span data-ttu-id="c7162-103">コンフィギュレーション キーおよびデータ エンティティ</span><span class="sxs-lookup"><span data-stu-id="c7162-103">Configuration keys and data entities</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="c7162-104">データ エンティティを使用してデータをインポートまたはエクスポートする前に、使用を計画しているデータ エンティティでコンフィギュレーション キーの影響を最初に判断することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="c7162-104">Before you use data entities to import or export data, we recommended that you first determine the impact of configuration keys on the data entities that you are planning to use.</span></span>

<span data-ttu-id="c7162-105">コンフィギュレーション キーの詳細については、[ライセンス コードとコンフィギュレーション キーのレポート](../sysadmin/license-codes-configuration-keys-report.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c7162-105">To learn more about configuration keys, see the [License codes and configuration keys report](../sysadmin/license-codes-configuration-keys-report.md).</span></span>

### <a name="configuration-key-assignments"></a><span data-ttu-id="c7162-106">コンフィギュレーション キーの割り当て</span><span class="sxs-lookup"><span data-stu-id="c7162-106">Configuration key assignments</span></span>
<span data-ttu-id="c7162-107">コンフィギュレーション キーは、次のアーティファクトの 1 つまたはすべてに割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="c7162-107">Configuration keys can be assigned to one or all of the following artifacts.</span></span>

- <span data-ttu-id="c7162-108">データ エンティティ</span><span class="sxs-lookup"><span data-stu-id="c7162-108">Data entities</span></span>
- <span data-ttu-id="c7162-109">データ ソースとして使用されるテーブル</span><span class="sxs-lookup"><span data-stu-id="c7162-109">Tables used as data sources</span></span>
- <span data-ttu-id="c7162-110">テーブル フィールド</span><span class="sxs-lookup"><span data-stu-id="c7162-110">Table fields</span></span>
- <span data-ttu-id="c7162-111">データ エンティティ フィールド</span><span class="sxs-lookup"><span data-stu-id="c7162-111">Data entity fields</span></span>

<span data-ttu-id="c7162-112">次のテーブルは、オブジェクトの基になるさまざまなアーティファクトで、コンフィギュレーション キーの値がオブジェクトの予想される動作を変更する方法を集計したものです。</span><span class="sxs-lookup"><span data-stu-id="c7162-112">The following table summarizes how configuration key values on the different artifacts that underlie an object change the expected behavior of the object.</span></span>

| <span data-ttu-id="c7162-113">データ エンティティでコンフィギュレーション キーを設定する</span><span class="sxs-lookup"><span data-stu-id="c7162-113">Configuration key setting on data entity</span></span> | <span data-ttu-id="c7162-114">テーブルでコンフィギュレーション キーを設定する</span><span class="sxs-lookup"><span data-stu-id="c7162-114">Configuration key setting on table</span></span> | <span data-ttu-id="c7162-115">テーブル フィールドでコンフィギュレーション キーを設定する</span><span class="sxs-lookup"><span data-stu-id="c7162-115">Configuration key setting on table field</span></span> | <span data-ttu-id="c7162-116">データ エンティティ フィールドのコンフィギュレーション キー</span><span class="sxs-lookup"><span data-stu-id="c7162-116">Configuration key on data entity field</span></span> | <span data-ttu-id="c7162-117">予想される動作</span><span class="sxs-lookup"><span data-stu-id="c7162-117">Expected behavior</span></span> |
|-----------------------------------------|------------------------------------|------------------------------------------|----------------------------------------|------------------|
| <span data-ttu-id="c7162-118">無効</span><span class="sxs-lookup"><span data-stu-id="c7162-118">Disabled</span></span>                                | <span data-ttu-id="c7162-119">未評価</span><span class="sxs-lookup"><span data-stu-id="c7162-119">Not evaluated</span></span>                      | <span data-ttu-id="c7162-120">未評価</span><span class="sxs-lookup"><span data-stu-id="c7162-120">Not evaluated</span></span>                            | <span data-ttu-id="c7162-121">未評価</span><span class="sxs-lookup"><span data-stu-id="c7162-121">Not evaluated</span></span>                          | <span data-ttu-id="c7162-122">データ エンティティのコンフィギュレーション キーが無効である場合、データ エンティティは機能しなくなります。</span><span class="sxs-lookup"><span data-stu-id="c7162-122">If the configuration key for the data entity is disabled, the data entity will not be functional.</span></span> <span data-ttu-id="c7162-123">基になるテーブルやフィールド内でコンフィギュレーション キーが有効または無効かどうかは重要ではありません。</span><span class="sxs-lookup"><span data-stu-id="c7162-123">It does not matter whether the configuration keys in the underlying tables and fields are enabled or disabled.</span></span> |
| <span data-ttu-id="c7162-124">有効</span><span class="sxs-lookup"><span data-stu-id="c7162-124">Enabled</span></span>                                 | <span data-ttu-id="c7162-125">無効</span><span class="sxs-lookup"><span data-stu-id="c7162-125">Disabled</span></span>                           | <span data-ttu-id="c7162-126">未評価</span><span class="sxs-lookup"><span data-stu-id="c7162-126">Not evaluated</span></span>                            | <span data-ttu-id="c7162-127">未評価</span><span class="sxs-lookup"><span data-stu-id="c7162-127">Not evaluated</span></span>                          | <span data-ttu-id="c7162-128">データ エンティティのコンフィギュレーション キーが有効である場合、データ管理フレームワークは基になるテーブルごとのコンフィギュレーション キーを確認します。</span><span class="sxs-lookup"><span data-stu-id="c7162-128">If the configuration key for a data entity is enabled, the data management framework checks the configuration key on each of the underlying tables.</span></span> <span data-ttu-id="c7162-129">テーブルのコンフィギュレーション キーが無効である場合、テーブルは機能を使用するデータ エンティティで使用できなくなります。</span><span class="sxs-lookup"><span data-stu-id="c7162-129">If the configuration key for a table is disabled, that table will not be available in the data entity for functional use.</span></span> <span data-ttu-id="c7162-130">テーブルのコンフィギュレーション キーが無効である場合、テーブルおよびデータ エンティティのコンフィギュレーション キー設定は評価されません。</span><span class="sxs-lookup"><span data-stu-id="c7162-130">If a table's configuration key is disabled, the table and data entity configuration key settings are not evaluated.</span></span> <span data-ttu-id="c7162-131">エンティティのプライマリ テーブルでそのコンフィギュレーション キーが無効になっている場合、エンティティのコンフィギュレーション キーが無効にされたのと同じように、システムは実行されます。</span><span class="sxs-lookup"><span data-stu-id="c7162-131">If the primary table in the entity has its configuration key disabled, then the system will act as though the entity's configuration key were disabled.</span></span> |
| <span data-ttu-id="c7162-132">有効</span><span class="sxs-lookup"><span data-stu-id="c7162-132">Enabled</span></span>                                 | <span data-ttu-id="c7162-133">有効</span><span class="sxs-lookup"><span data-stu-id="c7162-133">Enabled</span></span>                            | <span data-ttu-id="c7162-134">無効</span><span class="sxs-lookup"><span data-stu-id="c7162-134">Disabled</span></span>                                 | <span data-ttu-id="c7162-135">未評価</span><span class="sxs-lookup"><span data-stu-id="c7162-135">Not evaluated</span></span>                          | <span data-ttu-id="c7162-136">データ エンティティのコンフィギュレーション キーが有効で、基になるテーブルのコンフィギュレーション キーが有効である場合、データ管理フレームワークはコンフィギュレーション キーをテーブルのフィールドで確認します。</span><span class="sxs-lookup"><span data-stu-id="c7162-136">If the configuration key for a data entity is enabled, and the underlying tables configuration keys are enabled, the data management framework will check the configuration key on of the fields in the tables.</span></span> <span data-ttu-id="c7162-137">フィールドのコンフィギュレーション キーが無効である場合、対応するデータ エンティティ フィールドが有効なコンフィギュレーション キーを持っている場合でも、そのフィールドは使用する機能に対するデータ エンティティを使用できません。</span><span class="sxs-lookup"><span data-stu-id="c7162-137">If the configuration key for a field is disabled, that field will not be available in the data entity for functional use even if the corresponding data entity field has the configuration key enabled.</span></span> |
| <span data-ttu-id="c7162-138">有効</span><span class="sxs-lookup"><span data-stu-id="c7162-138">Enabled</span></span>                                 | <span data-ttu-id="c7162-139">有効</span><span class="sxs-lookup"><span data-stu-id="c7162-139">Enabled</span></span>                            | <span data-ttu-id="c7162-140">有効</span><span class="sxs-lookup"><span data-stu-id="c7162-140">Enabled</span></span>                                  | <span data-ttu-id="c7162-141">無効</span><span class="sxs-lookup"><span data-stu-id="c7162-141">Disabled</span></span>                               | <span data-ttu-id="c7162-142">他のすべてのレベルでコンフィギュレーション キーが有効であっても、そのエンティティ フィールドのコンフィギュレーション キーが有効でない場合、フィールドはデータ エンティティで使用不可能です。</span><span class="sxs-lookup"><span data-stu-id="c7162-142">If the configuration key is enabled at all other levels, but the entity field configuration key is not enabled, then the field will not be available for use in the data entity.</span></span> |

> [!NOTE]
> <span data-ttu-id="c7162-143">エンティティが、データ ソースとして別のエンティティを持っている場合、上記のセマンティクスが再帰的な方法で適用されます。</span><span class="sxs-lookup"><span data-stu-id="c7162-143">If an entity has another entity as a data source then, the above semantics are applied in a recursive manner.</span></span>

### <a name="entity-list-refresh"></a><span data-ttu-id="c7162-144">エンティティ リストの更新</span><span class="sxs-lookup"><span data-stu-id="c7162-144">Entity list refresh</span></span>
<span data-ttu-id="c7162-145">エンティティ リストが更新されると、データ管理フレームワークは、ランタイムに使用するコンフィギュレーション キー メタデータを構築します。</span><span class="sxs-lookup"><span data-stu-id="c7162-145">When the entity list is refreshed, the data management framework builds the configuration key metadata for runtime use.</span></span> <span data-ttu-id="c7162-146">このメタデータは上記で説明されたロジックを使用して構築されます。</span><span class="sxs-lookup"><span data-stu-id="c7162-146">This metadata is built using the logic described above.</span></span> <span data-ttu-id="c7162-147">データ管理フレームワークのジョブおよびエンティティを使用する前に、エンティティ リストの更新の完了を待機することを強くお勧めします。</span><span class="sxs-lookup"><span data-stu-id="c7162-147">We strongly recommend that you wait for the entity list refresh to complete before using jobs and entities in the data management framework.</span></span> <span data-ttu-id="c7162-148">待機しない場合、コンフィギュレーション キー メタデータは最新でない場合があり、予期しない結果になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="c7162-148">If you don't wait, the configuration key metadata may not be up to date and could result in unexpected outcomes.</span></span> <span data-ttu-id="c7162-149">エンティティ リストが更新される場合、エンティティ リストのページに、次のメッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="c7162-149">When the entity list is being refreshed, the following message is shown in the entity list page.</span></span>

![エンティティ リストの更新](./media/Entity_refresh_list.png)

### <a name="data-entity-list-page"></a><span data-ttu-id="c7162-151">データ エンティティ リストのページ</span><span class="sxs-lookup"><span data-stu-id="c7162-151">Data entity list page</span></span>
<span data-ttu-id="c7162-152">データ管理ワークスペースのデータ エンティティ リストのページは、エンティティのコンフィギュレーション キー設定を示します。</span><span class="sxs-lookup"><span data-stu-id="c7162-152">The data entity list page in the Data management workspace shows the configuration key settings for the entities.</span></span> <span data-ttu-id="c7162-153">データ エンティティのコンフィギュレーション キーからの影響を理解するには、このページから開始します。</span><span class="sxs-lookup"><span data-stu-id="c7162-153">Start from this page to understand the impact from configuration keys on the data entity.</span></span>

<span data-ttu-id="c7162-154">エンティティの更新中に構築されるメタデータを使用して、この情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="c7162-154">This information is shown using the metadata that is built during entity refresh.</span></span> <span data-ttu-id="c7162-155">コンフィギュレーション キーの列で、データ エンティティに関連付けられているコンフィギュレーション キーの名前が表示されます。</span><span class="sxs-lookup"><span data-stu-id="c7162-155">The configuration key column shows the name of the configuration key that is associated with the data entity.</span></span> <span data-ttu-id="c7162-156">この列が空白の場合は、データ エンティティに関連付けられているコンフィギュレーション キーがないことを意味します。</span><span class="sxs-lookup"><span data-stu-id="c7162-156">If this column is blank it means that there is no configuration key associated with the data entity.</span></span> <span data-ttu-id="c7162-157">コンフィギュレーション キーの状態列は、コンフィギュレーション キーの状態を表示します。</span><span class="sxs-lookup"><span data-stu-id="c7162-157">The configuration key status column shows the state of the configuration key.</span></span> <span data-ttu-id="c7162-158">チェックマークがある場合、キーが有効になっていることを意味します。</span><span class="sxs-lookup"><span data-stu-id="c7162-158">If it has a checkmark, it means the key is enabled.</span></span> <span data-ttu-id="c7162-159">空白の場合、キーが無効であるか、または関連付けられているキーが存在しないかのいずれかであることを意味します。</span><span class="sxs-lookup"><span data-stu-id="c7162-159">If it is blank, it means either the key is disabled or there is no key associated.</span></span>

![エンティティ リストのページ](./media/Data_entity_list_page.png)

### <a name="target-fields"></a><span data-ttu-id="c7162-161">ターゲット フィールド</span><span class="sxs-lookup"><span data-stu-id="c7162-161">Target fields</span></span>
<span data-ttu-id="c7162-162">次の手順は、テーブルおよびフィールドのコンフィギュレーション キーの影響を確認するため、データ エンティティにドリルダウンすることです。</span><span class="sxs-lookup"><span data-stu-id="c7162-162">The next step is to drill into the data entity to view the impact of configuration keys on tables and fields.</span></span> <span data-ttu-id="c7162-163">データ エンティティのターゲット フィールド フォームは、データ エンティティで関連するテーブルおよびフィールドに対して、コンフィギュレーション キーおよびキーの状態情報を示します。</span><span class="sxs-lookup"><span data-stu-id="c7162-163">The target fields form for a data entity shows configuration key and the key status information for the related tables and fields in the data entity.</span></span> <span data-ttu-id="c7162-164">データ エンティティ自体そのコンフィギュレーション キーが無効になっている場合、このエンティティに対するターゲット フィールド フォームで、テーブルおよびフィールドがコンフィギュレーション キーの状態に関係なく全く使用できないことを通知する、警告メッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="c7162-164">If the data entity itself has its configuration key disabled, a warning message is shown informing that the tables and fields in the target fields form for this entity will not be available at all regardless of their configuration key status.</span></span>

![ターゲット フィールド](./media/Target_fields_1.png)

### <a name="child-entities"></a><span data-ttu-id="c7162-166">子エンティティ</span><span class="sxs-lookup"><span data-stu-id="c7162-166">Child entities</span></span> 
<span data-ttu-id="c7162-167">特定のエンティティはデータ ソースとして他のエンティティを持っているか、複合データ エンティティです: 子エンティティ フォームでこれらのエンティティに対するコンフィギュレーション キー情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="c7162-167">Certain entities have other entities as data sources, or are composite data entities: configuration key information for these entities is shown in the Child entities form.</span></span> <span data-ttu-id="c7162-168">上記のエンティティ リスト ページと同じ方法で、このフォームを使用します。</span><span class="sxs-lookup"><span data-stu-id="c7162-168">Use this form in the similar way to the entities list page described above.</span></span> <span data-ttu-id="c7162-169">子エンティティのターゲット フィールド フォームも、上記のように機能します。</span><span class="sxs-lookup"><span data-stu-id="c7162-169">The target fields form for the child entity also behaves like what is described above.</span></span>

![ターゲット フィールド](./media/Target_fields_2.png)

### <a name="using-data-entities"></a><span data-ttu-id="c7162-171">データ エンティティの使用</span><span class="sxs-lookup"><span data-stu-id="c7162-171">Using data entities</span></span>
<span data-ttu-id="c7162-172">完全な影響を理解した後に、データ エンティティで使用したいコンフィギュレーション キーがある場合、データ プロジェクトに追加することでデータ エンティティの使用に進むことができます。</span><span class="sxs-lookup"><span data-stu-id="c7162-172">After understanding the full impact, if any, of configuration keys on the data entities that you would like to use, you can now proceed to using the data entities by adding them to data projects.</span></span> 

### <a name="run-time-validations-for-configuration-keys"></a><span data-ttu-id="c7162-173">コンフィギュレーション キーの実行時間の検証</span><span class="sxs-lookup"><span data-stu-id="c7162-173">Run time validations for configuration keys</span></span>
<span data-ttu-id="c7162-174">エンティティ更新リストの中で検構築されたコンフィギュレーション キー メタデータを使用して、次の使用ケースで実行時間の検証が実行されます。</span><span class="sxs-lookup"><span data-stu-id="c7162-174">Using the configuration key metadata built during entity refresh list, run time validations are performed in the following use cases.</span></span>

- <span data-ttu-id="c7162-175">データ エンティティがジョブに追加される場合</span><span class="sxs-lookup"><span data-stu-id="c7162-175">When a data entity is added to a job</span></span>
- <span data-ttu-id="c7162-176">エンティティ リストでユーザーが '検証' をクリックした場合</span><span class="sxs-lookup"><span data-stu-id="c7162-176">When user clicks 'validate' on the entity list</span></span>
- <span data-ttu-id="c7162-177">ユーザーがデータ プロジェクトにデータ パッケージを読み込む場合</span><span class="sxs-lookup"><span data-stu-id="c7162-177">When the user loads a data package into a data project</span></span>
- <span data-ttu-id="c7162-178">ユーザーがデータ プロジェクトにテンプレートを読み込む場合</span><span class="sxs-lookup"><span data-stu-id="c7162-178">When the user loads a template into a data project</span></span>
- <span data-ttu-id="c7162-179">既存のデータ プロジェクトが読み込まれる場合</span><span class="sxs-lookup"><span data-stu-id="c7162-179">When an existing data project is loaded</span></span>
- <span data-ttu-id="c7162-180">テンプレートがデータ プロジェクトに読み込まれる場合</span><span class="sxs-lookup"><span data-stu-id="c7162-180">When a template is loaded into a data project</span></span>
- <span data-ttu-id="c7162-181">エクスポート / インポート ジョブが実行される前 (バッチ、非バッチ、反復、OData)。</span><span class="sxs-lookup"><span data-stu-id="c7162-181">Before the export/import job is executed (batch, non-batch, recurring, OData)</span></span>
- <span data-ttu-id="c7162-182">ユーザーがマッピングを生成する場合</span><span class="sxs-lookup"><span data-stu-id="c7162-182">When the user generates mapping</span></span>
- <span data-ttu-id="c7162-183">ユーザーがマッピング UI のフィールドをマップする場合</span><span class="sxs-lookup"><span data-stu-id="c7162-183">When the user maps fields in the mapping UI</span></span>
- <span data-ttu-id="c7162-184">ユーザーが 'インポート可能フィールド' を追加する場合</span><span class="sxs-lookup"><span data-stu-id="c7162-184">When the user adds only 'importable fields'</span></span>

### <a name="managing-configuration-key-changes"></a><span data-ttu-id="c7162-185">コンフィギュレーション キー変更の管理</span><span class="sxs-lookup"><span data-stu-id="c7162-185">Managing configuration key changes</span></span>
<span data-ttu-id="c7162-186">エンティティ、テーブルまたはフィールド レベルでコンフィギュレーション キーを更新する時はいつでも、データ管理フレームワークのエンティティ リストは更新されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="c7162-186">Anytime that you update configuration keys at the entity, table or field level, the entity list in the data management framework must be refreshed.</span></span> <span data-ttu-id="c7162-187">このプロセスでは、フレームワークが、最新のコンフィギュレーション キー設定をピックアップすることが保証されます。</span><span class="sxs-lookup"><span data-stu-id="c7162-187">This process ensures that the framework picks up the latest configuration key settings.</span></span> <span data-ttu-id="c7162-188">エンティティ リストが更新されるまで、エンティティ リストのページに、次の警告メッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="c7162-188">Until the entity list is refreshed, the following warning will be shown in the entity list page.</span></span> <span data-ttu-id="c7162-189">更新されたコンフィギュレーション キーの変更は、エンティティ リストが更新されたすぐ後に、有効になります。</span><span class="sxs-lookup"><span data-stu-id="c7162-189">The updated configuration key changes will take effect immediately after the entity list is refreshed.</span></span> <span data-ttu-id="c7162-190">コンフィギュレーション キーの変更が有効になった後、期待どおりに動作するかどうかを確認するため、既存のデータ プロジェクトおよびジョブを検証することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="c7162-190">We recommend that you validate existing data projects and jobs to make sure that they function as expected after the configuration keys changes are put in effect.</span></span>

![ターゲット フィールド](./media/Target_fields_3.png)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
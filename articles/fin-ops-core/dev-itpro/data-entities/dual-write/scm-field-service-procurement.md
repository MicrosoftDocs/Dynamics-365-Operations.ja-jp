---
title: Supply Chain Management と Field Service の間の調達の統合
description: このトピックでは、デュアル書き込み統合で Supply Chain Management と Field Service の両方からの発注書の作成と更新をサポートする方法について説明します。
author: RichardLuan
manager: tfehr
ms.date: 11/11/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: rhaertle
ms.search.region: Global
ms.author: riluan
ms.search.validFrom: 2020-11-11
ms.dyn365.ops.version: Release 10.0.17
ms.openlocfilehash: c2b0d5be38425b5ceebb38b7964f5ec600b1c838
ms.sourcegitcommit: ca05440ee503bf15fe98fe138d317c1cdf21ad16
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/09/2021
ms.locfileid: "5141907"
---
# <a name="integrate-procurement-between-supply-chain-management-and-field-service"></a><span data-ttu-id="fcff1-103">Supply Chain Management と Field Service の間の調達の統合</span><span class="sxs-lookup"><span data-stu-id="fcff1-103">Integrate procurement between Supply Chain Management and Field Service</span></span>

[!include [banner](../../includes/banner.md)]

[!include [banner](../../includes/preview-banner.md)]

<span data-ttu-id="fcff1-104">Microsoft Dynamics 365 Supply Chain Management は、信頼性の高い調達機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-104">Microsoft Dynamics 365 Supply Chain Management provides robust procurement functionality.</span></span> <span data-ttu-id="fcff1-105">Dynamics 365 Field Service には、サービス プロセスに関連付けられた購買プロセスをサポートするのと同様の機能が用意されています。</span><span class="sxs-lookup"><span data-stu-id="fcff1-105">Dynamics 365 Field Service offers similar functionality that supports the purchasing processes that are associated with the service process.</span></span> <span data-ttu-id="fcff1-106">この 2 つのアプリケーションの機能は、デュアル 書き込みによって統合され、テーブル マッピング、ソリューション ロジック、ビュー、フォームを通じて、機能間の利用ケースを実現できます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-106">The functionality in these two apps is integrated through dual-write, and the resulting cross-functional use cases are enabled through table mappings, solution logic, views, and forms.</span></span>

<span data-ttu-id="fcff1-107">この統合により、発注書の作成と、ほとんどの場合、両方のアプリケーションからの更新がサポートされます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-107">This integration supports purchase order creation and, in most cases, updates from both apps.</span></span> <span data-ttu-id="fcff1-108">ただし、Supply Chain Management では価格決定、住所、製品受領が制御されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-108">However, Supply Chain Management controls pricing, addresses, and product receipt.</span></span> <span data-ttu-id="fcff1-109">Field Service と Supply Chain Management の両方を使用する組織では、機能間の強力なユース ケースがいくつか有効になります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-109">Several powerful cross-functional use cases are enabled for organizations that use both Field Service and Supply Chain Management.</span></span> <span data-ttu-id="fcff1-110">これらのユース ケースによって、調達が開始され、両方のシステムにわたって追跡されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-110">These use cases enable procurements to be initiated and tracked across both systems.</span></span>

<span data-ttu-id="fcff1-111">次の図は、両方のシステムのテーブルと、テーブルが互いにマップされている方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="fcff1-111">The following illustration shows the tables in both systems and how they are mapped to each other.</span></span> <span data-ttu-id="fcff1-112">Field Service の発注書は *アカウント* の行を参照し、Supply Chain Management の発注書は *仕入先*  行を参照します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-112">Purchase orders in Field Service reference an *account* row, whereas purchase orders in Supply Chain Management reference a *vendor* row.</span></span> <span data-ttu-id="fcff1-113">統合を解決するために、デュアル書き込みでは、参照を使用して *仕入先* 行を *アカウント* 行とリンクします。</span><span class="sxs-lookup"><span data-stu-id="fcff1-113">To resolve the integration, dual-write uses a reference to link *vendor* rows with *account* rows.</span></span> <span data-ttu-id="fcff1-114">詳細については、[統合された仕入先マスター](vendor-mapping.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fcff1-114">For more information, see [Integrated vendor master](vendor-mapping.md).</span></span>

![調達のマッピング](media/scm-field-service-tables.png)

## <a name="prerequisites"></a><span data-ttu-id="fcff1-116">必要条件</span><span class="sxs-lookup"><span data-stu-id="fcff1-116">Prerequisites</span></span>

<span data-ttu-id="fcff1-117"> Supply Chain Management を Field Service と統合するには、次のコンポーネントをインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-117">To integrate Supply Chain Management with Field Service, you must install the following components:</span></span>

- <span data-ttu-id="fcff1-118">Field Service のバージョン 8.8.31.60 以降、包括的な発注書統合用</span><span class="sxs-lookup"><span data-stu-id="fcff1-118">Field Service version 8.8.31.60 or later, for comprehensive purchase order integration</span></span>
- <span data-ttu-id="fcff1-119">Supply Chain Management バージョン 10.0.14 以降</span><span class="sxs-lookup"><span data-stu-id="fcff1-119">Supply Chain Management version 10.0.14 or later</span></span>
- <span data-ttu-id="fcff1-120">デュアル書き込みで、One GIFSCM ソリューションを実行する場合</span><span class="sxs-lookup"><span data-stu-id="fcff1-120">Dual-write, to run the OneFSSCM solution</span></span>

## <a name="installation-guidelines"></a><span data-ttu-id="fcff1-121">インストール ガイドライン</span><span class="sxs-lookup"><span data-stu-id="fcff1-121">Installation guidelines</span></span>

### <a name="prerequisites"></a><span data-ttu-id="fcff1-122">必要条件</span><span class="sxs-lookup"><span data-stu-id="fcff1-122">Prerequisites</span></span>

+ <span data-ttu-id="fcff1-123">**デュアル書き込み** – 詳細については、[デュアル書き込みホームページ](dual-write-home-page.md#dual-write-setup) をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="fcff1-123">**Dual-write** – For more information, see the [Dual-write home page](dual-write-home-page.md#dual-write-setup).</span></span>
+ <span data-ttu-id="fcff1-124">**Dynamics 365 Field Service** – 詳細については、[Dynamics 365 Field Service のインストール方法](https://docs.microsoft.com/dynamics365/field-service/install-field-service#step-1-install-dynamics-365-field-service) をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="fcff1-124">**Dynamics 365 Field Service** – For more information, see [How to install Dynamics 365 Field Service](https://docs.microsoft.com/dynamics365/field-service/install-field-service#step-1-install-dynamics-365-field-service).</span></span>

<span data-ttu-id="fcff1-125">この機能が  Microsoft Dataverse で有効な場合は、デュアル書き込みおよび Field Service により、新しいメタデータ、フォーム、ビュー、ロジックで環境を拡張する複数のソリューション レイヤーが導入されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-125">When they are enabled in Microsoft Dataverse, dual-write and Field Service introduce several solution layers that extend the environment with new metadata, forms, views, and logic.</span></span> <span data-ttu-id="fcff1-126">これらのソリューションは、任意の順序で有効にできます。通常、次の順序でインストールします。</span><span class="sxs-lookup"><span data-stu-id="fcff1-126">These solutions can be enabled in any order, though you typically install in the order that is given here:</span></span>

1. <span data-ttu-id="fcff1-127">**Field Service Common** - Field Service Common が環境にインストールされている場合は、Field Service Common がインストールされています。</span><span class="sxs-lookup"><span data-stu-id="fcff1-127">**Field Service Common** – Field Service Common is installed when Field Service is installed in the environment.</span></span>
2. <span data-ttu-id="fcff1-128">**Field Service (Anchor)** - Field Service (Anchor) が環境にインストールされている場合は、Field Service がインストールされています。</span><span class="sxs-lookup"><span data-stu-id="fcff1-128">**Field Service (Anchor)** – Field Service (Anchor) is installed when Field Service is installed in the environment.</span></span> 
3. <span data-ttu-id="fcff1-129">**Supply Chain Management Extended** - 環境でデュアル 書き込みを有効にすると、Supply Chain Management Extended が自動的にインストールされます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-129">**Supply Chain Management Extended** – Supply Chain Management Extended is automatically installed when dual-write is enabled in an environment.</span></span> 
4. <span data-ttu-id="fcff1-130">**One GIFSCM ソリューション** - One GIFSCM は、どちらかのソリューション (Field Service または Supply Chain Management) が最後にインストールするソリューション によって自動的にインストールされます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-130">**OneFSSCM solution** – OneFSSCM is automatically installed by whichever solution (Field Service or Supply Chain Management) is installed last.</span></span>

    + <span data-ttu-id="fcff1-131">Field Service が既に環境にインストールされている場合に、Supply Chain Management Extended をインストールするデュアル書き込みを有効にした場合は、OneFSSCM がインストールされます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-131">If Field Service is already installed in the environment, and you enable dual-write, which installs Supply Chain Management Extended, OneFSSCM is installed.</span></span>
    + <span data-ttu-id="fcff1-132">Supply Chain Management Extended が既に環境にインストールされている場合に、Field Service をインストールする場合は、OneFSSCM がインストールされます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-132">If Supply Chain Management Extended is already installed in the environment, and you install Field Service, OneFSSCM is installed.</span></span>

## <a name="initial-synchronization"></a><span data-ttu-id="fcff1-133">初期同期</span><span class="sxs-lookup"><span data-stu-id="fcff1-133">Initial synchronization</span></span>

<span data-ttu-id="fcff1-134">新しい発注書を作成して既存の発注書を処理するには、Supply Chain Management と Dataverse との間の参照データを同期する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-134">To create new purchase orders and work with existing purchase orders, you must sync the reference data between Supply Chain Management and Dataverse.</span></span> <span data-ttu-id="fcff1-135">最初の書き込み機能を使用して、テーブルの関係を検出し、特定のマップで有効にする必要があるテーブルを探します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-135">You use the initial write functionality to detect the table relationships and find the tables that you must enable for a given map.</span></span>

<span data-ttu-id="fcff1-136">次のテーブルを同期する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-136">You must sync the following tables:</span></span>

- <span data-ttu-id="fcff1-137">製品テンプレート</span><span class="sxs-lookup"><span data-stu-id="fcff1-137">Product templates</span></span>

    <span data-ttu-id="fcff1-138">最初の書き込みを実行すると、必要なテーブルの完全な一覧が表示されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-138">When you run the initial write, you get a full list of the tables that are required.</span></span> <span data-ttu-id="fcff1-139">これらのテンプレートの例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-139">Here are some examples of these templates:</span></span>

    - <span data-ttu-id="fcff1-140">すべての製品</span><span class="sxs-lookup"><span data-stu-id="fcff1-140">All products</span></span>
    - <span data-ttu-id="fcff1-141">リリース済製品 V2</span><span class="sxs-lookup"><span data-stu-id="fcff1-141">Released products V2</span></span>
    - <span data-ttu-id="fcff1-142">Dataverse リリース済特徴的製品</span><span class="sxs-lookup"><span data-stu-id="fcff1-142">Dataverse released distinct products</span></span>

- <span data-ttu-id="fcff1-143">サイト</span><span class="sxs-lookup"><span data-stu-id="fcff1-143">Sites</span></span>
- <span data-ttu-id="fcff1-144">倉庫</span><span class="sxs-lookup"><span data-stu-id="fcff1-144">Warehouses</span></span>
- <span data-ttu-id="fcff1-145">調達カテゴリのテンプレート</span><span class="sxs-lookup"><span data-stu-id="fcff1-145">Procurement categories templates</span></span>

    <span data-ttu-id="fcff1-146">これらのテンプレートの例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-146">Here are some examples of these templates:</span></span>

    - <span data-ttu-id="fcff1-147">調達カテゴリ</span><span class="sxs-lookup"><span data-stu-id="fcff1-147">Procurement categories</span></span>
    - <span data-ttu-id="fcff1-148">プロ</span><span class="sxs-lookup"><span data-stu-id="fcff1-148">Pro</span></span>
    - <span data-ttu-id="fcff1-149">製品カテゴリ階層</span><span class="sxs-lookup"><span data-stu-id="fcff1-149">Product category hierarchy</span></span>
    - <span data-ttu-id="fcff1-150">製品カテゴリの割り当て</span><span class="sxs-lookup"><span data-stu-id="fcff1-150">Product category assignments</span></span>

- <span data-ttu-id="fcff1-151">仕入先テンプレート (仕入先 V2 など)</span><span class="sxs-lookup"><span data-stu-id="fcff1-151">Vendor templates, such as Vendor V2</span></span>
- <span data-ttu-id="fcff1-152">連絡担当者テンプレート (Dataverse 連絡先 V2 など)</span><span class="sxs-lookup"><span data-stu-id="fcff1-152">Contact person templates, such as Dataverse Contacts V2</span></span>
- <span data-ttu-id="fcff1-153">作業者テンプレート (作業者など)</span><span class="sxs-lookup"><span data-stu-id="fcff1-153">Worker templates, such as Worker</span></span>

<span data-ttu-id="fcff1-154">テーブルを同期することで、Supply Chain Management のすべてのドキュメント (発注書および製品受領) が Dataverse で確実に使用できます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-154">Synchronization of the tables ensures that all documents (purchase orders and product receipts) in Supply Chain Management are available in Dataverse.</span></span>

### <a name="account-and-vendor-tables"></a><span data-ttu-id="fcff1-155">アカウントと仕入先テーブル</span><span class="sxs-lookup"><span data-stu-id="fcff1-155">Account and Vendor tables</span></span>

<span data-ttu-id="fcff1-156">Field Service での発注書は、仕入先を追跡するアカウント テーブルに依存します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-156">Purchase orders in Field Service rely on the Account table to track vendors.</span></span> <span data-ttu-id="fcff1-157">したがって、発注書の Dataverse テーブルでは、仕入先を追跡するアカウントを使用します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-157">Therefore, the Dataverse tables for purchase orders use accounts to track vendors.</span></span> <span data-ttu-id="fcff1-158">この重要な違いに対応するには、アカウントと仕入先を同期するために次の 4 つのワークフローを有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-158">To accommodate this key difference, the following four workflows must be activated to keep the accounts and vendors in sync:</span></span> 

- <span data-ttu-id="fcff1-159">アカウント テーブルでの仕入先の作成</span><span class="sxs-lookup"><span data-stu-id="fcff1-159">Create Vendors in Accounts table</span></span>
- <span data-ttu-id="fcff1-160">仕入先テーブルでの仕入先の作成</span><span class="sxs-lookup"><span data-stu-id="fcff1-160">Create Vendors in Vendors table</span></span>
- <span data-ttu-id="fcff1-161">アカウント テーブルでの仕入先の更新</span><span class="sxs-lookup"><span data-stu-id="fcff1-161">Update Vendors in Accounts table</span></span>
- <span data-ttu-id="fcff1-162">仕入先テーブルでの仕入先の更新</span><span class="sxs-lookup"><span data-stu-id="fcff1-162">Update Vendors in Vendors table</span></span>

<span data-ttu-id="fcff1-163">One GIFSCM がインストールされている場合は、Field Service and Supply Chain Management Extended の両方がインストールされているから、これらのワークフローは自動的に有効化されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-163">If OneFSSCM is installed, because both Field Service and Supply Chain Management Extended are installed, these workflows are automatically activated.</span></span> <span data-ttu-id="fcff1-164">Field Service にインストールされていないが、発注書テーブルが Dataverse と統合されていない場合は、これらのワークフローを有効化する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-164">If Field Service isn't installed, but you want to integrate the purchase order tables with Dataverse, you must activate these workflows.</span></span> <span data-ttu-id="fcff1-165">どちらの場合も、最初から始めない限り、発注書を作成する前に、すべての仕入先を Dataverse でアカウントとして作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-165">In both cases, unless you start from scratch, you might have to ensure that all vendors are created as accounts in Dataverse before you create purchase orders.</span></span> <span data-ttu-id="fcff1-166">それ以外の場合は、エラーが発生する場合があります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-166">Otherwise, errors might occur.</span></span>

### <a name="initial-synchronization"></a><span data-ttu-id="fcff1-167">初期同期</span><span class="sxs-lookup"><span data-stu-id="fcff1-167">Initial synchronization</span></span>

<span data-ttu-id="fcff1-168">すべての前提条件が満たされた後に、既存の発注書と製品受領を両方のシステムで使用可能にするには、次のテンプレートの初期同期を実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-168">After all the prerequisites are in place, if you want existing purchase orders and product receipts to be available in both systems, you must do an initial synchronization of the following templates:</span></span>

- <span data-ttu-id="fcff1-169">発注書ヘッダー V2</span><span class="sxs-lookup"><span data-stu-id="fcff1-169">Purchase Order Header V2</span></span>
- <span data-ttu-id="fcff1-170">CDS 発注書明細行</span><span class="sxs-lookup"><span data-stu-id="fcff1-170">CDS Purchase Order Line</span></span>
- <span data-ttu-id="fcff1-171">CDS 発注書明細行のソフト削除</span><span class="sxs-lookup"><span data-stu-id="fcff1-171">CDS Purchase Order Line soft delete</span></span>
- <span data-ttu-id="fcff1-172">発注書の受領</span><span class="sxs-lookup"><span data-stu-id="fcff1-172">Purchase Order Receipt</span></span>
- <span data-ttu-id="fcff1-173">発注書受領製品</span><span class="sxs-lookup"><span data-stu-id="fcff1-173">Purchase Order Receipt Product</span></span>

## <a name="mappings-with-logic"></a><span data-ttu-id="fcff1-174">ロジックを使用したマッピング</span><span class="sxs-lookup"><span data-stu-id="fcff1-174">Mappings with logic</span></span>

<span data-ttu-id="fcff1-175">この調達統合では、次のロジックに従って製品マッピングが拡張され、以下の製品テーブルで **Field Service 製品タイプ** 列が Dataverse で正しく設定されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-175">The procurement integration extends the product mapping with the following logic to ensure that the **Field Service Product Type** column is correctly set in the products table in Dataverse:</span></span>

- <span data-ttu-id="fcff1-176">**製品タイプ** が *製品* に設定され、**品目モデル グループ、在庫製品** が *真* に設定されている場合、**Field Service 製品タイプ** は *在庫* に設定されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-176">If **Product Type** is set to *Product*, and **Item model group, Stocked product** is set to *True*, **Field Service Product Type** is set to *Inventory*.</span></span>
- <span data-ttu-id="fcff1-177">**製品タイプ** が *製品* に設定され、**品目モデル グループ、在庫製品** が *偽* に設定されている場合、**Field Service 製品タイプ** は *非在庫* に設定されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-177">If **Product Type** is set to *Product*, and **Item model group, Stocked product** is set to *False*, **Field Service Product Type** is set to *Non-Inventory*.</span></span>
- <span data-ttu-id="fcff1-178">**製品タイプ** が *サービス* に設定されている場合、**Field Service 製品タイプ** が *サービス* に設定されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-178">If **Product Type** is set to *Service*, **Field Service Product Type** is set to *Service*.</span></span>

<span data-ttu-id="fcff1-179">さらに、Dataverse には自分たちにに関連するアカウントを仕入先にマップするロジックも含まれます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-179">In addition, Dataverse includes logic that maps vendors with their related accounts.</span></span> <span data-ttu-id="fcff1-180">このロジックは、既定の請求仕入先アカウントを設定します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-180">This logic sets the default invoice vendor account.</span></span> <span data-ttu-id="fcff1-181">作成時に、サーバー側のプラグイン ロジックにより、そのアカウントに関連付されている仕入先からの既定の請求仕入先が設定されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-181">On create, server-side plug-in logic sets the default invoice vendor account from the vendor that is related to the account.</span></span> <span data-ttu-id="fcff1-182">この仕入先には、この値の設定に使用される請求アカウントへの参照があります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-182">The vendor has a reference to the invoice account that is used to set this value.</span></span>

## <a name="supported-scenarios"></a><span data-ttu-id="fcff1-183">サポートされているシナリオ</span><span class="sxs-lookup"><span data-stu-id="fcff1-183">Supported scenarios</span></span>

+ <span data-ttu-id="fcff1-184">発注書は、Dataverse ユーザーが作成および更新できます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-184">Purchase orders can be created and updated by Dataverse users.</span></span> <span data-ttu-id="fcff1-185">ただし、このプロセスとデータは Supply Chain Management で制御されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-185">However, the process and data are controlled by Supply Chain Management.</span></span> <span data-ttu-id="fcff1-186">Supply Chain Management の発注書列の更新に対する制約は、Field Service からの更新の場合に適用されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-186">The constraints on updates to purchase order columns in Supply Chain Management apply when updates come from Field Service.</span></span> <span data-ttu-id="fcff1-187">たとえば、発注書が確定した場合は更新できない場合があります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-187">For example, you can't update a purchase order if it has been finalized.</span></span> 
+ <span data-ttu-id="fcff1-188">Supply Chain Management で発注書が変更管理によって制御される場合、Field Service ユーザーは、Supply Chain Management の承認ステータスが *ドラフト* の場合にのみ発注書を更新 できます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-188">If the purchase order is controlled by change management in Supply Chain Management, a Field Service user can update the purchase order only when the Supply Chain Management approval status is *Draft*.</span></span>
+ <span data-ttu-id="fcff1-189">いくつかの列は Supply Chain Management でのみ管理され、Field Service で更新できません。</span><span class="sxs-lookup"><span data-stu-id="fcff1-189">Several columns are managed only by Supply Chain Management and can't be updated in Field Service.</span></span> <span data-ttu-id="fcff1-190">更新できない列については、製品のマッピング テーブルを確認してください。</span><span class="sxs-lookup"><span data-stu-id="fcff1-190">To learn which columns can't be updated, review the mapping tables in the product.</span></span> <span data-ttu-id="fcff1-191">便宜上、多くの列では、Dataverse ページ上で読み取り専用に設定されています。</span><span class="sxs-lookup"><span data-stu-id="fcff1-191">For the sake of simplicity, most of these columns are set to read-only on Dataverse pages.</span></span> 

    <span data-ttu-id="fcff1-192">たとえば、価格情報の列は Supply Chain Management によって管理されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-192">For example, the columns for price information are managed by Supply Chain Management.</span></span> <span data-ttu-id="fcff1-193">Supply Chain Management には、Field Service の特典を提供する取引契約があります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-193">Supply Chain Management has trade agreements that Field Service can benefit from.</span></span> <span data-ttu-id="fcff1-194">**単価**、**割引**、**正味金額** などの列は、Supply Chain Management からのみ表示されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-194">columns such as **Unit price**, **Discount**, and **Net amount** come only from Supply Chain Management.</span></span> <span data-ttu-id="fcff1-195">価格が Field Service と同期を行う場合は、発注書データを入力するときに、Dataverse で **発注書** ページと **発注書製品** ページの **同期** 機能を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-195">To ensure that the price is synced to Field Service, you should use the **Sync** feature on the **Purchase Order** and **Purchase Order Product** pages in Dataverse when purchase order data has been entered.</span></span> <span data-ttu-id="fcff1-196">詳細については、[オンデマンドの Dynamics 365 Supply Chain Management 調達データでの同期](#sync-procurement) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fcff1-196">For more information, see [Sync with the Dynamics 365 Supply Chain Management procurement data on demand](#sync-procurement).</span></span>

+ <span data-ttu-id="fcff1-197">Supply Chain Management には発注書の最新の合計はないので、**合計** 列は Field Service でのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-197">The **Totals** column is available only in Field Service, because there are no up-to-date totals of the purchase order in Supply Chain Management.</span></span> <span data-ttu-id="fcff1-198">Supply Chain Management の合計は、Field Service で使用できない複数のパラメータに基づいて計算されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-198">The totals in Supply Chain Management are calculated based on multiple parameters that aren't available in Field Service.</span></span>
+ <span data-ttu-id="fcff1-199">調達カテゴリだけが指定されている発注書明細行、または指定された製品が *サービス* 製品タイプまたは Field Service 製品タイプの品目である場合は、Supply Chain Management でのみ開始できます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-199">Purchase order lines where only a procurement category is specified, or where the product that is specified is an item of the *Service* product type or Field Service product type, can be initiated only in Supply Chain Management.</span></span> <span data-ttu-id="fcff1-200">明細行が同期され、Field Service で Dataverse に表示されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-200">The lines are then synced to Dataverse and are visible in Field Service.</span></span>
+ <span data-ttu-id="fcff1-201">Supply Chain Management ではなく Field Service だけがインストールされている場合、発注書では **倉庫** 列は必須です。</span><span class="sxs-lookup"><span data-stu-id="fcff1-201">If only Field Service is installed, not Supply Chain Management, the **Warehouse** column is mandatory on the purchase order.</span></span> <span data-ttu-id="fcff1-202">ただし、Supply Chain Management がインストールされている場合、特定の状況で倉庫が指定されていない発注書明細行は Supply Chain Management によって許可されるので、この要件は大きではありません。</span><span class="sxs-lookup"><span data-stu-id="fcff1-202">However, if Supply Chain Management is installed, this requirement is relaxed, because Supply Chain Management allows for purchase order lines where no warehouse is specified in certain situations.</span></span>
+ <span data-ttu-id="fcff1-203">製品受領 (Dataverse での発注書受領) は Supply Chain Management によって管理され、Supply Chain Management がインストールされている場合 Dataverse は作成できません。</span><span class="sxs-lookup"><span data-stu-id="fcff1-203">Product receipts (purchase order receipts in Dataverse) are managed by Supply Chain Management and can't be created from Dataverse if Supply Chain Management is installed.</span></span> <span data-ttu-id="fcff1-204">Supply Chain Management からの製品受領は、Supply Chain Management から Dataverse へと同期されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-204">The product receipts from Supply Chain Management are synced from Supply Chain Management to Dataverse.</span></span>
+ <span data-ttu-id="fcff1-205">Supply Chain Management では過小配送が許可されています。</span><span class="sxs-lookup"><span data-stu-id="fcff1-205">Under-delivery is allowed in Supply Chain Management.</span></span> <span data-ttu-id="fcff1-206">One GIFSCM ソリューションは、過小配送シナリオで注文中の残りの数量を調整するために、製品受領ライン (または Dataverse での発注書受領製品) が Dataverse で作成または更新されると、在庫仕訳帳行を作成して調整するロジックを追加します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-206">The OneFSSCM solution adds logic so that, when the product receipt line (or purchase order receipt product in Dataverse) is created or updated, an inventory journal row is created in Dataverse to adjust the remaining quantity that is on order for under-delivery scenarios.</span></span>

## <a name="unsupported-scenarios"></a><span data-ttu-id="fcff1-207">サポートされないシナリオ</span><span class="sxs-lookup"><span data-stu-id="fcff1-207">Unsupported scenarios</span></span>

+ <span data-ttu-id="fcff1-208">Field Service は、Supply Chain Management でキャンセルされた発注書に明細行が追加されるのを防ぎます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-208">Field Service prevents lines from being added to a canceled purchase order in Supply Chain Management.</span></span> <span data-ttu-id="fcff1-209">Field Service で発注書のシステム ステータスを変更し、その新しい行を Field Service または Supply Chain Management に追加することができます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-209">As a workaround, you can change the system status of the purchase order in Field Service, and then add the new line in either Field Service or Supply Chain Management.</span></span>
+ <span data-ttu-id="fcff1-210">調達行は両方のシステムの在庫レベルに影響を与えるが、この統合は Supply Chain Management と Field Service での在庫配置を保証しません。</span><span class="sxs-lookup"><span data-stu-id="fcff1-210">Although procurement rows affect inventory levels in both systems, this integration doesn't ensure inventory alignment across Supply Chain Management and Field Service.</span></span> <span data-ttu-id="fcff1-211">Field Service と Supply Chain Management は両方とも、在庫レベルを更新するその他のプロセスがあります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-211">Both Field Service and Supply Chain Management have other processes that update inventory levels.</span></span> <span data-ttu-id="fcff1-212">これらのプロセスは調達の範囲を外しています。</span><span class="sxs-lookup"><span data-stu-id="fcff1-212">Those processes are outside the scope of procurement.</span></span>

## <a name="status-management"></a><span data-ttu-id="fcff1-213">状態管理</span><span class="sxs-lookup"><span data-stu-id="fcff1-213">Status management</span></span>

<span data-ttu-id="fcff1-214">Field Service での発注書の状態は、Supply Chain Management の状態とは異なります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-214">The statuses of purchase orders in Field Service differ from the statuses in Supply Chain Management.</span></span>

### <a name="field-service-purchase-order-and-purchase-order-product-statuses"></a><span data-ttu-id="fcff1-215">Field Service の発注書と発注書の製品ステータス</span><span class="sxs-lookup"><span data-stu-id="fcff1-215">Field Service purchase order and purchase order product statuses</span></span>

| <span data-ttu-id="fcff1-216">ヘッダー – システムの状態</span><span class="sxs-lookup"><span data-stu-id="fcff1-216">Header – System status</span></span> | <span data-ttu-id="fcff1-217">ヘッダー - 承認の状態</span><span class="sxs-lookup"><span data-stu-id="fcff1-217">Header - Approval status</span></span> | <span data-ttu-id="fcff1-218">品目の状態</span><span class="sxs-lookup"><span data-stu-id="fcff1-218">Item status</span></span> |
|---|---|---|
| <ul><li><span data-ttu-id="fcff1-219">ドラフト</span><span class="sxs-lookup"><span data-stu-id="fcff1-219">Draft</span></span></li><li><span data-ttu-id="fcff1-220">提出済</span><span class="sxs-lookup"><span data-stu-id="fcff1-220">Submitted</span></span></li><li><span data-ttu-id="fcff1-221">キャンセル済</span><span class="sxs-lookup"><span data-stu-id="fcff1-221">Cancelled</span></span></li><li><span data-ttu-id="fcff1-222">受領済製品</span><span class="sxs-lookup"><span data-stu-id="fcff1-222">Product received</span></span></li><li><span data-ttu-id="fcff1-223">請求</span><span class="sxs-lookup"><span data-stu-id="fcff1-223">Billed</span></span></li></ul> | <ul><li><span data-ttu-id="fcff1-224">Null</span><span class="sxs-lookup"><span data-stu-id="fcff1-224">Null</span></span></li><li><span data-ttu-id="fcff1-225">承認済金額</span><span class="sxs-lookup"><span data-stu-id="fcff1-225">Approved</span></span></li><li><span data-ttu-id="fcff1-226">不採用</span><span class="sxs-lookup"><span data-stu-id="fcff1-226">Rejected</span></span></li></ul> | <ul><li><span data-ttu-id="fcff1-227">保留中</span><span class="sxs-lookup"><span data-stu-id="fcff1-227">Pending</span></span></li><li><span data-ttu-id="fcff1-228">入庫済</span><span class="sxs-lookup"><span data-stu-id="fcff1-228">Received</span></span></li><li><span data-ttu-id="fcff1-229">キャンセル済</span><span class="sxs-lookup"><span data-stu-id="fcff1-229">Cancelled</span></span></li></ul> |

### <a name="supply-chain-management-purchase-order-and-purchase-order-line-statuses"></a><span data-ttu-id="fcff1-230">Supply Chain Management の発注書と発注書明細行の状態</span><span class="sxs-lookup"><span data-stu-id="fcff1-230">Supply Chain Management purchase order and purchase order line statuses</span></span>

<span data-ttu-id="fcff1-231">明細行の承認の状態は、行ワークフローがある場合にのみ有効になります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-231">Line approval statuses are active only when there is a line workflow.</span></span>

| <span data-ttu-id="fcff1-232">ヘッダー - ドキュメントの状態</span><span class="sxs-lookup"><span data-stu-id="fcff1-232">Header – documents status</span></span> | <span data-ttu-id="fcff1-233">ヘッダー - 承認の状態</span><span class="sxs-lookup"><span data-stu-id="fcff1-233">Header - Approval status</span></span> | <span data-ttu-id="fcff1-234">明細行の状態</span><span class="sxs-lookup"><span data-stu-id="fcff1-234">Line status</span></span> | <span data-ttu-id="fcff1-235">明細行の承認状態</span><span class="sxs-lookup"><span data-stu-id="fcff1-235">Line approval status</span></span> |
|---|---|---|---|
| <ul><li><span data-ttu-id="fcff1-236">オープン注文 (バックオーダー)</span><span class="sxs-lookup"><span data-stu-id="fcff1-236">Open Order (Back order)</span></span></li><li><span data-ttu-id="fcff1-237">入庫済</span><span class="sxs-lookup"><span data-stu-id="fcff1-237">Received</span></span></li><li><span data-ttu-id="fcff1-238">請求済</span><span class="sxs-lookup"><span data-stu-id="fcff1-238">Invoiced</span></span></li><li><span data-ttu-id="fcff1-239">キャンセル済</span><span class="sxs-lookup"><span data-stu-id="fcff1-239">Cancelled</span></span></li></ul> | <ul><li><span data-ttu-id="fcff1-240">ドラフト</span><span class="sxs-lookup"><span data-stu-id="fcff1-240">Draft</span></span></li><li><span data-ttu-id="fcff1-241">確認中</span><span class="sxs-lookup"><span data-stu-id="fcff1-241">In Review</span></span></li><li><span data-ttu-id="fcff1-242">承認済金額</span><span class="sxs-lookup"><span data-stu-id="fcff1-242">Approved</span></span></li><li><span data-ttu-id="fcff1-243">不採用</span><span class="sxs-lookup"><span data-stu-id="fcff1-243">Rejected</span></span></li><li><span data-ttu-id="fcff1-244">外部レビューでは</span><span class="sxs-lookup"><span data-stu-id="fcff1-244">In External Review</span></span></li><li><span data-ttu-id="fcff1-245">確定済</span><span class="sxs-lookup"><span data-stu-id="fcff1-245">Confirmed</span></span></li><li><span data-ttu-id="fcff1-246">完了</span><span class="sxs-lookup"><span data-stu-id="fcff1-246">Finalized</span></span></li></ul> | <ul><li><span data-ttu-id="fcff1-247">オープン注文 (バックオーダー)</span><span class="sxs-lookup"><span data-stu-id="fcff1-247">Open Order (back order)</span></span></li><li><span data-ttu-id="fcff1-248">入庫済</span><span class="sxs-lookup"><span data-stu-id="fcff1-248">Received</span></span></li><li><span data-ttu-id="fcff1-249">請求済</span><span class="sxs-lookup"><span data-stu-id="fcff1-249">Invoiced</span></span></li><li><span data-ttu-id="fcff1-250">キャンセル済</span><span class="sxs-lookup"><span data-stu-id="fcff1-250">Cancelled</span></span></li></ul> | <ul><li><span data-ttu-id="fcff1-251">未送信</span><span class="sxs-lookup"><span data-stu-id="fcff1-251">Not Submitted</span></span></li><li><span data-ttu-id="fcff1-252">確認中</span><span class="sxs-lookup"><span data-stu-id="fcff1-252">In Review</span></span></li><li><span data-ttu-id="fcff1-253">承認済金額</span><span class="sxs-lookup"><span data-stu-id="fcff1-253">Approved</span></span></li><li><span data-ttu-id="fcff1-254">不採用</span><span class="sxs-lookup"><span data-stu-id="fcff1-254">Rejected</span></span></li></ul> |

<span data-ttu-id="fcff1-255">状態の列には次のルールが適用されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-255">The following rules are applied to the status columns:</span></span>

+ <span data-ttu-id="fcff1-256">Supply Chain Management の状態は、Field Service から更新されません。</span><span class="sxs-lookup"><span data-stu-id="fcff1-256">The status in Supply Chain Management can't be updated from Field Service.</span></span> <span data-ttu-id="fcff1-257">ただし、Supply Chain Management の発注書の状態が変更された場合は、Field Service の状態が更新される場合があります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-257">However, in some cases, the status in Field Service will be updated when the purchase order status in Supply Chain Management is changed.</span></span>
+ <span data-ttu-id="fcff1-258">Supply Chain Management の発注書の変更管理が進行中で、変更の処理中の場合、承認ステータスは *ドラフト* または *確認中* になります。</span><span class="sxs-lookup"><span data-stu-id="fcff1-258">If a purchase order in Supply Chain Management is under change management, and a change is being processed, the approval status is *Draft* or *In Review*.</span></span> <span data-ttu-id="fcff1-259">この場合、Field Service の承認の状態は *Null* に設定されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-259">In this case, the Field Service approval status will be set to *Null*.</span></span>
+ <span data-ttu-id="fcff1-260">Supply Chain Management の発注書の承認ステータスが *承認済*、*外部レビュー*、*確認済*、または *[終了済]* に設定されている場合は、Field Service 発注書の承認状態が *承認済* に設定されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-260">If the purchase order approval status in Supply Chain Management is set to *Approved*, *In External review*, *Confirmed*, or *Finalized*, the Field Service purchase order approval status will be set to *Approved*.</span></span>
+ <span data-ttu-id="fcff1-261">Supply Chain Management の発注書の承認状態が *拒否済* に設定されている場合、Field Service 発注書の承認状態が *拒否済* に設定されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-261">If the purchase order approval status in Supply Chain Management is set to *Rejected*, the Field Service purchase order approval status will be set to *Rejected*.</span></span>
+ <span data-ttu-id="fcff1-262">Supply Chain Management のドキュメント ヘッダーの状態が *オープン注文 (バックオーダー)* に変更され、Field Service 発注書の状態が *ドラフト* または *キャンセル済* になった場合は、Field Service 発注書の状態が *提出済* に変更されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-262">If the document header status in Supply Chain Management is changed to *Open order (Back order)*, and the Field Service purchase order status is *Draft* or *Cancelled*, the Field Service purchase order status will be changed to *Submitted*.</span></span>
+ <span data-ttu-id="fcff1-263">Supply Chain Management のドキュメント ヘッダーの状態が *キャンセル済* に変更され、Field Service の発注書受領製品が 発注書に (発注書製品を介して) 関連付けられている場合、Field Service システム状態が *キャンセル済* に設定されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-263">If the document header status in Supply Chain Management is changed to *Cancelled*, and no purchase order receipt products in Field Service are associated with the purchase order (via purchase order products), the Field Service system status is set to *Cancelled*.</span></span>
+ <span data-ttu-id="fcff1-264">Supply Chain Management の発注書明細行の状態が *キャンセル済* の場合は、Field Service の発注書製品の状態が *キャンセル済* に設定されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-264">If purchase order line status in Supply Chain Management is *Cancelled*, the purchase order product status in Field Service is set to *Cancelled*.</span></span> <span data-ttu-id="fcff1-265">また、Supply Chain Management の発注書明細行の状態が *キャンセル済* から *バックオーダー* に変更された場合は、Field Service の発注書製品品目ステータスが *保留中* に設定されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-265">In addition, if the purchase order line status in Supply Chain Management is changed from *Cancelled* to *Back Order*, the purchase order product item status in Field Service is set to *Pending*.</span></span>

## <a name="sync-with-the-supply-chain-management-procurement-data-on-demand"></a><a id="sync-procurement"></a><span data-ttu-id="fcff1-266">Supply Chain Management の調達データオンデマンドとの同期</span><span class="sxs-lookup"><span data-stu-id="fcff1-266">Sync with the Supply Chain Management procurement data on demand</span></span>

<span data-ttu-id="fcff1-267">Supply Chain Management には、契約や割引など、Supply Chain Management の二次プロセスに依存するシナリオを処理する調達データが含まれています。</span><span class="sxs-lookup"><span data-stu-id="fcff1-267">Supply Chain Management includes procurement data that handles trade agreements, discounts, and other scenarios that rely on secondary processes in Supply Chain Management.</span></span> <span data-ttu-id="fcff1-268">調達エンジンでは、複雑なルールを使用して、特定の発注書に対して最適な価格を決定します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-268">The procurement engine uses complex rules to determine the best price for a given purchase order.</span></span> <span data-ttu-id="fcff1-269">デュアル書き込み機能を使用する場合、特に Dataverse から行が作成または更新されたシナリオ、および Supply Chain Management のフォローオン プロセスがトリガされる場合など、2 つの環境でデータのデータが常に同期して維持されるとは限りません。</span><span class="sxs-lookup"><span data-stu-id="fcff1-269">When you use dual-write, data isn't always kept synchronous across the two environments, especially in scenarios where the row was created or updated from Dataverse and might trigger follow-on processes in Supply Chain Management.</span></span>

## <a name="sync-the-procurement-data-from-supply-chain-management"></a><span data-ttu-id="fcff1-270">Supply Chain Management からの調達データの同期</span><span class="sxs-lookup"><span data-stu-id="fcff1-270">Sync the procurement data from Supply Chain Management</span></span>

1. <span data-ttu-id="fcff1-271">Dataverse で、**在庫 \> 発注書** に移動します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-271">In Dataverse, go to **Inventory \> Purchase Order**.</span></span>
2. <span data-ttu-id="fcff1-272">新規発注書を作成するには **新規** を選択するか、既存の発注書から行を選択します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-272">Select **New** to create a new purchase order, or select the row for an existing purchase order.</span></span>
3. <span data-ttu-id="fcff1-273">発注書または発注書明細行から。</span><span class="sxs-lookup"><span data-stu-id="fcff1-273">From the purchase order or purchase order line.</span></span>
4. <span data-ttu-id="fcff1-274">アクション ペインで、**同期** を選択します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-274">On the Action Pane, select **Sync**.</span></span>

<span data-ttu-id="fcff1-275">Supply Chain Management によって共有されている Dataverse と Field Service からのすべての列が同期されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-275">All columns from Dataverse and Field Service that are shared by Supply Chain Management are synced.</span></span>

<span data-ttu-id="fcff1-276">**同期** 機能を使用できる状況を次に示します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-276">Here are the situations where you might use the **Sync** function:</span></span>

- <span data-ttu-id="fcff1-277">Dataverse から同じ行に対して続く複数の変更を行う場合は、**同期** 機能を実行します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-277">If you make multiple successive changes to the same row from Dataverse, run the **Sync** function.</span></span>
- <span data-ttu-id="fcff1-278">Dataverse からの変更が 2 回目の変更になるかどうか確信が持てない場合は、**同期** 機能を実行します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-278">If you aren't sure whether a change might be the second successive change from Dataverse, it might make sense to run the **Sync** function.</span></span>
- <span data-ttu-id="fcff1-279">Supply Chain Management の値の更新に関するエラー メッセージが表示された場合は、Dataverse で **同期** 機能を実行します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-279">If you receive an error message about updating a value from Supply Chain Management, run the **Sync** function, and then retry the update in Dataverse.</span></span>

## <a name="cancelling-the-posting-process"></a><span data-ttu-id="fcff1-280">転記プロセスのキャンセル</span><span class="sxs-lookup"><span data-stu-id="fcff1-280">Cancelling the posting process</span></span>

<span data-ttu-id="fcff1-281">製品受領の転記プロセスが処理中にキャンセルされた場合、二重書き込みは製品受領を Dataverse で作成する場合がありますが、Supply Chain Management では製品受領の行は作成しません。</span><span class="sxs-lookup"><span data-stu-id="fcff1-281">If the product receipt posting process is cancelled during processing, then dual-write might create a product receipt row in Dataverse, but not create a product receipt row in Supply Chain Management.</span></span> <span data-ttu-id="fcff1-282">この状況は、デュアル書き込みでは分散トランザクションがサポートされていないことから発生します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-282">This situation happens because dual-write does not support distributed transactions.</span></span>

## <a name="templates"></a><span data-ttu-id="fcff1-283">テンプレート</span><span class="sxs-lookup"><span data-stu-id="fcff1-283">Templates</span></span>

<span data-ttu-id="fcff1-284">調達関連のドキュメントを統合する場合は、次のテンプレートを使用できます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-284">The following templates are available for the integration of procurement-related documents.</span></span>

| <span data-ttu-id="fcff1-285">サプライ チェーン マネジメント</span><span class="sxs-lookup"><span data-stu-id="fcff1-285">Supply Chain Management</span></span> | <span data-ttu-id="fcff1-286">Field Service</span><span class="sxs-lookup"><span data-stu-id="fcff1-286">Field Service</span></span> | <span data-ttu-id="fcff1-287">説明</span><span class="sxs-lookup"><span data-stu-id="fcff1-287">Description</span></span> |
|---|---|---|
| <span data-ttu-id="fcff1-288">発注書ヘッダー V2</span><span class="sxs-lookup"><span data-stu-id="fcff1-288">Purchase order header V2</span></span> | <span data-ttu-id="fcff1-289">msdyn\_Purchaseorders</span><span class="sxs-lookup"><span data-stu-id="fcff1-289">msdyn\_Purchaseorders</span></span> | <span data-ttu-id="fcff1-290">次の表に、発注書ヘッダーを表す列を示します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-290">This table contains the columns that represent the purchase order header.</span></span> |
| <span data-ttu-id="fcff1-291">発注書明細行エンティティ</span><span class="sxs-lookup"><span data-stu-id="fcff1-291">Purchase order line entity</span></span> | <span data-ttu-id="fcff1-292">msdyn\_PurchaseOrderProducts</span><span class="sxs-lookup"><span data-stu-id="fcff1-292">msdyn\_PurchaseOrderProducts</span></span> | <span data-ttu-id="fcff1-293">このテーブルは、発注書で明細行を示す列を示します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-293">This table contains the rows that represent lines on a purchase order.</span></span> <span data-ttu-id="fcff1-294">製品番号が同期に使用されます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-294">The product number is used for synchronization.</span></span> <span data-ttu-id="fcff1-295">これにより、製品の分析コードを含め、製品を在庫管理単位 (SKU) として識別します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-295">This identifies the product as a stock keeping unit (SKU), including product dimensions.</span></span> <span data-ttu-id="fcff1-296">Dataverse を使った製品統合の詳細については、[統一された製品の体験](product-mapping.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fcff1-296">For more information about product integration with Dataverse, see [Unified product experience](product-mapping.md).</span></span> |
| <span data-ttu-id="fcff1-297">製品受領書ヘッダー</span><span class="sxs-lookup"><span data-stu-id="fcff1-297">Product receipt header</span></span> | <span data-ttu-id="fcff1-298">msdyn\_purchaseorderreceipts</span><span class="sxs-lookup"><span data-stu-id="fcff1-298">msdyn\_purchaseorderreceipts</span></span> | <span data-ttu-id="fcff1-299">次のテーブルは、Supply Chain Management で製品受領が転記された場合に作成される製品受領 ヘッダーを示しています。</span><span class="sxs-lookup"><span data-stu-id="fcff1-299">This table contains the product receipt headers that are created when a product receipt is posted in Supply Chain Management.</span></span> |
| <span data-ttu-id="fcff1-300">製品受領書明細行</span><span class="sxs-lookup"><span data-stu-id="fcff1-300">Product receipt line</span></span> | <span data-ttu-id="fcff1-301">msdyn\_purchaseorderreceiptproducts</span><span class="sxs-lookup"><span data-stu-id="fcff1-301">msdyn\_purchaseorderreceiptproducts</span></span> | <span data-ttu-id="fcff1-302">このテーブルは、Supply Chain Management で製品受領が転記された場合に作成される製品受領明細行ヘッダーを示しています。</span><span class="sxs-lookup"><span data-stu-id="fcff1-302">This table contains the product receipt lines that are created when a product receipt is posted in Supply Chain Management.</span></span> |
| <span data-ttu-id="fcff1-303">発注書明細行によって削除されたエンティティ</span><span class="sxs-lookup"><span data-stu-id="fcff1-303">Purchase order line soft deleted entity</span></span> | <span data-ttu-id="fcff1-304">msdyn\_purchaseorderproducts</span><span class="sxs-lookup"><span data-stu-id="fcff1-304">msdyn\_purchaseorderproducts</span></span> | <span data-ttu-id="fcff1-305">次のテーブルは、ソフト削除された発注書明細行に関する情報を示しています。</span><span class="sxs-lookup"><span data-stu-id="fcff1-305">This table contains information about purchase order lines that are soft-deleted.</span></span> <span data-ttu-id="fcff1-306">Supply Chain Management の発注書明細行は、変更管理が有効な場合に発注書が確認または承認された場合にのみソフト削除できます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-306">A purchase order line in Supply Chain Management can be soft-deleted only when the purchase order has been confirmed or approved, if change management is turned on.</span></span> <span data-ttu-id="fcff1-307">この行は Supply Chain Management データベースに存在し、**IsDeleted** としてマークされています。</span><span class="sxs-lookup"><span data-stu-id="fcff1-307">The row exists in the Supply Chain Management database and is marked as **IsDeleted**.</span></span> <span data-ttu-id="fcff1-308">Dataverse にはソフト削除という概念は存在しないので、この情報を Dataverse に同期することが重要です。</span><span class="sxs-lookup"><span data-stu-id="fcff1-308">Because Dataverse doesn't have a concept of soft-deletion, it's important that this information be synced to Dataverse.</span></span> <span data-ttu-id="fcff1-309">これにより、Supply Chain Management でソフト削除された明細行を Dataverse から自動的に削除することができます。</span><span class="sxs-lookup"><span data-stu-id="fcff1-309">In this way, lines that are soft-deleted in Supply Chain Management can automatically be deleted from Dataverse.</span></span> <span data-ttu-id="fcff1-310">この場合、Dataverse で行を削除するロジックは Supply Chain Management Extende に位置します。</span><span class="sxs-lookup"><span data-stu-id="fcff1-310">In this case, the logic for deleting a line in Dataverse is located in Supply Chain Management Extended.</span></span> |

[!include [banner](../../includes/dual-write-symbols.md)]

[!include [Currency](includes/productreceiptheader-msdyn-purchaseorderreceipts.md)]

[!include [Currency](includes/productreceiptline-msdyn-purchaseorderreceiptproducts.md)]

[!include [Currency](includes/purchaseorderheadersv2-msdyn-purchaseorders.md)]

[!include [Currency](includes/purchaseorderlinesoftdeletedtable-msdyn-purchaseorderproducts.md)]

[!include [Currency](includes/purchaseorderlinetable-msdyn-purchaseorderproducts.md)]

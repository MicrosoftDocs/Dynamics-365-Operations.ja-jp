---
title: デュアル書き込みセッション用に 5 分のセッション タイムアウト ウィンドウを有効にする
description: この記事は、デュアル書き込みセッション用に 5 分のセッション タイムアウト ウィンドウを有効にする方法について説明します。
author: RamaKrishnamoorthy
ms.date: 08/02/2022
ms.topic: article
audience: Developer
ms.reviewer: sericks
ms.search.region: Global
ms.author: ramasri
ms.search.validFrom: 2022-07-31
ms.openlocfilehash: 1208d0a3a7097948e788b7aff4507e22626932d0
ms.sourcegitcommit: e0905a3af85d8cdc24a22e0c041cb3a391c036cb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/06/2022
ms.locfileid: "9230001"
---
# <a name="enable-a-five-minute-session-time-out-window-for-dual-write-sessions"></a>デュアル書き込みセッション用に 5 分のセッション タイムアウト ウィンドウを有効にする

[!include [banner](../../includes/banner.md)]

デュアル書き込みを設定すると、デュアル書き込みセッション用のセッション タイムアウト ウィンドウが 2 分に設定されます。 この記事は、5 分のセッション タイムアウト ウィンドウを得る方法について説明します。 この情報は、デュアル書き込みコア ソリューション バージョン 10.0.36.0 以降に適用できます。

実行する必要がある手順は、環境の種類によって異なります。

## <a name="sandbox-and-production-environments"></a>サンドボックスと運用環境

Microsoft サポート チームとサポート チケットを開きます。 タイトルとして **デュアル書き込み DV から FinOps トランザクションに対して 5 分のトランザクション タイムアウトを有効にする** を入力し、組織 ID またはテナント ID を提供します。 5 分のセッション タイムアウト ウィンドウが有効になります。

## <a name="developer-and-customer-hosted-environments"></a>開発者および顧客がホストする環境

このセクションの手順を実行します。 終了したら、Microsoft サポート チームとのサポート チケットを開きます。 タイトルとして **デュアル書き込み DV から FinOps トランザクションに対して 5 分のトランザクション タイムアウトを有効にする** を入力し、組織 ID またはテナント ID を提供します。 5 分のセッション タイムアウト ウィンドウが有効になります。

### <a name="register-the-app-in-the-azure-portal"></a>Azure ポータルでアプリを登録する

Microsoft Azure Active Directory (Azure AD) アプリケーションを作成するには、この手順を実行します。

> [!IMPORTANT]
> Azure AD アプリケーションは、財務と運用アプリと同じテナントに作成する必要があります。

1. [Azure ポータル](https://portal.azure.com/) で、**Azure Active Directory \> アプリの登録** を選択します。
2. **新規登録** を選択し、以下の情報を入力します。

    - **名前** – 一意の名前を入力します。
    - **アカウント タイプ** - **任意の Azure AD ディレクトリ** (単一またはマルチテナント) を入力します。
    - **リダイレクト URI** – このフィールドは空白のままにします。

3. **登録** を選択します。
4. 後の手順で必要となるため、**アプリケーション (クライアント) ID** の値をメモしておきます。
5. アプリケーションの対称キーを作成します。

    1. 新しく作成されたアプリケーションで、**証明書とシークレット** を選択します。
    2. **新しいクライアント シークレット** を選択します。
    3. 説明を入力して、有効期限を指定します。
    4. **保存** を選択します。 キーが作成され、表示されます。 その値を後で使用するためにコピーします。

### <a name="grant-app-permissions-in-finance-and-operations-apps"></a>財務と運用アプリでアプリのアクセス許可を付与する

Dataverse は、財務と運用アプリを呼び出すために作成した Azure AD アプリケーションを使用します。 したがって、アプリケーションは財務と運用アプリによって信頼され、適切な権限を持つユーザー アカウントに関連付けられている必要があります。 この手順を完了した後、作成した Azure AD アプリケーションのシークレットを持つアプリケーションによって、この財務と運用アプリ環境を呼び出してデュアル書き込み機能にアクセスできるようになります。

1. 財務と運用アプリで、**システム管理 \> ユーザー \> ユーザー** に移動します。
2. **新規** を選択して新しいユーザーを追加し、次のフィールド情報を入力します。

    - **ユーザー ID** - **dataverseintegration** または別の値を入力します。
    - **ユーザー名** - **dataverse 統合** または別の値を入力します。
    - **プロバイダー** - このフィールドを **NonAAD** に設定します。
    - **メール** - **dataverseintegration** または別の値を入力します。 (この値は、有効なメール アカウントである必要は **ありません**。)

3. **システム管理 \> 設定 \> Azure Active Directory アプリケーション** の順に移動して Dataverse を登録します。
4. 新規行を追加し、次の情報を入力します。

    - **クライアント ID** – 前にメモを作成した **アプリケーション (クライアント) ID** の値を入力します。
    - **名前** - **Dataverse 統合** または別の値を入力します。
    - **ユーザー ID** - 以前に作成したユーザー ID を入力します。

5. 財務と運用アプリにログインして、**システム管理者** のセキュリティ ロールを割り当てます。

### <a name="configure-the-virtual-entity-data-source"></a>仮想エンティティ データ ソースの構成

プロセスの次のステップでは、接続先の財務と運用インスタンスで Dataverse を提供します。 この手順を完了するには、仮想エンティティ データ ソースが必要です。 次の手順は、プロセスのこのステップを通じて説明しています。

1. Dataverse では、**詳細設定 \> 管理 \> 仮想エンティティ データ ソース** に移動します。
2. **財務と運用** という名前のデータ ソースを選択します。
3. 前の手順の情報を入力します。

    - **ターゲット URL** - 財務と運用アプリにアクセスできる URL を入力します。
    - **OAuth URL** - `https://login.windows.net/` を入力します。
    - **テナント ID** - **contoso.com** などのテナントを入力します。
    - **AAD アプリケーション ID** - 以前メモを作成した **アプリケーション (クライアント) ID** の値を入力します。
    - **AAD アプリケーション シークレット** - 以前に生成されたシークレットを入力します。
    - **AAD リソース** - **00000015-0000-0000-c000-000000000000** を入力します。 (この値は、財務と運用アプリを表す Azure AD アプリケーションの値です。 常に同じ値にする必要があります。)

4. 変更を保存します。

### <a name="stop-and-rerun-dual-write-maps"></a>デュアル 書き込みマップの停止および再実行

1. 財務と運用アプリにサインインします。
2. 二重書き込み管理ページが開きます。
3. マップを停止し、初期同期を行わずにマップを再実行します。

---
title: Power Portal を当事者のデータ モデルで使用する
description: このトピックでは、二重書き込みの当事者データ モデルに対する Power Portal Web ロールの変更について説明します。
author: RamaKrishnamoorthy
ms.date: 03/22/2021
ms.topic: article
audience: Application User, IT Pro
ms.reviewer: rhaertle
ms.search.region: global
ms.author: ramasri
ms.search.validFrom: 2021-03-22
ms.openlocfilehash: a2ea914344341ee26138e853727c551bdd5d733e
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/01/2021
ms.locfileid: "5833093"
---
# <a name="using-power-portal-with-the-party-data-model"></a>Power Portal を当事者のデータ モデルで使用する

[!INCLUDE[banner](../../includes/banner.md)]

[!INCLUDE[rename-banner](~/includes/cc-data-platform-banner.md)]

二重書き込みアプリケーション オーケストレーション ソリューションのバージョン 2.0.999.0 以降には、アカウントと連絡先のテーブルの当事者およびグローバル アドレス帳に対するデータ モデルの変更が含まれています。 この変更により、高度な業務シナリオをサポートする多対多のリレーションが可能になります。 これらの変更は、顧客ポータルを含め、実際には使用していたか、二重書き込みをインストールする前に環境に存在していた顧客ポータルを含め、ポータル Web ロールではサポートされません。 Web ロールを予定通り動作させるには、新しいデータ モデルを使用して新しい Web ロールを作成する必要があります。 

簡単に言うと、テーブルの対話の方法は変更されましたが、顧客ポータルのテーブルのアクセス許可は変更されないということです。 このトピックでは、新しい高度なデータ モデルと機能する新しい Web ロールを作成する方法について説明します。

次の図は、当事者とグローバル アドレス帳データ モデルを **持たない** テーブル リレーションシップを示しています。

   ![当事者モデルを使用しない](media/without-party-model.PNG)

次の図は、当事者とグローバル アドレス帳データ モデルを **持つ** テーブル リレーションシップを示しています。

   ![当事者モデルを使用する](media/with-party-model.png)

## <a name="create-a-new-table-permission"></a>テーブルの新しいアクセス許可を作成する

これらの新しいテーブルのアクセス許可を作成するには、次の手順に従います。

1. [Power Apps](https://make.powerapps.com) にサインインし、アプリに移動します。
2. ポータル管理アプリを選択します。
3. サイド バーで、**セキュリティ > テーブルのアクセス許可** を選択します。

    新しいアクセス許可を 3 つ作成する必要があります。

    + 連絡先から当事者への接続
    + 当事者からアカウントへの接続
    + アカウントから注文への接続

4. 次のパラメーターを設定して、連絡先から当事者との接続に対する新しいアクセス許可を作成して保存します。

    + **名前**: 当事者からアカウントへの接続 (または選択した項目)
    + **テーブル名**: msdyn_contactforparty
    + **Web サイト**: 顧客ポータル
    + **範囲**: 連絡先
    + **特権**: すべて選択
    + **Web ロール**: 認証されたユーザー、顧客担当者 (または選択された項目)

5. 次のパラメーターを設定して、当事者からアカウントへの接続に対する新しいアクセス許可を作成して保存します。

    + **名前**: 当事者からアカウントへの接続 (または選択した項目)
    + **テーブル名**: account
    + **Web サイト**: 顧客ポータル
    + **範囲**: 親
    + **特権**: すべて選択
    + **親テーブルのアクセス許可**: 連絡先から当事者への接続

6. 次のパラメーターを設定して、アカウントから注文への接続に対する新しいアクセス許可を作成して保存します。

    + **名前**: アカウントから注文への接続 (または選択した項目)
    + **テーブル名**: salesorder
    + **Web サイト**: 顧客ポータル
    + **範囲**: 親
    + **特権**: すべて選択
    + **親テーブルのアクセス許可**: 当事者からアカウントへの接続

[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]

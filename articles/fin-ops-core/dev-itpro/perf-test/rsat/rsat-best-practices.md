---
title: Regression Suite Automation Tool ベスト プラクティス
description: このトピックでは、Regression Suite Automation Tool (RSAT)/タスクレコーダーを使用して、クライアントの機能を記録する方法について説明します。
author: robadawy
manager: AnnBe
ms.date: 08/01/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Developer
ms.reviewer: rhaertle
ms.search.scope: Operations
ms.custom: 21631
ms.search.region: Global
ms.author: robadawy
ms.search.validFrom: 2019-08-01
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 0a279cb2a8d8efd2ce56de243eec6fb01183e5ff
ms.sourcegitcommit: 5d31d3e5f8549b761360c338bc2a1d9506c15999
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/07/2020
ms.locfileid: "3030036"
---
# <a name="regression-suite-automation-tool-best-practices"></a>Regression Suite Automation Tool ベスト プラクティス

[!include [banner](../../includes/banner.md)]

このトピックでは、Regression Suite Automation Tool (RSAT)/タスクレコーダーを使用して、クライアントの機能を記録する方法について説明します。

## <a name="authoring-test-cases-using-the-task-recorder"></a>タスクレコーダーを使用したテストケースの作成

RSAT のタスク記録を作成する場合は、次の方法を使用します。

1. すべての記録が、メイン ダッシュボードから開始していることを確認してください。
2. 個々の記録を短くし、販売注文の作成など、１人のユーザーが実行するビジネス タスクに集中します。 これにより、テストケースの保守性と再利用性が簡略化されます。
3. Chart コントロール はサポートされていません。 チャートに関連するタスク記録アクションは、テストケースの再生中にRSATによって無視されます。
4. 記録を作成する場合は、タブが既に開かれている場合でも、必ずタブヘッダーを選択してください。 たとえば、別のタブに切り替えてから、必要なタブを再度選択して、そのタブのコントロールを使用する前にアクティブにすることができます。 これにより、テストケースの再生中に記録の信頼性を高めることができます。
5. RSATでは、タスク レコーダーで認識されないテスト ステップを再生することはできません。 たとえば、テストケースの再生中にローカル ディスクからファイルをアップロードすることはできません。
6. RSATでは、 **ページ更新** ステップを再生できません。 テストの記録中にページを更新しないでください。

## <a name="using-the-regression-suite-automation-tool"></a>Regression Suite Automation Tool を使用する 

1. ツールを初めて開いたときに、 **設定** を選択し、必要なすべての設定が揃っていることを確認します。 
2. ツールの新しいバージョンをインストールする前に、旧バージョンを終了して、アンインストールすることをお勧めします。 
3. ツールの新しいバージョンをインストールするときに、 **すべて** のテストの実行ファイルを再生成します。
 
    ![実行ファイル メニュー項目を生成する](media/generate-execution-files.png)

    パラメータ ファイルの新しい形式で使用できる新しい機能を利用する場合を除いて、 Microsoft Excel パラメータ ファイルを再生成する必要はありません。

4. 固有値を必要とするテスト パラメーター、たとえば、 **製品受領書** フォームの製品受領書番号や **仕入先請求書** フォームの請求書番号などの場合は、 **RandBetween (a, b)** Excel 関数を使用して、テスト ケースが実行されるたびに一意の番号を生成します。
5. Excel の既定値は、タスクの記録から取得されます。 保管分析コードや追跡用分析コードなどの **参照グループ** コントロールでは、たとえば、 **SiteWH** の代わりに **2** のように、値の代わりにルックアップのキーを格納します。 Excelでこれらのフィールドを実際の値で更新して、テストの堅牢性と変更に対する耐性を高めることをお勧めします。
6. RSAT を実行する前に、環境の**言語**および**日付、時刻、数字の形式**の設定に対して同じロケールを設定することをお勧めします。 これらの値に不整合があると、検証エラーが発生する可能性があります。

    ![ロケール、日付、時刻、数字の形式を設定する](media/locale.png)

## <a name="management-of-local-recording-files"></a>ローカル記録ファイルの管理

RSATは、Azure DevOpsを使用して、テスト記録ファイル (タスク記録とも呼ばれます) を保存および管理します。 RSAT が Azure DevOps からテスト計画を読み込むと、関連付けられたファイルがローカル コンピューターの現在の**作業ディレクトリ**にダウンロードされます。 (この作業ディレクトリは、RSAT の設定で定義されています。)

バージョン 1.200.42264.6 以降では、ローカルの記録ファイルの管理が容易になります。 ビジネス プロセス モデラー (BPM) または Azure DevOps を介さずに、タスク レコーダーで変更を行ってから RSAT を使用して変更をテストできます。 タスク レコーダーを使用する場合は、記録の作成または変更を終えた後で、開発者の記録として直接ローカル ディスクに保存することができます。

![開発者の記録としてタスク記録を保存する](media/rsat-save-as-developer-recording.png)

テスト ケースに関連付けられている作業ディレクトリの下に記録ファイルを配置します。 たとえば、構成された作業ディレクトリが C:\\Users\\\<username\>\\Documents\\RSAT である場合、テスト ケース 1234 の記録ファイルを C:\\Users\\\<username\>\\Documents\\RSAT\\1234\\attachments の下に配置します。 開発者の記録ファイルには、**Recording.xml** という名前を付ける必要があります。 または、記録ファイル **-テスト ケース タイトル-.xml** という名前を付けることもできます。**-テスト ケース タイトル-** は Azure DevOps のテスト ケースのタイトルです。

次の図は、作業ディレクトリのフォルダー構造の例を示しています。 フォルダー記号をクリックして、RSAT から直接ディレクトリを開くことができます。

![作業ディレクトリの例](media/rsat-working-directory-example.png)

各テスト ケースには独自のフォルダーがあり、テスト ケースの ID に基づいた名前が付けられています。 テスト ケースの添付ファイル (記録ファイル、自動化ファイル、および Excel パラメーター ファイル) は、添付ファイル フォルダーにダウンロードされます。 次に例を示します。

![テスト ケースの添付ファイル](media/rsat-test-case-attachments.png)

GeneratorLogs ディレクトリには、ログ ファイルが含まれています。 ユーザーが変更できるファイルは含まれていません。 RSAT サポートからログ ファイルの提供を明示的に求められない限り、このディレクトリは無視できます。

### <a name="commit-a-recording-file-to-azure-devops"></a>記録ファイルを Azure DevOps にコミットする

記録がテストされ確定されたら、RSAT を使用してアップロードし、Azure DevOps にコミットします。 アップロード ボタンには 2 つのオプションがあります。 **自動化ファイルのアップロード** および **記録ファイルのアップロード**です。 2 番目のオプションでは、記録ファイルのみが Azure DevOps にアップロードされます。

> [!NOTE]
> - 1.200.37255.0 よりも前のバージョンの RSAT を使用していて、最新バージョンにアップグレードする場合は、Azure DevOps からテスト ケースを再読み込みして、適切なディレクトリにダウンロードする必要があります。 それ以外の場合は、RSAT が失敗し、「ファイルが見つかりません」というエラーが表示されます。
> - 複数の DevOps プロジェクトで作業している場合は、プロジェクトごとに別の作業ディレクトリを使用することをお勧めします。 そうしないと、複数のプロジェクトの添付ファイルが同じディレクトリ構造に混在してしまう可能性があります。

## <a name="how-to-modify-a-task-recording"></a>タスクの記録を変更する方法

既存のタスク記録を変更する場合は、これらのベストプラクティスに注意してください。 

Web クライアントで、タスク レコーダー ウィンドウを開き、**記録の編集**オプションを使用して記録の編集を開始します。

![記録の編集オプション](media/edit-recording.png)

編集が終了したら、クライアントで再生し、すべての手順が正常に動作することを確認します。 再生が必要です。

![記録の再生オプション](media/playback-recording.png)
 
編集した記録を再生し終わったら、保存します。 これで、RSAT で使用できるようになります。


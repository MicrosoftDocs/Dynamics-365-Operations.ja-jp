---
title: タスクレコーダーおよびパフォーマンスSDKを使用したシングルユーザーテスト
description: このトピックでは、タスク レコーダーにて生成されたパフォーマンス テスト スクリプトと共に Microsoft Visual Studio とパフォーマンス SDK を使用してシングルユーザー テストを行う方法を説明します。
author: hasaid
manager: AnnBe
ms.date: 06/10/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Developer
ms.reviewer: rhaertle
ms.search.scope: Operations
ms.custom: 9954
ms.assetid: 7b605810-e4da-4eb8-9a26-5389f99befcf
ms.search.region: Global
ms.author: jujoh
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 0118bd43b0aee14d8e2a635a4250d7450f068761
ms.sourcegitcommit: 57bc7e17682e2edb5e1766496b7a22f4621819dd
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/18/2019
ms.locfileid: "2811949"
---
# <a name="single-user-testing-with-task-recorder-and-the-performance-sdk"></a><span data-ttu-id="96f5a-103">タスクレコーダーおよびパフォーマンスSDKを使用したシングルユーザーテスト</span><span class="sxs-lookup"><span data-stu-id="96f5a-103">Single-user testing with Task recorder and the Performance SDK</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="96f5a-104">Visual Studio および パフォーマンス ソフトウェア デベロップメント キット (SDK) を使用し、タスク レコーダーにて生成されたパフォーマンス テスト スクリプトとともシングルユーザーテストを行うには、このトピックに記載の内容を参考にしてください。</span><span class="sxs-lookup"><span data-stu-id="96f5a-104">Use the information in this topic to do single-user testing by using Visual Studio and the Performance software development kit (SDK) together with a performance test script that is generated by using Task recorder.</span></span>

 > [!IMPORTANT]
  > <span data-ttu-id="96f5a-105">Visual Studio 2019は Visual Studio の最新バージョンです。webパフォーマンスと負荷機能テストを実装しています。</span><span class="sxs-lookup"><span data-stu-id="96f5a-105">Visual Studio 2019 will be the last version of Visual Studio with web performance and load test features.</span></span> <span data-ttu-id="96f5a-106">将来的に、代替ソリューションの推奨を公開します。</span><span class="sxs-lookup"><span data-stu-id="96f5a-106">In the future, we will publish some recommendations for alternative solutions.</span></span>  
  > - <span data-ttu-id="96f5a-107">Visual Studio および、オンプレミスでの負荷テストに向けたテストコント ローラー/テストエージェントをご利用の場合、 Visual Studio 2019が最新のバージョンになります。</span><span class="sxs-lookup"><span data-stu-id="96f5a-107">If you are using the Visual Studio and Test Controller/Test Agent for on-premises load testing, Visual Studio 2019 will be the last version.</span></span> <span data-ttu-id="96f5a-108">そのサポート サイクルが終了するまで継続して使用することができます。</span><span class="sxs-lookup"><span data-stu-id="96f5a-108">You can continue using it until the end of the support cycle.</span></span> 
  > - <span data-ttu-id="96f5a-109">クラウド ベースの負荷テストサービスをご利用の場合、同サービスは 2020 年 3 月 31 日まで継続してご利用いただけます。</span><span class="sxs-lookup"><span data-stu-id="96f5a-109">If you are using the cloud-based load testing service, it will continue to run through March 31, 2020.</span></span> <span data-ttu-id="96f5a-110">それまでの間は、同サービスの全機能を継続してご利用いただけます。</span><span class="sxs-lookup"><span data-stu-id="96f5a-110">Until then, you can continue to use all of the experiences powered by this service without interruption.</span></span> <span data-ttu-id="96f5a-111">また、オンプレミス負荷テストに切り替えることがも可能です。</span><span class="sxs-lookup"><span data-stu-id="96f5a-111">Alternatively, you can switch to on-premises load testing.</span></span> <span data-ttu-id="96f5a-112">詳細については、 [クラウド ベース 負荷テストサービスの終了について](https://devblogs.microsoft.com/devops/cloud-based-load-testing-service-eol/) をご参照ください。</span><span class="sxs-lookup"><span data-stu-id="96f5a-112">For more information, see [Cloud-based load testing service end of life](https://devblogs.microsoft.com/devops/cloud-based-load-testing-service-eol/).</span></span>
## <a name="prerequisites"></a><span data-ttu-id="96f5a-113">必要条件</span><span class="sxs-lookup"><span data-stu-id="96f5a-113">Prerequisites</span></span>

<span data-ttu-id="96f5a-114">このトピックで扱う手順を完了するには、プラットフォーム更新プログラム 21、またはそれ以降が設定された開発環境を用意する必要があります。</span><span class="sxs-lookup"><span data-stu-id="96f5a-114">To complete the steps in this topic, you must have a development environment that has Platform update 21 or later.</span></span>

## <a name="use-task-recorder-to-define-and-record-an-end-to-end-business-scenario"></a><span data-ttu-id="96f5a-115">タスクレコーダーを使用してエンドツーエンドの業務シナリオを定義し、記録します。</span><span class="sxs-lookup"><span data-stu-id="96f5a-115">Use Task recorder to define and record an end-to-end business scenario</span></span>

<span data-ttu-id="96f5a-116">シングルユーザーテストを実行する前に、業務チームと協力してエンドツーエンドのシナリオを定義した上で、タスクレコーダーを使用して各シナリオのステップを記録することを強く推奨します。</span><span class="sxs-lookup"><span data-stu-id="96f5a-116">Before you run a single-user test, you must work with your business team to define your end-to-end scenarios and then use Task recorder to create a recording of the steps in each scenario.</span></span> <span data-ttu-id="96f5a-117">タスク記録の作成方法についての詳細は、[タスク レコーダー リソース](../user-interface/task-recorder.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="96f5a-117">For more information about how to create a task recording, see [Task recorder resources](../user-interface/task-recorder.md).</span></span> <span data-ttu-id="96f5a-118">テストを行うべきシナリオは、顧客の業務要件によって異なります。</span><span class="sxs-lookup"><span data-stu-id="96f5a-118">The scenarios that you should test depend on your customer's business requirements.</span></span> <span data-ttu-id="96f5a-119">このトピックでは、「販売注文の作成および確認」を行うサンプルシナリオを使用します。</span><span class="sxs-lookup"><span data-stu-id="96f5a-119">In this topic, you will use the "Create and confirm a sales order" sample scenario.</span></span>

1. <span data-ttu-id="96f5a-120">財務担当者ペルソナとしてサインインします。</span><span class="sxs-lookup"><span data-stu-id="96f5a-120">Sign in as a Sales persona.</span></span>
2. <span data-ttu-id="96f5a-121">タスクレコーダー を有効にして、次の情報を含む販売注文の作成と確認を行います。</span><span class="sxs-lookup"><span data-stu-id="96f5a-121">Turn on Task recorder, and create and confirm a sales order that includes the following information:</span></span>

    - <span data-ttu-id="96f5a-122">顧客口座</span><span class="sxs-lookup"><span data-stu-id="96f5a-122">Customer account</span></span>
    - <span data-ttu-id="96f5a-123">品目番号</span><span class="sxs-lookup"><span data-stu-id="96f5a-123">Item number</span></span>
    - <span data-ttu-id="96f5a-124">販売数量</span><span class="sxs-lookup"><span data-stu-id="96f5a-124">Sales quantity</span></span>
    - <span data-ttu-id="96f5a-125">サイト</span><span class="sxs-lookup"><span data-stu-id="96f5a-125">Site</span></span>
    - <span data-ttu-id="96f5a-126">倉庫</span><span class="sxs-lookup"><span data-stu-id="96f5a-126">Warehouse</span></span>
    - <span data-ttu-id="96f5a-127">販売価格</span><span class="sxs-lookup"><span data-stu-id="96f5a-127">Sales price</span></span>

3. <span data-ttu-id="96f5a-128">完了後、 **開発者記録として保存** を選択してXMLファイルをダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="96f5a-128">When you've finished, select **Save as developer recording** to download the XML file.</span></span>

## <a name="configure-a-development-environment"></a><span data-ttu-id="96f5a-129">開発環境のコンフィギュレーション</span><span class="sxs-lookup"><span data-stu-id="96f5a-129">Configure a development environment</span></span>

1. <span data-ttu-id="96f5a-130">[selenium-dotnet-strongnamed-3.13.1.zip](https://selenium-release.storage.googleapis.com/index.html?path=3.13/) と [IEDriverServer\_Win32\_3.13.0.zip](https://selenium-release.storage.googleapis.com/index.html?path=3.13/) をダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="96f5a-130">Download the [selenium-dotnet-strongnamed-3.13.1.zip](https://selenium-release.storage.googleapis.com/index.html?path=3.13/) and [IEDriverServer\_Win32\_3.13.0.zip](https://selenium-release.storage.googleapis.com/index.html?path=3.13/) files.</span></span>
2. <span data-ttu-id="96f5a-131">ファイルのブロックを解除し、解凍します。</span><span class="sxs-lookup"><span data-stu-id="96f5a-131">Unblock and unzip the files.</span></span>
3. <span data-ttu-id="96f5a-132">**解凍先** のフォルダーで、. nupkgファイルを .zipファイルとして名前を変更し、解凍します。</span><span class="sxs-lookup"><span data-stu-id="96f5a-132">In the **dist** folder, rename the .nupkg files as .zip files, and then unzip them.</span></span>

    | <span data-ttu-id="96f5a-133">元のファイル名</span><span class="sxs-lookup"><span data-stu-id="96f5a-133">Original file name</span></span>                          | <span data-ttu-id="96f5a-134">新しいファイル名</span><span class="sxs-lookup"><span data-stu-id="96f5a-134">New file name</span></span>                             |
    |---------------------------------------------|-------------------------------------------|
    | <span data-ttu-id="96f5a-135">Selenium.Support.StrongNamed.3.13.1.nupkg</span><span class="sxs-lookup"><span data-stu-id="96f5a-135">Selenium.Support.StrongNamed.3.13.1.nupkg</span></span>   | <span data-ttu-id="96f5a-136">Selenium.Support.StrongNamed.3.13.1.zip</span><span class="sxs-lookup"><span data-stu-id="96f5a-136">Selenium.Support.StrongNamed.3.13.1.zip</span></span>   |
    | <span data-ttu-id="96f5a-137">Selenium.WebDriver.StrongNamed.3.13.1.nupkg</span><span class="sxs-lookup"><span data-stu-id="96f5a-137">Selenium.WebDriver.StrongNamed.3.13.1.nupkg</span></span> | <span data-ttu-id="96f5a-138">Selenium.WebDriver.StrongNamed.3.13.1.zip</span><span class="sxs-lookup"><span data-stu-id="96f5a-138">Selenium.WebDriver.StrongNamed.3.13.1.zip</span></span> |

4. <span data-ttu-id="96f5a-139">**PerfSDK** フォルダ配下に、 **Common\\External\\Selenium**というフォルダを作成します。</span><span class="sxs-lookup"><span data-stu-id="96f5a-139">Under your **PerfSDK** folder, create a folder that is named **Common\\External\\Selenium**.</span></span>

    <span data-ttu-id="96f5a-140">[![新規PerfSDKフォルダ](./media/single-user-test-03.png)](./media/single-user-test-03.png)</span><span class="sxs-lookup"><span data-stu-id="96f5a-140">[![New PerfSDK folder](./media/single-user-test-03.png)](./media/single-user-test-03.png)</span></span>

5. <span data-ttu-id="96f5a-141">次のファイルをコピーして、上記の手順で作成したフォルダに保存します。</span><span class="sxs-lookup"><span data-stu-id="96f5a-141">Copy the following files, and save them to the folder that you created in the previous step:</span></span>

    - <span data-ttu-id="96f5a-142">IEDriverServer\_Win32\_3.13.0.zip ファイルを解凍後に取得できる、IEDriverServer.exe</span><span class="sxs-lookup"><span data-stu-id="96f5a-142">IEDriverServer.exe from the unzipped IEDriverServer\_Win32\_3.13.0.zip file</span></span>
    - <span data-ttu-id="96f5a-143">Selenium.WebDriver.StrongNamed.3.13.1.zip ファイルを解凍後に生成される、lib\\net45 フォルダ内の、WebDriver.dll と WebDriver.xml</span><span class="sxs-lookup"><span data-stu-id="96f5a-143">WebDriver.dll and WebDriver.xml from the lib\\net45 folder in the unzipped Selenium.WebDriver.StrongNamed.3.13.1.zip file</span></span>
    - <span data-ttu-id="96f5a-144">Selenium.Support.StrongNamed.3.13.1.zip ファイルを解凍後に生成される、lib\\net45 フォルダ内の WebDriver.Support.dll と WebDriver.Support.xml</span><span class="sxs-lookup"><span data-stu-id="96f5a-144">WebDriver.Support.dll and WebDriver.Support.xml from the lib\\net45 folder in the unzipped Selenium.Support.StrongNamed.3.13.1.zip file</span></span>

## <a name="generate-a-c-performance-test-from-task-recorder"></a><span data-ttu-id="96f5a-145">タスクレコーダーから C\# パフォーマンステストを生成する</span><span class="sxs-lookup"><span data-stu-id="96f5a-145">Generate a C\# performance test from Task recorder</span></span>

<span data-ttu-id="96f5a-146">エンドツーエンドのシナリオの記録が完了後、タスクレコーディングをもとに C\# パフォーマンス テスト スクリプトを生成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="96f5a-146">When you've finished recording the end-to-end scenario, you must generate a C\# performance test script that is based the task recording.</span></span> 

1. <span data-ttu-id="96f5a-147">開発環境では、Microsoft Visual Studio を管理者権限で開きます。</span><span class="sxs-lookup"><span data-stu-id="96f5a-147">In a development environment, open Microsoft Visual Studio as an admin.</span></span>
2. <span data-ttu-id="96f5a-148">**PerfSDK** フォルダから、 **PerfSDKSample** ソリューションを開きます。</span><span class="sxs-lookup"><span data-stu-id="96f5a-148">From your **PerfSDK** folder, open the **PerfSDKSample** solution.</span></span> <span data-ttu-id="96f5a-149">Tier1サンドボックス、またはクラウドホスト環境では、PerfSDKフォルダは一般的に K:\\PerfSDK\\PerfSDKLocalDirectory にあります。</span><span class="sxs-lookup"><span data-stu-id="96f5a-149">In a tier-1 sandbox or a cloud-hosted-environment, the PerfSDK folder is typically in K:\\PerfSDK\\PerfSDKLocalDirectory.</span></span>

    <span data-ttu-id="96f5a-150">[![PerfSDKディレクトリ](./media/single-user-test-05.png)](./media/single-user-test-05.png)</span><span class="sxs-lookup"><span data-stu-id="96f5a-150">[![PerfSDK directory](./media/single-user-test-05.png)](./media/single-user-test-05.png)</span></span>

3. <span data-ttu-id="96f5a-151">Common\\External\\Selenium フォルダー内の WebDriver.dll への参照を追加します。</span><span class="sxs-lookup"><span data-stu-id="96f5a-151">Add a reference to the WebDriver.dll file in the Common\\External\\Selenium folder.</span></span>

    <span data-ttu-id="96f5a-152">[![PerfSDKSample 参照](./media/single-user-test-06.png)](./media/single-user-test-06.png)</span><span class="sxs-lookup"><span data-stu-id="96f5a-152">[![PerfSDKSample references](./media/single-user-test-06.png)](./media/single-user-test-06.png)</span></span>

4. <span data-ttu-id="96f5a-153">**Dynamics 365** メニューにて **アドイン** を指定し、 **記録から C\# パフォーマンステストを作成** を選択します。</span><span class="sxs-lookup"><span data-stu-id="96f5a-153">On the **Dynamics 365** menu, point to **Addins**, and then select **Create C\# perf test from recording**.</span></span>
5. <span data-ttu-id="96f5a-154">**タスクの記録をインポートする** ダイアログ ボックスで、以下の必要な詳細を入力します:</span><span class="sxs-lookup"><span data-stu-id="96f5a-154">In the **Import Task Recording** dialog box, enter the following required details:</span></span>

    - <span data-ttu-id="96f5a-155">**レコーディングパス** エンドツーエンドシナリオにおける開発者記録ファイルの場所。</span><span class="sxs-lookup"><span data-stu-id="96f5a-155">**Recording path** – The file location of the developer recording of your end-to-end scenario.</span></span>
    - <span data-ttu-id="96f5a-156">**プロジェクト** のパス: PerfSDKSampleプロジェクトの場所。</span><span class="sxs-lookup"><span data-stu-id="96f5a-156">**Project path** – The location of the PerfSDKSample project.</span></span> <span data-ttu-id="96f5a-157">通常は次のパスに指定されています \<ご利用の\_PerfSDK\_フォルダ\>\\SampleProject\\PerfSDKSample\\PerfSDKSample.csproj.</span><span class="sxs-lookup"><span data-stu-id="96f5a-157">Typically, the path is \<Your\_PerfSDK\_Folder\>\\SampleProject\\PerfSDKSample\\PerfSDKSample.csproj.</span></span>
    - <span data-ttu-id="96f5a-158">**PerfSDKのパス** – PerfSDK の場所。</span><span class="sxs-lookup"><span data-stu-id="96f5a-158">**PerfSDK path** – The location of PerfSDK.</span></span> <span data-ttu-id="96f5a-159">通常は次のパスに指定されています \<ServiceVolumeDrive\>\\perfsdk\\PerfSDKLocalDirectory</span><span class="sxs-lookup"><span data-stu-id="96f5a-159">Typically, the path is \<ServiceVolumeDrive\>\\PerfSDK\\PerfSDKLocalDirectory.</span></span>
    
6. <span data-ttu-id="96f5a-160">完了後、 **インポート**を選択します。</span><span class="sxs-lookup"><span data-stu-id="96f5a-160">When you've finished, select **Import**.</span></span> <span data-ttu-id="96f5a-161">PerfSDKSample プロジェクトの **生成された** フォルダ配下に新しいC\# クラスが作成されます。</span><span class="sxs-lookup"><span data-stu-id="96f5a-161">A new C\# class is created under the **Generated** folder of your PerfSDKSample project.</span></span>

    <span data-ttu-id="96f5a-162">[![生成されたフォルダ内の新しいC#クラス](./media/single-user-test-09.png)](./media/single-user-test-09.png)</span><span class="sxs-lookup"><span data-stu-id="96f5a-162">[![New C# class in the Generated folder](./media/single-user-test-09.png)](./media/single-user-test-09.png)</span></span>

7. <span data-ttu-id="96f5a-163">ソリューションをビルドします。</span><span class="sxs-lookup"><span data-stu-id="96f5a-163">Build the solution.</span></span>

## <a name="run-single-user-testing-by-using-test-explorer-in-visual-studio"></a><span data-ttu-id="96f5a-164">Visual Studioの テストエクスプローラー を使用したシングル ユーザー テストの実行</span><span class="sxs-lookup"><span data-stu-id="96f5a-164">Run single-user testing by using Test Explorer in Visual Studio</span></span>

1. <span data-ttu-id="96f5a-165">以下に示す方法で PerfSDKSample プロジェクトの **CloudEnvironment.config** ファイルを更新します。これにより、ご利用の環境の設定が反映されます。</span><span class="sxs-lookup"><span data-stu-id="96f5a-165">Update the **CloudEnvironment.config** file of the PerfSDKSample project in the following ways, so that it reflects the configuration of your environment:</span></span>

    - <span data-ttu-id="96f5a-166">**AuthenticatorConfigurationCollection** 要素の配下にある **AuthenticatorConfiguration** の各要素を **AadAuthenticator** を **selfmintedtokenauthenticator** に置き換えます。</span><span class="sxs-lookup"><span data-stu-id="96f5a-166">In each **AuthenticatorConfiguration** element under the **AuthenticatorConfigurationCollection** element, replace **AadAuthenticator** with **SelfMintedTokenAuthenticator**.</span></span>
    - <span data-ttu-id="96f5a-167">**AzureActiveDirectoryConfiguration** 要素と **KeyVaultConfigurations** 要素をコメント行にします。</span><span class="sxs-lookup"><span data-stu-id="96f5a-167">Comment out the **AzureActiveDirectoryConfiguration** and **KeyVaultConfigurations** elements.</span></span>

    <span data-ttu-id="96f5a-168">[![更新およびコメント化されたコードのサンプル](./media/single-user-test-10.png)](./media/single-user-test-10.png)</span><span class="sxs-lookup"><span data-stu-id="96f5a-168">[![Updated and commented code sample](./media/single-user-test-10.png)](./media/single-user-test-10.png)</span></span>

2. <span data-ttu-id="96f5a-169">Visual Studioの **テスト** メニューにて、 **Windows** を指定し、 **テストエクスプローラー**を選択します。</span><span class="sxs-lookup"><span data-stu-id="96f5a-169">In Visual Studio, on the **Test** menu, point to **Windows**, and then select **Test Explorer**.</span></span>
3. <span data-ttu-id="96f5a-170">実施したテストケースを右クリックし、 **選択したテストの実行** を選択します。</span><span class="sxs-lookup"><span data-stu-id="96f5a-170">Right-click your test case, and then select **Run selected tests**.</span></span>

## <a name="tips-and-tricks"></a><span data-ttu-id="96f5a-171">ヒントや秘訣</span><span class="sxs-lookup"><span data-stu-id="96f5a-171">Tips and tricks</span></span>

<span data-ttu-id="96f5a-172">タスクレコーダーとパフォーマンスSDKを使用したシングルユーザーテストには、以下のヒントと秘訣を参照してください。</span><span class="sxs-lookup"><span data-stu-id="96f5a-172">Use the following tips and tricks for single-user testing that uses Task recorder and the Performance SDK:</span></span>

- <span data-ttu-id="96f5a-173">タスクレコーダーを使用して業務を取り込む前に、エンドツーエンドの業務シナリオを最初に実行します。</span><span class="sxs-lookup"><span data-stu-id="96f5a-173">Run your business end-to-end scenario first, before you capture it by using Task recorder.</span></span>
- <span data-ttu-id="96f5a-174">タスクレコーダーを使用してシナリオを記録する場合は、ドロップダウンリストから値を選択するのではなく、手動で値を入力します。</span><span class="sxs-lookup"><span data-stu-id="96f5a-174">When you record your scenario by using Task recorder, enter values manually instead of selecting them in drop-down lists.</span></span>
- <span data-ttu-id="96f5a-175">記録したタスクを再生し、すべてが期待どおりに動作することを確認してください。</span><span class="sxs-lookup"><span data-stu-id="96f5a-175">Replay your task recording to make sure that everything works as you expect.</span></span>
- <span data-ttu-id="96f5a-176">ソリューションをビルド後にテストケースが表示されない場合は、 Visual Studio を再起動します。</span><span class="sxs-lookup"><span data-stu-id="96f5a-176">Restart Visual Studio if you don't see your test case after the solution is built.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="96f5a-177">トラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="96f5a-177">Troubleshooting</span></span>

<span data-ttu-id="96f5a-178">パフォーマンス SDK を使用するシングル ユーザーまたはマルチ ユーザーのテストの詳細については、[パフォーマンス SDK によるシングルユーザーまたはマルチユーザーのテストに関するトラブルシューティングガイド](troubleshoot-perf-sdk-user-testing.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="96f5a-178">For information about single-user or multi-user testing that uses the Performance SDK, see [Troubleshooting guide for single-user or multi-user testing with the Performance SDK](troubleshoot-perf-sdk-user-testing.md).</span></span>

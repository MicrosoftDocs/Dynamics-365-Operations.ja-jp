---
title: 小売割引
description: このトピックでは、製品に複数の割引を適用できる場合に考慮されるすべての要素を確認します。
author: shajain
manager: AnnBe
ms.date: 10/31/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: ''
audience: IT Pro
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: 16181
ms.assetid: b1b57734-1406-4ed6-8e28-21c705ee17e2
ms.search.region: global
ms.search.industry: Retail
ms.author: shajain
ms.search.validFrom: 2018-10-23
ms.dyn365.ops.version: AX 8.1.0, Retail October 2018 update
ms.openlocfilehash: 26ab13e882288bb059e546f02b446a42b64ffed0
ms.sourcegitcommit: 2b890cd7a801055ab0ca24398efc8e4e777d4d8c
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "1537591"
---
# <a name="apply-multiple-retail-discounts-to-a-product"></a>製品に対する複数の小売割引の適用

[!include [banner](includes/banner.md)]

## <a name="overview"></a>概要

このトピックでは、製品に複数の割引を適用できる場合に考慮されるすべての要素を確認します。 このシナリオでは、小売価格決定エンジンは、製品の合計割引金額を最大化するため、できるだけ多くの割引を適用します。 複数のオプションは、割引が適用される順序に影響します。 このトピック全体で、割引の適用順序と割引の排他性に設定がいつ影響を与えるかが明記されています。 次の設定は、製品に複数の割引が適用されている場合はそれがどのように処理されるかに影響します。

- **割引の同時実行管理モデル**
- **価格決定優先順位**
- **割引タイプ** (**シンプル**、**組み合わせ**、**数量**、**しきい値**)
- **割引の同時実行モード** (**排他的**、**最良価格**、および**組み入れ**)
- **複数発生モード** (**優先順位の高い小売業者** に設定されている場合) (組み合わせ最安値割引の場合のみ)

**割引の同時実行管理モデル**については、以下で詳細を説明します。ただし、他のプロパティは、[小売割引](retail-discounts-overview.md)で説明します。

## <a name="discount-concurrency-control-model"></a>割引の同時実行管理モデル

割引の同時実行管理モデルでは、トランザクションの商品に複数の割引が適用されるタイミングおよび方法が変更されます。 **小売パラメーター** ページにある **割引** タブの **最良価格および組み入れ同時実行管理モデル** オプションは、各割引の **割引同時実行モード** とは異なります。

Dynamics 365 for Retail の以前のバージョンでは、割引の **割引タイプ**、**割引同時実行モード**、および **価格決定優先順位** (使用する場合) プロパティに基づいて複数の割引を適用する方法は 1 つのみでした。 ここでは、割引同時実行管理モデル設定が、すべての割引がどのように競合してまとめられるかに影響します。

### <a name="background-on-why-this-change-was-made-in-dynamics-365-for-retail"></a>Dynamics 365 for Retail でこの変更が行われた理由に関する背景情報

Dynamics 365 for Retail の以前のバージョンでは、価格エンジンでカスタム ビジネス ロジックをオーバーレイすることで、価格エンジンを直接カスタマイズすることができました。 オンライン サービスへの移行により、およびアプリケーション全体のライフ サイクル管理を向上させるため、Dynamics 365 アプリケーションがシールされ、オーバーレイ カスタマイズが許容されなくなりました。 最も一般的であった同じ種類のカスタマイズを有効にするため、新しい拡張ポイントが追加されました。 ほとんどの割引カスタマイズは、次のカテゴリのいずれかに該当します。

- **既存の割引のマイナーな変更:** たとえば、開始日と終了日を割引ヘッダーから割引行に移動しました。
- **新しい割引タイプ:** 場合によっては、会社は新しい種類の割引を導入する必要があります。 たとえば、単純割引の場合、合計割引金額に上限を設定します。
- **複数の割引が適用されるタイミングと方法 (フロー) の変更:** たとえば、すべての組み合わせ割引を数量または単純割引の上に適用しながら、数量および単純割引を最良価格と競合させるか、店舗固有および顧客固有割引を最良価格と競合させ、勝利した割引をロイヤルティ プログラム割引と組み入れられます。

最初の 2 つの種類のカスタマイズは、このようなシナリオを可能にする価格エンジン内で新しい機能拡張モデルを提供することにより処理されます。 ただし、カスタマイズの 3 番目のタイプに対応するためこの設定を導入することによってシステムの機能を拡張しました。 割引の同時実行モードと価格優先順位は既に、割引適用の順序に対する大きな柔軟性をユーザーに与えていました。 割引の同時実行モードと価格決定の優先順位の対話方法に影響を与える新しいコンフィギュレーション設定を導入することによって、すべての割引順序カスタマイズがカバーされ、結果として同時実行モデルのオプションが生まれます。

### <a name="best-price-and-compound-within-priority-never-compound-across-priorities"></a>優先順位内のみの最良価格と組み入れ、優先順位間で組み入れない

これは既定値であり、複数の割引が処理される従来の方法です。 このオプションを選択すると、同じ価格優先順序内のすべての組み入れ割引が組み合わされ、組み入れられた結果は、同じ価格決定優先順位内の最良価格割引と競合します。 製品に割引が適用されると、価格決定優先順位が低いですべての割引が無視されます。

### <a name="best-price-only-within-priority-always-compound-across-priority"></a>優先順位内のみの最良価格、常に優先順位間で組み入れ

これは、複数の割引を処理する新しい方法です。 このオプションが選択されると、**割引同時実行モード** が **最良価格** および **組み入れ** に設定された割引がすべて、1 つの価格決定優先順位内で "最良価格" として扱われます。 適用されると、優先順位内の最良価格割引が、価格決定優先順位が低い最良および組み入れ割引と組み入れられます。 この同時実行管理モデルでは、価格決定優先順位ごとに 1 つの割引のみ製品に適用することができます、その 1 つの割引が最良価格または組み入れ割引の場合、価格決定優先順位の低い追加のすべての最良価格または組み入れ割引と組み入れられます。

### <a name="examples"></a>例

次の例では、小売価格決定エンジンが、別の同時実行管理モデルの割引のプールを処理する方法を示します。

#### <a name="example-1"></a>例 1

最初のシナリオでは、**優先順位内のみの最良価格と組み入れ、優先順位間で組み入れない** が割引同時実行管理モデルとして選択されています。 2 つの価格決定優先順位があります。各価格決定優先順位には、割引タイプごとに 1 つの割引があります。たとえば、**単純**、**組み合わせ**、**数量**、および **しきい値** です。 5 と 10 の 2 つの優先順位に割引があり、すべての製品に両方の優先順位の複数の割引があると仮定します。 考えられる価格決定優先順位の管理グループは、価格グループと、製品に適用可能な割引によって決定されます。

1. 割引同時実行制御モデルが選択されていることを考えると、製品ごとに、小売価格エンジンは次に、製品に適用される割引の最も高い価格決定優先度を考慮します。 したがって、小売価格決定エンジンは、優先順位が 10 の単純、数量、および組み合わせ割引を評価し、適用します。

    > [!NOTE]
    > ただし、しきい値割引がまだ評価されません。その名前が示すように、他のすべての割引を適用した後、トランザクションの金額に対して評価されるためです。

    次の図では、さまざまな優先順位の間で価格決定アルゴリズムが割引をループする様子の簡単なビューを示します。 次の図は、両方の割引同時実行管理モデルに適用されますが、価格決定アルゴリズムがの優先順位の異なる割引を処理する方法に違いがあることに注意してください。 この違いは、以下の例を使用して詳しく説明します。

    ![簡略化された価格決定ロジック](./media/Simplified%20pricing%20logic.png "簡略化された価格決定ロジック")

2. 優先順位 10 内で、小売価格決定エンジンはまず、同時実行モードが **排他的** に設定されている割引を考慮します。 複数の排他割引が製品に適用される場合、最適な排他割引が適用されます。 製品は、排他割引を引き受け、どの優先順位でもこの製品に他の割引を適用することはできません。

    > [!NOTE]
    > **複数発生モード** プロパティが **優先順位の高い小売業者** に設定された組み合わせ最安値割引は、このステップでは処理されません。 価格決定優先順位が 10 のすべての **排他** 割引 (**単純**、**数量**、**組み合わせ**) が適用されうと、排他組み合わせの **優先順位が高い小売業者** 割引が、価格決定優先順位 10 で、割引が適用されていない製品に適用されます。

3. 優先順位 10 内で、小売価格決定エンジンは次に、割引同時実行モードが **最良価格** および **組み入れ** に設定されている割引を考慮します。 複数の **組み入れ** 割引が製品に適用されている場合、それらは組み入れられ、結果の合計割引金額は他の **最良価格** 割引と競合します。 **最良価格**割引のいずれか、または**組み入れ**割引のの組み合わせは、顧客にとって最もメリットなる割引に応じて、製品に適用されます。 前の手順と同様、**複数発生モード** プロパティが **優先順位の高い小売業者** に設定された組み合わせ最安値割引は、このステップでは処理されません。 価格決定優先順位が 10 のすべての **最良価格** および **組み入れ** 割引が適用されると、**最良価格** および **組み入れ** 組み合わせの **優先順位の高い小売業者** 割引が互いに評価され、適用されます。 **最良価格** 割引は、割引が適用されない製品にのみ適用されますが、**組み入れ** 割引は、割引が適用されない製品と、同じ価格決定優先順位の別の **組み入れ** 割引によって割引された製品に適用されます。
4. 割引同時実行管理モードは **優先順位内のみの最良価格と組み入れ、優先順位間で組み入れない** に設定されているため、製品に適用される価格決定優先順位 5 の単純、数量、および組み合わせ割引は、適用される割引と競合しません。 この時点で、製品に関して、最も高い優先順位のすべての単純、数量、および組み合わせ割引が評価されました。
5. 次に、優先順位 10 内で、小売価格決定エンジンは、同時実行モードが **排他的** に設定されているしきい値割引を考慮します。 **排他**しきい値割引は、既に割引が適用されている製品には適用できないため、しきい値金額は、割引を適用しない製品でのみ適用され、評価されます。 これらの割引のうち複数がトランザクションに適用される場合は、割引が競合し、最大割引が適用されます。
6. 次に、優先順位 10 内で、小売価格決定エンジンは、同時実行モードが **最良価格** および **組み入れ** に設定されているしきい値割引を考慮します。 小売価格決定エンジンは、価格決定の優先順位 10 でしきい値割引を評価し、適用します。 **組み入れ**しきい値割引は、他の**組み入れ**しきい値割引と組み入れられ、同じ価格決定の優先順位内の他の**最良価格**割引と競合します。 **最良価格**しきい値割引は、割引が適用されない製品にのみ適用されますが、**組み入れ**しきい値割引は、割引が適用されない製品と、別の **組み入れ** (**単純**、**数量**、**組み合わせ**) 割引によって割引された製品に適用されます。

    > [!NOTE]
    > より高い優先順位 (たとえば、11 に設定されている) しきい値割引があり、その他のすべての割引タイプの優先順位が 10 と 5 である場合、しきい値割引は 11 の優先順位で評価され、優先順位が 10 の単純、数量、組み合わせと組み入れられます。 これは、単純、数量、および組み合わえ割引は最も高い優先順位内で評価され、しきい値割引は最も高い優先順位内で評価されてから組み入れられるために重要です。 優先順位の低いしきい値割引は無視されます。

この時点で、優先順位が最も高いすべての割引が評価されました。

上のロジックは次の図で示されています。この図では、さまざまな優先順位の間で価格決定アルゴリズムが割引をループする様子の詳細なビューを示します。 次の図は、両方の割引同時実行管理モデルに適用されますが、価格決定アルゴリズムがの優先順位の異なる割引を処理する方法に違いがあることに注意してください。

![詳細な価格決定ロジック](./media/Detailed%20pricing%20logic.png "詳細な価格決定ロジック")

この例では、次の設定を仮定します。

**製品情報**

| 製品 \# | 製品価格 |
|---|---|
| 製品 1 | 10 ドル |
| 製品 2 | 20 ドル |
| 製品 3 | 10 ドル |

**割引設定**

| 割引 \# | 割引同時実行 | 優先順位 | 割引金額 | 割引のタイプ | 製品に適用可能 |
|---|---|---|---|---|---|
| BP1 | 最良価格 | 10 | 15% | 単純、数量、または組み合わせ | 製品 1、製品 2 |
| BP2 | 最良価格 | 5 | 20% | 単純、数量、または組み合わせ | すべての製品 |
| C1 | 組み入れ | 10 | $1 | 単純、数量、または組み合わせ | 製品 1、製品 2 |
| C2 | 組み入れ | 10 | 10% | 単純、数量、または組み合わせ | 製品 1、製品 2 |
| C3 | 組み入れ | 5 | 25% | 単純、数量、または組み合わせ | すべての製品 |
| C4 | 組み入れ | 5 | 10% | しきい値のみ | すべての製品 |

**手順 1:** 製品ごとに、単純、数量、または組み合わせ割引が存在する最も高い優先順位を決定します。 この場合、製品 1 の優先順位が 10、製品 2 が 10 の優先順位、製品 3 が 5 の優先順位です。

**手順 2:** 製品ごとに、個々の製品に適用される最大の優先順位で、割引同時実行が **排他** に設定された**単純**、**数量**、または**組み合わせ**割引を検索します。 この場合、優先順位 10 の製品 1 と製品 2 には何もなく、同様に、優先順位 5 の製品 3 には何もありません。

**手順 3:** 製品ごとに、個々の製品に適用される最大の優先順位で、割引同時実行が **最良価格** および **組み入れ** に設定された**単純**、**数量**、または**組み合わせ**割引を検索します。 次の表に、これを示します。

> [!NOTE]
> 2 つのアスタリスク (\*\*) は、製品に適用される割引を示します。

| トランザクションの数量 | 品目 | 価額 | 優先順位 10 (C1 + C2) | 優先順位 10 (BP1) | 優先順位 5 (C3) | 優先順位 5 (BP2) | 小計 | 説明 |
|---|---|---|---|---|---|---|---|---|
| 1 | 製品 1 | 10 ドル | 1.90 ドル\*\* | 1.50 ドル | (NA) | (NA) | $10 – 1.90 = $8.1 | 組み入れ割引の組み合わせが最良価格割引を超えるので、C1 と C2 は製品に適用されます。 優先順位の低い割引 (5 など) は無視されます。 |
| 1 | 製品 2 | 20 ドル | 2.90 ドル | 3 ドル\*\* | (NA) | (NA) | $20 – 3 = $17.00 | 最良価格割引が組み入れ割引の組み合わせを超えるので、BP1 は製品に適用されます。 優先順位の低い割引 (5 など) は無視されます。 |
| 1 | 製品 3 | 10 ドル | | | 2.50 ドル\*\* | 2.0 ドル | $10 – 2.50 = $7.5 | 5 の優先順位は、この製品に適用される最上位の優先順位です。 組み入れ割引が最良価格割引を超えるので、C3 は製品に適用されます。 |

**手順 4:** 最も高い優先順位の個々の製品に適用される **しきい値** 割引を評価します。 この例では、すべての製品の優先順位が 5 です。

| トランザクションの数量 | 品目 | 適用される割引 | 割引価格 | 優先順位 5 (C4) | 請求額 | 説明 |
|---|---|---|---|---|---|---|
| 1 | 製品 1 | C1、C2 | 8.1 ドル | $0.81\*\* | 8.1 – 0.81 = $7.29 | しきい値割引の場合、優先順位 5 は、この製品に適用される最上位の優先順位であるため、適用される割引の割引同時実行モードが **組み入れ** である場合、5 の優先順位で適用されるしきい値割引はすべて、適用される割引と組み入れられます。 製品 1 には組み入れ割引のみあるため、組み入れしきい値割引を組み入れることができます。 |
| 1 | 製品 2 | BP1 | 17 ドル | (NA) | 17 ドル | しきい値割引の場合、優先順位 5 は、この製品に適用される最上位の優先順位であるため、適用される割引の割引同時実行モードが **組み入れ** である場合、5 の優先順位で適用されるしきい値割引はすべて、適用される割引と組み入れられます。 製品 2 には、"最良価格" 割引があるため、この製品に他の割引を適用することはできません。|
| 1 | 製品 3 | C3 | 7.5 ドル | $0.75\*\* | 7.5 – 0.75 = $6.75 | しきい値割引の場合、優先順位 5 は、この製品に適用される最上位の優先順位であるため、適用される割引の割引同時実行モードが **組み入れ** である場合、5 の優先順位で適用されるしきい値割引はすべて、適用される割引と組み入れられます。 製品 3 には組み入れ割引のみあるため、組み入れしきい値割引を組み入れることができます。 |

最終合計金額は、製品 1 が 7.29、製品 2 が 17、製品 3 は 6.75 です。

#### <a name="example-2"></a>例 2

2 番目のシナリオでは、**優先順位内のみの最良価格、常に優先順位間で組み入れ** が割引同時実行管理モデルとして選択されていますが、割引の残りの部分はそのままです。

1. **割引同時実行制御モデル**が選択されていることを考えると、製品ごとに、小売価格エンジンは次に、製品に適用される割引の最も高い価格決定優先度を考慮します。 製品に、複数の優先順位から割引を適用できる場合、それぞれ個別に降順で評価されます。 したがって、小売価格決定エンジンはまず、優先順位が 10 の単純、数量、および組み合わせ割引を評価および適用してから、優先順位 5 の割引に進みます。

    > [!NOTE]
    > 前の割引同時実行管理モデルと同様、**しきい値**割引はまだ評価されません。

2. 優先順位 10 内で、小売価格決定エンジンはまず、同時実行モードが **排他的** に設定されている割引を考慮します。 複数の排他割引が製品に適用される場合、最適な排他割引が適用されます。 製品は、排他割引を引き受け、どの優先順位でもこの製品に他の割引を適用することはできません。

    > [!NOTE]
    > **複数発生モード** プロパティが **優先順位の高い小売業者** に設定された組み合わせ最安値割引は、このステップでは処理されません。 価格決定優先順位が 10 のすべての **排他** 割引 (**単純**、**数量**、**組み合わせ**) が適用されうと、**排他**組み合わせの **優先順位が高い小売業者** 割引が、価格決定優先順位 10 で、割引が適用されていない製品に適用されます。

3. 優先順位 10 内で、小売価格決定エンジンは次に、割引同時実行モードが **最良価格** および **組み入れ** に設定されている割引を考慮します。 前述のように、この割同時実行管理モデルは、**割引同時実行モード** が **最良価格** および **組み入れ** に設定された割引がすべて、1 つの価格決定優先順位内で "最良価格" として扱われます。 したがって、複数の**組み入れ**および**最良価格**割引が製品に適用される場合、これらすべての割引は最良価格と競合し、1 つの優先順位内の最良割引のみ勝利します。 前の手順と同様、**複数発生モード** プロパティが **優先順位の高い小売業者** に設定された組み合わせ最安値割引は、このステップでは処理されません。 価格決定優先順位が 10 のすべての **最良価格** および **組み入れ** 割引が適用されると、**最良価格** および **組み入れ** 組み合わせの **優先順位の高い小売業者** 割引が互いに評価され、適用されます。 **最良価格**および**組み入れ**がどちらも最良価格として扱われるため、特定の優先順位の 1 つの割引だけが製品ごとに適用されます。
4. 小売価格決定エンジンは、優先順位が 5 のすべての単純、数量、および組み合わせ割引に対して手順 1 ～ 3 を繰り返します。

    > [!NOTE]
    > 小売価格決定エンジンは、トランザクションに適用される価格決定優先順位ごとに手順 1 ～ 3 を 1 回だけ完了します。 したがって、ビジネスの要件に応じて、価格決定の優先順位を最小限にすることをお勧めします。

    この時点で、あらゆる優先順位のすべての単純、数量、および組み合わせ割引が評価され、適用されました。

5. 次に、優先順位 10 内で、小売価格決定エンジンは、同時実行モードが **排他的** に設定されているしきい値割引を考慮します。 **排他**しきい値割引は、既に割引が適用されている製品には適用できないため、しきい値金額は、割引を適用しない製品でのみ適用され、評価されます。 これらの割引のうち複数がトランザクションに適用される場合は、割引が競合し、最大割引が適用されます。
6. 次に、優先順位 10 内で、小売価格決定エンジンは、同時実行モードが **最良価格** および **組み入れ** に設定されているしきい値割引を考慮します。 **最良価格**および**組み入れ**はすべて "最良価格" として扱われるため、これらの割引は最適な割引と競合します。 優先順位 10 で既に適用される他の割引タイプがないそれらの製品に、選択したしきい値割引が適用されます。 他の割引がある場合、しきい値割引は適用されません。最良価格および組み入れ割引の両方が最良価格として扱われ、この割引同時実行管理では優先順位ごとに 1 つの割引のみ許容されるためです。

    > [!NOTE]
    > より高い優先順位 (たとえば、11 に設定されている) しきい値割引があり、その他のすべての割引タイプの優先順位が 10 と 5 である場合、しきい値割引は 11 の優先順位で評価され、最適なしきい値割引は優先順位 11 で適用されます (低い優先順位で適用された**排他**割引 (**単純**、**数量**、または**組み合わせ**) はないと仮定)。

7. 小売価格決定エンジンは、価格決定の優先順位 5 でしきい値割引の手順 5 と 6 を繰り返します。

前と同じ例を使ってみましょう。

**製品情報**

| 製品 \# | 製品価格 |
|---|---|
| 製品 1 | 10 ドル |
| 製品 2 | 20 ドル |
| 製品 3 | 10 ドル |

**割引設定**

| 割引 \# | 割引同時実行 | 優先順位 | 割引金額 | 割引のタイプ | 製品に適用可能 |
|---|---|---|---|---|---|
| BP1 | 最良価格 | 10 | 15% | 単純、数量、または組み合わせ | 製品 1、製品 2 |
| BP2 | 最良価格 | 5 | 20% | 単純、数量、または組み合わせ | すべての製品 |
| C1 | 組み入れ | 10 | $1 | 単純、数量、または組み合わせ | 製品 1、製品 2 |
| C2 | 組み入れ | 10 | 10% | 単純、数量、または組み合わせ | 製品 1、製品 2 |
| C3 | 組み入れ | 5 | 25% | 単純、数量、または組み合わせ | すべての製品 |
| C4 | 組み入れ | 5 | 10% | しきい値のみ | すべての製品 |

**手順 1:** 製品ごとに、**単純**、**数量**、または**組み合わせ**割引が存在する最も高い優先順位を決定します。 この場合、製品 1 の優先順位が 10、製品 2 が 10 の優先順位、製品 3 が 5 の優先順位です

**手順 2:** 製品ごとに、個々の製品に適用される最大の優先順位で、割引同時実行が **排他** に設定された**単純**、**数量**、または**組み合わせ**割引を検索します。 この場合、優先順位 10 の製品 1 と製品 2 には何もなく、優先順位 5 の製品 3 には何もありません。

**手順 3:** 製品ごとに、個々の製品に適用される最大の優先順位で、割引同時実行が **最良価格** および **組み入れ** に設定された**単純**、**数量**、または**組み合わせ**割引を検索します。 この後の表を参照してください。

> [!NOTE]
> 2 つのアスタリスク (\*\*) は、製品に適用される割引を示します。

| トランザクションの数量 | 品目 | 価額 | 優先順位 10 (C1) | 優先順位 10 (C2) | 優先順位 10 (BP1) | 小計 | 説明 |
|---|---|---|---|---|---|---|---|
| 1 | 製品 1 | 10 ドル | $1 | $1 | 1.50 ドル\*\* | $10 – 1.50 = $8.50 | 組み入れ割引は、この割引同時実行管理モデルの割引の "最良価格" として扱われるため、組み入れ割引は結合されません。 むしろ、すべて最適な割引と競合します。 BP1 は優先順位を最上位にするため、BP1 は 10 の優先順位で適用されます。 |
| 1 | 製品 2 | 20 ドル | $1 | 2 ドル | 3 ドル\*\* | $20 – 3 = $17.00 | 上と同じ。 BP1 は優先順位を最上位にするため、BP1 は 10 の優先順位で適用されます。 |
| 1 | 製品 3 | 10 ドル | | | | 10 ドル | 10 の優先順位では割引が適用されません。 |

**手順 4:** 製品ごとに、**単純**、**数量**、または**組み合わせ**割引が存在する次に高い優先順位を決定します。 この場合では、3 つの製品すべてで優先順位が 5 です。

**手順 5:** 優先順位 5 で、割引同時実行モードが**排他**に設定されている**単純**、**数量**、または**組み合わせ**割引を検索します。 この場合は、何もありません。

> [!NOTE]
> 排他割引が 5 の優先順位に存在していた場合、排他割引は、それより高い優先順位で適用された他の割引と共存することができないため、無視されました。

**手順 6:** 優先順位 5 で、**単純**、**数量**、または**組み合わせ**割引を評価します。 次の表に、これを示します。

| トランザクションの数量 | 品目 | 割引価格 | 優先順位 5 (C3) | 優先順位 5 (BP2) | 小計 | 説明 |
|---|---|---|---|---|---|---|
| 1 | 製品 1 | 8.50 ドル | 2.13 ドル\*\* | 1.7 ドル | $8.50 – 2.13 = $6.37 | 優先順位間で割引が組み入れられるため、優先順位が 5 の割引は、優先順位 10 で適用された割引で組み入れられます。 C3 は優先順位を最上位にするため、C3 は 5 の優先順位で適用されます。 |
| 1 | 製品 2 | 17 ドル | 4.25 ドル\*\* | 3.40 ドル | $17.00 – 4.25 = $12.75 | 上と同じ。 C3 は優先順位を最上位にするため、C3 は 5 の優先順位で適用されます。 |
| 1 | 製品 3 | 10 ドル | 2.5 ドル\*\* | 2.0 ドル | $10 – 2.5 = $7.5 | 上と同じ。 C3 は優先順位を最上位にするため、C3 は 5 の優先順位で適用されます。 |

**手順 7:** **しきい値**割引を評価します。

| トランザクションの数量 | 品目 | 優先順位 10 で適用された割引 | 優先順位 5 で適用された割引 | 割引価格 | 優先順位 5 (C4) | 未払金額 | 説明 |
|---|---|---|---|---|---|---|---|
| 1 | 製品 1 | BP1 | C3 | 6.37 ドル | (NA) | 6.37 ドル | しきい値割引の場合、5 の優先順位は、この製品に適用される最上位の優先順位です。 優先順位 5 のしきい値割引は、優先順位 5 で適用されるその他の割引がない場合にのみ適用されます。 これは、最良価格および組み入れ割引の両方が "最良価格" として扱われ、この割引同時実行管理では優先順位ごとに 1 つの割引のみ許容されるためです。 そのため、しきい値割引は無視されます。 |
| 1 | 製品 2 | BP1 | C3 | 12.75 ドル | (NA) | 12.75 ドル | 上と同じ |
| 1 | 製品 3 | | C3 | 7.5 ドル | (NA) | 7.5 ドル | 上と同じ |

最終合計金額は、製品 1 が 6.37、製品 2 が 12.75、製品 3 は 7.5 です。

> [!NOTE]
> 同じ割引設定の場合、選択された割引同時実行管理モデルによって結果は大幅に異なります。

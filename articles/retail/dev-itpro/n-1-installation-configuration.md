---
title: "Microsoft Dynamics 365 for Retail で使用する N-1 コンポーネントをインストールする"
description: "このトピックでは、セルフ サービスを使用して、Microsoft Dynamics 365 for Retail headquarters で Connector for Microsoft Dynamics AX を構成し、ダウンロードして、 Microsoft Dynamics AX 2012 R3 環境のドメイン コンピューターにインストールし、以前に展開され実行されている店舗でも使用できるようにします。"
author: jashanno
manager: AnnBe
ms.date: 06/16/2017
ms.topic: article
ms.prod: 
ms.service: Dynamics-365-retail
ms.technology: 
ms.search.form: SysAADClientTable, RetailTransactionServiceProfile
audience: IT Pro
ms.reviewer: sericks
ms.search.scope: Operations, Retail, Core
ms.custom: 44351
ms.search.region: Global
ms.author: jashanno
ms.search.validFrom: 2017-07-31
ms.dyn365.ops.version: Retail July 2017 update
ms.translationtype: HT
ms.sourcegitcommit: efcb77ff883b29a4bbaba27551e02311742afbbd
ms.openlocfilehash: 16838dff8717ddf8ae75ba04c5f629c762fc3ae5
ms.contentlocale: ja-jp
ms.lasthandoff: 05/08/2018

---

# <a name="install-n-1-components-for-use-with-microsoft-dynamics-365-for-retail"></a><span data-ttu-id="159eb-103">Microsoft Dynamics 365 for Retail で使用する N-1 コンポーネントをインストールする</span><span class="sxs-lookup"><span data-stu-id="159eb-103">Install N-1 components for use with Microsoft Dynamics 365 for Retail</span></span>

[!include [banner](../../includes/banner.md)]

<span data-ttu-id="159eb-104">このトピックでは、セルフ サービスを使用して、Microsoft Dynamics 365 for Retail headquarters で Connector for Microsoft Dynamics AX (以前は **N-1**) を構成し、ダウンロードして、 Microsoft Dynamics AX 2012 R3 環境のドメイン コンピューターにインストールし、以前に展開され実行されている店舗でも使用できるようにします。</span><span class="sxs-lookup"><span data-stu-id="159eb-104">This topic explains how you can use self-service to configure Connector for Microsoft Dynamics AX (previously **N-1**) in Microsoft Dynamics 365 for Retail headquarters, download it, and install it on the domain computers of a Microsoft Dynamics AX 2012 R3 environment, so that it can be used by previously deployed and running stores.</span></span> <span data-ttu-id="159eb-105">Connector for Microsoft Dynamics AX は、2 つの独立したインストーラーで構成されています。</span><span class="sxs-lookup"><span data-stu-id="159eb-105">Connector for Microsoft Dynamics AX consists of two separate installers.</span></span> <span data-ttu-id="159eb-106">1 つのインストーラーは、Retail Async ServerRetail Connector サービス用で、もう 1 つのインストーラーは AX 2012 R3 用のリアルタイム サービス用です。</span><span class="sxs-lookup"><span data-stu-id="159eb-106">One installer is for the Retail Async Server Connector service, and the other installer is for the Real-time service for AX 2012 R3.</span></span> <span data-ttu-id="159eb-107">インストールが完了したら、Microsoft Dynamics 365 for Retail 環境が、POS AX 2012 R3 からの Enterprise POS と Retail Modern POS を含む、現在インストール済みの機能している店舗のバックエンド インフラストラクチャとして使用されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-107">When the installation is completed, a Microsoft Dynamics 365 for Retail environment will be used as the back-end infrastructure for currently installed and working stores that contain Enterprise POS and Retail Modern POS from AX 2012 R3.</span></span> <span data-ttu-id="159eb-108">このトピックは、これらのインストールのアンインストールとトラブルシューティングの方法についても説明します。</span><span class="sxs-lookup"><span data-stu-id="159eb-108">This topic also explains how to uninstall and troubleshoot these installations.</span></span>

## <a name="before-you-begin"></a><span data-ttu-id="159eb-109">準備</span><span class="sxs-lookup"><span data-stu-id="159eb-109">Before you begin</span></span>

> [!IMPORTANT]
> <span data-ttu-id="159eb-110">企業全体で高いレベルのセキュリティを維持するために、このインストールに新しいクライアント ID とシークレットを作成することを強くお勧めします。</span><span class="sxs-lookup"><span data-stu-id="159eb-110">To help maintain a high level of security across the company, we strongly recommend that you create a new client ID and secret for this installation.</span></span> <span data-ttu-id="159eb-111">このステップでは、新しい Web アプリが必要です。</span><span class="sxs-lookup"><span data-stu-id="159eb-111">This step requires a new Web App.</span></span>

1. <span data-ttu-id="159eb-112">クライアント ID とシークレットを作成するには、Microsoft Azure Web アプリを生成します。</span><span class="sxs-lookup"><span data-stu-id="159eb-112">Generate a Microsoft Azure Web App to create a client ID and secret.</span></span> <span data-ttu-id="159eb-113">手順については、[Azure Active Directory アプリケーションを作成する](/azure/azure-resource-manager/resource-group-create-service-principal-portal#create-an-azure-active-directory-application) で「Azure AD でアプリケーションを登録するための基本」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="159eb-113">For instructions, see the "Basics of Registering an Application in Azure AD" section in [Create an Azure Active Directory Application](/azure/azure-resource-manager/resource-group-create-service-principal-portal#create-an-azure-active-directory-application).</span></span>
2. <span data-ttu-id="159eb-114">クライアント ID とシークレット Connector for Microsoft Dynamics AX を作成した後、Retail でクライアント ID を承諾する必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-114">After you've created a client ID and secret for Connector for Microsoft Dynamics AX, the client ID must be accepted in Retail.</span></span> <span data-ttu-id="159eb-115">**システム管理** &gt; **セットアップ** &gt; **Azure Active Directory アプリケーション**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="159eb-115">Go to **System administration** &gt; **Setup** &gt; **Azure Active Directory applications**.</span></span> <span data-ttu-id="159eb-116">クライアント ID を**クライアント ID** 列に入力し、説明のテキストを**名**列に入力および **RetailServiceAccount** を**ユーザー ID** 列に入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-116">Enter the client ID in the **Client ID** column, enter descriptive text in the **Name** column, and enter **RetailServiceAccount** in the **User ID** column.</span></span>

## <a name="configure-connector-for-microsoft-dynamics-ax"></a><span data-ttu-id="159eb-117">Connector for Microsoft Dynamics AX のコンフィギュレーション</span><span class="sxs-lookup"><span data-stu-id="159eb-117">Configure Connector for Microsoft Dynamics AX</span></span>
<span data-ttu-id="159eb-118">Connector for Microsoft Dynamics AX を構成するには、[Connector for Microsoft Dynamics AX インストーラの実行] の手順に従って、このトピックのすべてのセクションの手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="159eb-118">To configure Connector for Microsoft Dynamics AX, complete the procedures in all sections of this topic through the "Running the Connector for Microsoft Dynamics AX installers" section.</span></span>

1. <span data-ttu-id="159eb-119">Azure Active Directory (Azure AD) 証明書を使用して、小売用バックオフィスまたは Retail 評価版にサインインします。</span><span class="sxs-lookup"><span data-stu-id="159eb-119">Use Azure Active Directory (Azure AD) credentials to sign in to the Retail headquarters or Retail trial.</span></span>
2. <span data-ttu-id="159eb-120">**ようこそ**ページで、左上隅のメニューを使用して、**小売** &gt; **本社の設定** &gt; **小売用スケジューラ** &gt; **Connector for Microsoft Dynamics AX** に移動します。</span><span class="sxs-lookup"><span data-stu-id="159eb-120">On the **Welcome** page, use the menu in the upper left to go to **Retail** &gt; **Headquarters setup** &gt; **Retail scheduler** &gt; **Connector for Microsoft Dynamics AX**.</span></span>
3. <span data-ttu-id="159eb-121">アクション ウィンドウで、**新規**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-121">On the Action Pane, select **New**.</span></span>
4. <span data-ttu-id="159eb-122">**プロファイル** フィールドに、固有値を入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-122">In the **Profile** field, enter a unique value.</span></span>
5. <span data-ttu-id="159eb-123">**リアルタイム サービスの場所** の **サーバー** フィールドに、2012 R3 のリアルタイム サービスがインストールされるサーバーの URL を入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-123">Under **Real-Time Service location**, in the **Server** field, enter the server URL where the Real-time service for 2012 R3 will be installed.</span></span>

    > [!NOTE]
    > <span data-ttu-id="159eb-124">現在のリアルタイム サービスを最初にインストールしたのと同じ場所を使用するか、新しい場所を指定することができます。</span><span class="sxs-lookup"><span data-stu-id="159eb-124">Use can either use the same location where the current Real-time service was originally installed, or you can specify a new location.</span></span>

6. <span data-ttu-id="159eb-125">**ポート** フィールドに、AX 2012 R3 の新しいリアルタイム サービスが使用するポートを入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-125">In the **Port** field, enter the port that the new Real-time service for AX 2012 R3 should use.</span></span>
7. <span data-ttu-id="159eb-126">**Web アプリケーション名**フィールドで、Internet Information Services (IIS) で使用する必要がある Web アプリケーション名を入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-126">In the **Web application name** field, enter the web application name that should be used in Internet Information Services (IIS).</span></span> <span data-ttu-id="159eb-127">既定では、**RetailCDXRealTimeService** が選択されています。</span><span class="sxs-lookup"><span data-stu-id="159eb-127">By default, **RetailCDXRealTimeService** is selected.</span></span>
8. <span data-ttu-id="159eb-128">**プロトコル** フィールドで、元のリアルタイム サービスによって使用されているプロトコルを選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-128">In the **Protocol** field, select the protocol that the original Real-time service currently uses.</span></span>

    > [!NOTE]
    > <span data-ttu-id="159eb-129">HTTPS の使用をお勧めしますが、**net.tcp** は以前のインストール シナリオのより良いサポートのためのリストに表示されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-129">Although we recommend that you use HTTPS, **net.tcp** is listed for better support of previous installation scenarios.</span></span> 

9. <span data-ttu-id="159eb-130">**接続情報** の **共通名** フィールドに、AX 2012 R3 のリアルタイム サービスで使用する証明書のフレンドリ名を入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-130">Under **Connection information**, in the **Common name** field, enter the friendly name of the certificate that the Real-time service for AX 2012 R3 should use.</span></span> <span data-ttu-id="159eb-131">この値と **パスフレーズ** フィールドの値をあわせて、AX 2012 R3 の元のリアルタイム サービスと新しいリアルタイム サービスとの接続が可能になります。</span><span class="sxs-lookup"><span data-stu-id="159eb-131">Together, this value and the value of the **Passphrase** field enable connections to the original Real-time service and the new Real-time service for AX 2012 R3.</span></span>
10. <span data-ttu-id="159eb-132">**言語**フィールドで、関連付けられている店舗が使用する言語を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-132">In the **Language** field, select the language that the associated stores should use.</span></span>
11. <span data-ttu-id="159eb-133">アクション ウィンドウで、**保存**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-133">On the Action Pane, select **Save**.</span></span>
12. <span data-ttu-id="159eb-134">アクション ウィンドウで、**小売用スケジューラのパラメーター**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-134">On the Action Pane, select **Retail scheduler parameters**.</span></span> <span data-ttu-id="159eb-135">Async Server Connector service に詳細を入力できるようになりました。</span><span class="sxs-lookup"><span data-stu-id="159eb-135">You can now enter the details for the Async Server Connector service.</span></span>
13. <span data-ttu-id="159eb-136">**HQ メッセージ データベース**の **SQL Server インスタンス名** フィールドに、使用する Microsoft SQL Server のインスタンス名を入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-136">Under **HQ Message Database**, in the **SQL Server instance name** field, enter the instance name of the Microsoft SQL Server that should be used.</span></span>
14. <span data-ttu-id="159eb-137">**サーバー名**フィールドに、SQL Server が使用されているコンピューターの完全修飾ドメイン名 (FQDN) を入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-137">In the **Server name** field, enter the fully qualified domain name (FQDN) of the computer where SQL Server is used.</span></span>

    > [!NOTE]
    > <span data-ttu-id="159eb-138">データベースが Async Server Connector service と同じコンピューター上にある場合は、**localhost** を入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-138">If the database will be on the same computer as the Async Server Connector service, enter **localhost**.</span></span>

15. <span data-ttu-id="159eb-139">**データベース名**フィールドに、HQ メッセージ データベースの名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-139">On the **Database name** field, enter the name of the HQ Message Database.</span></span>

    > [!NOTE]
    > <span data-ttu-id="159eb-140">AX 2012 R3 では、既定値は **HQMessageDB** でした。</span><span class="sxs-lookup"><span data-stu-id="159eb-140">In AX 2012 R3, the default value was **HQMessageDB**.</span></span>

16. <span data-ttu-id="159eb-141">アクション ウィンドウで、**保存**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-141">On the Action Pane, select **Save**.</span></span>
17. <span data-ttu-id="159eb-142">**小売** &gt; **本社の設定** &gt; **小売用スケジューラ** &gt; **チャンネル データ グループ**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="159eb-142">Go to **Retail** &gt; **Headquarters setup** &gt; **Retail scheduler** &gt; **Channel data group**.</span></span>
18. <span data-ttu-id="159eb-143">**既定** データ グループ、前のインストール セットのチャネルに関連付けられているデータ グループを選択します (AX 2012 R3 から Enterprise POS および Modern POS を使用していた N-1 チャネル)。</span><span class="sxs-lookup"><span data-stu-id="159eb-143">Select the **Default** data group or the data group that is associated with the channels in your previous installation set (N-1 channels that used Enterprise POS and Modern POS from AX 2012 R3).</span></span>
19. <span data-ttu-id="159eb-144">アクション ウィンドウで、**完全データ同期**を選択します。**配送スケジュールの選択**のフィールドで、ジョブ **9999** を選択し、**OK** を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-144">On the Action Pane, select **Full data sync**. In the **Select a distribution schedule** field, select job **9999**, and then select **OK**.</span></span> <span data-ttu-id="159eb-145">表示されるダイアログ ボックスで、**OK** を選択して完全同期を確認します。</span><span class="sxs-lookup"><span data-stu-id="159eb-145">In the dialog box that appears, select **OK** to confirm the full synchronization.</span></span> <span data-ttu-id="159eb-146">チャンネル データベース内のすべてのデータはダウンロードの準備をします。</span><span class="sxs-lookup"><span data-stu-id="159eb-146">All the data in the channel database is prepared for download.</span></span>

### <a name="download-the-connector-for-microsoft-dynamics-ax-installers"></a><span data-ttu-id="159eb-147">Microsoft Dynamics AX インストーラーのコネクタをダウンロード</span><span class="sxs-lookup"><span data-stu-id="159eb-147">Download the Connector for Microsoft Dynamics AX installers</span></span>

1. <span data-ttu-id="159eb-148">Azure AD 証明書を使用して、Microsoft Dynamics 小売用バックオフィスまたは Retail 評価版にサインインします。</span><span class="sxs-lookup"><span data-stu-id="159eb-148">Use Azure AD credentials to sign in to the Microsoft Dynamics Retail headquarters or Retail trial.</span></span>
2. <span data-ttu-id="159eb-149">**ようこそ**ページで、左上隅のメニューを使用して、**小売** &gt; **本社の設定** &gt; **小売用スケジューラ** &gt; **Connector for Microsoft Dynamics AX** に移動します。</span><span class="sxs-lookup"><span data-stu-id="159eb-149">On the **Welcome** page, use the menu in the upper left to go to **Retail** &gt; **Headquarters setup** &gt; **Retail scheduler** &gt; **Connector for Microsoft Dynamics AX**.</span></span>
3. <span data-ttu-id="159eb-150">左のコネクタの一覧で、このインストールに対して以前に作成したコネクタを選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-150">In the list of connectors on the left, select the connector that you created earlier for this installation.</span></span>
4. <span data-ttu-id="159eb-151">アクション ウィンドウで、**ダウンロード**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-151">On the Action Pane, select **Download**.</span></span>
5. <span data-ttu-id="159eb-152">ドロップダウン メニューの、**Async Server Connector service** で、**コンフィギュレーション ファイル**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-152">On the drop-down menu, under **Async Server Connector service**, select **Configuration file**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="159eb-153">Connector for Microsoft Dynamics AX インストーラーが構成ファイル (XML ファイル) を正しく使用するためには、構成ファイルをインストーラーと同じ場所に保存する必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-153">To help guarantee that the Connector for Microsoft Dynamics AX installers correctly use the configuration file (XML file), you must save the configuration file to the same location as the installers.</span></span>

6. <span data-ttu-id="159eb-154">Internet Explorer ウィンドウの下部に表示される通知バーで、**保存**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-154">On the Notification bar that appears at the bottom of the Internet Explorer window, select **Save**.</span></span> <span data-ttu-id="159eb-155">(通知バーは、他のブラウザでは別の場所に表示される場合があります。)</span><span class="sxs-lookup"><span data-stu-id="159eb-155">(The Notification bar might appear in a different place in other browsers.)</span></span>

    > [!NOTE]
    > <span data-ttu-id="159eb-156">ブラウザーは、生成されたダウンロード ポップアップをブロックする可能性があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-156">Browsers might block the download pop-up that is generated.</span></span> <span data-ttu-id="159eb-157">**1 回許可** または **このサイトのオプション** &gt; **常に許可** を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-157">Select either **Allow once** or **Options for this site** &gt; **Always allow**.</span></span> <span data-ttu-id="159eb-158">その後、再度 **ダウンロード** を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-158">Then select **Download** again.</span></span>

7. <span data-ttu-id="159eb-159">アクション ウィンドウで、**ダウンロード**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-159">On the Action Pane, select **Download**.</span></span>
8. <span data-ttu-id="159eb-160">ドロップダウン メニューで、**Async Server Connector service** を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-160">On the drop-down menu, select **Async Server Connector service**.</span></span>
9. <span data-ttu-id="159eb-161">Internet Explorer ウィンドウの下部に表示される通知バーで、**保存**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-161">On the Notification bar that appears at the bottom of the Internet Explorer window, select **Save**.</span></span> <span data-ttu-id="159eb-162">(通知バーは、他のブラウザでは別の場所に表示される場合があります。)</span><span class="sxs-lookup"><span data-stu-id="159eb-162">(The Notification bar might appear in a different place in other browsers.)</span></span>

    > [!NOTE]
    > <span data-ttu-id="159eb-163">選択したチャネル データベースの Connector for Microsoft Dynamics AX パッケージに基づいて、適切なパッケージがダウンロード用に自動的に選択されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-163">The correct installation package is automatically selected for download, based on the Connector for Microsoft Dynamics AX package on the selected channel database.</span></span>

10. <span data-ttu-id="159eb-164">セットアップ インストーラが保存されたら、通知バーの、**実行**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-164">After the setup installer has been saved, on the Notification bar, select **Run**.</span></span> <span data-ttu-id="159eb-165">(この手順はブラウザの種類によって異なる場合があります。)</span><span class="sxs-lookup"><span data-stu-id="159eb-165">(This step might differ, depending on the type of browser.)</span></span>
11. <span data-ttu-id="159eb-166">**Real-time service for Dynamics AX 2012 R3** に対して手順 4 ～ 10 を繰り返します。</span><span class="sxs-lookup"><span data-stu-id="159eb-166">Repeat steps 4 through 10 for **Real-time service for Dynamics AX 2012 R3**.</span></span>

### <a name="running-the-connector-for-microsoft-dynamics-ax-installers"></a><span data-ttu-id="159eb-167">Microsoft Dynamics AX インストーラーのコネクタを実行中</span><span class="sxs-lookup"><span data-stu-id="159eb-167">Running the Connector for Microsoft Dynamics AX installers</span></span>

> [!NOTE]
> <span data-ttu-id="159eb-168">Connector for Microsoft Dynamics AX インストーラーを実行する前に、次の要件が満たされていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="159eb-168">Before you run the Connector for Microsoft Dynamics AX installers, make sure that the following requirements are met:</span></span>
> - <span data-ttu-id="159eb-169">インストーラーでは、Microsoft .NET Framework バージョン 4.5.1 がシステムにインストールされている必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-169">The installer requires that the Microsoft .NET Framework version 4.5.1 be installed on the system.</span></span>
> - <span data-ttu-id="159eb-170">インストーラーは、Connector for Microsoft Dynamics AX アプリケーションを次のオペレーティング システムにのみインストールします。</span><span class="sxs-lookup"><span data-stu-id="159eb-170">The installers install the Connector for Microsoft Dynamics AX applications only on the following operating systems.</span></span> <span data-ttu-id="159eb-171">任意のコンポーネントをインストールする前に、オペレーティング システムに使用可能なすべてのサービス パックおよび更新プログラムを更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-171">Before you install any component, you must update the operating system with all service packs and updates that are available for it.</span></span>
>     - <span data-ttu-id="159eb-172">Windows 7 Professional、Enterprise、または Ultimate エディション (x86 および x64 アーキテクチャの両方)。</span><span class="sxs-lookup"><span data-stu-id="159eb-172">Windows 7 Professional, Enterprise, or Ultimate edition (both x86 and x64 architectures).</span></span> <span data-ttu-id="159eb-173">Home エディションおよび埋め込みエディションはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="159eb-173">Home edition and Embedded edition aren’t supported.</span></span>
>     - <span data-ttu-id="159eb-174">Windows 8.1 Update 1 Pro または Enterprise エディション (x86 および x64 アーキテクチャの両方)。</span><span class="sxs-lookup"><span data-stu-id="159eb-174">Windows 8.1 Update 1 Pro or Enterprise edition (both x86 and x64 architectures).</span></span> <span data-ttu-id="159eb-175">標準エディションはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="159eb-175">Standard edition isn’t supported.</span></span>
>     - <span data-ttu-id="159eb-176">Windows 10 Pro または Enterprise エディション (x86 および x64 アーキテクチャの両方)。</span><span class="sxs-lookup"><span data-stu-id="159eb-176">Windows 10 Pro or Enterprise edition (both x86 and x64 architectures).</span></span> <span data-ttu-id="159eb-177">Home エディションはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="159eb-177">Home edition isn’t supported.</span></span>
>     - <span data-ttu-id="159eb-178">Windows Server 2012 R2 または Windows Server 2016。</span><span class="sxs-lookup"><span data-stu-id="159eb-178">Windows Server 2012 R2 or Windows Server 2016.</span></span>

<span data-ttu-id="159eb-179">Microsoft Dynamics AX インストーラーのコネクタは、まず関連付けられているファイルを抽出し、インストールを開始します。</span><span class="sxs-lookup"><span data-stu-id="159eb-179">The Connector for Microsoft Dynamics AX installers first extract the associated files and then begin the installation.</span></span>

#### <a name="async-server-connector-service"></a><span data-ttu-id="159eb-180">Async Server Connector service</span><span class="sxs-lookup"><span data-stu-id="159eb-180">Async Server Connector service</span></span>

1. <span data-ttu-id="159eb-181">インストーラーは、すべての前提条件が満たされていることを検証します。</span><span class="sxs-lookup"><span data-stu-id="159eb-181">The installer validates that all prerequisites are met.</span></span> <span data-ttu-id="159eb-182">これらの前提条件には、SQL Server のローカル インストールなどの SQL 前提条件、または SQL Command Line Utilities やその他の必要な SQL 接続インストールなどの別の前提条件が含まれています。</span><span class="sxs-lookup"><span data-stu-id="159eb-182">These prerequisites include SQL prerequisites, such as a local installation of SQL Server, or the alternative prerequisites, such as SQL Command Line Utilities and other required SQL connectivity installations.</span></span>

    > [!NOTE]
    > - <span data-ttu-id="159eb-183">前提条件を満たすためには、接続されている SQL Server で全文検索が必要であり、最低でもトランスポート層セキュリティ (TLS) 1.2 がサポートされている必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-183">To meet prerequisites, the SQL Server that is connected to must have Full-text search and, at a minimum, support for Transport Layer Security (TLS) 1.2.</span></span> <span data-ttu-id="159eb-184">Microsoft SQL Server 2012 では、最低でも、Service Pack 3 がインストールされる必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-184">For Microsoft SQL Server 2012, Service Pack 3 must be installed, at a minimum.</span></span> <span data-ttu-id="159eb-185">Microsoft SQL Server 2014 では、Service Pack 2 がインストールされる必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-185">For Microsoft SQL Server 2014, Service Pack 2 must be installed.</span></span>
    > - <span data-ttu-id="159eb-186">システムの再起動が必要な場合、インストーラーでこの要件が表示されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-186">If a system restart is required, the installer shows this requirement.</span></span> <span data-ttu-id="159eb-187">再起動することを推奨されていますが、インストーラーを使用せずに続行することができます。</span><span class="sxs-lookup"><span data-stu-id="159eb-187">Although the restart is recommended, the installer can continue without it.</span></span>

2. <span data-ttu-id="159eb-188">Application Object Server (AOS) URL (小売用バック オフィスへのアクセスに使用される URL) を確認し、**次へ** を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-188">Verify the Application Object Server (AOS) URL (the URL that is used to access Retail headquarters), and then select **Next**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="159eb-189">この URL は、構成ファイルから自動的に入力されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-189">This URL is automatically entered from the configuration file.</span></span>

3. <span data-ttu-id="159eb-190">HTTPS 通信に使用する、有効な Secure Sockets Layer (SSL) 証明書を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-190">Select a valid Secure Sockets Layer (SSL) certificate to use for HTTPS communication.</span></span> <span data-ttu-id="159eb-191">**次へ** を選択して続行します。</span><span class="sxs-lookup"><span data-stu-id="159eb-191">Select **Next** to continue.</span></span>

    > [!NOTE]
    > <span data-ttu-id="159eb-192">証明書は秘密キー ストレージを使用する必要があり、サーバー認証は拡張キー使用プロパティにリストされている必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-192">The certificate must use private key storage, and server authentication must be listed in the enhanced key usage property.</span></span> <span data-ttu-id="159eb-193">また、証明書はローカルに信頼される必要があり、期限切れにすることはできません。</span><span class="sxs-lookup"><span data-stu-id="159eb-193">Additionally, the certificate must be trusted locally, and it can’t be expired.</span></span> <span data-ttu-id="159eb-194">ローカル コンピューターの個人用証明書格納場所に保存する必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-194">It must be stored in the personal certificate store location on the local computer.</span></span>

4. <span data-ttu-id="159eb-195">特定のユーザーが必要な場合は、サービスを実行するために必要なユーザー名とパスワードを入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-195">If a specific user is required, enter the user name and password that the service should run as.</span></span> <span data-ttu-id="159eb-196">既定では、インストーラーは自動的に使用するサービス アカウントを生成します。</span><span class="sxs-lookup"><span data-stu-id="159eb-196">By default, the installer automatically generates a service account to use.</span></span> <span data-ttu-id="159eb-197">この方法は、安全性が向上しお勧めしますが、データベースが別のコンピューターにある場合は使用できません。</span><span class="sxs-lookup"><span data-stu-id="159eb-197">This approach is more secure and is recommended, but it can't be used when the database is located on a separate computer.</span></span> <span data-ttu-id="159eb-198">**次へ** を選択して続行します。</span><span class="sxs-lookup"><span data-stu-id="159eb-198">Select **Next** to continue.</span></span>
5. <span data-ttu-id="159eb-199">使用する必要のある HTTPS ポートを確認し、コンピューターのホスト名が正しいことを確認します。</span><span class="sxs-lookup"><span data-stu-id="159eb-199">Verify the HTTPS port that should be used, and verify that the host name of the computer is correct.</span></span> <span data-ttu-id="159eb-200">**次へ** を選択して続行します。</span><span class="sxs-lookup"><span data-stu-id="159eb-200">Select **Next** to continue.</span></span>

    > [!NOTE]
    > - <span data-ttu-id="159eb-201">HTTPS ポートは、店舗システムのプロファイルに一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-201">The HTTPS port is listed in the Store system profile.</span></span> <span data-ttu-id="159eb-202">店舗システム プロファイルにアクセスするには、**小売店舗詳細** ページの **店舗システム** FastTabで、選択した店舗システムのプロファイル ID を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-202">To access the Store system profile, on the **Retail store details** page, on the **Store systems** FastTab, select the profile ID of the selected Store system.</span></span>
    > - <span data-ttu-id="159eb-203">インストーラーは自動的にホスト名を入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-203">The installer automatically enters the host name.</span></span> <span data-ttu-id="159eb-204">何らかの理由で、インストールのためにホスト名を変更する必要がある場合は、ここで変更します。</span><span class="sxs-lookup"><span data-stu-id="159eb-204">If, for any reason, the host name must be changed for the installation, change it here.</span></span> <span data-ttu-id="159eb-205">ホスト名はシステムの FQDN でなければなりません。また、このトピックの前半のセクションにある **Connector for Microsoft Dynamics AX** ページに入力した値と一致する必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-205">The host name must be the FQDN of the system, and it must match the value that you entered on the **Connector for Microsoft Dynamics AX** page in the previous section of this topic.</span></span>

6. <span data-ttu-id="159eb-206">アプリケーション ID (クライアント ID) および Connector for Microsoft Dynamics AX installation インストールと関連するシークレットを入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-206">Enter the application ID (client ID) and secret that are associated with this Connector for Microsoft Dynamics AX installation.</span></span> <span data-ttu-id="159eb-207">また、コンフィギュレーション ファイルから自動的に入力されるチャネル データベース ID を確認します。</span><span class="sxs-lookup"><span data-stu-id="159eb-207">Additionally, verify the channel database ID, which is automatically entered from the configuration file.</span></span> <span data-ttu-id="159eb-208">その後、**インストール** を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-208">Then select **Install**.</span></span>

    > [!NOTE]
    > - <span data-ttu-id="159eb-209">クライアント ID およびシークレットを作成するため Azure Web アプリを正しく生成する方法の詳細については、[Azure Active Directory アプリケーションを作成する](/azure/azure-resource-manager/resource-group-create-service-principal-portal#create-an-azure-active-directory-application) で「Azure AD でアプリケーションを登録するための基本」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="159eb-209">For information about how to correctly generate an Azure Web App to create a client ID and secret, see the "Basics of Registering an Application in Azure AD" section in [Create an Azure Active Directory Application](/azure/azure-resource-manager/resource-group-create-service-principal-portal#create-an-azure-active-directory-application).</span></span>
    > - <span data-ttu-id="159eb-210">Web アプリを作成するとき、最初の URI と URL は特定の値である必要はありません。</span><span class="sxs-lookup"><span data-stu-id="159eb-210">When you create the Web App, the initial URI and URL don't have to be any specific value.</span></span> <span data-ttu-id="159eb-211">作成されるアプリケーション ID (クライアント ID) とシークレットのみ重要です。</span><span class="sxs-lookup"><span data-stu-id="159eb-211">Only the application ID (client ID) and secret that are created are important.</span></span>

7. <span data-ttu-id="159eb-212">インストールが完了すると、最終正常性ページが表示されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-212">After the installation is completed, the final health page appears.</span></span> <span data-ttu-id="159eb-213">このページには、インストールが成功したかどうかが表示されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-213">This page shows whether the installation was successful.</span></span> <span data-ttu-id="159eb-214">また、基本的な接続テストに基づいた各コンポーネントの正常性と、このトピックの場所について示します。</span><span class="sxs-lookup"><span data-stu-id="159eb-214">It also shows the health of each component, based on basic connection tests, and the location of this topic.</span></span> <span data-ttu-id="159eb-215">インストールに失敗した場合は、ページにログ ファイルの場所が表示されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-215">If the installation wasn't successful, the page shows the location of the log files.</span></span>
8. <span data-ttu-id="159eb-216">アプリケーション ID (クライアント ID) とシークレットが作成された後、アプリケーション ID は、小売で受け入れる必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-216">After an application ID (client ID) and secret are created, the application ID must be accepted in Retail.</span></span> <span data-ttu-id="159eb-217">**システム管理** &gt; **セットアップ** &gt; **Azure Active Directory アプリケーション**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="159eb-217">Go to **System administration** &gt; **Setup** &gt; **Azure Active Directory applications**.</span></span> <span data-ttu-id="159eb-218">クライアント ID を**クライアント ID** 列に入力し、説明のテキストを**名**列に入力および **RetailServiceAccount** を**ユーザー ID** 列に入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-218">Enter the client ID in the **Client ID** column, enter descriptive text in the **Name** column, and enter **RetailServiceAccount** in the **User ID** column.</span></span>
9. <span data-ttu-id="159eb-219">小売の**小売共有パラメーター** ページにクライアント ID を追加します。</span><span class="sxs-lookup"><span data-stu-id="159eb-219">Add the client ID to the **Retail shared parameters** page in Retail.</span></span>

    1. <span data-ttu-id="159eb-220">Retail で、**Retail** &gt; **本社の設定** &gt; **パラメーター** &gt; **小売共有パラメーター**に移動します。</span><span class="sxs-lookup"><span data-stu-id="159eb-220">In Retail, go to **Retail** &gt; **Headquarters setup** &gt; **Parameters** &gt; **Retail shared parameters**.</span></span>
    2. <span data-ttu-id="159eb-221">**ID プロバイダー** を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-221">Select **Identity providers**.</span></span>
    3. <span data-ttu-id="159eb-222">**ID プロバイダー**クイック タブで、**HTTPS://sts.windows.net/** で始まるプロバイダーを選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-222">On the **Identity providers** FastTab, select the provider that begins with **HTTPS://sts.windows.net/**.</span></span> <span data-ttu-id="159eb-223">選択に基づいて、**依存する関係者** FastTab の値が設定されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-223">The values on the **Relying parties** FastTab are set, based on your selection.</span></span>
    4. <span data-ttu-id="159eb-224">**依存する関係者**クイック タブで、**+ 追加**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-224">On the **Relying parties** FastTab, select **+Add**.</span></span> <span data-ttu-id="159eb-225">このインストールに作成されたクライアント ID を入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-225">Enter the client ID that was created for this installation.</span></span> <span data-ttu-id="159eb-226">**Type** フィールドを **Public** に、**UserType** フィールドを **Worker** に設定します。</span><span class="sxs-lookup"><span data-stu-id="159eb-226">Set the **Type** field to **Public** and the **UserType** field to **Worker**.</span></span> <span data-ttu-id="159eb-227">[アクション] ウィンドウで、**保存** を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-227">Then, on the Action Pane, select **Save**.</span></span>
    5. <span data-ttu-id="159eb-228">アクション ウィンドウで、**保存**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-228">On the Action Pane, select **Save**.</span></span>

10. <span data-ttu-id="159eb-229">完了したら、アプリケーション インストーラーに戻り、**完了** を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-229">When you've finished, return to the application installer, and select **Finish**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="159eb-230">インストーラーがコンポーネントのチェック マークを表示しない場合は、10 分待って、キャッシュされた値をクラウドで更新できるようにします。</span><span class="sxs-lookup"><span data-stu-id="159eb-230">If the installer doesn't show a check mark for the component, wait 10 minutes so that any cached values can be updated in the cloud.</span></span> <span data-ttu-id="159eb-231">再び確認します。</span><span class="sxs-lookup"><span data-stu-id="159eb-231">Then check again.</span></span> <span data-ttu-id="159eb-232">それでもインストーラーが完全に成功しない場合は、このインストールを使用する配送スケジュールで完全同期を実行します。</span><span class="sxs-lookup"><span data-stu-id="159eb-232">If the installer still isn't fully successful, run a full synchronization on the distribution schedule that this installation uses.</span></span>

#### <a name="real-time-service-for-ax-2012-r3"></a><span data-ttu-id="159eb-233">AX 2012 R3 のリアルタイム サービス</span><span class="sxs-lookup"><span data-stu-id="159eb-233">Real-time service for AX 2012 R3</span></span>

1. <span data-ttu-id="159eb-234">インストーラーは、すべての前提条件が満たされていることを検証します。</span><span class="sxs-lookup"><span data-stu-id="159eb-234">The installer validates that all prerequisites are met.</span></span>

    > [!NOTE]
    > <span data-ttu-id="159eb-235">システムの再起動が必要な場合、インストーラーでこの要件が表示されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-235">If a system restart is required, the installer shows this requirement.</span></span> <span data-ttu-id="159eb-236">再起動することを推奨されていますが、インストーラーを使用せずに続行することができます。</span><span class="sxs-lookup"><span data-stu-id="159eb-236">Although the restart is recommended, the installer can continue without it.</span></span>

2. <span data-ttu-id="159eb-237">AOS URL (小売用バック オフィスへのアクセスに使用される URL) を確認し、**次へ** を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-237">Verify the AOS URL (the URL that is used to access Retail headquarters), and then select **Next**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="159eb-238">この URL は、構成ファイルから自動的に入力されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-238">This URL is automatically entered from the configuration file.</span></span>

3. <span data-ttu-id="159eb-239">HTTPS 通信に使用する、有効な SSL 証明書を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-239">Select a valid SSL certificate to use for HTTPS communication.</span></span> <span data-ttu-id="159eb-240">**次へ** を選択して続行します。</span><span class="sxs-lookup"><span data-stu-id="159eb-240">Select **Next** to continue.</span></span>

    > [!NOTE]
    > <span data-ttu-id="159eb-241">証明書は秘密キー ストレージを使用する必要があり、サーバー認証は拡張キー使用プロパティにリストされている必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-241">The certificate must use private key storage, and server authentication must be listed in the enhanced key usage property.</span></span> <span data-ttu-id="159eb-242">また、証明書はローカルに信頼される必要があり、期限切れにすることはできません。</span><span class="sxs-lookup"><span data-stu-id="159eb-242">Additionally, the certificate must be trusted locally, and it can’t be expired.</span></span> <span data-ttu-id="159eb-243">ローカル コンピューターの個人用証明書格納場所に保存する必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-243">It must be stored in the personal certificate store location on the local computer.</span></span>

4. <span data-ttu-id="159eb-244">特定のユーザーが必要な場合は、アプリケーション プールを実行するために必要なユーザー名とパスワードを入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-244">If a specific user is required, enter the user name and password that the application pool should run as.</span></span> <span data-ttu-id="159eb-245">既定では、インストーラーは自動的に使用するサービス アカウントを生成します。</span><span class="sxs-lookup"><span data-stu-id="159eb-245">By default, the installer automatically generates a service account to use.</span></span> <span data-ttu-id="159eb-246">この方法は、安全性が向上しお勧めしますが、データベースが別のコンピューターにある場合は使用できません。</span><span class="sxs-lookup"><span data-stu-id="159eb-246">This approach is more secure and is recommended, but it can't be used when the database is located on a separate computer.</span></span> <span data-ttu-id="159eb-247">**次へ** を選択して続行します。</span><span class="sxs-lookup"><span data-stu-id="159eb-247">Select **Next** to continue.</span></span>
5. <span data-ttu-id="159eb-248">使用する必要のある HTTPS ポートを確認し、コンピューターのホスト名が正しいことを確認します。</span><span class="sxs-lookup"><span data-stu-id="159eb-248">Verify the HTTPS port that should be used, and verify that the host name of the computer is correct.</span></span> <span data-ttu-id="159eb-249">**次へ** を選択して続行します。</span><span class="sxs-lookup"><span data-stu-id="159eb-249">Select **Next** to continue.</span></span>

    > [!NOTE]
    > - <span data-ttu-id="159eb-250">HTTPS ポートは、店舗システムのプロファイルに一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-250">The HTTPS port is listed in the Store system profile.</span></span> <span data-ttu-id="159eb-251">店舗システム プロファイルにアクセスするには、**小売店舗詳細** ページの **店舗システム** FastTabで、選択した店舗システムのプロファイル ID を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-251">To access the Store system profile, on the **Retail store details** page, on the **Store systems** FastTab, select the profile ID of the selected Store system.</span></span>
    > - <span data-ttu-id="159eb-252">インストーラーは自動的にホスト名を入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-252">The installer automatically enters the host name.</span></span> <span data-ttu-id="159eb-253">何らかの理由で、インストールのためにホスト名を変更する必要がある場合は、ここで変更します。</span><span class="sxs-lookup"><span data-stu-id="159eb-253">If, for any reason, the host name must be changed for the installation, change it here.</span></span> <span data-ttu-id="159eb-254">ホスト名はシステムの FQDN でなければなりません。また、このトピックの前半にある **Connector for Microsoft Dynamics AX** ページに入力した値と一致する必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-254">The host name must be the FQDN of the system, and it must match the value that you entered on the **Connector for Microsoft Dynamics AX** page earlier in this topic.</span></span>

6. <span data-ttu-id="159eb-255">アプリケーション ID (クライアント ID) および Connector for Microsoft Dynamics AX installation インストールと関連するシークレットを入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-255">Enter the application ID (client ID) and secret that are associated with this Connector for Microsoft Dynamics AX installation.</span></span> <span data-ttu-id="159eb-256">その後、**インストール** を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-256">Then select **Install**.</span></span>

    > [!NOTE]
    > - <span data-ttu-id="159eb-257">このアプリケーション ID とシークレットは、Async Server Connector サービスのインストールで使用したのと同じアプリケーション ID とシークレットにできます。</span><span class="sxs-lookup"><span data-stu-id="159eb-257">This application ID and secret can be the same application ID and secret that you used in the Async Server Connector service installation.</span></span> <span data-ttu-id="159eb-258">クライアント ID およびシークレットを作成するため Azure Web アプリを正しく生成する方法の詳細については、[Azure Active Directory アプリケーションを作成する](/azure/azure-resource-manager/resource-group-create-service-principal-portal#create-an-azure-active-directory-application) で「Azure AD でアプリケーションを登録するための基本」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="159eb-258">For information about how to correctly generate an Azure Web App to create a client ID and secret, see the "Basics of Registering an Application in Azure AD" section in [Create an Azure Active Directory Application](/azure/azure-resource-manager/resource-group-create-service-principal-portal#create-an-azure-active-directory-application).</span></span>
    > - <span data-ttu-id="159eb-259">Web アプリを作成するとき、最初の URI と URL は特定の値である必要はありません。</span><span class="sxs-lookup"><span data-stu-id="159eb-259">When you create the Web App, the initial URI and URL don't have to be any specific value.</span></span> <span data-ttu-id="159eb-260">作成されるアプリケーション ID (クライアント ID) とシークレットのみ重要です。</span><span class="sxs-lookup"><span data-stu-id="159eb-260">Only the application ID (client ID) and secret that are created are important.</span></span>

7. <span data-ttu-id="159eb-261">インストールが完了すると、最終正常性ページが表示されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-261">After the installation is completed, the final health page appears.</span></span> <span data-ttu-id="159eb-262">このページには、インストールが成功したかどうかが表示されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-262">This page shows whether the installation was successful.</span></span> <span data-ttu-id="159eb-263">また、基本的な接続テストに基づいたコンポーネントの正常性と、このトピックの場所について示します。</span><span class="sxs-lookup"><span data-stu-id="159eb-263">It also shows the health of the component, based on basic connection tests, and the location of this topic.</span></span> <span data-ttu-id="159eb-264">インストールに失敗した場合は、ページにログ ファイルの場所が表示されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-264">If the installation wasn't successful, the page shows the location of the log files.</span></span>
8. <span data-ttu-id="159eb-265">アプリケーション ID と秘密が非同期サーバー コネクタ サービスで使用した同じアプリケーション ID と秘密である場合、小売業ではアプリケーション ID を受け入れる必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-265">If the application ID and secret aren't the same as the application ID and secret that you used for the Async Server Connector service, the application ID must be accepted in Retail.</span></span> <span data-ttu-id="159eb-266">**システム管理** &gt; **セットアップ** &gt; **Azure Active Directory アプリケーション**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="159eb-266">Go to **System administration** &gt; **Setup** &gt; **Azure Active Directory applications**.</span></span> <span data-ttu-id="159eb-267">クライアント ID を**クライアント ID** 列に入力し、説明のテキストを**名**列に入力および **RetailServiceAccount** を**ユーザー ID** 列に入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-267">Enter the client ID in the **Client ID** column, enter descriptive text in the **Name** column, and enter **RetailServiceAccount** in the **User ID** column.</span></span>
9. <span data-ttu-id="159eb-268">アプリケーション ID とシークレットが、Async Server Connector サービスに使用したアプリケーション ID とシークレットと同じでない場合は、このインストール用に作成されたアプリケーション ID (クライアント ID) を **Retail 共有パラメーター**に追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-268">If the application ID and secret aren't the same as the application ID and secret that you used for the Async Server Connector service, you must add the application ID (client ID) that was created for this installation to the **Retail shared parameters** page in Retail.</span></span>

    1. <span data-ttu-id="159eb-269">Retail で、**Retail** &gt; **本社の設定** &gt; **パラメーター** &gt; **小売共有パラメーター**に移動します。</span><span class="sxs-lookup"><span data-stu-id="159eb-269">In Retail, go to **Retail** &gt; **Headquarters setup** &gt; **Parameters** &gt; **Retail shared parameters**.</span></span>
    2. <span data-ttu-id="159eb-270">**ID プロバイダー** を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-270">Select **Identity providers**.</span></span>
    3. <span data-ttu-id="159eb-271">**ID プロバイダー**クイック タブで、**HTTPS://sts.windows.net/** で始まるプロバイダーを選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-271">On the **Identity providers** FastTab, select the provider that begins with **HTTPS://sts.windows.net/**.</span></span> <span data-ttu-id="159eb-272">選択に基づいて、**依存する関係者** FastTab の値が設定されます。</span><span class="sxs-lookup"><span data-stu-id="159eb-272">The values on the **Relying parties** FastTab are set, based on your selection.</span></span>
    4. <span data-ttu-id="159eb-273">**依存する関係者**クイック タブで、**+ 追加**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-273">On the **Relying parties** FastTab, select **+Add**.</span></span> <span data-ttu-id="159eb-274">このインストールに作成されたクライアント ID を入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-274">Enter the client ID that was created for this installation.</span></span> <span data-ttu-id="159eb-275">**Type** フィールドを **Public** に、**UserType** フィールドを **Worker** に設定します。</span><span class="sxs-lookup"><span data-stu-id="159eb-275">Set the **Type** field to **Public** and the **UserType** field to **Worker**.</span></span> <span data-ttu-id="159eb-276">[アクション] ウィンドウで、**保存** を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-276">Then, on the Action Pane, select **Save**.</span></span>
    5. <span data-ttu-id="159eb-277">アクション ウィンドウで、**保存**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-277">On the Action Pane, select **Save**.</span></span>

10. <span data-ttu-id="159eb-278">完了したら、アプリケーション インストーラーに戻り、**完了** を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-278">When you've finished, return to the application installer, and select **Finish**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="159eb-279">インストーラーがコンポーネントのチェック マークを表示しない場合は、10 分待って、キャッシュされた値をクラウドで更新できるようにします。</span><span class="sxs-lookup"><span data-stu-id="159eb-279">If the installer doesn't show a check mark for the component, wait 10 minutes, so that any cached values can be updated in the cloud.</span></span> <span data-ttu-id="159eb-280">再び確認します。</span><span class="sxs-lookup"><span data-stu-id="159eb-280">Then check again.</span></span> <span data-ttu-id="159eb-281">それでもインストーラーが完全に成功しない場合は、このインストールを使用する配送スケジュールで完全同期を実行します。</span><span class="sxs-lookup"><span data-stu-id="159eb-281">If the installer still isn't fully successful, run a full synchronization on the distribution schedule that this installation uses.</span></span>

### <a name="help-secure-the-connector-for-dynamics-ax-applications"></a><span data-ttu-id="159eb-282">Dynamics AX アプリケーションのコネクタのセキュリティを強化する</span><span class="sxs-lookup"><span data-stu-id="159eb-282">Help secure the Connector for Dynamics AX applications</span></span>

<span data-ttu-id="159eb-283">現在の Payment Card Industry (PCI) のセキュリティ基準によると、実稼動環境で次のオプションを設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-283">According to current Payment Card Industry (PCI) security standards, the following options should be set in a production environment:</span></span>

- <span data-ttu-id="159eb-284">コンピューターの SSL (v2およびv3) を完全に無効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-284">You should completely disable SSL (v2 and v3) on the computer.</span></span>
- <span data-ttu-id="159eb-285">TLS バージョン 1.2 (または、現時点で最も新しいバージョン) のみを有効にし、使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-285">You should enable and use only TLS version 1.2 (or the current highest version).</span></span>

    > [!NOTE]
    > - <span data-ttu-id="159eb-286">既定では、インストーラーはこれらの設定を変更しません。</span><span class="sxs-lookup"><span data-stu-id="159eb-286">By default, the installers don't change these settings.</span></span> <span data-ttu-id="159eb-287">(この点で、これらのインストーラは他のセルフサービス インストーラとは異なります)。</span><span class="sxs-lookup"><span data-stu-id="159eb-287">(In this respect, these installers differ from other Self-service installers).</span></span> <span data-ttu-id="159eb-288">これらの設定を編集または有効にするには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="159eb-288">To edit or enable these settings, follow these steps:</span></span>
    >     1. <span data-ttu-id="159eb-289">Windows ロゴキーと R キーを同時に押して、**実行**ウィンドウを開きます。</span><span class="sxs-lookup"><span data-stu-id="159eb-289">Press the Windows logo key+R to open a **Run** window.</span></span>
    >     2. <span data-ttu-id="159eb-290">**開く**フィールドに、**Regedit** と入力してから **OK** を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-290">In the **Open** field, enter **Regedit**, and then select **OK**.</span></span>
    >     3. <span data-ttu-id="159eb-291">**ユーザー アカウント制御**ウィンドウで、**はい** (この手順が必要である場合) を選択してから、新しい**レジストリ エディター** ウィンドウで **HKEY\_LOCAL\_MACHINE\\System\\CurrentControlSet\\SecurityProviders\\SCHANNEL\\Protocols** に移動します。</span><span class="sxs-lookup"><span data-stu-id="159eb-291">In the **User Account Control** window, select **Yes** (if this step is required), and then, in the new **Registry Editor** window, go to **HKEY\_LOCAL\_MACHINE\\System\\CurrentControlSet\\SecurityProviders\\SCHANNEL\\Protocols**.</span></span>
    >         <span data-ttu-id="159eb-292">次のキーは自動的に入力され、TLS 1.2 のみが有効になりました。</span><span class="sxs-lookup"><span data-stu-id="159eb-292">The following keys have been automatically entered to enabled only TLS 1.2:</span></span>
    >         - <span data-ttu-id="159eb-293">TLS 1.2\\Server:Enabled=1</span><span class="sxs-lookup"><span data-stu-id="159eb-293">TLS 1.2\\Server:Enabled=1</span></span>
    >         - <span data-ttu-id="159eb-294">TLS 1.2\\Server:DisabledByDefault=0</span><span class="sxs-lookup"><span data-stu-id="159eb-294">TLS 1.2\\Server:DisabledByDefault=0</span></span>
    >         - <span data-ttu-id="159eb-295">TLS 1.2\\Client:Enabled=1</span><span class="sxs-lookup"><span data-stu-id="159eb-295">TLS 1.2\\Client:Enabled=1</span></span>
    >         - <span data-ttu-id="159eb-296">TLS 1.2\\Client:DisabledByDefault=0</span><span class="sxs-lookup"><span data-stu-id="159eb-296">TLS 1.2\\Client:DisabledByDefault=0</span></span>
    >         - <span data-ttu-id="159eb-297">TLS 1.1\\Server:Enabled=0</span><span class="sxs-lookup"><span data-stu-id="159eb-297">TLS 1.1\\Server:Enabled=0</span></span>
    >         - <span data-ttu-id="159eb-298">TLS 1.1\\Client:Enabled=0</span><span class="sxs-lookup"><span data-stu-id="159eb-298">TLS 1.1\\Client:Enabled=0</span></span>
    >         - <span data-ttu-id="159eb-299">TLS 1.0\\Server:Enabled=0</span><span class="sxs-lookup"><span data-stu-id="159eb-299">TLS 1.0\\Server:Enabled=0</span></span>
    >         - <span data-ttu-id="159eb-300">TLS 1.0\\Client:Enabled=0</span><span class="sxs-lookup"><span data-stu-id="159eb-300">TLS 1.0\\Client:Enabled=0</span></span>
    >         - <span data-ttu-id="159eb-301">SSL 3.0\\Server:Enabled=0</span><span class="sxs-lookup"><span data-stu-id="159eb-301">SSL 3.0\\Server:Enabled=0</span></span>
    >         - <span data-ttu-id="159eb-302">SSL 3.0\\Client:Enabled=0</span><span class="sxs-lookup"><span data-stu-id="159eb-302">SSL 3.0\\Client:Enabled=0</span></span>
    >         - <span data-ttu-id="159eb-303">SSL 2.0\\Server:Enabled=0</span><span class="sxs-lookup"><span data-stu-id="159eb-303">SSL 2.0\\Server:Enabled=0</span></span>
    >         - <span data-ttu-id="159eb-304">SSL 2.0\\Client:Enabled=0</span><span class="sxs-lookup"><span data-stu-id="159eb-304">SSL 2.0\\Client:Enabled=0</span></span>
    > - <span data-ttu-id="159eb-305">この構成は、AX 2012 R3 ストア (エンタープライズの POS と最新の POS) とこのトピックにインストールされている本社のコンポーネント間の通信に大きな影響を与えます。</span><span class="sxs-lookup"><span data-stu-id="159eb-305">This configuration will have a major impact on communication between AX 2012 R3 stores (Enterprise POS and Modern POS) and the headquarters components that are installed in this topic.</span></span> <span data-ttu-id="159eb-306">したがって、現在通信がどのように機能しているかを注意深く検討する必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-306">Therefore, you should carefully review how communication currently works.</span></span>

- <span data-ttu-id="159eb-307">知られている特定の理由で必要とされない限り、追加のネットワーク ポートを開かないでください。</span><span class="sxs-lookup"><span data-stu-id="159eb-307">No additional network ports should be open, unless they are required for known, specified reasons.</span></span>
- <span data-ttu-id="159eb-308">クロスオリジンのリソース共有を無効にし、許可され承認されたオリジンを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="159eb-308">You must disable cross-origin resource sharing, and you must specify the allowed origins that are accepted.</span></span>
- <span data-ttu-id="159eb-309">こうしたアプリケーションがインストールされたコンピューターで使用する証明書の取得には、信頼された証明機関のみを活用してください。</span><span class="sxs-lookup"><span data-stu-id="159eb-309">You should use only trusted certificate authorities to obtain certificates that will be used on computers where the applications are installed.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="159eb-310">IIS と PCI の要件向けのセキュリティ ガイドラインを確認することが重要です。</span><span class="sxs-lookup"><span data-stu-id="159eb-310">It's critical that you review security guidelines for IIS and PCI requirements.</span></span>

### <a name="troubleshoot-the-connector-for-microsoft-dynamics-ax-applications"></a><span data-ttu-id="159eb-311">Microsoft Dynamics AX アプリケーションのコネクタのトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="159eb-311">Troubleshoot the Connector for Microsoft Dynamics AX applications</span></span>

<span data-ttu-id="159eb-312">このセクションでは、今後さらに詳細に扱います。</span><span class="sxs-lookup"><span data-stu-id="159eb-312">This section will be more thorough in the future.</span></span> <span data-ttu-id="159eb-313">現時点では、これが確認する項目のチェックリストです。</span><span class="sxs-lookup"><span data-stu-id="159eb-313">For now, here is a checklist of things to verify:</span></span>

1. <span data-ttu-id="159eb-314">Retail の**小売共有パラメーター** ページで、適切なクライアント ID が**依存する関係者**クイック タブに追加されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="159eb-314">In Retail, on the **Retail shared parameters** page, verify that the correct client ID has been added on the **Relying Parties** FastTab.</span></span> 
2. <span data-ttu-id="159eb-315">Retail で、作成されたすべてのクライアント ID が **Azure Active Directory アプリケーション** ページに存在することを確認します。</span><span class="sxs-lookup"><span data-stu-id="159eb-315">In Retail, verify that every client ID that was created exists on the **Azure Active Directory applications** page.</span></span>

### <a name="uninstall-the-connector-for-microsoft-dynamics-ax-applications"></a><span data-ttu-id="159eb-316">Microsoft Dynamics AX アプリケーションのコネクタのアンインストール</span><span class="sxs-lookup"><span data-stu-id="159eb-316">Uninstall the Connector for Microsoft Dynamics AX applications</span></span>

<span data-ttu-id="159eb-317">Microsoft Windows でコントロール パネルを使用して Retail Store システムをアンインストールします。</span><span class="sxs-lookup"><span data-stu-id="159eb-317">Use Control Panel in Microsoft Windows to uninstall Retail Store system.</span></span>

1. <span data-ttu-id="159eb-318">Windows ロゴ キーを押し、検索ボックスに**コントロール パネル**と入力します。</span><span class="sxs-lookup"><span data-stu-id="159eb-318">Press the Windows logo key, and then enter **Control Panel** in the search box.</span></span> <span data-ttu-id="159eb-319">検索結果で、**コントロール パネル**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-319">In the search results, select **Control Panel**.</span></span>
2. <span data-ttu-id="159eb-320">コントロール パネルで、**プログラム** &gt; **プログラムのアンインストール**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-320">In Control Panel, select **Programs** &gt; **Uninstall a program**.</span></span>
3. <span data-ttu-id="159eb-321">**プログラムと機能**ウィンドウで、**Microsoft Dynamics 365 for Retail ストア システム**を選択してから、プログラムの一覧で**アンインストール**を選択します。</span><span class="sxs-lookup"><span data-stu-id="159eb-321">In the **Programs and Features** window, select **Microsoft Dynamics 365 for Retail Store system**, and then, above the list of programs, select **Uninstall**.</span></span>
4. <span data-ttu-id="159eb-322">アンインストールがプログラムの削除を完了するまで待ちます。</span><span class="sxs-lookup"><span data-stu-id="159eb-322">Wait for the uninstaller to finish removing the program.</span></span>


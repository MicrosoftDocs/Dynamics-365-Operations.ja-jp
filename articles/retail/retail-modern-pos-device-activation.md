---
title: Retail Modern POS (MPOS) のコンフィギュレーション、インストール、有効化
description: このトピックでは、さまざまなプラットフォームで Retail Modern POS を構成、ダウンロード、インストールする方法について説明します。 デバイスの有効化を通じて Retail Modern POS を有効化する方法について説明します。
author: jashanno
manager: AnnBe
ms.date: 11/01/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailChannelManagementWorkspace, RetailDevice, RetailTerminalTable
audience: Developer, IT Pro
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: 20501
ms.assetid: 1a8dba89-f81b-40d5-9e1e-dba7b335600d
ms.search.region: Global
ms.search.industry: Retail
ms.author: jashanno
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update
ms.openlocfilehash: 08221cbe97c87bbc20ab61cc0ad333e06bd160ef
ms.sourcegitcommit: f87de0f949b5d60993b19e0f61297f02d42b5bef
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/24/2019
ms.locfileid: "2025066"
---
# <a name="configure-install-and-activate-retail-modern-pos-mpos"></a>Retail Modern POS (MPOS) のコンフィギュレーション、インストール、有効化

[!include [banner](includes/banner.md)]

このトピックでは、さまざまなプラットフォームで Retail Modern POS を構成、ダウンロード、インストールする方法について説明します。 デバイスの有効化を通じて Retail Modern POS を有効化する方法について説明します。

## <a name="technology"></a>テクノロジ

セルフサービス プロセスでは、Retail Modern POS インストーラーの適切なバージョンをダウンロードし、POS (Point Of Sale) レジスターとして使用する物理デバイスにインストールできます。 デバイスのアクティブ化は、物理デバイスを小売本部のレジスターに結びつける主要なオンボード手順です。 この機能の主要な技術的な機能を以下に示します。

- 物理デバイスをビジネス エンティティに関連付けます (登録)。
- Microsoft Azure Active Directory (Azure AD) およびデバイス トークン/ID を通してセキュリティを強化します。
- Retail Modern POS の権限のないリモート使用を阻止します。 (つまり、リモートでデバイスを無効化します。)
- POS の最初のタッチポイントとして簡単な Retail Modern POS の機能 (番号順序、ハードウェア プロファイル、商社情報) の設定を初期化します。
- payment card industry (PCI) 規格に準拠し、小売用バックオフィスからのデバイス情報を報告します。

> [!NOTE]
> オンプレミス環境で使用するための Modern POS をインストールする場合、Modern POS はデバイスの有効化に Azure Active Directory の資格情報を使用しません。

## <a name="setup"></a>セットアップ

このトピックで説明されている手順を開始する前に、次の手順を実行します。

- 小売用バックオフィスにサインインするための資格情報があることを確認します。
- デバイスに Retail Modern POS をインストールするための管理者アクセス権またはルート アクセス権があることを確認します。
- デバイスから Retail サーバーにアクセスできることを確認します。
- その環境に、**人事管理**モジュールの小売アクセス許可グループとジョブが含まれていることを確認します。 これらの権限グループとジョブは、デモ データの一部としてインストールされている必要があります。

## <a name="download-and-install-retail-modern-pos"></a>Retail Modern POS ダウンロードおよびインストール

### <a name="verify-that-the-device-is-correctly-configured"></a>デバイスが正しくコンフィギュレーションされていることを確認します。

1. 小売用バック オフィスで、**Retail** &gt; **チャネル** &gt; **チャネル配置** に移動します。
2. **チャネル配置**ページで、**レジスター**タイルを選択します。
3. **レジスター**ページで、店舗のレジスターを選択します。

    > [!NOTE]
    > デモ データはヒューストン店舗を完全に定義し、セルフサービスを登録しています。 ヒューストン レジスタを見つけるには、デバイス リストの上部にあるフィルターで **Houston** と入力します。

4. **レジスター番号** 列でレジスター番号を選択することにより、レジスターを選択します。

    > [!NOTE]
    > Houston 店舗では、レジスター Houston-3 が適切に定義されているため、例として役立ちます。

5. レジスターのページの、**一般**で、**オフライン サポート**オプションが**いいえ**に設定されていることを確認します。

    > [!NOTE]
    > オフライン サポートを使用するには、アクション ウィンドウで **編集** を選択し、**オフライン サポート** オプションを **はい** に設定します。

### <a name="download-the-retail-modern-pos-installer"></a>Retail Modern POS インストーラーをダウンロードします。

1. **ようこそ**ページで、左上隅のメニューを使用して、**小売** &gt; **チャンネル** &gt; **チャネル配置**に移動します。
2. **チャネル配置**ページで、**デバイス**タイルを選択します。
3. デバイスを選択します。

    > [!NOTE]
    > - Houston デバイスが適切に定義されています。 Houston-3 は、Microsoft Windows デスクトップまたはタブレットの例として役立ちます。 Houston-21 は、Windows Phone の例として役立ちます。
    > - デバイスを選択すると、アクション ウィンドウの **ダウンロード** ボタンを使用できるようになります。

4. **ダウンロード** を選択し、**構成ファイル** を選択します。

    > [!NOTE]
    > - ブラウザーは、生成されたダウンロード ポップアップをブロックする可能性があります。 **1 回許可** または **このサイトのオプション** &gt; **常に許可** を選択します。 次に、デバイスが選択されているときに **ダウンロード** を再度選択します。
    > - コンフィギュレーション ファイルは、Retail Modern POS インストーラーと同じ場所に保存する必要があります。 セキュリティ上の理由から、インストールの完了後に、このファイルを削除します。

5. Internet Explorer ウィンドウの下部に表示される通知バーで、**保存**を選択します。 (通知バーは、他のブラウザでは別の場所に表示される場合があります。)
6. **ダウンロード**を選択し、**Retail Modern POS** を選択します。

    > [!NOTE]
    > - ブラウザーは、生成されたダウンロード ポップアップをブロックする可能性があります。 **1 回許可** または **このサイトのオプション** &gt; **常に許可** を選択します。 次に、デバイスが選択されているときに **ダウンロード** を再度選択します。
    > - 使用する必要があるインストール パッケージは、オフラインサポートが必要かどうかと、Retail Modern POS をインストールするデバイスが Windows のタブレットまたは電話デバイス (Windows Phone、Android デバイス、または iOS デバイス) かどうかによって異なります。 レジスターの設定と、デバイスに設定されているアプリケーションのタイプに基づいて、適切なパッケージがダウンロード用に自動的に選択されます。 Windows タブレットでオフライン パッケージが選択されていますが、Microsoft SQL Server が既にインストールされていない場合 (またはオフライン パッケージの要件を満たしていない場合)、SQL Server をダウンロードし、サイレント インストールします。

7. Internet Explorer ウィンドウの下部に表示される通知バーで、**保存**を選択します。 (通知バーは、他のブラウザでは別の場所に表示される場合があります。)
8. セットアップ インストーラが保存されたら、通知バーの、**実行**を選択します。 (この手順はブラウザによって異なる場合があります。)

### <a name="run-the-installer-on-a-windows-computer"></a>Windows コンピューターでインストーラーを実行する

> [!NOTE]
> - Retail Modern POS インストーラーを実行する前に、すべての[システム要件](../fin-and-ops/get-started/system-requirements.md)が満たされていることを確認してください。
> - インストーラーは、最新のアプリケーションをサイドロードします。 したがって、サイドロードされたアプリケーションを許可するようにグループ ポリシー エントリを設定する必要があります。 インストーラーは、このインストールを可能にするために、次のように関連するレジストリ キーを変更します。
>
>    - **パス:** HKLM:SoftwarePoliciesMicrosoftWindowsAppx
>    - **プロパティ:** AllowAllTrustedApps
>    - **値:** 1

オンプレミス環境で使用する Retail Modern POS をインストールする場合は、次のようにコマンド ラインからインストーラーを起動する必要があります。

ModernPosSetupOffline.exe -UseAdfsAuthentication

Retail Modern POS インストーラーは、まず関連付けられているファイルを抽出し、インストールを開始します。

1. インストーラーは、すべての前提条件が満たされていることを検証します。

    > [!NOTE]
    > - システムの再起動が必要な場合は、インストーラーでこれに関する要件を確認できますが、通常インストールを続行できます。
    > - Retail Modern POS のサイドローディングインストールには、グループ ポリシーの変更が必要です。 この変更が必要かどうかがインストーラーによって通知され、自動的に変更されます。

2. オフライン サポートを選択しましたが、SQL サーバーの有効なバージョンが見つからない場合、インストーラーは、Microsoft SQL Server 2014 with Service Pack 2 (SP2) をダウンロードし、インストールします。 前提条件を満たすためには、SQL Server に全文検索がインストールされている必要があります。 また、Microsoft SQL Server 2014 には最低限の SP2 がインストールされている必要があるか、または Microsoft SQL Server 2012 には最低限の Service Pack 3 (SP3) がインストールされている必要があります。

    > [!NOTE]
    > - インストーラーは正しい言語をダウンロードしようとします。 ただし、特定の言語を必要とする場合、SQL Server を手動でインストールすることを強くお勧めします。 インストーラーが言語を正しく指定できない場合は、既定で SP2 で SQL Server 2014 Express の英語版をインストールします。 通常、SQL のインストールが完了したら、Retail Modern POS のインストールを続行する前にシステムを再起動する必要があります。
    > - このプロセスには、コンピュータの速度とインターネット接続に応じて、時間がかかることがあります。 この手順で前提条件が満たされない場合は、まずインストーラを再試行してください。 それでもインストーラーに失敗する場合は、このトピックの[トラブルシューティング](#troubleshooting)を参照します。

3. インストーラーで Retail Modern POS をインストールします。
4. インストールが成功したことを示すページで、**閉じる**を選択しインストーラーを終了します。

プログラムを開始できるようになりました。

> [!NOTE]
> このインストールは、インストーラーを実行した管理者ユーザーに対してのみ行われます。 その他のすべてのユーザーについては、Retail Modern POS をインストールするデスクトップ アイコンが作成されます。 ユーザーがサインインするたびに、そのユーザーがアイコンをダブルクリックする必要があります。 その後、要求に応じて、プログラムがインストールまたは更新されます。 更新後にユーザーがデスクトップ アイコンを使用しない場合、POS クライアントは、実行する前に正しく更新されるように、デスクトップ アイコンからら実行するようユーザーに POS クライアントより要求されます。

### <a name="run-the-installer-on-any-other-device-windows-phone-google-android-device-or-apple-ios-device"></a>その他のデバイス (Windows Phone、Google Android デバイス、または Apple iOS デバイス) でインストーラーを実行する

1. アプリケーションが、デバイスに直接ダウンロードされなかった場合、ダウンロードしたアプリケーション ファイルと関連付けられている構成ファイルをデバイス上の同じフォルダに転送します。 デバイスの種類によっては、APP ファイル、APK ファイル、または IPA ファイルになります。

    > [!NOTE]
    > このステップはさまざまな方法で実行できます。 たとえば、共有フォルダー、USB ケーブル経由での転送、またはユーザーのデバイスへの安全な送信を通してファイルにアクセスすることができます。

2. デバイスのファイル エクスプローラーを使用して、アプリ ディレクトリを参照します。
3. アプリケーションのインストールを開始するためにアプリケーションをタップします。 (コンフィギュレーション ファイルが同じ場所に保存されている場合は、アプリケーションを起動してデバイスの有効化を開始すると、Retail Server URL が自動的に入力されます。)

    > [!NOTE]
    > 一部のデバイスでは、アプリケーションのインストールを開始するためにファイルをダブルタップする必要があります。 一部のデバイスは、アプリケーションがインストールされたことを通知しないことがあります。 これらのデバイスで、アプリケーション一覧を見て、アプリケーションが正しくインストールされたことを確認することをお勧めします。

4. インストールが完了したら、デバイス上のアプリケーション一覧にあるアプリケーションを起動できるようにする必要があります。 たとえば、Windows Phone にアプリケーションをインストールした後は、ホーム画面のタイルの一覧から開始できます。

プログラムを開始できるようになりました。

## <a name="create-a-worker"></a>作業者を作成

このトピックのでは、既に作業者を作成し、彼らを提供されているデモ データ内のヒューストン アドレス帳に割り当てました。 したがって、このトピックでは事前生成データを使用します。

### <a name="create-a-worker"></a>作業者を作成

1. **小売** &gt; **従業員** &gt; **作業者**の順に移動します。
2. アクション パネルにて **+新規** を選択して新しい従業員を作成します。
3. 名前および姓を入力します。 たとえば、**John** を名として、**Smith** を姓として入力します。
4. **法人** フィールドが **USRT** に設定され、**作業者の種類** フィールドが **従業員** に設定され、**雇用開始日** フィールドが当日の午前 12 時に設定されていることを確認し、従業員の雇用がすぐに開始されるようにします。
5. **職位の割り当て** チェック ボックスを選択します。 ストア マネージャーの職位ある職位番号 **000544** を選択します。
6. **個人のアクション タイプ** フィールドを **採用アクション** に設定し、すぐに新しい従業員を雇用します。
7. **続行** を選択します。
8. アクション ウィンドウで、**完了**を選択し新しい作業者の作成を終了します。
9. 作業者リストに戻ります。 新しく作成された作業者 (たとえば、John Smith など) を検索します。 新しい作業者の詳細を表示する作業者の名前を選択します。
10. アクション ウィンドウで、**編集**を選択します。
11. 作業者用の言語が **ja-JP** になっていることを確認します。
12. **作業者集計** の **アドレス帳** フィールドで、**ヒューストン** ストアを選択します。
13. **小売**タブで、POS パスワードをリセットすることができます。 このチュートリアルでは、パスワードを **123** にリセットします。
14. **小売**タブの、**画面レイアウト**で、画面レイアウトを割り当てます。 たとえば、**F2MP16:9M** (**Fabrikam MPOS マネージャー (16:9)**) を選択します。
15. アクション ウィンドウで、**保存**を選択します。
16. **小売** &gt; **定期処理** &gt; **配送スケジュール** の順に移動します。
17. **1060 – スタッフ** ジョブを選択し、アクション ウィンドウで **今すぐ実行** を選択して作業者データをチャネル データベースに同期します。
18. 新しい作業者が作成され、店舗に同期された後、作業者ジョン スミスは割り当てられたヒューストン ストアで使用されているすべての POS デバイスにサインインし、トランザクションを実行できます。 ただし、デバイスが最初に有効になっている必要があります。 次のセクションでは、新しい作業者用のデバイスを有効にする方法について説明します。

### <a name="map-an-azuread-account-to-a-worker-who-has-pos-permissions-for-device-activation"></a>デバイスの有効化の POS アクセス許可がある作業者に、Azure AD アカウントをマップします

新しい作業者の Retail Modern POS をアクティブにする前に、この手順を完了する必要があります。

1. Retail の**作業者**ページから前の手順で作成した作業者の**作業者の詳細**ページを開きます。
2. アクション ウィンドウで、**編集**を選択します。
3. **小売**タブで、**POS アクセス許可**リンクを選択します。 **POS のアクセス許可グループ** で、値が **マネージャ** であることを確認します。
4. 完了したら、新しい作業者の **作業者の詳細** のページに戻ります。

    > [!NOTE]
    > **作業者の詳細** ページに戻るには、アクション ウィンドウの右側にある **閉じる** ボタン (**X**) を選択します。

5. アクション ウィンドウで、**小売**を選択し、**既存の ID の関連付け**を選択します。
6. 表示されるダイアログ ボックスで、**AX 管理の管理者**という Azure AD アカウントを選択します。(代替管理者の Azure AD アカウントが作成されている場合は、そのアカウントを選択します)。
7. **OK** を選択します。 デモ データには、小売用バックオフィスで管理者アカウントに関連付けられている Azure AD アカウントが、管理者 Azure AD アカウントです。
8. アクション ウィンドウで、**保存**を選択し、ページを更新します。 **外部 ID** セクションは、新しい情報で更新される必要があります。

    > [!NOTE]
    > **外部識別子** フィールドは空のままです。 この動作は予期されています。 したがって、これは無視できます。

この手順は、Retail Cloud POS または Retail Modern POS を有効化する前に完了する必要があります。 詳細については、[本社からの Retail アカウントとデバイスの管理](set-up-activation-accounts-validate-devices-hq.md) を参照してください。

### <a name="run-the-validate-devices-for-activation-check"></a>有効化チェックのためにデバイス検証を実行

1. 小売用バックオフィスで、**デバイス** ページ (**Retail と Commerce** &gt; **POS の設定** &gt; **デバイス**) を開きます。
2. デバイスの有効化を検証するデバイスを選択し、**デバイスで有効化を検証する** を選択します。 たとえば、デバイスの **HOUSTON-3** を選択します。
3. 表示されるダイアログ ボックスで、デバイスを検証する作業者 (前の手順で Azure AD アカウントにマップされた作業者) を選択します。 たとえば、作業者の **000160** を選択します。
4. **OK** を選択し、次のメッセージが表示されることを確認します。「デバイス HOUSTON-3 とスタッフ 000160 の有効化前の検証が完了しました。 検証: 成功

## <a name="activate-a-device"></a>デバイスのアクティブ化

1. コンピュータで Retail Modern POS を開始します。 **開始する前に**ページの手順を読み、完了したことを確認します。 その後、**次へ** を選択します。
2. **有効化** を選択します。 Azure AD サインイン ページにリダイレクトされます。
3. `admin@<MyCompany>.onmicrosoft.com` など、以前マップした Azure AD アカウントおよびパスワードを入力します。
4. 有効化が完了したら、**開始** を選択します。
5. 作業者アカウント **000160** とパスワード **123** を使用して Retail Modern POS にログインします。

デバイスが有効化され、使用する準備ができました。

## <a name="update-the-retail-modern-pos-application"></a>Retail Modern POS アプリケーションの更新

> [!NOTE]
> 配置可能パッケージの詳細については、[配置可能パッケージの適用](../dev-itpro/deployment/apply-deployable-package-system.md)の記事を参照してください。

1. Retail Modern POS アプリケーションが環境にアップロードされた後、デバイスでパッケージのバージョンを選択することができます。 パッケージ一覧には、新しいアップロードされたアプリケーションが含まれている必要があります。
2. Retail Modern POS アプリケーションを更新するには、「[Retail Modern POS をダウンロードしてインストールする](#download-and-install-retail-modern-pos)」セクションの手順に従ってください。 インプレース更新を行うには、新しいバージョンのセルフ サービス インストーラーを実行します。 アンインストールは必須でないか、推奨されていません。 デバイスの有効化状態は更新後も維持されます。
3. インストーラーは、現在インストールされているコンフィギュレーション設定を使用します。 Retail でさまざまな構成が変更したために、構成ファイルが変更した場合、更新によって Retail Modern POS アプリケーションは変更されません。

## <a name="troubleshooting"></a>トラブルシューティング

### <a name="troubleshoot-installation"></a>インストールに関するトラブルシューティング

- ブラウザーが、生成されるダウンロード ポップアップをブロックします。

    **ソリューション:** いずれかを選択 **1 回のみ許可**または**このサイトのオプション** &gt; **常に許可** (または使用しているブラウザーで同等のコマンド)。 次に、正しいレジスターが選択されているときに **ダウンロード** を再度選択します。

- 使用する必要があるインストール パッケージは、オフライン サポートが必要かどうかによって異なります。 適切なパッケージがダウンロード用に自動的に選択されます。 オフライン パッケージについては、SQL Server がインストールされている必要があり、オフライン パッケージの要件を満たす必要があります。

    **ソリューション:** 何もする必要はありません。 SQL Server が既にインストールされていない場合 (または、要件を満たしていない場合)、それをダウンロードおよびインストールします。 インストーラーは、SQL Server Express 2014 のダウンロードとインストールに関する一般的な情報を提供します。 このインストールには長い時間がかかることがあります。

- このインストールは、インストーラーを実行した管理者ユーザーに対してのみ行われ、その他のユーザーに対しては行われません。

    **ソリューション:** インストーラは、Retail Modern POS のインストール、アップグレード、および実行に使用されるデスクトップ アイコンを生成します。 このアイコンは、コンピューター上のすべてのユーザーに対して生成されます。 Retail Modern POS をインストールする必要があるユーザーは、このアイコンをダブルクリックすると、そのプログラムがインストールされます。 ユーザーは Retail Modern POS を使用できます。

- セルフ サービス Retail Modern POS インストーラーを使うと、SQL Server が正常にダウンロードおよびインストールされません。

    - **ソリューション 1:** 理由のリストに失敗した前提条件を表示します。 一覧に **SMO** または **SQL 管理オブジェクト** が含まれている場合は、まずインストーラーを再実行します。 SQL Server Management Objects (SMO) は、SQL Server のインストール時にインストールされます。 したがって、オペレーティング システムが、使用した実行可能プログラムの登録を取得していない可能性があります。 インストーラーをもう一度実行するとき、前提条件は再テストされ、前提条件の確認によって必要な実行可能プログラムを正しく確認する必要があります。 インストーラーが引き続き失敗する場合は、システムを再起動して、SQL Server の登録を完全に完了し、インストーラーを再実行します。
    - **ソリューション 2:** 手動でダウンロードし、Advanced Tools を使用して SQL Server (Microsoft SQL Server Express または別のバージョン) をインストールします。 インストール時に、追加機能として**フルテキスト検索**を選択します。

- パフォーマンス (perf) カウンターの登録に失敗したため、Retail Modern POS のインストールが失敗します。

    **ソリューション:** この問題を解決するには、次の手順に従ってください。

    1. 管理者として**コマンド プロンプト** ウィンドウを開きます。
    2. 次のコマンドを入力します。

        ```
        lodctr /s:"perf_backup.txt"
        ```

    3. 次のコマンドを入力します。

        ```
        lodctr /R
        ```

    4. システムでシステムのバックアップのパフォーマンス カウンター設定が再構築されない場合、**lodctr/R** コマンドを再実行します。
    5. Retail Modern POS インストーラーに戻ります。

- クラウド ホスト環境ではなくダウンロードした仮想ハード ディスク (VHD) を使用している場合、ダウンローダーが失敗する場合があります。

    - **ソリューション 1:** ダウンロードした VHD では、Azure ストレージ エミュレーターがインストールされており、正しく動作している必要があります。 そうしないと、セルフサービス パッケージを正しくダウンロードすることはできません。
    - **ソリューション 2:** VHD を Microsoft Hyper-V に統合するプロセス中にエラーが発生した可能性があります。 パッケージを正しくダウンロードする前に、手動でアクセス許可を編集する必要があります。 以下の手順を実行します。

        1. ファイル エクスプローラーで、**C:\\Microsoft Dynamics 365\\70\\Retail Server** を参照します。
        2. **SelfServicePackages** フォルダーを右クリックし、**プロパティ** を選択します。
        3. **セキュリティ**タブで、**編集**をクリックします。
        4. **SelfServiceDeployment のアクセス許可**ダイアログ ボックスで、**追加**を選択します。
        5. **ユーザー、コンピュータ、サービス アカウント、またはグループの選択**ダイアログ ボックスで、**場所**を選択します。
        6. **場所**ダイアログ ボックスで、リスト (ローカル コンピューター) の最初のエントリを選択し、**OK** を選択します。
        7. **ユーザー、コンピュータ、サービス アカウント、またはグループの選択**ダイアログ ボックスで、**IIS\_IUSRS** という名前を入力してから**名前の確認**を選択します。 オブジェクト名は、**IIS\_IUSRS** に変更する必要があります。 **OK**を選択します。
        8. **SelfServiceDeployment のアクセス許可**ダイアログ ボックスで、新しい **IIS\_ISURS** ユーザーを選択します。 **IIS\_IUSRS のアクセス許可** の **フル コントロール** アクセス許可で **許可** を選択します。 **OK**を選択します。
        9. **アクセス許可を開く**ダイアログ ボックスで、**OK** を選択します。

### <a name="troubleshoot-device-activation-for-retail-modern-pos"></a>Retail Modern POS のトラブルシューティング デバイスの有効化

- Microsoft アカウント (Azure AD) サインイン ページは開きません。

    **ソリューション:** Azure AD エンドポイントに到達できない場合があります。 しばらく待ってから、もう一度やり直してください。

- Azure AD アカウントを入力した後、ユーザーが承認されていない状態を示すエラー メッセージを受入します。

    **ソリューション:** Azure AD ユーザーがデバイスを有効化するための POS アクセス許可を持つ作業者にマップされていることを確認します。 作業者の **デバイスの管理** アクセス許可を **はい** に設定する必要があります。

- デバイスの有効化が完了していません。 手順のいずれかの最中に失敗します。

    **ソリューション:** すべてのデータが正しいことを確認するには、このチェックリストに従ってください。

    - 小売用バックオフィスで有効化のためにデバイスを検証チェックを完了し、デバイスが検証をパスしたことを確認します。
    - デバイスを有効化しているクライアント コンピューターで、Retail サーバー URL 正常性チェックにアクセスし、正常性チェックが承認されていることを確認します。 URL には次の形式を使用します: `https://MyCompanyNameret.axcloud.dynamics.com/commerce/healthcheck?testname=ping`
    - 作業者は、Azure AD アカウント (**外部 ID** 下) にマップする必要があります。
    - マッピングされる Azure AD アカウントは、同じテナントに属している必要があります。
    - 作業者を Azure AD アカウントにマップするには、Microsoft Dynamics Lifecycle Services (LCS) の管理者アカウントを使用して Retail Headquarters にサインインします。
    - 作業者がマネージャー ロール内の Retail ユーザーとして設定されていることを確認します。 (この品目は、検証によってチェックされます。)
    - チャネルが公開されていることを確認します。 (この品目は、検証によってチェックされます。)
    - チャネル データベースに小売用バックオフィスから同期したデータが含まれており、ダウンロード ジョブが実行されていることを確認します。
    - **登録** でハードウェア プロファイルを設定します。 (この品目は、検証によってチェックされます。)
    - レジスターおよび店舗に画面レイアウトがあることを確認します。 (この品目は、検証によってチェックされます。)
    - 基本住所が法人に対して設定されていることを確認します。
    - 言語が Commerce Data Exchange: Real-time Service ユーザー プロファイル (デモ データでの JBB) に設定されていることを確認します。
    - リアルタイム サービス プロファイルに適切なアクセス許可があることを確認します。
    - 電子決済 (EFT) のコンフィギュレーションの値があることを確認します。

### <a name="troubleshoot-retail-modern-pos-connectivity"></a>Retail Modern POS 接続のトラブルシューティング

シングル コンピュータ システムでは、開発者トポロジまたはデモ環境など、または Retail Store Scale Unit と Retail Modern POS が同じコンピュータにインストールされている場合、Retail Modern POS はデバイス有効化を完了できません。

**ソリューション:** この問題は、Retail Modern POS が同じコンピュータへのネットワーク コール (つまり、それ自体の呼び出し) を行うことができないために発生します。 この問題を緩和するには、同じコンピュータに対して通信できるように AppContainer ループバック例外を有効にする必要があります。 Retail Modern POS のこのループバックを有効にするのにさまざまなアプリケーションが役立ちます。 ループバックの詳細については、[ループバックの有効化およびネットワーク分離のトラブルシューティングの方法](https://msdn.microsoft.com/library/windows/apps/hh780593.aspx) を参照してください。

## <a name="additional-resources"></a>その他のリソース

[POS のレイアウト デザイナーのインストール](install-pos-layout-designer.md)

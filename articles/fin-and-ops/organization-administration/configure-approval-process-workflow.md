---
title: ワークフローでの承認プロセスのコンフィギュレーション
description: 承認プロセスのプロパティをコンフィギュレーションするには、次の手順に従います。
author: sericks007
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User, IT Pro
ms.reviewer: sericks
ms.search.scope: Core, Operations
ms.custom: 195643
ms.assetid: f853f57b-83ae-4fb0-a9fa-06ea3fc34fa1
ms.search.region: Global
ms.author: donaldc
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 08641eaac31813a8bee3231118f8e2bf802ea3e1
ms.sourcegitcommit: 0f530e5f72a40f383868957a6b5cb0e446e4c795
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/29/2019
ms.locfileid: "325644"
---
# <a name="configure-approval-processes-in-a-workflow"></a>ワークフローでの承認プロセスのコンフィギュレーション

[!include [banner](../includes/banner.md)]

承認プロセスのプロパティをコンフィギュレーションするには、次の手順に従います。

承認プロセスを設定するには、ワークフロー エディターで承認要素を右クリックし、**プロパティ**をクリックして、**プロパティ**フォームを開きます。

## <a name="name-the-approval-process"></a>承認プロセスに名前を付ける

次の手順に従って承認プロセスの名前を入力します。

1. 左ウィンドウで**基本設定**をクリックします。
2. **名前**フィールドに、承認プロセスの固有の名前を入力します。

## <a name="specify-when-the-system-automatically-acts-on-the-document"></a>ドキュメントをシステムで自動的に処理する条件を指定する

特定の条件が満たされる場合にドキュメントを自動的に処理するようにシステムをコンフィギュレーションできます。 たとえば、合計金額が USD 100 未満の経費精算書は、システムによって承認することができます。 ドキュメントをシステムによって処理する条件を指定するには、次の手順に従います。

1. 左ウィンドウで、**自動アクション**をクリックします。
2. **自動アクションの有効化**を選択し、チェック ボックスをオンにします。
3. **条件の追加**をクリックします。
4. 条件を入力します。
5. 必要に応じて追加条件を入力します。
6. 入力した条件が正しくコンフィギュレーションされていることを確認するには、次の手順を実行します。

    1. **テスト**をクリックして、**ワークフロー条件のテスト**フォームを開きます。
    2. フォームの**条件の検証**領域でレコードを選択します。
    3. **テスト**をクリックします。 システムによってレコードが評価され、定義した条件を満たすかどうかが判定されます。
    4. **OK** または**キャンセル**をクリックして、**プロパティ**フォームに戻ります。

7. **自動完了アクション**一覧で、ドキュメントに対してシステムが実行するアクションを選択します。

## <a name="specify-when-notifications-are-sent"></a>いつ通知を送信するかを指定する

ドキュメントが承認、否認、委任、またはエスカレートされたときや、変更が依頼されたときに、ユーザーに通知を送信できます。 通知の送信条件と、通知の送信先のユーザーを指定するには、次の手順に従います。

1. 左ウィンドウで、**通知**をクリックします。
2. 通知の送信するイベントの横にあるチェック ボックスをオンにします。

    - **委任** – 承認対象のドキュメントが別のユーザーに割り当てられたとき。
    - **エスカレート** – 割り当てられたユーザーが割り当て時間内にドキュメントを処理しなかったとき。
    - **承認** – ドキュメントが承認されたとき。
    - **拒否** – ドキュメントが否認されたとき。
    - **変更依頼** – 割り当てられたユーザーが、提出されたドキュメントに対する変更を依頼したとき。

3. 手順 2. で選択したイベントの行を選択します。
4. **通知テキスト**タブをクリックします。
5. テキスト ボックスに、通知のテキストを入力します。
6. テキストをカスタマイズするには、プレースホルダーを挿入します。プレースホルダーは、ユーザーに表示されるときに、適切なデータに置き換えられます。 プレースホルダーを挿入するには、次の手順に従います。

    1. メッセージ ボックス内で、プレースホルダーを表示する位置をクリックします。
    2. **プレースホルダーの挿入**をクリックします。
    3. 表示されるリストで、挿入するプレースホルダーを選択します。
    4. **挿入**をクリックします。

7. 通知の翻訳を追加するには、**翻訳**をクリックします。 表示されるフォームで、次の手順に従います。

    1. **追加**をクリックします。
    2. 表示される一覧で、テキストを入力する言語を選択します。
    3. **翻訳テキスト**テキスト ボックスで、テキストを入力します。
    4. テキストをカスタマイズするためには、プレースホルダーを挿入します。
    5. **閉じる**をクリックします。

8. **受取人**タブをクリックします。
9. 通知の送信先ユーザーを指定します。 次の表のいずれかのオプションを選択し、オプションの追加手順を実行してから、手順 10 に進みます。

    <table>
    <thead>
    <tr>
    <th>オプション</th>
    <th>通知の受信者</th>
    <th>追加手順</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td><strong>参加者</strong></td>
    <td>特定のグループまたはロールに割り当てられたユーザー</td>
    <td>
    <ol>
    <li><strong>参加者</strong> を選択した後、<strong>ロール ベース</strong> タブをクリックします。</li>
    <li><strong>参加者のタイプ</strong> の一覧で、通知の送信先のグループまたはロールのタイプを選択します。</li>
    <li><strong>参加者</strong> の一覧で、通知の送信先のグループまたはロールのタイプを選択します。</li>
    </ol>
    </td>
    </tr>
    <tr>
    <td><strong>ワークフロー ユーザー</strong></td>
    <td>現在のワークフローに参加しているユーザー</td>
    <td>
    <ol>
    <li><strong>ワークフロー ユーザー</strong> を選択したのち、<strong>ワークフロー ユーザー</strong> タブをクリックします。</li>
    <li><strong>ワークフロー ユーザー</strong> の一覧で、ワークフローに参加するユーザーを選択します。</li>
    </ol>
    </td>
    </tr>
    <tr>
    <td><strong>ユーザー</strong></td>
    <td>特定 Microsoft Dynamics 365 for Finance and Operations ユーザー</td>
    <td>
    <ol>
    <li><strong>ユーザー</strong> を選択したのち、<strong>ユーザー</strong> タブをクリックします。</li>
    <li><strong>利用可能なユーザー</strong>: 一覧には、すべての Microsoft Dynamics 365 for Finance and Operations ユーザーが含まれます。 通知の送信先のユーザーを選択して、これらのユーザーを<strong>選択されたユーザー</strong>リストに移動します。</li>
    </ol>
    </td>
    </tr>
    </tbody>
    </table>

10. 手順 2. で選択したイベントごとに手順 3 ～ 9 を繰り返します。

## <a name="specify-a-final-approver"></a>最終承認者を指定する

承認のためにドキュメントを送信した人物が承認者であるような場合は、最終承認者を指定することができます。 最終承認者を指定するには、次の手順に従います。

1. 左ウィンドウで**詳細設定**をクリックします。
2. **最終承認者の使用**チェック ボックスをオンにします。
3. 最終承認者とするユーザーを一覧から選択します。

## <a name="set-a-time-limit"></a>期限の設定

承認プロセスを特定の時間内に完了する必要がある場合は、次の手順に従います。

> [!NOTE]
> これらのステップで選択するオプションは、個々の承認ステップの**割り当て**および**エスカレーション**領域で選択したオプションに上書きされます。

1. 左ウィンドウで**詳細設定**をクリックします。
2. **ワークフローの期限の設定** **要素**チェック ボックスをオンにします。
3. **期間**フィールドで、承認プロセスをいつまでに完了する必要があるかを指定します。 次のいずれかのオプションを選択します。

    - **時間** – 承認プロセスの完了期限を時間数で入力します。 続いて、組織で使用しているカレンダーを選択し、組織の週間労働時間に関する情報を入力します。
    - **日数** – 承認プロセスの完了期限を日数で入力します。 続いて、組織で使用しているカレンダーを選択し、組織の週間労働時間に関する情報を入力します。
    - **週** – 承認プロセスの完了期限を週数で入力します。
    - **月** – 承認プロセスの完了期限を曜日または週で選択します。 たとえば、承認プロセスを当月の第 3 週の金曜日までに完了する必要があるように設定できます。
    - **年** – 承認プロセスの完了期限を曜日、週、および月で選択します。 たとえば、承認プロセスを 12 月の第 3 週の金曜日までに完了する必要があるように設定できます。

4. 時間制限を超過した場合は、システムによってドキュメントが処理されます。 **アクション**の一覧で、システムで実行するアクションを選択します。

## <a name="specify-which-actions-are-available-to-the-user"></a>ユーザーが実行可能なアクションを指定する

承認対象のドキュメントがユーザーに割り当てられた場合、そのユーザーはドキュメントを処理する必要があります。 提出されたドキュメントに対してユーザーがどのアクションを実行できるかを指定するには、次の手順に従います。

1. 左ウィンドウで**詳細設定**をクリックします。
2. ユーザーがドキュメントを承認できる場合は、**承認**チェック ボックスをオンにします。
3. ユーザーがドキュメントを否認できる場合は、**拒否**チェック ボックスをオンにします。
4. ユーザーがドキュメントに対する変更を依頼できる場合は、**変更依頼**チェック ボックスをオンにします。
5. ユーザーが承認対象のドキュメントを別のユーザーに割り当てることができる場合は、**委任**チェック ボックスをオンにします。

> [!NOTE]
> **エンタープライズ ポータルの作業一覧からのアクションの有効化**チェック ボックスは使用されなくなりました。

## <a name="configure-the-approval-steps"></a>承認ステップをコンフィギュレーションする

承認プロセスは、承認ステップで構成されます。 承認プロセスにステップを追加し、そのステップをコンフィギュレーションするには、次の手順を実行します。

1. ワークフロー エディターで、承認プロセスをダブルクリックします。 ワークフロー エディターに承認プロセスのステップが表示されます。
2. 承認ステップを追加するには、**ワークフロー要素**領域からキャンバスにステップをドラッグします。
3. 承認ステップをコンフィギュレーションするには、[承認ステップのコンフィギュレーション](configure-approval-step-workflow.md)を参照してください。

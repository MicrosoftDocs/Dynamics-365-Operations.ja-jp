---
title: 顧客のレシートにプロセッサのクレジット カードのレシートを埋め込む
description: このトピックでは、決済処理業者からのクレジットカードの領収書を顧客の項目別取引レシートに埋め込む方法について説明します。
author: rubendel
manager: annbe
ms.date: 04/07/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: IT Pro
ms.reviewer: josaw
ms.search.scope: Operations, Retail
ms.custom: 141393
ms.assetid: e23e944c-15de-459d-bcc5-ea03615ebf4c
ms.search.region: Global
ms.search.industry: Retail
ms.author: rubendel
ms.search.validFrom: 04-31-2020
ms.dyn365.ops.version: AX 7.0.1
ms.openlocfilehash: 9b4ea930f6353585eb8535df54ccd7c5b87949fa
ms.sourcegitcommit: 728cd7f723ee821337eee315a27977e99a44d9d3
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/11/2020
ms.locfileid: "3258664"
---
# <a name="embed-processor-credit-card-receipts-in-customer-receipts"></a>顧客のレシートにプロセッサのクレジット カードのレシートを埋め込む

[!include [banner](../includes/banner.md)]

このトピックでは、決済処理業者からのクレジットカードの領収書を顧客の項目別取引レシートに埋め込む方法について説明します。 この機能は、Microsoft Dynamics 365 Commerce バージョン 10.0.8 以降で使用できます。

## <a name="key-terms"></a>重要な用語

| 期間 | 説明 |
|---|---|
| 顧客のレシート | 販売時点管理 (Point of Sale) でのキャッシュ アンド キャリー取引の際に発生するレシート。 |
| 顧客のクレジット カード レシート | クレジットカードの支払またはトランザクションで使用されるその他の電子支払のレコードとして印刷されるクレジットカード レシート。 |

## <a name="overview"></a>概要

このトピックでは、決済処理業者からのクレジットカードのレシートを顧客のレシートに直接埋め込むにあたって必要となる手順について説明します。 Dynamics 365 Retail バージョン 10.0.7 およびそれ以前のバージョンでは、顧客のクレジットカードのレシートからいくつかの要素を顧客の項目別の取引レシートに埋め込むことができます。 ただし、決済処理業者から取得した実際のレシートを含めることはできません。 このソリューションは、すべての小売業者にとって受け入れられるものではありませんでした。なぜなら、顧客のクレジットカードのレシートに設定可能なレシートフィールドには、現地の法定要件で規定されているすべての詳細が含まれているとは限らなかったからです。

## <a name="prerequisites"></a>必要条件

次の項目は、決済処理業者のクレジットカードのレシートを顧客のレシートに組み込むために必要です。

- 支払ソフトウェア開発キット (SDK) に準拠して実装される支払コネクタ
- プリンターとつながっている POS

## <a name="set-up-receipts"></a>レシートの設定

1. POSで、"レシートの形式" を検索して **レシートの形式** ページを開きます。
2. POS で使用する**顧客のクレジットカード レシート**形式のレシートを選択します。 デモ データを使用している場合は、レシート形式に **3\_P** を選択し、**印刷の動作** フィールドを **印刷しない** に設定します。
3. **デザイナー** を設定し、レシート デザイナーを開きます。
4. レシートの形式からすべてのフィールドを削除します。

    レシートのセクションを編集するには、まず、レシート デザイナーの左ウィンドウの下部で、当該セクションを選択する必要があります。 次に、[選択済] セクションで目的のレシートの変数を選択します。 最後に、選択した変数を削除するには **、Alt + D** のキーボード ショートカットを使用します。

5. 左ウィンドウの下部にある**ヘッダー** セクションを選択し、**EFTメッセージ**のレシートの変数をヘッダーにドラッグします。

    ![カード所有者のレシートのヘッダにおける EFT メッセージ変数](media/Cardholders.png)

6. **保存** を選択します。
7. レシート デザイナーがまだ開いている場合は、左上隅にある **形式の選択** を選択してレシート セレクターを開きます。
8. レシート セレクターで、 POS で使用する **レシート** の形式を選択します。 デモ データを使用している場合は、レシート形式に **1\_p**  を選択します。
9. レシート デザイナーで、左ウィンドウの**下部**にあるフッター セクションを選択し、**カード支払/入金明細** のレシート変数をフッターにドラッグします。

    ![顧客のレシートのフッターにおけるカードの支払/入金の詳細変数](media/customersreceipt.png)

10. **保存** を選択します。
11. **1090** 配送スケジュールを使用して、変更をPOSに同期します。
12. POS のシフトを閉じ、新しいシフトを開きます。
13. クレジットカード取引を実行して、決済処理業者のクレジット カード レシートが顧客のレシートに埋め込まれていることを確認します。

    ![クレジットカード情報が記載された顧客のレシート](media/receipt_w_cc.png)

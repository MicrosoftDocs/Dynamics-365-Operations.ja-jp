---
title: PayPal のエクスプレス決済を構成する
description: このトピックでは、PayPal のエクスプレス決済を構成して、Microsoft Dynamics 365 Commerce でより迅速なチェックアウト機能を有効にする方法について説明します。
author: BrianShook
ms.date: 05/11/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: brshoo
ms.search.validFrom: 2017-06-20
ms.openlocfilehash: 5fff17959e7ed9299df169c68b2ed07f6b7c7d2c
ms.sourcegitcommit: e4cc43b06ef3f0f562849e2c960025cb244d6017
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/12/2022
ms.locfileid: "8743576"
---
# <a name="configure-express-payments-for-paypal"></a>PayPal のエクスプレス決済を構成する

[!include [banner](../includes/banner.md)]

このトピックでは、PayPal のエクスプレス決済を構成して、Microsoft Dynamics 365 Commerce でより迅速なチェックアウト機能を有効にする方法について説明します。

## <a name="key-terms"></a>重要な用語

| 相談 | Description |
|---|---|
| PayPal ウォレット | PayPal コネクタでサポートされているカスタマ エクスペリエンスと統合。 PayPal ボタンとも呼ばれます。 |
| ウォレット | クレジット カード とデビット カードの種類を区別するために使用される、銀行 ID 番号 (BIN) 範囲や有効期限など、従来の決済特性を含まない決済タイプ。 |
| 決済エクスプレス | サポートされている決済方法を使用する場合に、迅速なチェックアウト動作をサポートする Commerce モジュール。 このトピックでは、PayPal での決済エクスプレス モジュールの使用について説明します。 |

Dynamics 365 Commerce は、PayPal ウォレットとの統合を最初から用意しています。 PayPal 向け Dynamics 365 Payment Connector が構成されている場合、PayPal ボタンは、オンライン注文のチェックアウト中に選択可能な支払い方法として表示されます。 ユーザーが PayPal を選択すると、PayPal で直接支払を完了するように指示され、オンライン ストアフロントに戻って注文を完了します。 PayPal カート チェックアウトでは、顧客は支払口座情報を使用してチェックアウト フォームを事前入力できるため、チェックアウト プロセスをすばやく完了できます。

Commerce では、エクスプレス チェックアウトを容易にするために決済エクスプレス モジュールが追加されました。 決済エクスプレス モジュールは、チェックアウトまたはカート ページに含めることができるフラグメントで使用できます。 PayPal が構成されている場合、決済エクスプレス オプションと通常のチェックアウト オプションの両方に、同じPayPal 向け Dynamics 365 Payment Connector のコネクタ参照が使用されます。

## <a name="paypal-checkout-in-commerce"></a>Commerce での PayPal チェックアウト

### <a name="prerequisites"></a>必要条件

[PayPal 向け Dynamics 365 Payment Connector](../paypal.md) の説明に従って、環境に合わせて PayPal ウォレットを設定します。

PayPal を通常のチェックアウト フローのオプションとして使用している場合 (ユーザーが決済エクスプレス事前入力アクションを使用せずアカウント情報を手動で入力する場合)、[支払モジュール](../payment-module.md) の設定手順に従います。

### <a name="payment-express-module-with-paypal"></a>PayPal での決済エクスプレス モジュール

決済エクスプレス モジュールは、サポートする支払い方法と連動して、チェックアウト プロセス中に支払サービス アカウント情報を事前入力することで、サイトの顧客がより迅速にチェックアウトできるオプションを提供します。 決済エクスプレス モジュールでは、構成された支払コネクタを使用して、住所、連絡先情報、選択した支払方法などのユーザー アカウントの詳細をチェックアウト フォームに事前入力します。

PayPal エクスプレス チェックアウトが使用され、ユーザーがチェックアウト ページの決済エクスプレス セクションで PayPal ボタンを選択すると、PayPal 支払い iFrame ウィンドウが開きます。 ユーザーは PayPal アカウントにサインインし、アカウントの配送先住所、請求先住所、メール アドレス、選択した PayPal 支払方法を使用してトランザクションの支払を行います。

ユーザーが PayPal ウィンドウでアクションを完了すると、Commerce サイトのチェックアウト ページに戻り、選択した詳細がチェック アウト フォームに入力されます。 決済エクスプレス フローでは、返送された配送先住所で利用可能な最初の配送オプションが、ユーザーのために事前に入力されます。 その後、注文を確定する **注文** を選択する前に、ユーザーは注文を確認し、チェックアウト注文の詳細を変更することができます。

### <a name="add-the-payment-express-module-with-paypal-to-a-fragment"></a>フラグメントに PayPal を使用した決済エクスプレス モジュールを追加する

Commerce サイト ビルダーのフラグメントに PayPal を使用した決済エクスプレス モジュールを追加するには、以下の手順に従います。

1. サイトに移動します。
1. 左側のナビゲーション ウィンドウで、**フラグメント** を選択し、**新規** を選択します。
1. **新しいフラグメント** ダイアログ ボックスで **決済エクスプレス** モジュールを見つけて選択し、**フラグメント名** にフラグメントの名前 (たとえば、**エクスプレス チェックアウト**) を入力します。
1. **OK** を選択してフラグメントを作成します。
1. 概要ビューで、作成した決済エクスプレス モジュールのスロットを選択します。
1. プロパティ ウィンドウで、**見出し** を選択します。
1. **見出し** ダイアログ ボックスの **見出しテキスト** フィールドに、サイトのエクスプレス チェックアウト セクションに表示する見出しテキストを入力します (たとえば、**エクスプレス チェックアウト**)。
1. **見出しレベル** で見出しレベル (たとえば、**H2**) を選択します。
1.  **OK** を選択します。
1. プロパティ ウィンドウの **iFrame の高さ** フィールドで、iFrame 要素の高さ (たとえば、**60**) を入力または調整します。
1. **サポートされている支払/入金タイプ** フィールドに **PayPal** を入力します。
1. **保存** を選択し、 **編集の完了** を選択してフラグメントにチェックインし、**発行** を選択して公開します。

### <a name="add-the-payment-express-fragment-to-the-checkout-page"></a>チェックアウト ページに決済エクスプレス フラグメントを追加する

サイト ビルダーのチェックアウト ページに決済エクスプレス フラグメントを追加するには、次の手順に従います。

1. サイトに移動します。
1. 左側のナビゲーション ウィンドウで **ページ** を選択し、サイトのチェックアウト ページを選択します。
1. **編集** を選択してページを編集します。
1. **メイン** スロットで省略記号 (**...**) を選択し、**モジュールの追加** を選択します。
1. **モジュールの選択** ダイアログ ボックスで **コンテナー** モジュールを選択して、**OK** を選択します。

    > [!NOTE]
    > チェックアウト フラグメントを含むコンテナー モジュールが既に存在する場合は、決済エクスプレス セクションを移動して、**メイン** スロットの既存のチェックアウト コンテナーの上に表示されるようにします。 決済エクスプレス セクションは、通常のチェックアウト コンテナーの上に表示されます。 コンテナー モジュールを上または下に移動するには、省略記号 (**...**) を選択し、**上へ移動** または **下へ移動** を選択します。

1. **コンテナー** プロパティ ウィンドウでは、プロパティ設定を次の方法で構成することをお勧めします:

    - **コンテナー レイアウト** – **積み上げ** を選択します。
    - **幅** – **塗りつぶしコンテナー** を選択します。
    - **表示される子** – **3** を選択します。

1. **コンテナー** スロットで省略記号 (**...**) を選択し、**フラグメントの追加** を選択します。
1. **フラグメントの選択** ダイアログ ボックスで作成済のエクスプレス決済フラグメントを見つけて選択し、**OK** を選択します。
1. **保存** を選択し、 **編集の完了** を選択してページにチェックインし、**発行** を選択して公開します。

### <a name="add-the-payment-express-fragment-to-the-cart-page"></a>カート ページに決済エクスプレス フラグメントを追加する

サイト ビルダーのカート ページに決済エクスプレス フラグメントを追加するには、次の手順に従います。

1. サイトに移動します。
1. 左側のナビゲーション ウィンドウで **ページ** を選択し、サイトのカート ページを選択します。
1. **編集** を選択してページを編集します。
1. **メイン** スロット で **カート** モジュールを含むコンテナーを見つけます。 **カート** モジュールには、**決済エクスプレス** スロットが含まれます。
1. **決済エクスプレス** スロット を選択して、省略記号 (**...**) を選択し、**モジュールの追加** を選択します。
1. **モジュールの選択** ダイアログ ボックスで **決済エクスプレス** モジュールを選択して、**OK** を選択します。
1. プロパティ ウィンドウの **サポートされている支払/入金タイプ** フィールドに **Paypal** を入力します。
1. **保存** を選択し、 **編集の完了** を選択してページにチェックインし、**発行** を選択して公開します。

### <a name="modes-of-delivery"></a>荷渡方法

決済エクスプレス モジュールが PayPal を使用するように構成されている場合、PayPal アカウントに選択した配送先住所に対して返される最初の配送オプションが事前に入力されます。 ユーザーは、必要に応じて配送先住所を変更できます。

配送モードの順序は、Commerce headquarters のチャンネルの **配送モード** セクションで構成されます。 詳細については、[配送方法の設定](/dynamicsax-2012/appuser-itpro/set-up-modes-of-delivery) を参照してください。

チェックアウト モジュールでは、チェックアウト中に配送モードが表示される場合に、配送オプション モジュールも使用します。 詳細については、[配送オプション モジュール](../delivery-options-module.md) を参照してください。

配送モードは、Commerce headquarters のオンライン ストアの一覧に追加されます。 **小売とコマース \> チャネル \> オンライン ストア** に移動し、ストアのチャネル ID を選択します。 次に、**設定 \> 配送モード** を選択します。 構成に示されている配送のモジュール モードは、サイト上でも同様で表示されます。 小売チャンネルまたは製品の配送モードを追加または削除するには、アクション ウィンドウで **配送モードの管理** を選択します。

## <a name="additional-resources"></a>追加リソース

[支払に関するよく寄せられる質問](payments-retail.md)

[チェックアウト モジュール](../add-checkout-module.md)

[支払モジュール](../payment-module.md)

[荷渡方法の設定](/dynamicsax-2012/appuser-itpro/set-up-modes-of-delivery)

[配送オプション モジュール](../delivery-options-module.md)

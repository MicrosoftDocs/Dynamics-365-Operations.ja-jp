---
title: 段階的なロールアウト (N-1) インストール、コンフィギュレーション、および切替ガイド
description: このトピックでは、Microsoft Dynamics AX 2012 R3 チャンネル コンポーネントが、Microsoft Dynamics 365 Commerce バックオフィスを使用できるように、段階的なロールアウト (N-1) のコンポーネントを設定する方法について説明します。
author: jashanno
manager: AnnBe
ms.date: 04/28/2020
ms.topic: article
ms.prod: ''
ms.service: Dynamics-365-retail
ms.technology: ''
ms.search.form: SysAADClientTable, RetailTransactionServiceProfile
audience: IT Pro
ms.reviewer: rhaertle
ms.search.scope: Operations, Retail, Core
ms.custom: 44351
ms.search.region: Global
ms.author: jashanno
ms.search.validFrom: 2017-07-31
ms.dyn365.ops.version: Retail July 2017 update
ms.openlocfilehash: 74b506d32af89d3289c239456b842ea6073eae21
ms.sourcegitcommit: 4a32634690a741535f3f4babfd753f7c227ad6fe
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/05/2020
ms.locfileid: "3958779"
---
# <a name="phased-rollout-n-1-installation-configuration-and-cutover-guide"></a><span data-ttu-id="f3dad-103">段階的なロールアウト (N-1) インストール、コンフィギュレーション、および切替ガイド</span><span class="sxs-lookup"><span data-stu-id="f3dad-103">Phased Rollout (N-1) installation, configuration, and cutover guide</span></span>

[!include [banner](../../includes/banner.md)]

<span data-ttu-id="f3dad-104">ここでは、Microsoft Dynamics AX for Retail Modern 販売時点管理 (MPOS) および Commerce Scale Unit、または Microsoft Dynamics AX for Retail Enterprise Point of Sale (EPOS) などの Microsoft Dynamics AX 2012 R3 チャンネル コンポーネントが、Microsoft Dynamics 365 Commerce バックオフィスを使用できるように、段階的ロールアウト (N-1) のコンポーネントを設定する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-104">This topic explains how to set up Phased Rollout (N-1) components so that your Microsoft Dynamics AX 2012 R3 channel components, such as Microsoft Dynamics AX for Retail Modern Point of Sale (MPOS) and Commerce Scale Unit, or Microsoft Dynamics AX for Retail Enterprise Point of Sale (EPOS), can work with Microsoft Dynamics 365 Commerce Headquarters.</span></span>

## <a name="key-terms"></a><span data-ttu-id="f3dad-105">重要な用語</span><span class="sxs-lookup"><span data-stu-id="f3dad-105">Key terms</span></span>
| <span data-ttu-id="f3dad-106">相談</span><span class="sxs-lookup"><span data-stu-id="f3dad-106">Term</span></span> | <span data-ttu-id="f3dad-107">説明</span><span class="sxs-lookup"><span data-stu-id="f3dad-107">Description</span></span> |
|---|---|
| <span data-ttu-id="f3dad-108">N-1 非同期サーバー コネクタ サービス</span><span class="sxs-lookup"><span data-stu-id="f3dad-108">N-1 Async Server Connector Service</span></span> | <span data-ttu-id="f3dad-109">バック オフィスと AX 2012 R3 チャネル コンポーネントの間でデータ パッケージを同期する場合に使用されるコンポーネント。</span><span class="sxs-lookup"><span data-stu-id="f3dad-109">A component that is used to synchronize data packages between Headquarters and the AX 2012 R3 channel components.</span></span> |
| <span data-ttu-id="f3dad-110">N-1 リアルタイム サービス</span><span class="sxs-lookup"><span data-stu-id="f3dad-110">N-1 Real-time Service</span></span> | <span data-ttu-id="f3dad-111">AX 2012 R3 チャネル コンポーネントからバックオフィスへのリアルタイムの呼び出しをサポートするコンポーネント。</span><span class="sxs-lookup"><span data-stu-id="f3dad-111">A component that supports real-time calls from the AX 2012 R3 channel components to Headquarters.</span></span> |

## <a name="overview"></a><span data-ttu-id="f3dad-112">概要</span><span class="sxs-lookup"><span data-stu-id="f3dad-112">Overview</span></span>
<span data-ttu-id="f3dad-113">このトピックのセクションでは、N-1 コンポーネントを所持する環境の設定を行う必要がある以下の手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-113">The sections in this topic describe the following steps, which you must complete to set up an environment with N-1 components.</span></span> <span data-ttu-id="f3dad-114">これらの手順では、バック オフィスが既に配置され、AX 2012 R3 環境が現在実行中であることを前提としています。</span><span class="sxs-lookup"><span data-stu-id="f3dad-114">These steps assume that Headquarters is already deployed, and that an AX 2012 R3 environment is currently running.</span></span>

- <span data-ttu-id="f3dad-115">**[Azure AD アカウントを設定](#set-up-azure-ad-accounts)** – このセクションでは、バックオフィスに接続するために使用する N-1 コンポーネントの Microsoft Azure Active Directory (Azure AD) アカウントの設定方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-115">**[Set up Azure AD accounts](#set-up-azure-ad-accounts)** – This section explains how to set up the Microsoft Azure Active Directory (Azure AD) accounts that the N-1 components use to connect to Headquarters.</span></span>
- <span data-ttu-id="f3dad-116">**[N-1 コンポーネントを構成する](#configure-n-1-components)** – このセクションでは、バックオフィスで N-1 コンポーネントを構成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-116">**[Configure N-1 components](#configure-n-1-components)** – This section explains how to configure the N-1 components in Headquarters.</span></span>
- <span data-ttu-id="f3dad-117">**[N-1 コンポーネントのインストール](#install-n-1-components)** – このセクションでは既存の AX 2012 R3 環境で N-1 コンポーネントをダウンロードおよびインストールする方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-117">**[Install N-1 components](#install-n-1-components)** – This section explains how to download and install N-1 components in the existing AX 2012 R3 environment.</span></span>
- <span data-ttu-id="f3dad-118">**[N-1 に切り替えるための切替手順](#cutover-steps-to-switch-to-n-1)** – このセクションでは、既存の AX 2012 R3 環境を AX 2012 R3 バックオフィスから Dynamics 365 バックオフィスに切り替えるために、新しい N-1 コンポーネントを使用する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-118">**[Cutover steps to switch to N-1](#cutover-steps-to-switch-to-n-1)** – This section explains the how to use the new N-1 components to cut an existing AX 2012 R3 environment over from the AX 2012 R3 headquarters to the Dynamics 365 Headquarters.</span></span>
- <span data-ttu-id="f3dad-119">**[トラブルシューティングの手順](#troubleshooting-steps)** – このセクションでは、一般的な問題のトラブルシューティングの手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-119">**[Troubleshooting steps](#troubleshooting-steps)** – This section describes troubleshooting steps for typical issues.</span></span>
- <span data-ttu-id="f3dad-120">**[N-1 に必要な KB](#required-kbs-for-n-1)** – このセクションでは、N-1 環境を設定するために必要な Microsoft サポート技術情報の記事番号 (KB) が一覧で表示されます。</span><span class="sxs-lookup"><span data-stu-id="f3dad-120">**[Required KBs for N-1](#required-kbs-for-n-1)** – This section lists the Microsoft Knowledge Base articles (KBs) that are required in order to set up an N-1 environment.</span></span>

### <a name="high-level-architecture"></a><span data-ttu-id="f3dad-121">高レベル アーキテクチャ</span><span class="sxs-lookup"><span data-stu-id="f3dad-121">High-level architecture</span></span>
<span data-ttu-id="f3dad-122">次の図は、N-1 手順の高レベル概要を示しています。</span><span class="sxs-lookup"><span data-stu-id="f3dad-122">The following illustration shows a high-level overview of the N-1 setup.</span></span>

![段階的なロールアウト (N-1) アーキテクチャ](media/CDX/N-1/Overview.jpg)

## <a name="verify-that-the-n-1-license-key-is-turned-on"></a><span data-ttu-id="f3dad-124">N-1 ライセンス キーが有効であることを確認します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-124">Verify that the N-1 license key is turned on</span></span>
<span data-ttu-id="f3dad-125">コンフィギュレーションおよび N-1 コンポーネントのインストールを開始する前に、対応するライセンス キーが有効であることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-125">Before you start to configure and install the N-1 components, make sure that the corresponding license key is turned on.</span></span> <span data-ttu-id="f3dad-126">このライセンス キーは、AX 2012 R3 から Microsoft Dynamics 365 Commerce へのアップグレード中に自動的にオンになります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-126">This license key is automatically turned on during an upgrade from AX 2012 R3 to Microsoft Dynamics 365 Commerce.</span></span> <span data-ttu-id="f3dad-127">ただし、次の手順でこのキーが必要となるため、続行する前にオンになっていることを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-127">However, because the steps that follow require this key, you should verify that it's turned on before you continue.</span></span>

1. <span data-ttu-id="f3dad-128">コマース バックオフィスにサインインし、**システム管理\>設定\>ライセンス コンフィギュレーション**に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-128">Sign in to Commerce Headquarters, and go to **System administration \> Setup \> License configuration**.</span></span>
2. <span data-ttu-id="f3dad-129">**コンフィギュレーション キー** タブで、**コマース** キーを展開し、**コマース スケジューラ** キーを展開し、**Retail Data Commerce Exchange 下位互換性**キーのチェック ボックスがオンであることを確認します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-129">On the **Configuration keys** tab, expand the **Commerce** key, expand the **Commerce scheduler** key, and verify that the check box for the **Retail Data Commerce Exchange backward compatibility** key is selected.</span></span>

    > [!NOTE]
    > <span data-ttu-id="f3dad-130">キーがオンになっていない場合は、Microsoft サポートに問い合わせてオンにしてください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-130">If the key isn't turned on, contact Microsoft Support for help turning it on.</span></span>

## <a name="set-up-azure-ad-accounts"></a><span data-ttu-id="f3dad-131">Azure AD アカウントの設定</span><span class="sxs-lookup"><span data-stu-id="f3dad-131">Set up Azure AD accounts</span></span>
> [!IMPORTANT]
> <span data-ttu-id="f3dad-132">企業全体で高いレベルのセキュリティを維持するために、このインストールに新しいクライアント ID とシークレットを作成することを強くお勧めします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-132">To help maintain a high level of security across the company, we strongly recommend that you create a new client ID and secret for this installation.</span></span> <span data-ttu-id="f3dad-133">このステップでは、新しい Web アプリが必要です。</span><span class="sxs-lookup"><span data-stu-id="f3dad-133">This step requires a new Web App.</span></span>

1. <span data-ttu-id="f3dad-134">Connector for Microsoft Dynamics AX のクライアント ID とシークレットを作成するために Azure Web App を生成します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-134">Generate an Azure Web App to create a client ID and secret for Connector for Microsoft Dynamics AX.</span></span> <span data-ttu-id="f3dad-135">手順については、「[Azure Active Directory アプリケーションを作成する](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-create-service-principal-portal)」の「Azure Active Directory アプリケーションを作成する」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-135">For instructions, see the "Create an Azure Active Directory application" section in [Create an Azure Active Directory Application](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-create-service-principal-portal).</span></span>
2. <span data-ttu-id="f3dad-136">顧客 ID およびシークレットの作成が終了したら、顧客 ID をコマースで承諾する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-136">After you've finished creating the client ID and secret, the client ID must be accepted in Commerce.</span></span> <span data-ttu-id="f3dad-137">**システム管理 \> 設定 \> Azure Active Directory アプリケーション**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-137">Go to **System administration \> Setup \> Azure Active Directory applications**.</span></span> <span data-ttu-id="f3dad-138">クライアント ID を**クライアント ID** 列に入力し、説明のテキストを**名**列に入力、および **RetailServiceAccount** を**ユーザー ID** 列に入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-138">Enter the client ID in the **Client Id** column, enter descriptive text in the **Name** column, and enter **RetailServiceAccount** in the **User ID** column.</span></span>

## <a name="configure-n-1-components"></a><span data-ttu-id="f3dad-139">N-1コンポーネントの構成</span><span class="sxs-lookup"><span data-stu-id="f3dad-139">Configure N-1 components</span></span>
<span data-ttu-id="f3dad-140">バック オフィスで N-1 コンポーネントを構成するには、このセクションの手順に従います。</span><span class="sxs-lookup"><span data-stu-id="f3dad-140">Follow the steps in this section to configure the N-1 components in Headquarters.</span></span>

### <a name="connector-for-microsoft-dynamics-ax"></a><span data-ttu-id="f3dad-141">Connector for Microsoft Dynamics AX</span><span class="sxs-lookup"><span data-stu-id="f3dad-141">Connector for Microsoft Dynamics AX</span></span>
1. <span data-ttu-id="f3dad-142">コマース バックオフィスにサインインし、**Retail とコマース \> バックオフィスの設定 \> コマース スケジューラ \> Microsoft Dynamics AX のコネクタ**に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-142">Sign in to Commerce Headquarters, and go to **Retail and Commerce \> Headquarters setup \> Commerce scheduler \> Connector for Microsoft Dynamics AX**.</span></span>
2. <span data-ttu-id="f3dad-143">アクション ウィンドウで、**新規**を選択し、次のフィールドを設定します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-143">On the Action Pane, select **New**, and set the following fields.</span></span>

    | <span data-ttu-id="f3dad-144">項</span><span class="sxs-lookup"><span data-stu-id="f3dad-144">Section</span></span> | <span data-ttu-id="f3dad-145">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-145">Field</span></span> | <span data-ttu-id="f3dad-146">説明</span><span class="sxs-lookup"><span data-stu-id="f3dad-146">Description</span></span> | <span data-ttu-id="f3dad-147">サンプル値</span><span class="sxs-lookup"><span data-stu-id="f3dad-147">Sample value</span></span> |
    |---|---|---|---|
    | <span data-ttu-id="f3dad-148">表題</span><span class="sxs-lookup"><span data-stu-id="f3dad-148">Header</span></span> | <span data-ttu-id="f3dad-149">プロファイル</span><span class="sxs-lookup"><span data-stu-id="f3dad-149">Profile</span></span> | <span data-ttu-id="f3dad-150">設定する N-1 プロファイルの固有の名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-150">Enter a unique name for the N-1 profile that you're setting up.</span></span> <span data-ttu-id="f3dad-151">AX 2012 R3 Real-time Service が現在インストールされている環境/サーバーごとに、1 つのプロファイルを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-151">You should create one profile for each environment/server where the AX 2012 R3 Real-time Service is currently installed.</span></span> | <span data-ttu-id="f3dad-152">AXConnect</span><span class="sxs-lookup"><span data-stu-id="f3dad-152">AXConnect</span></span> |
    | <span data-ttu-id="f3dad-153">表題</span><span class="sxs-lookup"><span data-stu-id="f3dad-153">Header</span></span> | <span data-ttu-id="f3dad-154">説明</span><span class="sxs-lookup"><span data-stu-id="f3dad-154">Description</span></span> | <span data-ttu-id="f3dad-155">プロファイルを識別するための説明テキストを入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-155">Enter descriptive text to help identify the profile.</span></span> | <span data-ttu-id="f3dad-156">AX2012 のコネクタ</span><span class="sxs-lookup"><span data-stu-id="f3dad-156">Connector for AX2012</span></span> |
    | <span data-ttu-id="f3dad-157">**接続**</span><span class="sxs-lookup"><span data-stu-id="f3dad-157">**Connection**</span></span> | <span data-ttu-id="f3dad-158">サーバー</span><span class="sxs-lookup"><span data-stu-id="f3dad-158">Server</span></span> | <span data-ttu-id="f3dad-159">N-1 リアルタイム サービスがインストールされるサーバーの名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-159">Enter the name of the server where the N-1 Real-time Service will be installed.</span></span> <span data-ttu-id="f3dad-160">(このサーバーは、AX 2012 R3 Real-time Service が現在インストールされているサーバーと同一です。)。</span><span class="sxs-lookup"><span data-stu-id="f3dad-160">(This server is the same server where the AX 2012 R3 Real-time Service is currently installed.)</span></span> | <span data-ttu-id="f3dad-161">sampleserver.local</span><span class="sxs-lookup"><span data-stu-id="f3dad-161">sampleserver.local</span></span> |
    | <span data-ttu-id="f3dad-162">**接続**</span><span class="sxs-lookup"><span data-stu-id="f3dad-162">**Connection**</span></span> | <span data-ttu-id="f3dad-163">港</span><span class="sxs-lookup"><span data-stu-id="f3dad-163">Port</span></span> | <span data-ttu-id="f3dad-164">N-1 リアルタイム サービスが使用するポートを入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-164">Enter the port that the N-1 Real-time Service will use.</span></span> | <span data-ttu-id="f3dad-165">8017</span><span class="sxs-lookup"><span data-stu-id="f3dad-165">8017</span></span> |
    | <span data-ttu-id="f3dad-166">**接続**</span><span class="sxs-lookup"><span data-stu-id="f3dad-166">**Connection**</span></span> | <span data-ttu-id="f3dad-167">Web アプリケーション名</span><span class="sxs-lookup"><span data-stu-id="f3dad-167">Web application name</span></span> | <span data-ttu-id="f3dad-168">Microsoft インターネット インフォメーション サービス (IIS) の N-1 リアルタイム サービスに使用する名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-168">Enter the name to use for the N-1 Real-time Service in Microsoft Internet Information Services (IIS).</span></span> | <span data-ttu-id="f3dad-169">Real-timeServiceAX63</span><span class="sxs-lookup"><span data-stu-id="f3dad-169">Real-timeServiceAX63</span></span> |
    | <span data-ttu-id="f3dad-170">**接続**</span><span class="sxs-lookup"><span data-stu-id="f3dad-170">**Connection**</span></span> | <span data-ttu-id="f3dad-171">プロトコル</span><span class="sxs-lookup"><span data-stu-id="f3dad-171">Protocol</span></span> | <span data-ttu-id="f3dad-172">AX 2012 R3 のリアルタイム サービスによって使用されているプロトコルを選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-172">Select the protocol that the AX 2012 R3 Real-time Service currently uses.</span></span> | <span data-ttu-id="f3dad-173">https</span><span class="sxs-lookup"><span data-stu-id="f3dad-173">https</span></span> |
    | <span data-ttu-id="f3dad-174">**接続**</span><span class="sxs-lookup"><span data-stu-id="f3dad-174">**Connection**</span></span> | <span data-ttu-id="f3dad-175">共通名</span><span class="sxs-lookup"><span data-stu-id="f3dad-175">Common name</span></span> | <span data-ttu-id="f3dad-176">N-1 リアルタイム サービスが使用する証明書のフレンドリ名を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-176">Enter the friendly name of the certificate that the N-1 Real-time Service uses.</span></span> | <span data-ttu-id="f3dad-177">samplecertificate.local</span><span class="sxs-lookup"><span data-stu-id="f3dad-177">samplecertificate.local</span></span> |
    | <span data-ttu-id="f3dad-178">**接続**</span><span class="sxs-lookup"><span data-stu-id="f3dad-178">**Connection**</span></span> | <span data-ttu-id="f3dad-179">パスフレーズ</span><span class="sxs-lookup"><span data-stu-id="f3dad-179">Passphrase</span></span> | <span data-ttu-id="f3dad-180">N-1 リアルタイム サービスで使用するパスフレーズを入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-180">Enter the passphrase to use for the N-1 Real-time Service.</span></span> | |
    | <span data-ttu-id="f3dad-181">**接続**</span><span class="sxs-lookup"><span data-stu-id="f3dad-181">**Connection**</span></span> | <span data-ttu-id="f3dad-182">言語</span><span class="sxs-lookup"><span data-stu-id="f3dad-182">Language</span></span> | <span data-ttu-id="f3dad-183">N-1 リアルタイム サービスにマップされているストアに関連付けられている言語を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-183">Select the language that is associated with the stores that are mapped to the N-1 Real-time service.</span></span> | <span data-ttu-id="f3dad-184">EN-US</span><span class="sxs-lookup"><span data-stu-id="f3dad-184">EN-US</span></span> |

3. <span data-ttu-id="f3dad-185">完了したら、**保存** を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-185">When you've finished, select **Save**.</span></span>

### <a name="commerce-shared-parameters"></a><span data-ttu-id="f3dad-186">コマース共有パラメーター</span><span class="sxs-lookup"><span data-stu-id="f3dad-186">Commerce shared parameters</span></span>
1. <span data-ttu-id="f3dad-187">バックオフィスで、**Retail とコマース \> バックオフィスの設定 \> パラメーター \> コマースの共有パラメーター**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-187">Sign in to Headquarters, and go to **Retail and Commerce \> Headquarters setup \> Parameters \> Commerce shared parameters**.</span></span>
2. <span data-ttu-id="f3dad-188">**セキュリティ**タブで、次のフィールドを設定します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-188">On the **Security** tab, set the following fields.</span></span>

    | <span data-ttu-id="f3dad-189">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-189">Field</span></span> | <span data-ttu-id="f3dad-190">説明</span><span class="sxs-lookup"><span data-stu-id="f3dad-190">Description</span></span> | <span data-ttu-id="f3dad-191">サンプル値</span><span class="sxs-lookup"><span data-stu-id="f3dad-191">Sample value</span></span> |
    |---|---|---|
    | <span data-ttu-id="f3dad-192">Real-time Service プロファイル</span><span class="sxs-lookup"><span data-stu-id="f3dad-192">Real-time Service profile</span></span> | <span data-ttu-id="f3dad-193">前のセクションの **Connector for Microsoft Dynamics AX** ページで作成したプロファイルを選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-193">Select the profile that you created on the **Connector for Microsoft Dynamics AX** page in the previous section.</span></span> | <span data-ttu-id="f3dad-194">AXConnect</span><span class="sxs-lookup"><span data-stu-id="f3dad-194">AXConnect</span></span> |
    | <span data-ttu-id="f3dad-195">TS パスワードの暗号化名</span><span class="sxs-lookup"><span data-stu-id="f3dad-195">TS password encryption name</span></span> | <span data-ttu-id="f3dad-196">トランザクションのサービスに接続するために使用するアルゴリズムを入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-196">Enter the algorithm that is used to connect to the transaction service.</span></span> <span data-ttu-id="f3dad-197">**SHA256** にこのフィールドを設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-197">You should set this field to **SHA256**.</span></span> | <span data-ttu-id="f3dad-198">SHA256</span><span class="sxs-lookup"><span data-stu-id="f3dad-198">SHA256</span></span> | 
    | <span data-ttu-id="f3dad-199">レガシ デバイス アルゴリズム</span><span class="sxs-lookup"><span data-stu-id="f3dad-199">Legacy device algorithm</span></span> | <span data-ttu-id="f3dad-200">AX 2012 R3 デバイス アルゴリズムを入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-200">Enter the AX 2012 R3 device algorithm.</span></span> | <span data-ttu-id="f3dad-201">AES</span><span class="sxs-lookup"><span data-stu-id="f3dad-201">AES</span></span> |

### <a name="commerce-scheduler-parameters"></a><span data-ttu-id="f3dad-202">コマース スケジューラのパラメーター</span><span class="sxs-lookup"><span data-stu-id="f3dad-202">Commerce scheduler parameters</span></span>
1. <span data-ttu-id="f3dad-203">バックオフィスで、**Retail とコマース \> バックオフィスの設定 \> パラメーター \> コマース スケジューラ パラメーター**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-203">Sign in to Headquarters, and go to **Retail and Commerce \> Headquarters setup \> Parameters \> Commerce scheduler parameters**.</span></span>
2. <span data-ttu-id="f3dad-204">**HQ メッセージ データベース**クイック タブで、次のフィールドを設定します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-204">On the **HQ Message Database** FastTab, set the following fields.</span></span>

    | <span data-ttu-id="f3dad-205">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-205">Field</span></span> | <span data-ttu-id="f3dad-206">説明</span><span class="sxs-lookup"><span data-stu-id="f3dad-206">Description</span></span> | <span data-ttu-id="f3dad-207">サンプル値</span><span class="sxs-lookup"><span data-stu-id="f3dad-207">Sample value</span></span> |
    |---|---|---|
    | <span data-ttu-id="f3dad-208">SQL Server インスタンス名</span><span class="sxs-lookup"><span data-stu-id="f3dad-208">SQL Server instance name</span></span> | <span data-ttu-id="f3dad-209">既存の AX 2012 R3 HQ メッセージ データベースをホストする Microsoft SQL Server インスタンスの名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-209">Enter the name of the Microsoft SQL Server instance that hosts the existing AX 2012 R3 HQ Message Database.</span></span> | <span data-ttu-id="f3dad-210">sampleinstance</span><span class="sxs-lookup"><span data-stu-id="f3dad-210">sampleinstance</span></span> |
    | <span data-ttu-id="f3dad-211">サーバー名</span><span class="sxs-lookup"><span data-stu-id="f3dad-211">Server name</span></span> | <span data-ttu-id="f3dad-212">既存の AX 2012 R3 HQ メッセージ データベースをホストするサーバーの名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-212">Enter the name of the server that hosts the existing AX 2012 R3 HQ Message Database.</span></span> | <span data-ttu-id="f3dad-213">sampleserver</span><span class="sxs-lookup"><span data-stu-id="f3dad-213">sampleserver</span></span> |
    | <span data-ttu-id="f3dad-214">データベース名</span><span class="sxs-lookup"><span data-stu-id="f3dad-214">Database name</span></span> | <span data-ttu-id="f3dad-215">AX 2012 R3 HQ メッセージ データベースの名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-215">Enter the name of the AX 2012 R3 HQ Message Database.</span></span> <span data-ttu-id="f3dad-216">AX 2012 R3 では、既定の名前は **HQMessageDB** でした。</span><span class="sxs-lookup"><span data-stu-id="f3dad-216">In AX 2012 R3, the default name was **HQMessageDB**.</span></span> | <span data-ttu-id="f3dad-217">HQMessageDB</span><span class="sxs-lookup"><span data-stu-id="f3dad-217">HQMessageDB</span></span> |

2. <span data-ttu-id="f3dad-218">完了したら、**保存** を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-218">When you've finished, select **Save**.</span></span>

### <a name="working-folders"></a><span data-ttu-id="f3dad-219">作業フォルダー</span><span class="sxs-lookup"><span data-stu-id="f3dad-219">Working folders</span></span>
> [!NOTE]
> <span data-ttu-id="f3dad-220">ここに記載されているフィールドの値は、AX 2012 R3 から環境をアップグレードする際に、自動的に設定される既定値です。</span><span class="sxs-lookup"><span data-stu-id="f3dad-220">The field values that are described here are the default values that are automatically set when environments are upgraded from AX 2012 R3.</span></span> <span data-ttu-id="f3dad-221">ただし、それが正しいことを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-221">However, you should verify that they are correct.</span></span> <span data-ttu-id="f3dad-222">AX 2012 R3 からアップグレードしていない環境で、これらの値を手動で入力する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-222">These values must be manually entered for environments that haven't been upgraded from AX 2012 R3.</span></span>

1. <span data-ttu-id="f3dad-223">バックオフィスで、**Retail とコマース \> バックオフィスの設定 \> コマース スケジューラ \> 作業フォルダー**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-223">Sign in to Headquarters, and go to **Retail and Commerce \> Headquarters setup \> Commerce scheduler \> Working folders**.</span></span>
2. <span data-ttu-id="f3dad-224">グリッドで、次のフィールドの値が設定されていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-224">Make sure that the following field values are set in the grid.</span></span>

    | <span data-ttu-id="f3dad-225">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-225">Field</span></span> | <span data-ttu-id="f3dad-226">説明</span><span class="sxs-lookup"><span data-stu-id="f3dad-226">Description</span></span> | <span data-ttu-id="f3dad-227">サンプル値</span><span class="sxs-lookup"><span data-stu-id="f3dad-227">Sample Value</span></span> |
    |---|---|---|
    | <span data-ttu-id="f3dad-228">氏名</span><span class="sxs-lookup"><span data-stu-id="f3dad-228">Name</span></span> | <span data-ttu-id="f3dad-229">作業フォルダーの名前。</span><span class="sxs-lookup"><span data-stu-id="f3dad-229">The name of the working folder.</span></span> | <span data-ttu-id="f3dad-230">N-1 のファイル ストレージ</span><span class="sxs-lookup"><span data-stu-id="f3dad-230">File storage for N-1</span></span> |
    | <span data-ttu-id="f3dad-231">説明</span><span class="sxs-lookup"><span data-stu-id="f3dad-231">Description</span></span> | <span data-ttu-id="f3dad-232">作業フォルダーの説明。</span><span class="sxs-lookup"><span data-stu-id="f3dad-232">A description of the working folder.</span></span> | <span data-ttu-id="f3dad-233">N-1 のファイル ストレージ</span><span class="sxs-lookup"><span data-stu-id="f3dad-233">File storage for N-1</span></span> |
    | <span data-ttu-id="f3dad-234">ダウンロード パス</span><span class="sxs-lookup"><span data-stu-id="f3dad-234">Download path</span></span> | <span data-ttu-id="f3dad-235">AX 2012 R3 Commerce Data Exchange (CDX) ダウンロード パッケージを格納するネットワーク パス。</span><span class="sxs-lookup"><span data-stu-id="f3dad-235">The network path where the AX 2012 R3 Commerce Data Exchange (CDX) download packages are stored.</span></span> | <span data-ttu-id="f3dad-236">\\\\sampleserver\\ダウンロード</span><span class="sxs-lookup"><span data-stu-id="f3dad-236">\\\\sampleserver\\Download</span></span> |
    | <span data-ttu-id="f3dad-237">アップロード パス</span><span class="sxs-lookup"><span data-stu-id="f3dad-237">Upload path</span></span> | <span data-ttu-id="f3dad-238">AX 2012 R3 CDX がをアップロード パッケージを格納するネットワーク パス。</span><span class="sxs-lookup"><span data-stu-id="f3dad-238">The network path where the AX 2012 R3 CDX upload packages are stored.</span></span> | <span data-ttu-id="f3dad-239">\\\\sampleserver\\アップロード</span><span class="sxs-lookup"><span data-stu-id="f3dad-239">\\\\sampleserver\\Upload</span></span> |

3. <span data-ttu-id="f3dad-240">完了したら、**保存** を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-240">When you've finished, select **Save**.</span></span>

### <a name="channel-database-group"></a><span data-ttu-id="f3dad-241">チャネル データベース グループ</span><span class="sxs-lookup"><span data-stu-id="f3dad-241">Channel database group</span></span>
> [!NOTE]
> <span data-ttu-id="f3dad-242">ここに記載されているフィールドの値は、AX 2012 R3 から環境をアップグレードする際に、自動的に設定される既定値です。</span><span class="sxs-lookup"><span data-stu-id="f3dad-242">The field values that are described here are the default values that are automatically set when environments are upgraded from AX 2012 R3.</span></span> <span data-ttu-id="f3dad-243">ただし、それが正しいことを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-243">However, you should verify that they are correct.</span></span> <span data-ttu-id="f3dad-244">AX 2012 R3 からアップグレードしていない環境で、これらの値を手動で入力する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-244">These values must be manually entered for environments that haven't been upgraded from AX 2012 R3.</span></span>

1. <span data-ttu-id="f3dad-245">バックオフィスで、**Retail とコマース \> バックオフィスの設定 \> コマース スケジューラ \>  チャネル データベース グループ**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-245">Sign in to Headquarters, and go to **Retail and Commerce \> Headquarters setup \> Commerce scheduler \> Channel database group**.</span></span>
2. <span data-ttu-id="f3dad-246">AX 2012 R3 環境の各現物チャネル データベースについては、アクション ペインで**新規**を選択し、以下のフィールドを設定します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-246">For each physical channel database in the AX 2012 R3 environment, on the Action Pane, select **New**, and set the following fields.</span></span>

    | <span data-ttu-id="f3dad-247">項</span><span class="sxs-lookup"><span data-stu-id="f3dad-247">Section</span></span> | <span data-ttu-id="f3dad-248">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-248">Field</span></span> | <span data-ttu-id="f3dad-249">説明</span><span class="sxs-lookup"><span data-stu-id="f3dad-249">Description</span></span> | <span data-ttu-id="f3dad-250">サンプル値</span><span class="sxs-lookup"><span data-stu-id="f3dad-250">Sample value</span></span> |
    |---|---|---|---|
    | <span data-ttu-id="f3dad-251">表題</span><span class="sxs-lookup"><span data-stu-id="f3dad-251">Header</span></span> | <span data-ttu-id="f3dad-252">氏名</span><span class="sxs-lookup"><span data-stu-id="f3dad-252">Name</span></span> | <span data-ttu-id="f3dad-253">AX 2012 R3 チャネル環境のために使用されるチャネル データベース グループの名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-253">Enter the name of the channel database group that is used for the AX 2012 R3 environment.</span></span> | <span data-ttu-id="f3dad-254">既定の\_AX63</span><span class="sxs-lookup"><span data-stu-id="f3dad-254">Default\_AX63</span></span> |
    | <span data-ttu-id="f3dad-255">表題</span><span class="sxs-lookup"><span data-stu-id="f3dad-255">Header</span></span> | <span data-ttu-id="f3dad-256">説明</span><span class="sxs-lookup"><span data-stu-id="f3dad-256">Description</span></span> | <span data-ttu-id="f3dad-257">AX 2012 R3 チャネル環境のために使用されるチャネル データベース グループの説明を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-257">Enter a description of the channel database group that is used for the AX 2012 R3 channel environment.</span></span> | <span data-ttu-id="f3dad-258">AX63 チャネル データベースの既定のグループ</span><span class="sxs-lookup"><span data-stu-id="f3dad-258">Default group for AX63 channel database</span></span> |
    | <span data-ttu-id="f3dad-259">**全般**クイック タブ</span><span class="sxs-lookup"><span data-stu-id="f3dad-259">**General** FastTab</span></span> | <span data-ttu-id="f3dad-260">チャネル スキーマ</span><span class="sxs-lookup"><span data-stu-id="f3dad-260">Channel schema</span></span> | <span data-ttu-id="f3dad-261">AX 2012 R3 スキーマを選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-261">Select the AX 2012 R3 schema.</span></span> <span data-ttu-id="f3dad-262">このフィールドは、**AX2012R3** に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-262">This field must be set to **AX2012R3**.</span></span> | <span data-ttu-id="f3dad-263">AX2012R3</span><span class="sxs-lookup"><span data-stu-id="f3dad-263">AX2012R3</span></span> |
    | <span data-ttu-id="f3dad-264">**全般**クイック タブ</span><span class="sxs-lookup"><span data-stu-id="f3dad-264">**General** FastTab</span></span> | <span data-ttu-id="f3dad-265">作業フォルダー</span><span class="sxs-lookup"><span data-stu-id="f3dad-265">Working folders</span></span> | <span data-ttu-id="f3dad-266">CDX データ パッケージの同期に使用される作業フォルダー レコードへの参照を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-266">Select the reference to the working folders record that is used for the synchronization of CDX data packages.</span></span> <span data-ttu-id="f3dad-267">前のセクションで、この作業フォルダーのレコードを作成しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-267">You created this working folders record in the previous section.</span></span> | <span data-ttu-id="f3dad-268">workingfolder</span><span class="sxs-lookup"><span data-stu-id="f3dad-268">workingfolder</span></span> |

3. <span data-ttu-id="f3dad-269">完了したら、**保存** を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-269">When you've finished, select **Save**.</span></span>

### <a name="channel-database"></a><span data-ttu-id="f3dad-270">チャネル データベース</span><span class="sxs-lookup"><span data-stu-id="f3dad-270">Channel database</span></span>
> [!NOTE]
> <span data-ttu-id="f3dad-271">ここに記載されているフィールドの値は、AX 2012 R3 から環境をアップグレードする際に、自動的に設定される既定値です。</span><span class="sxs-lookup"><span data-stu-id="f3dad-271">The field values that are described here are the default values that are automatically set when environments are upgraded from AX 2012 R3.</span></span> <span data-ttu-id="f3dad-272">ただし、それが正しいことを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-272">However, you should verify that they are correct.</span></span> <span data-ttu-id="f3dad-273">AX 2012 R3 からアップグレードしていない環境で、これらの値を手動で入力する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-273">These values must be manually entered for environments that haven't been upgraded from AX 2012 R3.</span></span>

1. <span data-ttu-id="f3dad-274">バックオフィスで、**Retail とコマース \> バックオフィスの設定 \> コマース スケジューラ \>  チャネル データベース**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-274">Sign in to Headquarters, and go to **Retail and Commerce \> Headquarters setup \> Commerce scheduler \> Channel database**.</span></span>
2. <span data-ttu-id="f3dad-275">AX 2012 R3 環境の各現物チャネル データベースについては、アクション ペインで**新規**を選択し、以下のフィールドを設定します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-275">For each physical channel database in the AX 2012 R3 environment, on the Action Pane, select **New**, and set the following fields.</span></span>

    | <span data-ttu-id="f3dad-276">項</span><span class="sxs-lookup"><span data-stu-id="f3dad-276">Section</span></span> | <span data-ttu-id="f3dad-277">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-277">Field</span></span> | <span data-ttu-id="f3dad-278">説明</span><span class="sxs-lookup"><span data-stu-id="f3dad-278">Description</span></span> | <span data-ttu-id="f3dad-279">サンプル値</span><span class="sxs-lookup"><span data-stu-id="f3dad-279">Sample value</span></span> |
    |---|---|---|---|
    | <span data-ttu-id="f3dad-280">表題</span><span class="sxs-lookup"><span data-stu-id="f3dad-280">Header</span></span> | <span data-ttu-id="f3dad-281">チャネル データベース ID</span><span class="sxs-lookup"><span data-stu-id="f3dad-281">Channel database ID</span></span> | <span data-ttu-id="f3dad-282">現物の チャネル データベースの固有識別子を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-282">Enter a unique identifier for the physical channel database.</span></span> <span data-ttu-id="f3dad-283">この値は AX 2012 R3 環境から派生している必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-283">This value should be derived from the AX 2012 R3 environment.</span></span> | <span data-ttu-id="f3dad-284">既定の\_AX63\_データベース</span><span class="sxs-lookup"><span data-stu-id="f3dad-284">Default\_AX63\_Database</span></span> |
    | <span data-ttu-id="f3dad-285">表題</span><span class="sxs-lookup"><span data-stu-id="f3dad-285">Header</span></span> | <span data-ttu-id="f3dad-286">チャネル データベース グループ</span><span class="sxs-lookup"><span data-stu-id="f3dad-286">Channel database group</span></span> | <span data-ttu-id="f3dad-287">チャネル データベースがマップされているチャネル データベース グループを選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-287">Select the channel database group that the channel database is mapped to.</span></span> <span data-ttu-id="f3dad-288">この値は AX 2012 R3 環境から派生している必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-288">This value should be derived from the AX 2012 R3 environment.</span></span> | <span data-ttu-id="f3dad-289">既定の\_AX63\_DatabaseGroup</span><span class="sxs-lookup"><span data-stu-id="f3dad-289">Default\_AX63\_DatabaseGroup</span></span> |
    | <span data-ttu-id="f3dad-290">表題</span><span class="sxs-lookup"><span data-stu-id="f3dad-290">Header</span></span> | <span data-ttu-id="f3dad-291">型</span><span class="sxs-lookup"><span data-stu-id="f3dad-291">Type</span></span> | <span data-ttu-id="f3dad-292">チャネル データベース レコードのタイプを選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-292">Select the type of the channel database record.</span></span> <span data-ttu-id="f3dad-293">このフィールドは、**チャンネル データベース**に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-293">This field must be set to **Channel database**.</span></span> | <span data-ttu-id="f3dad-294">チャネル データベース</span><span class="sxs-lookup"><span data-stu-id="f3dad-294">Channel database</span></span> |
    | <span data-ttu-id="f3dad-295">表題</span><span class="sxs-lookup"><span data-stu-id="f3dad-295">Header</span></span> | <span data-ttu-id="f3dad-296">データ同期間隔</span><span class="sxs-lookup"><span data-stu-id="f3dad-296">Data sync interval</span></span> | <span data-ttu-id="f3dad-297">CDX データの同期を実行する間隔を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-297">Select the interval at which to run the CDX data synchronization.</span></span> <span data-ttu-id="f3dad-298">**このフィールドは空白のままにする必要があります。**</span><span class="sxs-lookup"><span data-stu-id="f3dad-298">**This field must be left blank.**</span></span> | |
    | <span data-ttu-id="f3dad-299">表題</span><span class="sxs-lookup"><span data-stu-id="f3dad-299">Header</span></span> | <span data-ttu-id="f3dad-300">ユーザー名 (大文字と小文字を区別)</span><span class="sxs-lookup"><span data-stu-id="f3dad-300">Username (Case Sensitive)</span></span> | <span data-ttu-id="f3dad-301">AX 2012 R3 チャネル データベースへの接続に使用するユーザー名を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-301">Enter the user name to use to connect to the AX 2012 R3 channel database.</span></span> | <span data-ttu-id="f3dad-302">channeluser</span><span class="sxs-lookup"><span data-stu-id="f3dad-302">channeluser</span></span> |
    | <span data-ttu-id="f3dad-303">表題</span><span class="sxs-lookup"><span data-stu-id="f3dad-303">Header</span></span> | <span data-ttu-id="f3dad-304">パスワード</span><span class="sxs-lookup"><span data-stu-id="f3dad-304">Password</span></span> | <span data-ttu-id="f3dad-305">AX 2012 R3 チャネル データベースへの接続に使用するパスワードを入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-305">Enter the password to use to connect to the AX 2012 R3 channel database.</span></span> | <span data-ttu-id="f3dad-306">*パスフレーズ*</span><span class="sxs-lookup"><span data-stu-id="f3dad-306">*passphrase*</span></span> |
    | <span data-ttu-id="f3dad-307">表題</span><span class="sxs-lookup"><span data-stu-id="f3dad-307">Header</span></span> | <span data-ttu-id="f3dad-308">データベース名</span><span class="sxs-lookup"><span data-stu-id="f3dad-308">Database name</span></span> | <span data-ttu-id="f3dad-309">AX 2012 R3 チャンネル データベースの名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-309">Enter the name of the AX 2012 R3 channel database.</span></span> | <span data-ttu-id="f3dad-310">SampleChannelDB</span><span class="sxs-lookup"><span data-stu-id="f3dad-310">SampleChannelDB</span></span> |
    | <span data-ttu-id="f3dad-311">表題</span><span class="sxs-lookup"><span data-stu-id="f3dad-311">Header</span></span> | <span data-ttu-id="f3dad-312">サーバー名</span><span class="sxs-lookup"><span data-stu-id="f3dad-312">Server name</span></span> | <span data-ttu-id="f3dad-313">AX 2012 R3 チャネル データベースをホストするサーバーの名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-313">Enter the name of the server that hosts the AX 2012 R3 channel database.</span></span> | <span data-ttu-id="f3dad-314">sampleserver</span><span class="sxs-lookup"><span data-stu-id="f3dad-314">sampleserver</span></span> |
    | <span data-ttu-id="f3dad-315">**チャネル** クイック タブ</span><span class="sxs-lookup"><span data-stu-id="f3dad-315">**Channel** FastTab</span></span> | <span data-ttu-id="f3dad-316">チャネル</span><span class="sxs-lookup"><span data-stu-id="f3dad-316">Channel</span></span> | <span data-ttu-id="f3dad-317">チャネル データベースにマップされている段階的なロールアウト (N-1) のチャネルのリストを追加するには、**追加**を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-317">Select **Add** to add the list of channels for Phased Rollout (N-1) that are mapped to the channel database.</span></span> <span data-ttu-id="f3dad-318">値は AX 2012 R3 環境から派生している必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-318">The values should be derived from the AX 2012 R3 environment.</span></span> | <span data-ttu-id="f3dad-319">ロンドン</span><span class="sxs-lookup"><span data-stu-id="f3dad-319">London</span></span> |

3. <span data-ttu-id="f3dad-320">完了したら、**保存** を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-320">When you've finished, select **Save**.</span></span>

### <a name="channel-profiles"></a><span data-ttu-id="f3dad-321">チャネル プロファイル</span><span class="sxs-lookup"><span data-stu-id="f3dad-321">Channel profiles</span></span>
> [!IMPORTANT]
> <span data-ttu-id="f3dad-322">このセクションは、既存の AX 2012 R3 環境が、チャンネル データベースとやり取りするために Retail サーバーを使用する場合にのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="f3dad-322">This section applies only if the existing AX 2012 R3 environment uses Retail Server to interact with the channel database.</span></span> <span data-ttu-id="f3dad-323">AX 2012 R3 MPOS からダイレクト チャネル データベースへのアクセスが有効な場合は、この手順を省略できます。</span><span class="sxs-lookup"><span data-stu-id="f3dad-323">If direct channel database access is enabled from the AX 2012 R3 MPOS, you can skip this step.</span></span>

> <span data-ttu-id="f3dad-324">ここに記載されているフィールドの値は、AX 2012 R3 から環境をアップグレードする際に、自動的に設定される既定値です。</span><span class="sxs-lookup"><span data-stu-id="f3dad-324">The field values that are described here are the default values that are automatically set when environments are upgraded from AX 2012 R3.</span></span> <span data-ttu-id="f3dad-325">ただし、それが正しいことを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-325">However, you should verify that they are correct.</span></span> <span data-ttu-id="f3dad-326">AX 2012 R3 からアップグレードしていない環境で、これらの値を手動で入力する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-326">These values must be manually entered for environments that haven't been upgraded from AX 2012 R3.</span></span>

1. <span data-ttu-id="f3dad-327">バックオフィスにサインインして、**Retail とコマース \> チャネル \> 店舗 \> すべての店舗**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-327">Sign in to Headquarters, and go to **Retail and Commerce \> Channels \> Stores \> All stores**.</span></span>
2. <span data-ttu-id="f3dad-328">N-1 環境でホストされている各 Retail サーバーについては、アクション ペインで**新規**を選択し、以下のフィールドを設定します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-328">For each Retail Server that is hosted in the N-1 environment, on the Action Pane, select **New**, and set the following fields.</span></span>

    | <span data-ttu-id="f3dad-329">項</span><span class="sxs-lookup"><span data-stu-id="f3dad-329">Section</span></span> | <span data-ttu-id="f3dad-330">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-330">Field</span></span> | <span data-ttu-id="f3dad-331">説明</span><span class="sxs-lookup"><span data-stu-id="f3dad-331">Description</span></span> | <span data-ttu-id="f3dad-332">サンプル値</span><span class="sxs-lookup"><span data-stu-id="f3dad-332">Sample value</span></span> |
    |---|---|---|---|
    | <span data-ttu-id="f3dad-333">表題</span><span class="sxs-lookup"><span data-stu-id="f3dad-333">Header</span></span> | <span data-ttu-id="f3dad-334">氏名</span><span class="sxs-lookup"><span data-stu-id="f3dad-334">Name</span></span> | <span data-ttu-id="f3dad-335">設定する N-1 チャネル プロファイルの固有の名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-335">Enter a unique name for the N-1 channel profile that you're setting up.</span></span> <span data-ttu-id="f3dad-336">AX 2012 R3 Retail サーバーが現在インストールされている環境/サーバーごとに、1 つのプロファイルを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-336">You should create one profile per environment/server where you currently have installed the AX 2012 R3 Retail Server.</span></span> <span data-ttu-id="f3dad-337">AX 2012 R3 Retail サーバーが現在インストールされている環境/サーバーごとに、1 つのプロファイルを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-337">You should create one profile for each environment/server where the AX 2012 R3 Retail Server is currently installed.</span></span> | <span data-ttu-id="f3dad-338">既定の\_AX63\_プロファイル</span><span class="sxs-lookup"><span data-stu-id="f3dad-338">Default\_AX63\_Profile</span></span> |
    | <span data-ttu-id="f3dad-339">**プロファイルのプロパティ**</span><span class="sxs-lookup"><span data-stu-id="f3dad-339">**Profile properties**</span></span> | <span data-ttu-id="f3dad-340">プロパティ キー</span><span class="sxs-lookup"><span data-stu-id="f3dad-340">Property key</span></span> | <span data-ttu-id="f3dad-341">AX 2012 R3 環境で使用される Retail サーバー URL のキーを入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-341">Enter the key for the Retail Server URL that is used in the AX 2012 R3 environment.</span></span> <span data-ttu-id="f3dad-342">このフィールドは、**Retail サーバー URL** に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-342">This field must be set to **Retail Server URL**.</span></span> | <span data-ttu-id="f3dad-343">Retail サーバー URL</span><span class="sxs-lookup"><span data-stu-id="f3dad-343">Retail Server URL</span></span> |
    | <span data-ttu-id="f3dad-344">**プロファイルのプロパティ**</span><span class="sxs-lookup"><span data-stu-id="f3dad-344">**Profile properties**</span></span> | <span data-ttu-id="f3dad-345">プロパティ値</span><span class="sxs-lookup"><span data-stu-id="f3dad-345">Property value</span></span> | <span data-ttu-id="f3dad-346">AX 2012 R3 環境で使用される Retail サーバー URL を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-346">Enter the Retail Server URL that is used in the AX 2012 R3 environment.</span></span> | `http://localhost"35080/RetailServer/V1` |
    | <span data-ttu-id="f3dad-347">**プロファイルのプロパティ**</span><span class="sxs-lookup"><span data-stu-id="f3dad-347">**Profile properties**</span></span> | <span data-ttu-id="f3dad-348">プロパティ キー</span><span class="sxs-lookup"><span data-stu-id="f3dad-348">Property key</span></span> | <span data-ttu-id="f3dad-349">AX 2012 R3 環境で使用されるハードウェア ステーション URL のキーを入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-349">Enter the key for the Hardware Station URL that is used in the AX 2012 R3 environment.</span></span> | <span data-ttu-id="f3dad-350">Hardware Station URL</span><span class="sxs-lookup"><span data-stu-id="f3dad-350">Hardware Station URL</span></span> |
    | <span data-ttu-id="f3dad-351">**プロファイルのプロパティ**</span><span class="sxs-lookup"><span data-stu-id="f3dad-351">**Profile properties**</span></span> | <span data-ttu-id="f3dad-352">プロパティ値</span><span class="sxs-lookup"><span data-stu-id="f3dad-352">Property value</span></span> | <span data-ttu-id="f3dad-353">AX 2012 R3 環境で使用されるハードウェア ステーション URL を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-353">Enter the Hardware Station URL that is used in the AX 2012 R3 environment.</span></span> | <span data-ttu-id="f3dad-354">ipc://localhost</span><span class="sxs-lookup"><span data-stu-id="f3dad-354">ipc://localhost</span></span> |

3. <span data-ttu-id="f3dad-355">完了したら、**保存** を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-355">When you've finished, select **Save**.</span></span>

### <a name="all-stores"></a><span data-ttu-id="f3dad-356">すべての店舗</span><span class="sxs-lookup"><span data-stu-id="f3dad-356">All stores</span></span>
> [!NOTE]
> <span data-ttu-id="f3dad-357">バックオフィス環境が AX 2012 R3 バックオフィスから更新された場合、記載されているフィールド値は設定されます。</span><span class="sxs-lookup"><span data-stu-id="f3dad-357">The field values that are described will be set if the Headquarters environment was upgraded from the AX 2012 R3 headquarters.</span></span>

1. <span data-ttu-id="f3dad-358">バックオフィスにサインインして、**Retail とコマース \> チャネル \> 店舗 \> すべての店舗**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-358">Sign in to Headquarters, and go to **Retail and Commerce \> Channels \> Stores \> All stores**.</span></span>
2. <span data-ttu-id="f3dad-359">N-1 環境にマップされている各ストアについては、チャネル ID を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-359">For each store that is mapped to the N-1 environment, select the channel ID.</span></span> <span data-ttu-id="f3dad-360">次に、店舗詳細ページの、**一般**クイックタブで、次のフィールドを設定します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-360">Then, on the store details page, on the **General** FastTab, set the following fields.</span></span>

    | <span data-ttu-id="f3dad-361">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-361">Field</span></span> | <span data-ttu-id="f3dad-362">説明</span><span class="sxs-lookup"><span data-stu-id="f3dad-362">Description</span></span> | <span data-ttu-id="f3dad-363">サンプル値</span><span class="sxs-lookup"><span data-stu-id="f3dad-363">Sample value</span></span> |
    |---|---|---|
    | <span data-ttu-id="f3dad-364">ライブ チャネル データベース</span><span class="sxs-lookup"><span data-stu-id="f3dad-364">Live channel database</span></span> | <span data-ttu-id="f3dad-365">ストアをマップしたチャネル データベースを選択して、それ以前に設定します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-365">Select the channel database that you mapped the store to and set it up for earlier.</span></span> | <span data-ttu-id="f3dad-366">既定の\_AX63\_データベース</span><span class="sxs-lookup"><span data-stu-id="f3dad-366">Default\_AX63\_Database</span></span> |
    | <span data-ttu-id="f3dad-367">チャネル プロファイル</span><span class="sxs-lookup"><span data-stu-id="f3dad-367">Channel profile</span></span> | <span data-ttu-id="f3dad-368">ストアをマップしたチャネル プロファイルを選択し、前のセクションでそれを設定します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-368">Select the channel profile that you mapped the store to and set it up for in the previous section.</span></span> | <span data-ttu-id="f3dad-369">既定の\_AX63\_プロファイル</span><span class="sxs-lookup"><span data-stu-id="f3dad-369">Default\_AX63\_Profile</span></span> |

3. <span data-ttu-id="f3dad-370">完了したら、**保存** を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-370">When you've finished, select **Save**.</span></span>

### <a name="initialize-the-ax-2012-scheduler"></a><span data-ttu-id="f3dad-371">AX 2012 スケジューラの初期化</span><span class="sxs-lookup"><span data-stu-id="f3dad-371">Initialize the AX 2012 scheduler</span></span>
1. <span data-ttu-id="f3dad-372">バックオフィスにサインインし、**Retail とコマース \> バックオフィスの設定 \> コマース スケジューラ \> AX 2012 Retail スケジューラの初期化**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-372">Sign in to Headquarters, and go to **Retail and Commerce \> Headquarters setup \> Commerce scheduler \> Initialize AX 2012 retail scheduler**.</span></span>
2. <span data-ttu-id="f3dad-373">**OK** を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-373">Select **OK**.</span></span>

### <a name="distribution-schedule"></a><span data-ttu-id="f3dad-374">配送スケジュール</span><span class="sxs-lookup"><span data-stu-id="f3dad-374">Distribution schedule</span></span>
> [!NOTE]
> <span data-ttu-id="f3dad-375">バックオフィス環境が AX 2012 R3 バックオフィスから更新された場合、記載されているフィールド値は設定されます。</span><span class="sxs-lookup"><span data-stu-id="f3dad-375">The field values that are described will be set if the Headquarters environment was upgraded from the AX 2012 R3 headquarters.</span></span>

1. <span data-ttu-id="f3dad-376">バックオフィスにサインインし、**Retail とコマース \> Retail とコマース IT \> 配送スケジュール**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-376">Sign in to Headquarters, and go to **Retail and Commerce \> Retail and Commerce IT \> Distribution schedule**.</span></span>
2. <span data-ttu-id="f3dad-377">左側のウィンドウで、接尾語 **AX63** のある配送スケジュールを選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-377">In the left pane, select each distribution schedule that has the suffix **AX63**.</span></span> <span data-ttu-id="f3dad-378">次に、**チャンネル データベース グループ**クイックタブで、先ほど作成したエントリが配送スケジュールにマップされているかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-378">Then, on the **Channel database groups** FastTab, make sure that the entries that you created earlier are mapped to the distribution schedule.</span></span>

### <a name="workers"></a><span data-ttu-id="f3dad-379">作業者</span><span class="sxs-lookup"><span data-stu-id="f3dad-379">Workers</span></span>
> [!NOTE]
> <span data-ttu-id="f3dad-380">バックオフィス環境が AX 2012 R3 バックオフィスから更新された場合、記載されているフィールド値は設定されます。</span><span class="sxs-lookup"><span data-stu-id="f3dad-380">The field values that are described will be set if the Headquarters environment was upgraded from the AX 2012 R3 headquarters.</span></span>

1. <span data-ttu-id="f3dad-381">バックオフィスにサインインし、**Retail とコマース \> 従業員 \> 作業者**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-381">Sign in to Headquarters, and go to **Retail and Commerce \> Employees \> Workers**.</span></span>
2. <span data-ttu-id="f3dad-382">AX 2012 R3 環境にサインインする各作業者の名前を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-382">Select the name of each worker who will sign in to the AX 2012 R3 environment.</span></span> <span data-ttu-id="f3dad-383">次に、作業者の詳細ページの、**コマース** タブの、**コマース** クイック タブで、**パスワード** フィールドを設定します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-383">Then, on the worker details page, on the **Commerce** tab, on the **Commerce** FastTab, set the **Password** field.</span></span>

## <a name="install-n-1-components"></a><span data-ttu-id="f3dad-384">N-1 コンポーネントのインストール</span><span class="sxs-lookup"><span data-stu-id="f3dad-384">Install N-1 components</span></span>
<span data-ttu-id="f3dad-385">Connector for Microsoft Dynamics AX インストーラーを実行する前に、次の要件が満たされていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-385">Before you run the Connector for Microsoft Dynamics AX installers, make sure that the following requirements are met:</span></span>

- <span data-ttu-id="f3dad-386">インストーラーでは、Microsoft .NET Framework バージョン 4.5.1 がシステムにインストールされている必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-386">The installer requires that the Microsoft .NET Framework version 4.5.1 be installed on the system.</span></span>
- <span data-ttu-id="f3dad-387">インストーラーは、Connector for Microsoft Dynamics AX アプリケーションを次のオペレーティング システムにのみインストールします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-387">The installers install the Connector for Microsoft Dynamics AX applications only on the following operating systems.</span></span> <span data-ttu-id="f3dad-388">任意のコンポーネントをインストールする前に、オペレーティング システムに使用可能なすべてのサービス パックおよび更新プログラムを更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-388">Before you install any component, you must update the operating system with all service packs and updates that are available for it.</span></span>

    - <span data-ttu-id="f3dad-389">Windows 7 Professional、Enterprise、または Ultimate エディション (x86 および x64 アーキテクチャの両方)。</span><span class="sxs-lookup"><span data-stu-id="f3dad-389">Windows 7 Professional, Enterprise, or Ultimate edition (both x86 and x64 architectures).</span></span> <span data-ttu-id="f3dad-390">Home エディションおよび埋め込みエディションはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-390">Home edition and embedded edition aren't supported.</span></span>
    - <span data-ttu-id="f3dad-391">Windows 8.1 Update 1 Pro または Enterprise エディション (x86 および x64 アーキテクチャの両方)。</span><span class="sxs-lookup"><span data-stu-id="f3dad-391">Windows 8.1 Update 1 Pro or Enterprise edition (both x86 and x64 architectures).</span></span> <span data-ttu-id="f3dad-392">標準エディションはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-392">Standard edition isn't supported.</span></span>
    - <span data-ttu-id="f3dad-393">Windows 10 Pro または Enterprise エディション (x86 および x64 アーキテクチャの両方)。</span><span class="sxs-lookup"><span data-stu-id="f3dad-393">Windows 10 Pro or Enterprise edition (both x86 and x64 architectures).</span></span> <span data-ttu-id="f3dad-394">Home エディションはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-394">Home edition isn't supported.</span></span>
    - <span data-ttu-id="f3dad-395">Microsoft Windows Server 2012 R2 または Microsoft Windows Server 2016。</span><span class="sxs-lookup"><span data-stu-id="f3dad-395">Microsoft Windows Server 2012 R2 or Microsoft Windows Server 2016.</span></span>

### <a name="async-server-connector-service"></a><span data-ttu-id="f3dad-396">非同期サーバー コネクタ サービス</span><span class="sxs-lookup"><span data-stu-id="f3dad-396">Async Server Connector Service</span></span>
<span data-ttu-id="f3dad-397">インストーラーは、すべての前提条件が満たされていることを検証します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-397">The installer validates that all prerequisites are met.</span></span> <span data-ttu-id="f3dad-398">これらの前提条件には、SQL Server のローカル インストールなどの SQL 前提条件、または SQL Command Line Utilities やその他の必要な SQL 接続インストールなどの別の前提条件が含まれています。</span><span class="sxs-lookup"><span data-stu-id="f3dad-398">These prerequisites include SQL prerequisites, such as a local installation of SQL Server, or the alternative prerequisites, such as SQL Command Line Utilities and other required SQL connectivity installations.</span></span>

<span data-ttu-id="f3dad-399">前提条件を満たすためには、接続されている SQL Server で全文検索が必要であり、最低でもトランスポート層セキュリティ (TLS) 1.2 がサポートされている必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-399">To meet prerequisites, the SQL Server that is connected to must have Full-text search and, at a minimum, support for Transport Layer Security (TLS) 1.2.</span></span> <span data-ttu-id="f3dad-400">Microsoft SQL Server 2012 では、最低でも、Service Pack 3 がインストールされる必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-400">For Microsoft SQL Server 2012, Service Pack 3 must be installed, at a minimum.</span></span> <span data-ttu-id="f3dad-401">Microsoft SQL Server 2014 では、Service Pack 2 がインストールされている必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-401">For Microsoft SQL Server 2014, Service Pack 2 must be installed.</span></span>

<span data-ttu-id="f3dad-402">システムの再起動が必要な場合、インストーラーでこの要件が表示されます。</span><span class="sxs-lookup"><span data-stu-id="f3dad-402">If a system restart is required, the installer shows this requirement.</span></span> <span data-ttu-id="f3dad-403">再起動することを推奨されていますが、インストーラーを使用せずに続行することができます。</span><span class="sxs-lookup"><span data-stu-id="f3dad-403">Although the restart is recommended, the installer can continue without it.</span></span>

<span data-ttu-id="f3dad-404">準備ができたら、次の手順に従ってコンポーネントをダウンロードおよびインストールします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-404">When you're ready, follow these steps to download and install the component.</span></span>

1. <span data-ttu-id="f3dad-405">バックオフィスにサインインし、**Retail とコマース \> バックオフィスの設定 \> コマース スケジューラ \> Microsoft Dynamics AX のコネクタ**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-405">Sign in to Headquarters, and go to **Retail and Commerce \> Headquarters setup \> Commerce scheduler \> Connector for Microsoft Dynamics AX**.</span></span>
2. <span data-ttu-id="f3dad-406">作成済みのコネクタを選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-406">Select the connector that you created earlier.</span></span>
3. <span data-ttu-id="f3dad-407">アクション ウィンドウの**ダウンロード**タブで、**Async Server Connector service** を選択してインストーラー ファイルをダウンロードし、**Async Server Connector service** の下の**構成ファイル**を選択して、対応する構成ファイルをダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-407">On the Action Pane, on the **Download** tab, select **Async Server Connector service** to download the installer file, and then select **Configuration file** below **Async Server Connector service** to download the corresponding configuration file.</span></span> <span data-ttu-id="f3dad-408">構成ファイルがインストーラー ファイルの横に保存されることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-408">Make sure that the configuration file is saved next to the installer file.</span></span>
4. <span data-ttu-id="f3dad-409">インストーラーおよび構成ファイルをダウンロード後、インストーラー ファイルをダブルクリックし、次の手順に従います。</span><span class="sxs-lookup"><span data-stu-id="f3dad-409">After the installer and configuration files are downloaded, double-click the installer file, and follow these steps:</span></span>

    1. <span data-ttu-id="f3dad-410">Application Object Server (AOS) URL (バックオフィスへのアクセスに使用される URL) を確認し、**次へ**を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-410">Verify the Application Object Server (AOS) URL (the URL that is used to access Headquarters), and then select **Next**.</span></span>
    2. <span data-ttu-id="f3dad-411">特定のユーザーが必要な場合は、サービスを実行するために必要なユーザー名とパスワードを入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-411">If a specific user is required, enter the user name and password that the service should run as.</span></span> <span data-ttu-id="f3dad-412">既定では、インストーラーは自動的に使用するサービス アカウントを生成します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-412">By default, the installer automatically generates a service account to use.</span></span> <span data-ttu-id="f3dad-413">この方法は、安全性が向上しお勧めしますが、データベースが別のコンピューターにある場合は使用できません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-413">This approach is more secure and is recommended, but it can't be used when the database is located on a separate computer.</span></span> <span data-ttu-id="f3dad-414">**次へ** を選択して続行します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-414">Select **Next** to continue.</span></span>
    3. <span data-ttu-id="f3dad-415">アプリケーション ID (クライアント ID) および Connector for Microsoft Dynamics AX  インストールと関連するシークレットを入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-415">Enter the application ID (client ID) and secret that are associated with this Connector for Microsoft Dynamics AX installation.</span></span>
    4. <span data-ttu-id="f3dad-416">**インストール**を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-416">Select **Install**.</span></span>

    > [!NOTE]
    > - <span data-ttu-id="f3dad-417">クライアント ID およびシークレットを作成するため Azure Web アプリを正しく生成する方法の詳細については、「[Azure Active Directory アプリケーションを作成する](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-create-service-principal-portal)」で「Azure AD でアプリケーションを登録するための基本」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-417">For information about how to correctly generate an Azure Web App to create a client ID and secret, see the "Basics of Registering an Application in Azure AD" section in [Create an Azure Active Directory Application](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-create-service-principal-portal).</span></span>
    > - <span data-ttu-id="f3dad-418">Web アプリを作成するとき、最初の URI と URL は特定の値である必要はありません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-418">When you create the Web App, the initial URI and URL don't have to be any specific value.</span></span> <span data-ttu-id="f3dad-419">作成されるアプリケーション ID (クライアント ID) とシークレットのみ重要です。</span><span class="sxs-lookup"><span data-stu-id="f3dad-419">Only the application ID (client ID) and secret that are created are important.</span></span>

5. <span data-ttu-id="f3dad-420">アプリケーション ID (クライアント ID) とシークレットが作成された後、アプリケーション ID は、コマースで受け入れる必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-420">After an application ID (client ID) and secret are created, the application ID must be accepted in Commerce.</span></span> <span data-ttu-id="f3dad-421">**Retail とコマース \> バック オフィスの設定 \> Azure Active Directory アプリケーション**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-421">Go to **Retail and Commerce \> Headquarters setup \> Azure Active Directory applications**.</span></span> <span data-ttu-id="f3dad-422">アプリケーション ID を**クライアント ID** 列に入力し、説明テキストを**名**列に入力、および **RetailServiceAccount** を**ユーザー ID** 列に入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-422">Enter the application ID in the **Client Id** column, enter descriptive text in the **Name** column, and enter **RetailServiceAccount** in the **User ID** column.</span></span>
6. <span data-ttu-id="f3dad-423">バックオフィスで、**Retail とコマース \> バックオフィスの設定 \> パラメーター \> コマースの共有パラメーター**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-423">Sign in to Headquarters, and go to **Retail and Commerce \> Headquarters setup \> Parameters \> Commerce shared parameters**.</span></span>
7. <span data-ttu-id="f3dad-424">**ID プロバイダー**タブで、**発行者**値で始まる `HTTPS://sts.windows.net/` プロバイダーを選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-424">On the **Identity Providers** tab, select the provider that has an **Issuer** value that begins with `HTTPS://sts.windows.net/`.</span></span> <span data-ttu-id="f3dad-425">選択に基づいて、**依存する関係者**クイックタブの値が自動的に設定されます。</span><span class="sxs-lookup"><span data-stu-id="f3dad-425">The values on the **Relying parties** FastTab are automatically set, based on your selection.</span></span>
8. <span data-ttu-id="f3dad-426">**依存する関係者**クイック タブで、**追加**を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-426">On the **Relying parties** FastTab, select **Add**.</span></span> <span data-ttu-id="f3dad-427">このインストールに作成された アプリケーション ID (クライアント ID) を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-427">Enter the application ID (client ID) that was created for this installation.</span></span> <span data-ttu-id="f3dad-428">**Type** フィールドを **Public** に、**UserType** フィールドを **Worker** に設定します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-428">Set the **Type** field to **Public** and the **UserType** field to **Worker**.</span></span> <span data-ttu-id="f3dad-429">[アクション] ウィンドウで、**保存** を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-429">Then, on the Action Pane, select **Save**.</span></span>
9. <span data-ttu-id="f3dad-430">アクション ウィンドウで、**保存**を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-430">On the Action Pane, select **Save**.</span></span>

### <a name="n-1-real-time-service"></a><span data-ttu-id="f3dad-431">N-1 リアルタイム サービス</span><span class="sxs-lookup"><span data-stu-id="f3dad-431">N-1 Real-time service</span></span>
1. <span data-ttu-id="f3dad-432">バックオフィスにサインインし、**Retail とコマース \> バックオフィスの設定 \> コマース スケジューラ \> Microsoft Dynamics AX のコネクタ**の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-432">Sign in to Headquarters, and go to **Retail and Commerce \> Headquarters setup \> Commerce scheduler \> Connector for Microsoft Dynamics AX**.</span></span>
2. <span data-ttu-id="f3dad-433">作成済みのコネクタを選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-433">Select the connector that you created earlier.</span></span>
3. <span data-ttu-id="f3dad-434">アクション ウィンドウの**ダウンロード**タブで、**Real-time service for Dynamics AX 2012 R3** を選択してインストーラー ファイルをダウンロードし、**Real-time service for Dynamics AX 2012 R3** の下の**構成ファイル**を選択して、対応する構成ファイルをダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-434">On the Action Pane, on the **Download** tab, select **Real-time service for Dynamics AX 2012 R3** to download the installer file, and then select **Configuration file** below **Real-time service for Dynamics AX 2012 R3** to download the corresponding configuration file.</span></span> <span data-ttu-id="f3dad-435">構成ファイルが設定ファイルの横に保存されることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-435">Make sure that the configuration file is saved next to the setup file.</span></span>
3. <span data-ttu-id="f3dad-436">インストーラーおよび構成ファイルをダウンロード後、インストーラー ファイルをダブルクリックし、次の手順に従います。</span><span class="sxs-lookup"><span data-stu-id="f3dad-436">After the installer and configuration files are downloaded, double-click the installer file, and follow these steps:</span></span>

    1. <span data-ttu-id="f3dad-437">AOS URL (バックオフィスへのアクセスに使用される URL) を確認し、**次へ**を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-437">Verify the AOS URL (the URL that is used to access Headquarters), and then select **Next**.</span></span>
    2. <span data-ttu-id="f3dad-438">HTTPS 通信に使用する有効な SSL 証明書を選択し、**次へ**を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-438">Select a valid SSL certificate to use for HTTPS communication, and then select **Next**.</span></span>

        <span data-ttu-id="f3dad-439">証明書は秘密キー ストレージを使用する必要があり、サーバー認証は拡張キー使用プロパティにリストされている必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-439">The certificate must use private key storage, and server authentication must be listed in the enhanced key usage property.</span></span> <span data-ttu-id="f3dad-440">また、証明書はローカルに信頼される必要があり、期限切れにすることはできません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-440">Additionally, the certificate must be trusted locally, and it can't be expired.</span></span> <span data-ttu-id="f3dad-441">ローカル コンピューターの個人用証明書格納場所に保存する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-441">It must be stored in the personal certificate store location on the local computer.</span></span>

    3. <span data-ttu-id="f3dad-442">特定のユーザーが必要な場合は、アプリケーション プールを実行するために必要なユーザー名とパスワードを入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-442">If a specific user is required, enter the user name and password that the application pool should run as.</span></span> <span data-ttu-id="f3dad-443">既定では、インストーラーは自動的に使用するサービス アカウントを生成します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-443">By default, the installer automatically generates a service account to use.</span></span> <span data-ttu-id="f3dad-444">この方法は、安全性が向上しお勧めしますが、データベースが別のコンピューターにある場合は使用できません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-444">This approach is more secure and is recommended, but it can't be used when the database is located on a separate computer.</span></span> <span data-ttu-id="f3dad-445">**次へ** を選択して続行します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-445">Select **Next** to continue.</span></span>
    4. <span data-ttu-id="f3dad-446">使用する必要のある HTTPS ポートを確認し、コンピューターのホスト名が正しいことを確認します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-446">Verify the HTTPS port that should be used, and verify that the host name of the computer is correct.</span></span> <span data-ttu-id="f3dad-447">**次へ** を選択して続行します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-447">Select **Next** to continue.</span></span>

        <span data-ttu-id="f3dad-448">HTTPS ポートは、店舗システムのプロファイルに一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="f3dad-448">The HTTPS port is listed in the Store system profile.</span></span> <span data-ttu-id="f3dad-449">店舗システム プロファイルにアクセスするには、**店舗詳細**ページの**店舗システム** クイック タブで、選択した店舗システムのプロファイル ID を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-449">To access the Store system profile, on the **Store details** page, on the **Store systems** FastTab, select the profile ID of the selected Store system.</span></span> <span data-ttu-id="f3dad-450">インストーラーは自動的にホスト名を入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-450">The installer automatically enters the host name.</span></span> <span data-ttu-id="f3dad-451">何らかの理由で、インストールのためにホスト名を変更する必要がある場合は、ここで変更します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-451">If, for any reason, the host name must be changed for the installation, change it here.</span></span> <span data-ttu-id="f3dad-452">ホスト名はシステムの完全修飾ドメイン名 (FQDN) でなければなりません。また、このトピックの前半にある **Connector for Microsoft Dynamics AX** ページに入力した値と一致する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-452">The host name must be the fully qualified domain name (FQDN) of the system, and it must match the value that you entered on the **Connector for Microsoft Dynamics AX** page earlier in this topic.</span></span>

    5. <span data-ttu-id="f3dad-453">アプリケーション ID (クライアント ID) および Connector for Microsoft Dynamics AX  インストールと関連するシークレットを入力します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-453">Enter the application ID (client ID) and secret that are associated with this Connector for Microsoft Dynamics AX installation.</span></span> <span data-ttu-id="f3dad-454">その後、**インストール** を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-454">Then select **Install**.</span></span>

        <span data-ttu-id="f3dad-455">このアプリケーション ID とシークレットは、Async Server Connector service のインストールで使用したのと同じアプリケーション ID とシークレットにできます。</span><span class="sxs-lookup"><span data-stu-id="f3dad-455">This application ID and secret can be the same application ID and secret that you used in the Async Server Connector service installation.</span></span> <span data-ttu-id="f3dad-456">クライアント ID およびシークレットを作成するため Azure Web アプリを正しく生成する方法の詳細については、「[Azure Active Directory アプリケーションを作成する](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-create-service-principal-portal)」で「Azure AD でアプリケーションを登録するための基本」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-456">For information about how to correctly generate an Azure Web App to create a client ID and secret, see the "Basics of Registering an Application in Azure AD" section in [Create an Azure Active Directory Application](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-create-service-principal-portal).</span></span> <span data-ttu-id="f3dad-457">Web アプリを作成するとき、最初の URI と URL は特定の値である必要はありません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-457">When you create the Web App, the initial URI and URL don't have to be any specific value.</span></span> <span data-ttu-id="f3dad-458">作成されるアプリケーション ID (クライアント ID) とシークレットのみ重要です。</span><span class="sxs-lookup"><span data-stu-id="f3dad-458">Only the application ID (client ID) and secret that are created are important.</span></span>

## <a name="cutover-steps-to-switch-to-n-1"></a><span data-ttu-id="f3dad-459">N-1に切り替えるための切替手順</span><span class="sxs-lookup"><span data-stu-id="f3dad-459">Cutover steps to switch to N-1</span></span>
<span data-ttu-id="f3dad-460">このセクションでは、既存の AX 2012 R3 チャンネル環境を AX 2012 R3 バックオフィスからコマース バックオフィスに切り替えるための、推奨される詳細な手順を説明します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-460">This section gives the recommended step-by-step instructions to switch an existing AX 2012 R3 channel environment from the AX 2012 R3 headquarters to the Commerce Headquarters.</span></span> <span data-ttu-id="f3dad-461">これらの手順は一般的なものです。</span><span class="sxs-lookup"><span data-stu-id="f3dad-461">Note that these instructions are generic.</span></span> <span data-ttu-id="f3dad-462">特定のビジネスまたは技術面の要件に対応するためには、さまざまな実装がこれらの手順から逸脱する必要がある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-462">Different implementations will likely have to deviate from these steps to accommodate specific business or technical requirements.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="f3dad-463">前提条件</span><span class="sxs-lookup"><span data-stu-id="f3dad-463">Prerequisites</span></span>
<span data-ttu-id="f3dad-464">切り替えの環境を準備するのにはこれらの手順に従います。</span><span class="sxs-lookup"><span data-stu-id="f3dad-464">Follow these steps to prepare your environment for the cutover.</span></span>

| <span data-ttu-id="f3dad-465">ステップ</span><span class="sxs-lookup"><span data-stu-id="f3dad-465">Step</span></span> | <span data-ttu-id="f3dad-466">詳細情報</span><span class="sxs-lookup"><span data-stu-id="f3dad-466">Details</span></span> | <span data-ttu-id="f3dad-467">タイムライン</span><span class="sxs-lookup"><span data-stu-id="f3dad-467">Timeline</span></span> |
|---|---|---|
| <span data-ttu-id="f3dad-468">1. バックオフィスを配置します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-468">1. Deploy Headquarters.</span></span> | <span data-ttu-id="f3dad-469">バックオフィスを稼働します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-469">Headquarters is up and running.</span></span> <span data-ttu-id="f3dad-470"> クラウド POS (CPOS) は、環境内の機能を検証するために使用できます。</span><span class="sxs-lookup"><span data-stu-id="f3dad-470">Cloud POS (CPOS) can be used to validate functionality in the environment.</span></span> | <span data-ttu-id="f3dad-471">切替前の数週間または数か月</span><span class="sxs-lookup"><span data-stu-id="f3dad-471">Weeks or months before the cutover</span></span> |
| <span data-ttu-id="f3dad-472">2. コマース アプリケーション (X++) KB をインストールします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-472">2. Install the Commerce application (X++) KBs.</span></span> | <span data-ttu-id="f3dad-473">N-1 に関連するすべての問題が解決されていることを確認するには、[N-1 に必要な KB](#required-kbs-for-n-1) セクションに記載されている KB をインストールします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-473">Install the KBs that are listed in the [Required KBs for N-1](#required-kbs-for-n-1) section to make sure all issues that are related to N-1 are addressed.</span></span> | <span data-ttu-id="f3dad-474">切替前の数週間または数か月</span><span class="sxs-lookup"><span data-stu-id="f3dad-474">Weeks or months before the cutover</span></span> |
| <span data-ttu-id="f3dad-475">3. Azure AD アカウントを設定します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-475">3. Set up Azure AD accounts.</span></span> | <span data-ttu-id="f3dad-476">[Azure AD アカウントの設定](#set-up-azure-ad-accounts) セクションの指示に従い、N-1 コンポーネントに必要なアカウントを作成し、バックオフィスに対して認証します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-476">Follow the instructions in the [Set up Azure AD accounts](#set-up-azure-ad-accounts) section to create the accounts that are required for the N-1 components to authenticate against Headquarters.</span></span> | <span data-ttu-id="f3dad-477">切替前の数週間または数か月</span><span class="sxs-lookup"><span data-stu-id="f3dad-477">Weeks or months before the cutover</span></span> |
| <span data-ttu-id="f3dad-478">4. バックオフィスをコンフィギュレーションします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-478">4. Configure Headquarters.</span></span> | <span data-ttu-id="f3dad-479">[N-1 コンポーネントを構成する](#configure-n-1-components) セクションの指示に従い、N-1 コンポーネントをインストールする前にすべての設定を構成します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-479">Follow the instructions in the [Configure N-1 components](#configure-n-1-components) section to configure all the settings for the N-1 components before they are installed.</span></span> | <span data-ttu-id="f3dad-480">切替前の数週間または数か月</span><span class="sxs-lookup"><span data-stu-id="f3dad-480">Weeks or months before the cutover</span></span> |
| <span data-ttu-id="f3dad-481">5. バックオフィスをコンフィギュレーションします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-481">5. Configure Headquarters.</span></span> | <span data-ttu-id="f3dad-482">**Retail と Commerce** &gt; **本社の設定** &gt; **パラメーター** &gt; **コマース共有パラメーター** に移動し、**セキュリティ** タブを選択して、**TS パスワードの暗号化名** の値を "SHA256" に変更します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-482">Go to **Retail and Commerce** &gt; **Headquarters setup** &gt; **Parameters** &gt; **Commerce shared parameters**, select the **Security** tab, and change the value in **TS password encryption name** to "SHA256".</span></span> |
| <span data-ttu-id="f3dad-483">6. N-1 コンポーネントのインストール。</span><span class="sxs-lookup"><span data-stu-id="f3dad-483">6. Install the N-1 components.</span></span> | <span data-ttu-id="f3dad-484">[N-1 コンポーネントのインストール](#install-n-1-components) セクションの指示に従い、N-1 コンポーネントをインストールします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-484">Follow the instructions in the [Install N-1 components](#install-n-1-components) section to install the N-1 components.</span></span> <span data-ttu-id="f3dad-485">N-1 Async Server Connector Service コンポーネントをインストールする必要がありますが、AX 2012 R3 と Dynamics 365 CDX パッケージが混在しないように、すぐに無効にする必要があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-485">Note that the N-1 Async Server Connector Service component should be installed but immediately turned off to ensure that AX 2012 R3 and Dynamics 365 CDX packages aren't mixed.</span></span> | <span data-ttu-id="f3dad-486">切替前の数週間または数か月</span><span class="sxs-lookup"><span data-stu-id="f3dad-486">Weeks or months before the cutover</span></span> |

### <a name="preparation"></a><span data-ttu-id="f3dad-487">準備</span><span class="sxs-lookup"><span data-stu-id="f3dad-487">Preparation</span></span>
<span data-ttu-id="f3dad-488">切り替えがスケジュールされる数日前に、これらの手順に従って準備します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-488">Follow these steps to prepare a few days before the cutover is scheduled.</span></span>

| <span data-ttu-id="f3dad-489">ステップ</span><span class="sxs-lookup"><span data-stu-id="f3dad-489">Step</span></span> | <span data-ttu-id="f3dad-490">詳細情報</span><span class="sxs-lookup"><span data-stu-id="f3dad-490">Details</span></span> | <span data-ttu-id="f3dad-491">タイムライン</span><span class="sxs-lookup"><span data-stu-id="f3dad-491">Timeline</span></span> | <span data-ttu-id="f3dad-492">この手順を実行されたことを検証する方法</span><span class="sxs-lookup"><span data-stu-id="f3dad-492">How to validate that this step is done</span></span> |
|---|---|---|---|
| <span data-ttu-id="f3dad-493">1. AX 2012 R3 のすべてのダウンロード ジョブを停止します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-493">1. Stop all AX 2012 R3 download jobs.</span></span> | <span data-ttu-id="f3dad-494">AX 2012 R3 のバック オフィスですべての AX 2012 R3 ダウンロード ジョブが停止していることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-494">Make sure that all AX 2012 R3 download jobs are stopped in the AX 2012 R3 headquarters.</span></span> | <span data-ttu-id="f3dad-495">切替前に少なくとも数日間</span><span class="sxs-lookup"><span data-stu-id="f3dad-495">At least a couple days before the cutover</span></span> | <span data-ttu-id="f3dad-496">アップロード ジョブの AX 2012 R3 ネットワーク共有内のすべてのパッケージが処理され、新たに表示されるパッケージはありません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-496">All packages in the AX 2012 R3 network share for upload jobs are processed, and no new packages appear.</span></span> |
| <span data-ttu-id="f3dad-497">2. バックオフィスですべての **AX63** CDX ダウンロード ジョブを完全に同期させます。</span><span class="sxs-lookup"><span data-stu-id="f3dad-497">2. Do a full synchronization of all **AX63** CDX download jobs in Headquarters.</span></span> | <span data-ttu-id="f3dad-498">CXD ダウンロード ジョブを実行してパッケージが生成され、Azure Blob storage の Blob に削除されていることを確認し、N-1 非同期サーバー コネクタ サービスが切替中にそれらを使用できるようにします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-498">Run the CDX download jobs to make sure that the packages are generated and dropped in the Azure Blob storage blob, so that the N-1 Async Server Connector Service can consume them during cutover.</span></span> | <span data-ttu-id="f3dad-499">切替前に少なくとも数日間</span><span class="sxs-lookup"><span data-stu-id="f3dad-499">At least a couple days before the cutover</span></span> | <span data-ttu-id="f3dad-500">CDX ダウンロード ジョブは、バックオフィス内の**ダウンロード セッション**にて**利用可能**になります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-500">CDX download jobs are in the **Available** state on the **Download Sessions** page in Headquarters.</span></span> |

### <a name="cutover-steps"></a><span data-ttu-id="f3dad-501">切替手順</span><span class="sxs-lookup"><span data-stu-id="f3dad-501">Cutover steps</span></span>
<span data-ttu-id="f3dad-502">切替プロセスを行うには、これらの手順に従います。</span><span class="sxs-lookup"><span data-stu-id="f3dad-502">Follow these steps to do the actual cutover.</span></span>

| <span data-ttu-id="f3dad-503">ステップ</span><span class="sxs-lookup"><span data-stu-id="f3dad-503">Step</span></span> | <span data-ttu-id="f3dad-504">詳細情報</span><span class="sxs-lookup"><span data-stu-id="f3dad-504">Details</span></span> | <span data-ttu-id="f3dad-505">タイムライン</span><span class="sxs-lookup"><span data-stu-id="f3dad-505">Timeline</span></span> | <span data-ttu-id="f3dad-506">この手順を実行されたことを検証する方法</span><span class="sxs-lookup"><span data-stu-id="f3dad-506">How to validate that this step is done</span></span> |
|---|---|---|---|
| <span data-ttu-id="f3dad-507">1. すべてのシフトを閉じます。</span><span class="sxs-lookup"><span data-stu-id="f3dad-507">1. Close all shifts.</span></span> | <span data-ttu-id="f3dad-508">すべてのシフトがクローズしていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-508">Make sure that all shifts are closed.</span></span> | <span data-ttu-id="f3dad-509">ストア終了後</span><span class="sxs-lookup"><span data-stu-id="f3dad-509">After store closing</span></span> | <span data-ttu-id="f3dad-510">シフトがクローズしているストアを手動で検証します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-510">Manually validate with the stores that the shifts are closed.</span></span> |
| <span data-ttu-id="f3dad-511">2. 中断されたトランザクションをすべてクリーンアップします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-511">2. Clean up any suspended transactions.</span></span> | <span data-ttu-id="f3dad-512">中断されたすべてのトランザクションがクリーンアップされることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-512">Make sure that all suspended transactions are cleaned up.</span></span> | <span data-ttu-id="f3dad-513">前の手順の後</span><span class="sxs-lookup"><span data-stu-id="f3dad-513">After the previous step</span></span> | <span data-ttu-id="f3dad-514">シフトがクローズしているストアを手動で検証します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-514">Manually validate with the stores that the shifts are closed.</span></span> |
| <span data-ttu-id="f3dad-515">3. トランザクションのすべてのデータを同期します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-515">3. Synchronize all transactional data.</span></span> | <span data-ttu-id="f3dad-516">すべてのトランザクション データが CDX アップロード ジョブによって AX 2012 R3 バックオフィスに同期されていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-516">Make sure that all transactional data is synchronized through the CDX upload jobs to the AX 2012 R3 headquarters.</span></span> | <span data-ttu-id="f3dad-517">前の手順の後</span><span class="sxs-lookup"><span data-stu-id="f3dad-517">After the previous step</span></span> | <span data-ttu-id="f3dad-518">アップロード ジョブの AX 2012 R3 ネットワーク共有内のすべてのパッケージが処理され、新たに表示されるパッケージはありません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-518">All packages in the AX 2012 R3 network share for upload jobs are processed, and no new packages appear.</span></span> |
| <span data-ttu-id="f3dad-519">4. AX 2012 R3 CDX のアップロード ジョブを無効にします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-519">4. Disable AX 2012 R3 CDX upload jobs.</span></span> | <span data-ttu-id="f3dad-520">すべての AX 2012 R3 アップロード ジョブが無効になっていることを確認して、パッケージがもう集荷されないようにしてください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-520">Make sure that all AX 2012 R3 upload jobs are disabled, so that packages are no longer being picked up.</span></span> | <span data-ttu-id="f3dad-521">前の手順の後</span><span class="sxs-lookup"><span data-stu-id="f3dad-521">After the previous step</span></span> | <span data-ttu-id="f3dad-522">AX 2012 R3 バックオフィスの UI を通じて、CDX アップロード ジョブが無効になっていることを手動で検証します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-522">Manually validate through the AX 2012 R3 headquarters UI that the CDX upload jobs are disabled.</span></span> |
| <span data-ttu-id="f3dad-523">5. AX 2012 R3 のリアルタイム サービスをシャット ダウンします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-523">5. Shut down the AX 2012 R3 Real-time Service.</span></span> | <span data-ttu-id="f3dad-524">AX 2012 R3 のリアルタイム サービスをホストするサーバーに接続し、IIS を起動し、AX 2012 R3 のリアルタイム サービスを右クリックしてサービスを停止します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-524">Connect to the server that hosts the AX 2012 R3 Real-time Service, start IIS, right-click the AX 2012 R3 Real-time Service, and stop the service.</span></span> | <span data-ttu-id="f3dad-525">前の手順の後</span><span class="sxs-lookup"><span data-stu-id="f3dad-525">After the previous step</span></span> | <span data-ttu-id="f3dad-526">サービスが停止していることを IIS で手動で検証します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-526">Manually validate in IIS that the service is stopped.</span></span> |
| <span data-ttu-id="f3dad-527">6. **メタデータ同期のリセット** コマンドをバックオフィスで実行します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-527">6. Run the **Reset metadata synchronization** command in Headquarters.</span></span> | <span data-ttu-id="f3dad-528">Microsoft Dynamics AX では、**Retail とコマース \> バックオフィスの設定 \> コマース スケジューラ \> Microsoft Dynamics AX のコネクタ**に移動し、**メタデータ同期のリセット**を選択して N-1 の切替のために AX 2012 R3 環境内の **HQMessageDB** データベースをリセットします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-528">In Microsoft Dynamics AX, go to **Retail and Commerce \> Headquarters setup \> Commerce scheduler \> Connector for Microsoft Dynamics AX**, and select **Reset metadata synchronization** to reset the **HQMessageDB** database in the AX 2012 R3 environment for N-1 cutover.</span></span> | <span data-ttu-id="f3dad-529">前の手順の後</span><span class="sxs-lookup"><span data-stu-id="f3dad-529">After the previous step</span></span> | <span data-ttu-id="f3dad-530">該当なし</span><span class="sxs-lookup"><span data-stu-id="f3dad-530">Not applicable</span></span> |
| <span data-ttu-id="f3dad-531">7. N-1 非同期サーバー コネクタ サービスを有効にします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-531">7. Turn on the N-1 Async Server Connector Service.</span></span> | <span data-ttu-id="f3dad-532">N-1 Async Server Connector Service をホストするサーバーに接続し、Microsoft Windows サービスを有効にします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-532">Connect to the server that hosts the N-1 Async Server Connector Service, and enable the Microsoft Windows service.</span></span> | <span data-ttu-id="f3dad-533">前の手順の後</span><span class="sxs-lookup"><span data-stu-id="f3dad-533">After the previous step</span></span> | <span data-ttu-id="f3dad-534">**利用可能**から**適用済**までのバックオフィス変更の**ダウンロード セッション** ページのダウンロード ジョブの状態。</span><span class="sxs-lookup"><span data-stu-id="f3dad-534">The status of download jobs on the **Download Sessions** page in Headquarters changes from **Available** to **Applied**.</span></span> |

<span data-ttu-id="f3dad-535">次の図は、これらの手順のビジュアル表示です。</span><span class="sxs-lookup"><span data-stu-id="f3dad-535">The following illustration is a visual representation of these steps.</span></span>

![段階的なロールアウト (N-1) アーキテクチャの概要](media/CDX/N-1/Cutover.jpg)

## <a name="troubleshooting-steps"></a><span data-ttu-id="f3dad-537">トラブルシューティングの手順</span><span class="sxs-lookup"><span data-stu-id="f3dad-537">Troubleshooting steps</span></span>
<span data-ttu-id="f3dad-538">このセクションでは、発生する可能性があるいくつかの一般的な問題と、調査、または回復する手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-538">This section describes some typical issues that you might encounter, and the steps that you can follow to investigate or recover from them.</span></span>

### <a name="runtime"></a><span data-ttu-id="f3dad-539">ランタイム</span><span class="sxs-lookup"><span data-stu-id="f3dad-539">Runtime</span></span>
<span data-ttu-id="f3dad-540">このセクションでは、アプリケーションの実行時に発生する可能性のあるエラーの、トラブルシューティングの手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-540">This section describes troubleshooting steps for errors that you might encounter during the runtime of the application.</span></span>

#### <a name="metadata-synchronization-fails"></a><span data-ttu-id="f3dad-541">メタデータ同期に失敗</span><span class="sxs-lookup"><span data-stu-id="f3dad-541">Metadata synchronization fails</span></span>
| <span data-ttu-id="f3dad-542">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-542">Field</span></span> | <span data-ttu-id="f3dad-543">先頭値</span><span class="sxs-lookup"><span data-stu-id="f3dad-543">Value</span></span> |
|---|---|
| <span data-ttu-id="f3dad-544">イベント ログ</span><span class="sxs-lookup"><span data-stu-id="f3dad-544">Event Log</span></span> | <span data-ttu-id="f3dad-545">Microsoft-Dynamics-Commerce-AsyncServerConnectorService/操作</span><span class="sxs-lookup"><span data-stu-id="f3dad-545">Microsoft-Dynamics-Commerce-AsyncServerConnectorService/Operational</span></span> |
| <span data-ttu-id="f3dad-546">サンプル イベント ログのエラー メッセージ</span><span class="sxs-lookup"><span data-stu-id="f3dad-546">Sample Event Log Error Message</span></span> | <span data-ttu-id="f3dad-547">非同期サーバー コネクタ サービスで、ダウンロード タイマーのティックにエラーが発生しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-547">Async server connector service encounters error in download timer tick.</span></span> <span data-ttu-id="f3dad-548">CorrelationId {4c9cd9a0-d4e3-43e5-80da-59ea2eb01acf}; エラーの詳細 : Microsoft.Dynamics.Retail.AsyncServerConnector.Service.Exceptions.SyncMetadataException: メタデータの同期が失敗しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-548">CorrelationId {4c9cd9a0-d4e3-43e5-80da-59ea2eb01acf}; Error details: Microsoft.Dynamics.Retail.AsyncServerConnector.Service.Exceptions.SyncMetadataException: Failed synchronizing metadata.</span></span><span data-ttu-id="f3dad-549"> ---\> Microsoft.Dynamics.Retail.AsyncServerConnector.Service.Exceptions.MessageDBOperationException: HQ メッセージ DB のメタデータを更新できませんでした。</span><span class="sxs-lookup"><span data-stu-id="f3dad-549"> ---\> Microsoft.Dynamics.Retail.AsyncServerConnector.Service.Exceptions.MessageDBOperationException: Failed updating metadata in HQ message DB.</span></span><span data-ttu-id="f3dad-550"> ---\> System.Data.SqlClient.SqlException: 接続がサーバーで正常に確立されましたが、ログイン プロセス時にエラーが発生しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-550"> ---\> System.Data.SqlClient.SqlException: A connection was successfully established with the server, but then an error occurred during the login process.</span></span> <span data-ttu-id="f3dad-551">(プロバイダー: SSL プロバイダー、エラー: 0 - 証明書チェーンは信頼されていない機関によって発行されました。)---\>System.ComponentModel.Win32Exception: 証明書チェーンは、信頼されていない機関によって発行されました</span><span class="sxs-lookup"><span data-stu-id="f3dad-551">(provider: SSL Provider, error: 0 - The certificate chain was issued by an authority that is not trusted.) ---\> System.ComponentModel.Win32Exception: The certificate chain was issued by an authority that is not trusted</span></span> |
| <span data-ttu-id="f3dad-552">トラブルシューティングの手順</span><span class="sxs-lookup"><span data-stu-id="f3dad-552">Troubleshooting Steps</span></span> | <span data-ttu-id="f3dad-553">これは、Synch サービスの web.config 接続文字列が TrustServerCertificate を false に設定しているために発生した可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-553">This could have happened because the Synch service web.config connection string has the TrustServerCertificate set to false.</span></span> <span data-ttu-id="f3dad-554">問題を解決するには、Sync サービスの Web サイトを参照して、web.config を開きます。ConnectionStrings セクションを検索して、TrustServerCertificate が false の場合は、true に更新します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-554">To fix the issue browse the Sync service website and open the web.config. Find the connectionStrings section, update the TrustServerCertificate to True if it is false.</span></span> |

#### <a name="metadata-synchronization-fails"></a><span data-ttu-id="f3dad-555">メタデータ同期に失敗</span><span class="sxs-lookup"><span data-stu-id="f3dad-555">Metadata synchronization fails</span></span>
| <span data-ttu-id="f3dad-556">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-556">Field</span></span> | <span data-ttu-id="f3dad-557">先頭値</span><span class="sxs-lookup"><span data-stu-id="f3dad-557">Value</span></span> |
|---|---|
| <span data-ttu-id="f3dad-558">イベント ログ</span><span class="sxs-lookup"><span data-stu-id="f3dad-558">Event Log</span></span> | <span data-ttu-id="f3dad-559">Microsoft-Dynamics-Commerce-AsyncServerConnectorService/操作</span><span class="sxs-lookup"><span data-stu-id="f3dad-559">Microsoft-Dynamics-Commerce-AsyncServerConnectorService/Operational</span></span> |
| <span data-ttu-id="f3dad-560">サンプル イベント ログのエラー メッセージ</span><span class="sxs-lookup"><span data-stu-id="f3dad-560">Sample Event Log Error Message</span></span> | <span data-ttu-id="f3dad-561">非同期サーバー コネクタ サービスで、ダウンロード タイマーのティックにエラーが発生しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-561">Async server connector service encounters error in download timer tick.</span></span> <span data-ttu-id="f3dad-562">CorrelationId {73d9d0d3-4d12-42ca-ac65-3f1f947c7840}; エラーの詳細 : Microsoft.Dynamics.Retail.AsyncServerConnector.Service.Exceptions.SyncMetadataException: メタデータの同期が失敗しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-562">CorrelationId {73d9d0d3-4d12-42ca-ac65-3f1f947c7840}; Error details: Microsoft.Dynamics.Retail.AsyncServerConnector.Service.Exceptions.SyncMetadataException: Failed synchronizing metadata.</span></span><span data-ttu-id="f3dad-563"> ---\> Microsoft.Dynamics.Retail.AsyncServerConnector.Service.Exceptions.MessageDBOperationException: HQ メッセージ DB のメタデータを更新できませんでした。</span><span class="sxs-lookup"><span data-stu-id="f3dad-563"> ---\> Microsoft.Dynamics.Retail.AsyncServerConnector.Service.Exceptions.MessageDBOperationException: Failed updating metadata in HQ message DB.</span></span><span data-ttu-id="f3dad-564"> ---\> System.Data.SqlClient.SqlException: ログインによって要求されたデータベース「HQMessageDB」を開くことができません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-564"> ---\> System.Data.SqlClient.SqlException: Cannot open database "HQMessageDB" requested by the login.</span></span> <span data-ttu-id="f3dad-565">ログインに失敗しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-565">The login failed.</span></span> <span data-ttu-id="f3dad-566">ユーザー「localhost\\RetailAsUser」のログインが失敗しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-566">Login failed for user 'localhost\\RetailAsUser'.</span></span> |
| <span data-ttu-id="f3dad-567">トラブルシューティングの手順</span><span class="sxs-lookup"><span data-stu-id="f3dad-567">Troubleshooting Steps</span></span> | <span data-ttu-id="f3dad-568">これは、非同期サーバー コネクタ サービスを実行するユーザーに HQ メッセージ データ ベースへのアクセス権がないために発生した可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-568">This could have happened because the user who runs the Async server connector service does not have access to the HQ message database.</span></span> <span data-ttu-id="f3dad-569">問題を解決するには、services.msc を実行して、非同期サーバー コネクタ サービスを実行しているユーザーを確認します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-569">To fix the issue run services.msc, check the user who runs the Async server connector service.</span></span> <span data-ttu-id="f3dad-570">SQL で HQ メッセージ データベースにこのユーザー アクセスを提供します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-570">Provide this user access to HQ message database in SQL.</span></span> |

#### <a name="metadata-synchronization-fails-or-cdx-jobs-are-successfully-downloaded-but-arent-applied"></a><span data-ttu-id="f3dad-571">メタデータの同期が失敗した場合、または、CDX ジョブが正常にダウンロードされたが、適用されない場合</span><span class="sxs-lookup"><span data-stu-id="f3dad-571">Metadata synchronization fails, or CDX jobs are successfully downloaded but aren't applied</span></span>
| <span data-ttu-id="f3dad-572">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-572">Field</span></span> | <span data-ttu-id="f3dad-573">金額</span><span class="sxs-lookup"><span data-stu-id="f3dad-573">Value</span></span> |
|---|---|
| <span data-ttu-id="f3dad-574">イベント ログ</span><span class="sxs-lookup"><span data-stu-id="f3dad-574">Event Log</span></span> | <span data-ttu-id="f3dad-575">Microsoft Dynamics AX Retail : Async Client SynchClientService</span><span class="sxs-lookup"><span data-stu-id="f3dad-575">Microsoft Dynamics AX Retail : Async Client SynchClientService</span></span> |
| <span data-ttu-id="f3dad-576">サンプル イベント ログのエラー メッセージ</span><span class="sxs-lookup"><span data-stu-id="f3dad-576">Sample Event Log Error Message</span></span> | <span data-ttu-id="f3dad-577">サーバーと通信してダウンロードすることができません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-577">Unable to communicate with server for download.</span></span> <span data-ttu-id="f3dad-578">ユーザー名/パスワード、サーバーおよびデータベース接続を確認してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-578">Please check username/password, server and database connections.</span></span> <span data-ttu-id="f3dad-579">エラーの詳細: System.ServiceModel.CommunicationException: `https://localhost:44300/SynchService/DownloadService.svc` への HTTP 要求中にエラーが発生しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-579">Error Details: System.ServiceModel.CommunicationException: An error occurred while making the HTTP request to `https://localhost:44300/SynchService/DownloadService.svc`.</span></span> <span data-ttu-id="f3dad-580">HTTPS の場合、サーバー証明書が HTTP.SYS で正しくコンフィギュレーションされていない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-580">This could be due to the fact that the server certificate is not configured properly with HTTP.SYS in the HTTPS case.</span></span> <span data-ttu-id="f3dad-581">これは、クライアントとサーバー間のセキュリティ バインドの不一致によっても発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-581">This could also be caused by a mismatch of the security binding between the client and the server.</span></span><span data-ttu-id="f3dad-582"> ---\> System.Net.WebException: 基礎的な接続が閉じられました: 送信時に予期しないエラーが発生しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-582"> ---\> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send.</span></span><span data-ttu-id="f3dad-583"> ---\> System.IO.IOException: リモート側がトランスポート ストリームを閉じたため、認証に失敗しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-583"> ---\> System.IO.IOException: Authentication failed because the remote party has closed the transport stream.</span></span> |
| <span data-ttu-id="f3dad-584">トラブルシューティングの手順</span><span class="sxs-lookup"><span data-stu-id="f3dad-584">Troubleshooting Steps</span></span> | <span data-ttu-id="f3dad-585">次の理由で発生した可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-585">This could have happened because of the following reasons.</span></span><br><br><span data-ttu-id="f3dad-586">1) 非同期クライアントで提供するユーザー ID とパスワードが、AX で提供されているチャネル データベースのユーザー ID とパスワードと一致しません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-586">1) The user ID and password that we provide in async client does not match the channel database user ID and password that we provide in AX.</span></span><br><br><span data-ttu-id="f3dad-587">2) 非同期サービスのエンド ポイントに到達できません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-587">2) The async service end point is not reachable.</span></span> <span data-ttu-id="f3dad-588">`https://localhost:44300/SynchService/DownloadService.svc`。</span><span class="sxs-lookup"><span data-stu-id="f3dad-588">`https://localhost:44300/SynchService/DownloadService.svc`.</span></span> <span data-ttu-id="f3dad-589">通常、ユーザーは **Contoso/Administrator** (ドメイン/ユーザー) の形式であることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-589">It is critical to note that typically the user is in the form of **Contoso/Administrator** (domain/user).</span></span> <span data-ttu-id="f3dad-590">次の手順では、ドメインが **AsyncClientConfigurationUtility** ユーティリティで使用されている場合に、エラー (通信または保存に失敗) が発生することがわかっています。</span><span class="sxs-lookup"><span data-stu-id="f3dad-590">In the following steps, this has been known to cause errors (communication or inability to save) if the domain is utilized in the **AsyncClientConfigurationUtility** utility.</span></span> <span data-ttu-id="f3dad-591">このユーティリティのユーザー ID には、サーバーのインストールと構成で使用されているドメイン接頭辞を含めることは推奨されません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-591">We recommend that the user ID in this utility does not contain the domain prefix that is used in the server installation and configuration.</span></span><br><br><span data-ttu-id="f3dad-592">この問題を修正するには、次のようにします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-592">To fix this issue:</span></span><br><br><span data-ttu-id="f3dad-593">1) 非同期クライアントのインストール場所から、非同期のクライアント構成ユーティリティ (AsyncClientConfigurationUtility.exe) を起動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-593">1) Launch the Async client configuration utility (AsyncClientConfigurationUtility.exe) from the async client install location.</span></span> <span data-ttu-id="f3dad-594">**Async Server 接続タブ > 認証情報 (大文字と小文字を区別)** で、AX の N-1 チャネル データベース (**Retail および Commerce > 本社の設定 > チャネル データベース**) の値に従って、チャネル データベース ID、ユーザー名、およびパスワードの各フィールドを更新します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-594">Under the **Async Server connection tab > Authentication information (case sensitive) > Update the Channel database ID, User name and Password** fields as per the values provided under N-1 channel database (**Retail and Commerce > Headquarters setup > Channel database**) in AX.</span></span><br><br><span data-ttu-id="f3dad-595">2) ユーティリティで **テスト接続** を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-595">2) Select **Test connection** in the utility.</span></span> <span data-ttu-id="f3dad-596">接続が成功した場合は、Async Client サービスを再起動します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-596">If the connection is successful, restart the Async client service.</span></span> <span data-ttu-id="f3dad-597">接続に失敗した場合は、AX で N-1 チャネル データベース (**Retail および Commerce > 本社のセットアップ > チャネル データベース**) に移動し、ユーザー名とパスワードを更新してから保存します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-597">If the connection fails, go to N-1 channel database (**Retail and Commerce-> Headquarters setup > Channel database**) in AX, update the Username and password, and then save.</span></span> <span data-ttu-id="f3dad-598">AX で **小売用スケジューラ パラメーター** に移動し、**メタデータ同期のリセット** を選択します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-598">Go to **Retail scheduler parameters** in AX and select **Reset metadata synchronization**.</span></span> <span data-ttu-id="f3dad-599">これにより、新しい値を使用して HQ メッセージ データベースが設定されます。</span><span class="sxs-lookup"><span data-stu-id="f3dad-599">This will populate the HQ message database with the new values.</span></span> <span data-ttu-id="f3dad-600">手順 1 をもう一度繰り返します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-600">Repeat step 1 again.</span></span><br><br><span data-ttu-id="f3dad-601">3) 非同期サーバーのエンド ポイント (`https://localhost:44300/SynchService/DownloadService.svc`) に到達できない場合、サービスのバインディングをチェックし、関連する証明書があることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-601">3) If the async server end point (`https://localhost:44300/SynchService/DownloadService.svc`) is not reachable, check the bindings of the service and make sure there is an associated certificate.</span></span> <span data-ttu-id="f3dad-602">それでも問題が解決しない場合は、`AX2012R3` の 小売チャネル スキーマにリンクされたすべてのチャネル データベース グループに対して **作業フォルダー** が指定されていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-602">If the issue still exists, check to be sure that the **Working folders** were specified for all the Channel database group’s that were linked to `AX2012R3` retail channel schema.</span></span> |

#### <a name="cdx-jobs-are-successfully-downloaded-but-arent-applied"></a><span data-ttu-id="f3dad-603">CDX ジョブが正常にダウンロードされますが、適用されません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-603">CDX jobs are successfully downloaded but aren't applied</span></span>
| <span data-ttu-id="f3dad-604">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-604">Field</span></span> | <span data-ttu-id="f3dad-605">金額</span><span class="sxs-lookup"><span data-stu-id="f3dad-605">Value</span></span> |
|---|---|
| <span data-ttu-id="f3dad-606">イベント ログ</span><span class="sxs-lookup"><span data-stu-id="f3dad-606">Event Log</span></span> | <span data-ttu-id="f3dad-607">Microsoft Dynamics AX Retail : Async Client SynchClientService</span><span class="sxs-lookup"><span data-stu-id="f3dad-607">Microsoft Dynamics AX Retail : Async Client SynchClientService</span></span> |
| <span data-ttu-id="f3dad-608">サンプル イベント ログのエラー メッセージ</span><span class="sxs-lookup"><span data-stu-id="f3dad-608">Sample Event Log Error Message</span></span> | <span data-ttu-id="f3dad-609">DownloadAgent.Execute 中の例外です。</span><span class="sxs-lookup"><span data-stu-id="f3dad-609">Exception during DownloadAgent.Execute.</span></span> <span data-ttu-id="f3dad-610">エラーの詳細: System.IO.FileNotFoundException: ファイルまたはアセンブリ「Microsoft.Dynamics.Retail.StoreConnect.Request.Base, Version=6.3.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35」またはその依存関係のうちのいずれか 1 つを読み込めませんでした。</span><span class="sxs-lookup"><span data-stu-id="f3dad-610">Error Details: System.IO.FileNotFoundException: Could not load file or assembly 'Microsoft.Dynamics.Retail.StoreConnect.Request.Base, Version=6.3.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35' or one of its dependencies.</span></span> <span data-ttu-id="f3dad-611">システムでは、指定したファイルが見つかりません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-611">The system cannot find the file specified.</span></span> <span data-ttu-id="f3dad-612">ファイル名: 「Microsoft.Dynamics.Retail.StoreConnect.Request.Base, Version=6.3.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35」at Microsoft.Dynamics.Retail.SynchClient.Core.DownloadAgent.ApplySessionFileToClientDatabase(SessionManager sessionMgr, String fileName) at Microsoft.Dynamics.Retail.SynchClient.Core.DownloadAgent.ProcessDownloadSession(DownloadSession session) at Microsoft.Dynamics.Retail.SynchClient.Core.DownloadAgent.Execute()</span><span class="sxs-lookup"><span data-stu-id="f3dad-612">File name: 'Microsoft.Dynamics.Retail.StoreConnect.Request.Base, Version=6.3.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35' at Microsoft.Dynamics.Retail.SynchClient.Core.DownloadAgent.ApplySessionFileToClientDatabase(SessionManager sessionMgr, String fileName) at Microsoft.Dynamics.Retail.SynchClient.Core.DownloadAgent.ProcessDownloadSession(DownloadSession session) at Microsoft.Dynamics.Retail.SynchClient.Core.DownloadAgent.Execute()</span></span> |
| <span data-ttu-id="f3dad-613">トラブルシューティングの手順</span><span class="sxs-lookup"><span data-stu-id="f3dad-613">Troubleshooting Steps</span></span> | <span data-ttu-id="f3dad-614">これは、AX63 ストア接続コンポーネントが環境にインストールされていないために発生した可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-614">This could have happened because the AX63 store connect components were not installed on the environment.</span></span> <span data-ttu-id="f3dad-615">問題を解決するには、非同期のクライアント コンポーネントを実行している環境で AX63 ストア接続コンポーネントをインストールします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-615">To fix the issue install the AX63 store connect components on the environment that is running the async client component.</span></span> |

#### <a name="n-1-async-server-connector-service-communication-exception"></a><span data-ttu-id="f3dad-616">N-1 非同期サーバー コネクタ サービスの通信例外</span><span class="sxs-lookup"><span data-stu-id="f3dad-616">N-1 Async Server Connector Service communication exception</span></span>
| <span data-ttu-id="f3dad-617">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-617">Field</span></span> | <span data-ttu-id="f3dad-618">金額</span><span class="sxs-lookup"><span data-stu-id="f3dad-618">Value</span></span> |
|---|---|
| <span data-ttu-id="f3dad-619">イベント ログ</span><span class="sxs-lookup"><span data-stu-id="f3dad-619">Event Log</span></span> | <span data-ttu-id="f3dad-620">Microsoft Dynamics AX Retail : Async Client SynchClientService</span><span class="sxs-lookup"><span data-stu-id="f3dad-620">Microsoft Dynamics AX Retail : Async Client SynchClientService</span></span> |
| <span data-ttu-id="f3dad-621">サンプル イベント ログのエラー メッセージ</span><span class="sxs-lookup"><span data-stu-id="f3dad-621">Sample Event Log Error Message</span></span> | <span data-ttu-id="f3dad-622">サーバーと通信してダウンロードすることができません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-622">Unable to communicate with server for download.</span></span> <span data-ttu-id="f3dad-623">ユーザー名/パスワード、サーバーおよびデータベース接続を確認してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-623">Please check username/password, server and database connections.</span></span> <span data-ttu-id="f3dad-624">エラーの詳細: System.ServiceModel.CommunicationException: `https://localhost:44300/SynchService/DownloadService.svc` への HTTP 要求中にエラーが発生しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-624">Error Details: System.ServiceModel.CommunicationException: An error occurred while making the HTTP request to `https://localhost:44300/SynchService/DownloadService.svc`.</span></span> <span data-ttu-id="f3dad-625">HTTPS の場合、サーバー証明書が HTTP.SYS で正しくコンフィギュレーションされていない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-625">This could be due to the fact that the server certificate is not configured properly with HTTP.SYS in the HTTPS case.</span></span> <span data-ttu-id="f3dad-626">これは、クライアントとサーバー間のセキュリティ バインドの不一致によっても発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-626">This could also be caused by a mismatch of the security binding between the client and the server.</span></span><span data-ttu-id="f3dad-627"> ---\> System.Net.WebException: 基礎的な接続が閉じられました: 送信時に予期しないエラーが発生しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-627"> ---\> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send.</span></span><span data-ttu-id="f3dad-628"> ---\> System.IO.IOException: リモート側がトランスポート ストリームを閉じたため、認証に失敗しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-628"> ---\> System.IO.IOException: Authentication failed because the remote party has closed the transport stream.</span></span> |
| <span data-ttu-id="f3dad-629">トラブルシューティングの手順</span><span class="sxs-lookup"><span data-stu-id="f3dad-629">Troubleshooting Steps</span></span> | <span data-ttu-id="f3dad-630">HQ メッセージ DB にデータがあることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-630">Make sure the HQ Message DB has data.</span></span> <span data-ttu-id="f3dad-631">接続が成功したことを検証するために、asyncClient コンフィギュレーション ツールを使用します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-631">Use the asyncClient configuration tool to validate the connection is successful.</span></span> |

#### <a name="ax-2012-r3-mpos-activation-fails-with-an-error-on-step-1"></a><span data-ttu-id="f3dad-632">AX 2012 R3 MPOS のライセンス認証は、ステップ 1 でエラーで失敗します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-632">AX 2012 R3 MPOS activation fails with an error on step 1</span></span>
| <span data-ttu-id="f3dad-633">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-633">Field</span></span> | <span data-ttu-id="f3dad-634">金額</span><span class="sxs-lookup"><span data-stu-id="f3dad-634">Value</span></span> |
|---|---|
| <span data-ttu-id="f3dad-635">イベント ログ</span><span class="sxs-lookup"><span data-stu-id="f3dad-635">Event Log</span></span> | <span data-ttu-id="f3dad-636">Microsoft Dynamics AX Retail : Retail サーバー RetailServer</span><span class="sxs-lookup"><span data-stu-id="f3dad-636">Microsoft Dynamics AX Retail : Retail Server RetailServer</span></span> |
| <span data-ttu-id="f3dad-637">サンプル イベント ログのエラー メッセージ</span><span class="sxs-lookup"><span data-stu-id="f3dad-637">Sample Event Log Error Message</span></span> | <span data-ttu-id="f3dad-638">Microsoft.Dynamics.Commerce.Runtime.UserAuthenticationException: ログオン時にエラーが発生しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-638">Microsoft.Dynamics.Commerce.Runtime.UserAuthenticationException: An error occurred during logon.</span></span><span data-ttu-id="f3dad-639"> ---\> Microsoft.Dynamics.Commerce.Runtime.ConfigurationException: ローカル データベースで公開済チャネルが見つかりません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-639"> ---\> Microsoft.Dynamics.Commerce.Runtime.ConfigurationException: The published channel cannot be found in local database.</span></span> <span data-ttu-id="f3dad-640">少なくとも 1 つの小売チャネルが、AX を通じてこの DB に公開されていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-640">Please make sure at least 1 retail channel is published to this DB through AX.</span></span> |
| <span data-ttu-id="f3dad-641">有効化場面上での MPOS エラー</span><span class="sxs-lookup"><span data-stu-id="f3dad-641">MPOS Error on Activation Screen</span></span> | <span data-ttu-id="f3dad-642">DA1002: ユーザーがログオンできないサーバー側エラーが発生しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-642">DA1002: A server side error occurred that prevents user from logging on.</span></span> <span data-ttu-id="f3dad-643">サーバー ログで詳細を確認するか、IT サポートにお問い合わせください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-643">Please check the server log for detailed information or contact your IT support.</span></span> |
| <span data-ttu-id="f3dad-644">トラブルシューティングの手順</span><span class="sxs-lookup"><span data-stu-id="f3dad-644">Troubleshooting Steps</span></span> | <span data-ttu-id="f3dad-645">CDX ダウンロード ジョブが正常に実行され、チャネルのデータベースにデータが含まれていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-645">Make sure the CDX download jobs ran successfully and the channel database has data.</span></span> |

#### <a name="ax-2012-r3-mpos-activation-fails-with-an-error-on-step-2"></a><span data-ttu-id="f3dad-646">AX 2012 R3 MPOS のライセンス認証は、ステップ 2 でエラーで失敗します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-646">AX 2012 R3 MPOS activation fails with an error on step 2</span></span>
| <span data-ttu-id="f3dad-647">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-647">Field</span></span> | <span data-ttu-id="f3dad-648">金額</span><span class="sxs-lookup"><span data-stu-id="f3dad-648">Value</span></span> |
|---|---|
| <span data-ttu-id="f3dad-649">イベント ログ</span><span class="sxs-lookup"><span data-stu-id="f3dad-649">Event Log</span></span> | <span data-ttu-id="f3dad-650">Microsoft Dynamics Retail Modern POS</span><span class="sxs-lookup"><span data-stu-id="f3dad-650">Microsoft Dynamics Retail Modern POS</span></span> |
| <span data-ttu-id="f3dad-651">サンプル イベント ログのエラー メッセージ</span><span class="sxs-lookup"><span data-stu-id="f3dad-651">Sample Event Log Error Message</span></span> | <span data-ttu-id="f3dad-652">Dynamics- エラー: LoginViewModel ActivateDevice のログオンに失敗しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-652">Dynamics-Error: LoginViewModel ActivateDevice Logon failed.</span></span> <span data-ttu-id="f3dad-653">ErrorMessage: ; ErrorCode: Microsoft\_Dynamics\_Commerce\_Runtime\_HeadquarterTransactionServiceMethodCallFailure;</span><span class="sxs-lookup"><span data-stu-id="f3dad-653">ErrorMessage: ; ErrorCode: Microsoft\_Dynamics\_Commerce\_Runtime\_HeadquarterTransactionServiceMethodCallFailure;</span></span> |
| <span data-ttu-id="f3dad-654">有効化場面上での MPOS エラー</span><span class="sxs-lookup"><span data-stu-id="f3dad-654">MPOS Error on Activation Screen</span></span> | <span data-ttu-id="f3dad-655">DA2001</span><span class="sxs-lookup"><span data-stu-id="f3dad-655">DA2001</span></span> |
| <span data-ttu-id="f3dad-656">トラブルシューティングの手順</span><span class="sxs-lookup"><span data-stu-id="f3dad-656">Troubleshooting Steps</span></span> | <span data-ttu-id="f3dad-657">有効化しようとしているデバイスは、既に有効になっています。</span><span class="sxs-lookup"><span data-stu-id="f3dad-657">Device you are trying to activate is already active.</span></span> <span data-ttu-id="f3dad-658">デバイスを無効にして、有効化を試みてください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-658">Please deactivate the device and try the activation.</span></span> |

#### <a name="ax-2012-r3-mpos-activation-fails-with-an-error-on-step-2"></a><span data-ttu-id="f3dad-659">AX 2012 R3 MPOS のライセンス認証は、ステップ 2 でエラーで失敗します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-659">AX 2012 R3 MPOS activation fails with an error on step 2</span></span>
| <span data-ttu-id="f3dad-660">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-660">Field</span></span> | <span data-ttu-id="f3dad-661">先頭値</span><span class="sxs-lookup"><span data-stu-id="f3dad-661">Value</span></span> |
|---|---|
| <span data-ttu-id="f3dad-662">サンプル イベント ログのエラー メッセージ</span><span class="sxs-lookup"><span data-stu-id="f3dad-662">Sample Event Log Error Message</span></span> | <span data-ttu-id="f3dad-663">例外が発生しました: [2018/04/19 19 時 26 分 51 秒] Microsoft.Dynamics.Commerce.Runtime.UserAuthenticationException: ログオン時にエラーが発生しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-663">Exception occurred: [04/19/2018 19:26:51] Microsoft.Dynamics.Commerce.Runtime.UserAuthenticationException: An error occurred during logon.</span></span><span data-ttu-id="f3dad-664"> ---\> Microsoft.Dynamics.Commerce.Runtime.StorageException: データベースからの読み取りに失敗しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-664"> ---\> Microsoft.Dynamics.Commerce.Runtime.StorageException: Failed to read from the database.</span></span> <span data-ttu-id="f3dad-665">詳細については、内部例外を参照してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-665">See inner exception for details.</span></span> <span data-ttu-id="f3dad-666">DatabaseErrorCode: 0 ---\> Microsoft.Dynamics.Commerce.Runtime.Data.DatabaseException: 無効なオブジェクト名 'crt.EMPLOYEEPERMISSIONSVIEW' です。</span><span class="sxs-lookup"><span data-stu-id="f3dad-666">DatabaseErrorCode: 0 ---\> Microsoft.Dynamics.Commerce.Runtime.Data.DatabaseException: Invalid object name 'crt.EMPLOYEEPERMISSIONSVIEW'.</span></span><span data-ttu-id="f3dad-667"> ---\> System.Data.SqlClient.SqlException: 'crt.EMPLOYEEPERMISSIONSVIEW' は無効なオブジェクト名です。</span><span class="sxs-lookup"><span data-stu-id="f3dad-667"> ---\> System.Data.SqlClient.SqlException: Invalid object name 'crt.EMPLOYEEPERMISSIONSVIEW'.</span></span> <span data-ttu-id="f3dad-668">at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action'1 wrapCloseInAction) at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)</span><span class="sxs-lookup"><span data-stu-id="f3dad-668">at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action'1 wrapCloseInAction) at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)</span></span> |
| <span data-ttu-id="f3dad-669">有効化場面上での MPOS エラー</span><span class="sxs-lookup"><span data-stu-id="f3dad-669">MPOS Error on Activation Screen</span></span> | <span data-ttu-id="f3dad-670">DZ1001</span><span class="sxs-lookup"><span data-stu-id="f3dad-670">DZ1001</span></span> |
| <span data-ttu-id="f3dad-671">トラブルシューティングの手順</span><span class="sxs-lookup"><span data-stu-id="f3dad-671">Troubleshooting Steps</span></span> | <span data-ttu-id="f3dad-672">有効化しようとしているデバイスは、既に有効になっています。</span><span class="sxs-lookup"><span data-stu-id="f3dad-672">Device you are trying to activate is already active.</span></span> <span data-ttu-id="f3dad-673">デバイスを無効にして、有効化を試みてください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-673">Please deactivate the device and try the activation.</span></span> |

#### <a name="ax-2012-r3-mpos-activation-fails-with-an-error-on-step-9"></a><span data-ttu-id="f3dad-674">AX 2012 R3 MPOS のライセンス認証は、ステップ 9 でエラーで失敗します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-674">AX 2012 R3 MPOS activation fails with an error on step 9</span></span>
| <span data-ttu-id="f3dad-675">フィールド</span><span class="sxs-lookup"><span data-stu-id="f3dad-675">Field</span></span> | <span data-ttu-id="f3dad-676">金額</span><span class="sxs-lookup"><span data-stu-id="f3dad-676">Value</span></span> |
|---|---|
| <span data-ttu-id="f3dad-677">イベント ログ</span><span class="sxs-lookup"><span data-stu-id="f3dad-677">Event Log</span></span> | <span data-ttu-id="f3dad-678">Microsoft Dynamics Retail Modern POS</span><span class="sxs-lookup"><span data-stu-id="f3dad-678">Microsoft Dynamics Retail Modern POS</span></span> |
| <span data-ttu-id="f3dad-679">サンプル イベント ログのエラー メッセージ</span><span class="sxs-lookup"><span data-stu-id="f3dad-679">Sample Event Log Error Message</span></span> | <span data-ttu-id="f3dad-680">Dynamics- エラー: LoginViewModel ActivateDevice のログオンに失敗しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-680">Dynamics-Error: LoginViewModel ActivateDevice Logon failed.</span></span> <span data-ttu-id="f3dad-681">ErrorMessage: デバイスでの暗号化に問題が発生しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-681">ErrorMessage: Sorry, something went wrong with the encryption on your device.</span></span> <span data-ttu-id="f3dad-682">システム管理者に連絡してください。; ErrorCode:MICROSOFT\_DYNAMICS\_POS\_DATAENCRYPTIONERROR;</span><span class="sxs-lookup"><span data-stu-id="f3dad-682">Please contact your system administrator.; ErrorCode: MICROSOFT\_DYNAMICS\_POS\_DATAENCRYPTIONERROR;</span></span> |
| <span data-ttu-id="f3dad-683">有効化場面上での MPOS エラー</span><span class="sxs-lookup"><span data-stu-id="f3dad-683">MPOS Error on Activation Screen</span></span> | <span data-ttu-id="f3dad-684">DA3122: デバイスでの暗号化に問題が発生しました。</span><span class="sxs-lookup"><span data-stu-id="f3dad-684">DA3122: Sorry, something went wrong with the encryption on your device.</span></span> <span data-ttu-id="f3dad-685">システム管理者に連絡してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-685">Please contact your system administrator.</span></span> |
| <span data-ttu-id="f3dad-686">トラブルシューティングの手順</span><span class="sxs-lookup"><span data-stu-id="f3dad-686">Troubleshooting Steps</span></span> | <span data-ttu-id="f3dad-687">ストアの CDX 下位互換性セクションで、リアル タイム サービス プロファイル フィールドを確認してください。</span><span class="sxs-lookup"><span data-stu-id="f3dad-687">Check the Real-time Service profile filed in the CDX Backward compatibility section of the store.</span></span> <span data-ttu-id="f3dad-688">これは、N-1 用に作成した RTS プロファイルに設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-688">This must be set to the RTS profile that you created for N-1.</span></span> |

## <a name="required-kbs-for-n-1"></a><span data-ttu-id="f3dad-689">N-1 に必要な KB</span><span class="sxs-lookup"><span data-stu-id="f3dad-689">Required KBs for N-1</span></span>
<span data-ttu-id="f3dad-690">次の図では、正常に動作するために N-1 を必要とする全ての KB を表しています。</span><span class="sxs-lookup"><span data-stu-id="f3dad-690">The following list describes all the KBs that are required for N-1 to work correctly.</span></span>

### <a name="dynamics-365-retail--microsoft-dynamics-365-72-headquarters"></a><span data-ttu-id="f3dad-691">Dynamics 365 Retail – Microsoft Dynamics 365 7.2 バック オフィス</span><span class="sxs-lookup"><span data-stu-id="f3dad-691">Dynamics 365 Retail – Microsoft Dynamics 365 7.2 headquarters</span></span>
| <span data-ttu-id="f3dad-692">KB 番号</span><span class="sxs-lookup"><span data-stu-id="f3dad-692">KB number</span></span> | <span data-ttu-id="f3dad-693">肩書き</span><span class="sxs-lookup"><span data-stu-id="f3dad-693">Title</span></span> |
|---|---|
| <span data-ttu-id="f3dad-694">4095190</span><span class="sxs-lookup"><span data-stu-id="f3dad-694">4095190</span></span> | <span data-ttu-id="f3dad-695">顧客が 6.3 から Dynamics 365 にデータを移動するための公式アップグレード プロセスに従わなかった場合に N-1 機能を有効化するのに必要なため、RetailSharedParameters フォームの RetailSharedParameter の TransactionServiceProfileID を公開します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-695">Expose RetailSharedParameter's TransactionServiceProfileID in the RetailSharedParameters form as it is required to enable N-1 functionality when customer did not follow the official upgrade process to move data from 6.3 to Dynamics 365.</span></span> |
| <span data-ttu-id="f3dad-696">4095209</span><span class="sxs-lookup"><span data-stu-id="f3dad-696">4095209</span></span> | <span data-ttu-id="f3dad-697">Real-timeServiceAX63 N-1 コンポーネントの Webconfig では、無効な認証タイプ名が含まれています。</span><span class="sxs-lookup"><span data-stu-id="f3dad-697">The Real-timeServiceAX63 N-1 component's webconfig contains an invalid authentication type name.</span></span> <span data-ttu-id="f3dad-698">これは、コンポーネントがトランザクション サービスを Dynamics 365 で認証しようとする時に問題の原因になります</span><span class="sxs-lookup"><span data-stu-id="f3dad-698">This causes issue when the component tries to authenticate with the transaction service in Dynamics 365</span></span> |
| <span data-ttu-id="f3dad-699">4095189</span><span class="sxs-lookup"><span data-stu-id="f3dad-699">4095189</span></span> | <span data-ttu-id="f3dad-700">RetialTransactionServiceProfile テーブルのプロトコル列が、新しいバージョンの Dynamics 365 AX データベースから古いバージョンのチャネル データベースに同期されていません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-700">RetialTransactionServiceProfile table's Protocol column is not being synced to the old version channel databases from the new version Dynamics 365 AX database.</span></span> |
| <span data-ttu-id="f3dad-701">4095191</span><span class="sxs-lookup"><span data-stu-id="f3dad-701">4095191</span></span> | <span data-ttu-id="f3dad-702">保護された URL のみが許可されているため、ユーザーは Retail サーバー URL を http ベースの URL に設定することはできません。</span><span class="sxs-lookup"><span data-stu-id="f3dad-702">The user is not allowed to set the retail server URL to be http based URL as only secured URLs are allowed.</span></span> <span data-ttu-id="f3dad-703">これは、ユーザーが下位互換性モードで実行中に古いバージョン (6.3) の Retail サーバーに接続することを防ぎます。</span><span class="sxs-lookup"><span data-stu-id="f3dad-703">This prevents the user from connecting to old (6.3) version retail servers while running in backward compatibility mode.</span></span> |
| <span data-ttu-id="f3dad-704">4132456</span><span class="sxs-lookup"><span data-stu-id="f3dad-704">4132456</span></span> | <span data-ttu-id="f3dad-705">\[アップグレード \& N-1\]\[デザイナー\] テンキーの高さを拡張する必要があります</span><span class="sxs-lookup"><span data-stu-id="f3dad-705">\[Upgrade \& N-1\]\[Designer\] Number pad height should be extensible</span></span> |
| <span data-ttu-id="f3dad-706">4095926</span><span class="sxs-lookup"><span data-stu-id="f3dad-706">4095926</span></span> | <span data-ttu-id="f3dad-707">アップグレード \& N-1: N-1 非アップグレード環境でトランザクションが見つからないため、返品注文は 63MPOS から失敗します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-707">Upgrade \& N-1: Return order fails from 63MPOS as the transaction was not found on a N-1 non upgrade environment.</span></span> |
| <span data-ttu-id="f3dad-708">4095664</span><span class="sxs-lookup"><span data-stu-id="f3dad-708">4095664</span></span> | <span data-ttu-id="f3dad-709">新しい顧客を作成するために Microsoft Dynamics AX 2012 クライアントが AX7.2 HQ へ接続することを許可します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-709">Allow Microsoft Dynamics AX 2012 clients connecting to AX7.2 HQ to create new customers.</span></span> |
| <span data-ttu-id="f3dad-710">4132454</span><span class="sxs-lookup"><span data-stu-id="f3dad-710">4132454</span></span> | <span data-ttu-id="f3dad-711">\_AX63 サブジョブによって重複したレコードの例外が原因で N-1 バージョンの 1070 が失敗します。</span><span class="sxs-lookup"><span data-stu-id="f3dad-711">N-1 version of 1070 fails due to duplicate record exception caused by the CompanyImage\_AX63 subjob.</span></span> |
| <span data-ttu-id="f3dad-712">4131243</span><span class="sxs-lookup"><span data-stu-id="f3dad-712">4131243</span></span> | <span data-ttu-id="f3dad-713">Dynamics 365 Retail を N-1 の下位互換性で実行している場合、ユーザーは AX クライアントを使用して HardwareStationURL を設定できないため、6.3 ハードウェア ステーションを正しく設定できないことがあります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-713">When running Dynamics 365 Retail in N-1 mode, the user is not able to set the HardwareStationURL using the AX client hence may not be able to configure the 6.3 hardware station properly.</span></span> |
| <span data-ttu-id="f3dad-714">4338120</span><span class="sxs-lookup"><span data-stu-id="f3dad-714">4338120</span></span> | <span data-ttu-id="f3dad-715">非同期サービス コネクタ インストーラは、ユーザーが提供した HQ メッセージ データベース名に関係なく、常に既定の名前を使用する代わりに、提供された HQ メッセージ DB 名を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-715">Async service connector installer should use provided HQ message db name instead of always using a default name regardless of the HQ message database name provided by the user.</span></span> |
| <span data-ttu-id="f3dad-716">4337834</span><span class="sxs-lookup"><span data-stu-id="f3dad-716">4337834</span></span> | <span data-ttu-id="f3dad-717">Dynamics 365 を N-1 の下位互換性で実行している場合、RetailTransactionService でメソッドが見つからないために MPOS から顧客を追加または更新している間に N-1 (6.3) バージョン MPOS が失敗することがあります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-717">When running Dynamics 365 in N-1 backward compatibility the N-1 (6.3)version MPOS may fails while adding or updating customer from MPOS due to missing methods in RetailTransactionService.</span></span> |
| <span data-ttu-id="f3dad-718">4337864</span><span class="sxs-lookup"><span data-stu-id="f3dad-718">4337864</span></span> | <span data-ttu-id="f3dad-719">Dynamics 365 を N-1 の下位互換性で実行している場合、ハードウェア プロファイル支払商社プロパティをロードまたは使用しようとすると、ログインまたは支払中に N-1 (6.3) バージョン MPOS が失敗することがあります。</span><span class="sxs-lookup"><span data-stu-id="f3dad-719">When running Dynamics 365 in N-1 backward compatibility the N-1 (6.3)version MPOS may fails during login or payment when attempting to load or use the hardware profile payment merchant property.</span></span> |
| <span data-ttu-id="f3dad-720">4132453</span><span class="sxs-lookup"><span data-stu-id="f3dad-720">4132453</span></span> | <span data-ttu-id="f3dad-721">6.3 バージョンのチャネル データベースの InventDim テーブルにデータを移動すると、製品ダウンロード ジョブの N-1 バージョン (1040\_AX63) の実行に失敗</span><span class="sxs-lookup"><span data-stu-id="f3dad-721">Running the N-1 version of the Product download job(1040\_AX63) fails when moving data to the InventDim table in the 6.3 version channel database</span></span> |
| <span data-ttu-id="f3dad-722">4206905</span><span class="sxs-lookup"><span data-stu-id="f3dad-722">4206905</span></span> | <span data-ttu-id="f3dad-723">POS レポートは、アップグレードされていない N-1 環境で実行するとエラーをスローします。</span><span class="sxs-lookup"><span data-stu-id="f3dad-723">POS reports throw errors when they are run in non-upgrade N-1 environment.</span></span> |
| <span data-ttu-id="f3dad-724">4133289</span><span class="sxs-lookup"><span data-stu-id="f3dad-724">4133289</span></span> | <span data-ttu-id="f3dad-725">製品の N-1 version の実行 - 仕訳帳または既存のトランザクションからの払戻に失敗</span><span class="sxs-lookup"><span data-stu-id="f3dad-725">Running the N-1 version of the Product - Refunds from Journal or existing transactions failing</span></span> |
| <span data-ttu-id="f3dad-726">4161086</span><span class="sxs-lookup"><span data-stu-id="f3dad-726">4161086</span></span> | <span data-ttu-id="f3dad-727">CDX テーブル配布は、ルート テーブル ノードに追加された 'FieldValue' リンク タイプを無視するため、提供された条件 (x++ fix) を使用してテーブルをフィルター処理するためにその情報を使用しません</span><span class="sxs-lookup"><span data-stu-id="f3dad-727">CDX table distribution ignores 'FieldValue' link types added on root table nodes and hence does not use that information for filtering the table using the provided condition (x++ fix)</span></span> |
| <span data-ttu-id="f3dad-728">4161099</span><span class="sxs-lookup"><span data-stu-id="f3dad-728">4161099</span></span> | <span data-ttu-id="f3dad-729">CDX テーブル配布は、ルート テーブル ノードに追加された 'FieldValue' リンク タイプを無視するため、提供された条件 (バイナリ変更) を使用してテーブルをフィルター処理するためにその情報を使用しません</span><span class="sxs-lookup"><span data-stu-id="f3dad-729">CDX table distribution ignores 'FieldValue' link types added on root table nodes and hence does not use that information for filtering the table using the provided condition (Binary changes)</span></span> |

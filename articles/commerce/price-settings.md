---
title: 価格設定
description: この記事では、Microsoft Dynamics 365 Commerce headquarters の価格・割引管理に関する各種設定について説明します。
author: boycez
ms.date: 09/06/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: boycez
ms.search.validFrom: 2022-08-11
ms.openlocfilehash: 79130e0ef285d6bd5e544f2d6a6368c0393fa7fa
ms.sourcegitcommit: b1df4db7facb5e7094138836c41a65c4a158f01d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/13/2022
ms.locfileid: "9474045"
---
# <a name="pricing-settings"></a>価格設定

[!include [banner](../includes/banner.md)]

この記事では、Microsoft Dynamics 365 Commerce headquarters の価格・割引管理に関する各種設定について説明します。 これらの設定により、企業は特定の業務ニーズに合わせて、コマース ソリューションの価格設定を定義することができます。

## <a name="company-level-pricing-settings"></a>会社レベルの価格設定

価格設定のほとんどは会社レベルで、Commerce headquarters の **Commerce パラメーター \> 価格と割引** で確認できます。

### <a name="best-price-and-compound-concurrency-control-model"></a>最良価格および複合同時実行管理モデル

**最適価格と複合並行制御モデル** 設定は、**最適な価格** または **複合** 同時実行モードでの複数割引の価格設定エンジンによる処理方法を決定します。 

**最適な価格、優先順位内での複合、優先順位を超えた複合はしない** に設定されている場合、同じ価格優先順位を持つすべての **複合** 割引が複合化されます。 複合結果は、同じ価格優先順位を持つ **最適な価格** 割引と競合し、最適価格が適用され、価格優先順位の低い割引はすべて無視されます。

**最適な価格は優先順位内のみ、優先順位間は常に複合的** に設定されている場合、すべての **複合** 割引は **最適価格** 割引としてあつかわれます。 価格決定の優先順位内では、単一の割引だけが優先されます。 その単一の割引が **最適価格** または **複合** 割引である場合、価格の優先順位が低い追加の **最適価格** または **複合割引** と複合されます。

### <a name="discount-compound-behavior"></a>割引の複合動作

**割引の複合動作** の設定は、価格設定エンジンが複数の複合割引を計算する方法を決定します。

パラメータが **複合** に設定されている場合、1 つの割引が累計的に別の割引に適用されます。 **元の価格で複合** に設定されている場合、すべての割引は互いに依存して処理され、同じ元の価格に適用されます。

たとえば、元値が 100 ドルの商品に対して、10 パーセント オフと 20 パーセント オフの割引を複合的に行いたい場合。 **割引の複合動作** パラメータを **複合** に設定すると、最終価格は 72 ドルになります (100ドル &times; 90% &times; 80%)。 **元の価格に対して複合** に設定すると、最終的な価格は 70 ドル (100 ドル – 10 ドル – 20 ドル) となります。

### <a name="enable-competition-between-exclusive-threshold-and-other-periodic-discounts"></a>排他的しきい値割引とその他の期間割引の間の競争を有効にする

**排他的しきい値と他の定期的割引の間の競争を有効にする** パラメータが **はい** に設定されている場合、価格設定エンジンは排他的しきい値割引と排他的非しきい値割引と競合します。 価格決定の優先順位は引き続き適用されます。 **最適価格**、**複合** しきい値割引の挙動はそのまま維持されます。 つまり、しきい値以外の割引と競合しません。

### <a name="manual-line-discount-and-system-discount"></a>手動の行割引およびシステム割引

**手動明細行割引とシステム割引** の設定は、価格設定エンジンが手動ライン割引とシステム割引を同じラインに適用する方法を決定します。 手動明細行割引をシステム割引の上に追加するか、システム割引を置き換えできます。 手動行割引とシステム割引を複合する場合、算定ロジックでは **割引複合動作** の設定を尊重します。 注文全体に適用される手動合計割引は、その設定を尊重しません。

### <a name="keep-items-on-the-same-sales-line-for-discount-price-rounding"></a>割引価格の丸めで同じ営業明細行の品目を維持

数量割引の金額が対象数量で均等に割り切れない場合があります (3 個購入で 10 ドル割引の場合など)。 このような場合、**割引価格の丸め方法を同じ営業ラインで管理する** 設定により、価格設定エンジンが割引額をどのように適用、配分するかを決定します。 このパラメータが **はい** に設定されている場合、割引金額は全体として適用され、特別割引は分割されません。 **いいえ** に設定されている 場合、割引金額は特定数量全体で分割され、丸められます。 たとえば、3 つのユニットで 10 ドル割引の場合、1 ユニット目は 3.33 ドル、2 ユニット目は 3.33 ドル、3 ユニット目は 3.34 ドルに分割して割引します。

### <a name="apply-discounts-to-key-in-price-products"></a>価格を入力する製品に割引を適用する

**キーインプライスの商品に割引を適用する** 設定は、POS で入力される「キーインプライス」に割引を適用するかどうかを決定します。 商品構成の **キーインプライス** 設定は、商品がキーインプライスに対応するかどうか、どのように対応するかを決定します。

### <a name="apply-discounts-to-price-overrides"></a>割引を価格の上書きに適用

**価格の上書きに割引を適用する** は、価格の上書きと一緒に割引を適用するかどうかを設定するものです。

### <a name="distribute-discounts-for-least-expensive-discounts"></a>最安値の価格の割引に合わせて割引を配分

最小価格算定タイプを使用するミックス アンド マッチ割引の場合、**最低価格割引の割引を分配する** 設定は、価格設定エンジンが割引をライン全体に分配するかどうかを決定します。

このパラメータが **いいえ** に設定されている場合、割引は最も高い明細行にのみ適用されます。 たとえば、「2 つ買って 1 つ無料」の組み合わせ割引では、最も高い品目は無料で、他の 2 つの品目は価格が完全に維持されます。 この場合、顧客が定価の商品を両方返品しても、3 点目は無料で手に入ります。 このようなシナリオでは、小売店にとって損失となる可能性があります。

このパラメータが **はい** に設定されている場合、価格決定エンジンはすべての該当する行に割引を配分します。 この設定は、返品による損失の削減に役立ちます。

### <a name="manually-calculate-multi-line-prices-and-discounts"></a>複数行の価格と割引を手動で算定する

**複数行の価格と割引を手動で計算する** 設定は、POS アプリケーションとコールセンター チャネルで、価格エンジンによる価格と割引の算定を遅延させるかどうかを制御します。 このパラメータが **はい** に設定されている場合、POS アプリケーションまたはコール センター チャンネルで販売注文が作成または編集されるたびに、価格決定エンジンは即座に複数行割引 (数量割引、しきい値割引、組み合わせ割引など) を計算しません。

> [!NOTE]
> Commerce Version 10.0.30 以前では、**複数行価格と割引の手動計算** の設定でコール センター チャンネルのみ制御されます。 機能プロファイルの **複数アイテムの割引を手動で計算する** 設定は、POS アプリケーションの価格算定の動作を制御します。 Commerce Version 10.0.31 では、2 つの設定が 1 つの会社レベルの設定に連結されます。

### <a name="retention-period-in-days"></a>留保期間 (日数)

**日数の保持期間** の設定では、有効期限 (有効期限が設定されている場合) または無効日 (有効期限の有効期限に変更されていない場合) の割引を体系的に削除する日数を指定します。 このパラメータが **0 (ゼロ) に** 設定されている場合、自動削除は行われません。

> [!NOTE]
> Commerce Version 10.0.30 以前では、この設定の名前は、**期限切れの割引を削除する日数** となっています。

### <a name="coupon-bar-code"></a>クーポン バーコード

**クーポンバーコード** の設定により、クーポンバーコードの生成に使用される特定のバーコードが決定されます。 ユーザーは、**バーコードの設定** ページで構成された定義済 バーコードのいずれかを選択できます。 バーコードとバーコード マスクの詳細については、[バーコードの設定](set-up-bar-codes.md)および[バーコード マスクの設定](set-up-bar-code-masks.md)を参照してください。

### <a name="coupon-code-must-be-manually-applied-to-return-transactions"></a>クーポン コードは、返品トランザクションに手動で適用する必要があります

**クーポンコードは、返品する際に手動で適用する** 設定は、営業レシートのない返品取引にのみ適用されます。 クーポン コードをトランザクションに自動的に適用する場合は、このパラメータを **いいえ** に設定します。 クーポン コードをトランザクションに手動で追加する必要がある場合は、これを **はい** に設定します。

### <a name="use-sales-agreements-set-up-for-the-organization"></a>組織に対して設定されている営業契約書を使用する

企業間取引 (B2B) 注文の場合、**組織に設定された営業契約を使用する** のパラメータが **はい** に設定されていると、価格設定エンジンは、ユーザーの顧客階層で組織に定義されている営業契約を使用して、契約ベースの価格を決定します。 このパラメーターが **いいえ** に設定されている場合、または顧客階層が定義されていない場合、価格決定エンジンは、契約ベースの価格を決定するためにユーザーに対して定義されている営業契約を検索します。 B2B 電子コマースの顧客階層の詳細については、[顧客階層を使用した B2B ビジネス パートナーの管理](b2b/partners-customer-hierarchies.md)を参照してください。

## <a name="channel-level-pricing-settings"></a>チャネルレベルの価格設定

次の設定により、組織は特定の販売チャンネルの価格決定動作を制御できます。

### <a name="enable-order-price-control"></a>注文価格コントロールの有効化

**注文価格の有効化制御** パラメーターは、**コール センターの構成** ページの **全般** クイック タブにあります。 この設定により、価格決定エンジンがコール センター チャンネルの価格の上書き操作に制限を適用するかどうかを決定します。 これは、商品レベルの **価格調整を許可する** 設定と連動しています。

受注価格管理をオフにした場合、対応する製品が価格調整可能かどうかにかかわらず、コールセンターチャネルの営業明細行では、どのコールセンターユーザーも価格の上書きを行うことができます。

注文価格管理を有効にした場合、**価格調整を許可** パラメーターが **はい** に設定されている製品だけが、コール センター チャンネルの販売注文での価格の上書きを許可し、対応する営業明細行に理由コードを指定する必要があります。 コール センターのユーザーは、**小売およびコマース \> チャネル設定 \> コール センター設定 \> アクセス許可の上書き** で定義された **コストの利幅パーセント** 値までの営業価格を変更できます。 価格の上書きがその割合を超える場合、ユーザーはリクエストを送信する必要があり、その後、レビューと承認のために事前に定義されたコマース ワークフローで処理されます。 コマース ワークフロー作成の詳細については、[ワークフロー システムの概要](/dynamics365/fin-ops-core/fin-ops/organization-administration/overview-workflow-system) を参照してください。

## <a name="product-level-pricing-settings"></a>製品レベルの価格設定

次の設定によって、製品レベルで価格決定ルールが適用され、組織の **製品構成** ページ が表示されます。

### <a name="allow-price-adjust"></a>価格調整を許可する

**価格調整を許可する** パラメーターを **はい** に設定した場合は、価格の上書きをコール センター チャンネルの販売注文の製品に適用できます。

### <a name="key-in-price"></a>価格の入力

**価格設定のキー** によって、POS の営業トランザクションに製品を追加するときにキー入力価格が必須かどうかが決います。 また、対応する価格値の制限も定義します。

### <a name="zero-price-valid"></a>ゼロ価格は有効

**ゼロ価格有効** 設定は、商品の事前定義、システム計算、または手動で調整した営業価格を 0 (ゼロ) にできるかどうかを決定するものです。 価格がゼロである場合は、このパラメータを **はい** に設定します。 この設定は、コマースの商品階層からカテゴリ レベルで指定することも可能です。

### <a name="prevent-all-discounts"></a>すべての割引を禁止

**すべての割引を防止する** パラメーターを **はい** に設定すると、すべてのタイプの割引 (手動割引を含む) が製品に適用されません。 この設定は、コマースの商品階層からカテゴリ レベルで指定することも可能です。

> [!NOTE]
> この設定は、価格を設定する操作であり、割引として処理されないため、価格の上書き操作を制限するものではありません。

### <a name="prevent-manual-discounts"></a>手動割引を禁止

**手動割引を防止する** パラメーターを **はい** に設定すると、手動によるライン割引や取引割引が商品に適用されないようになります。 他のすべての割引も適用できます。 この設定は、コマースの商品階層からカテゴリ レベルで指定することも可能です。

> [!NOTE]
> この設定は、価格を設定する操作であり、割引として処理されないため、価格の上書き操作を制限するものではありません。

### <a name="prevent-retail-discounts"></a>小売割引を禁止

**小売割引の防止** パラメーターが **はい** に設定されている場合、**シンプル**、**数量**、**しきい値**、**ミックス アンド マッチ**、**送料** 割引を商品に適用できません。 その他の割引 (手動割引を含む) は、引き続き適用可能です。

### <a name="prevent-tender-based-discounts"></a>支払/入金ベースの割引を禁止

**支払/入金ベースの割引の防止** パラメーターが **はい** に設定されている場合、**支払/入金ベース** の割引を製品に適用することはできません。 その他の割引 (手動割引を含む) は、引き続き適用可能です。

小売業では、新商品や需要のある商品など、一部の商品を品目単位の割引 (単純割引や数量割引など) の対象外にするのが全般的です。 しかし、顧客が優先支払/入金支払う場合、支払/入金に基づく割引を適用する場合もあります。 この結果を得るために、小売業者は **すべての割引を防止する** と **支払/入金に基づく割引を防止する** パラメーターを **いいえ** に設定し、**小売割引を防止する** と **手動割引を防止する** パラメーターを **はい** に設定することができます。

## <a name="deprecated-or-removed-settings"></a>非推奨または削除された設定

次の価格設定は Dynamics 365 Commerce から削除、または今後削除される予定です。

| 設定 | 非推奨または削除の理由 | 廃止/削除の理由 |
|---------|-----------------------------------|-------------------------------|
| 割引処理の重複 | この設定は、価格設定エンジンが最適な割引の組み合わせを検索し、適用する方法を制御するためにコマースのパラメータで用意されています。 **最適な割引** オプションは、価格算定の際に可能なすべての割引の組み合わせを強制的に実行します。 **最適なパフォーマンス** オプションは、ヒューリスティック アルゴリズムと基準値ランキングの算出方法を使用して、優先順位をつけ、評価し、最適な組み合わせをタイムリーに決定する最適化されたオプションです。 **バランス算定** のオプションは **最適なパフォーマンス** と同様に機能します。 したがって、これは基本的に重複したオプションです。 パフォーマンス向上のため、価格決定エンジンを更新し、標準オプションとして **最適なパフォーマンス** のみを使用するようになりました。 そのため、この設定は適用できなくなりました。 | 10.0.21 のリリースで廃止され、2022 年 10 月に削除される予定です。 |
| 製品価格を上げる価格調整を可能にする | この設定は、価格調整機能が製品価格を上昇させることができるかどうかを制御するために用意されています。 このパラメーターをオフにした場合、組織は価格調整機能を使用して、製品の単価が基準価格および取引協定営業価格よりも低くなるように設定することのみできます。 価格調整機能がアップデートされ、双方向の調整 (増減) にすぐに対応できるようになったため、この設定を非推奨としました。 | 10.0.30 のリリースで廃止され、2023 年 10 月に削除される予定です。 |
| 小売用店舗の価格レポートの有効化 | 店舗の構成ページで **価格レポート** 機能を使用できるかどうかを制御するには、この設定を使用していました。 ストア設定ページが更新され、標準機能として常に **価格レポート** を提供するようになったため、この設定を非推奨としました。 | 10.0.31 のリリースで廃止され、2023 年 10 月に削除される予定です。 |
| 今日の日付を使用して価格を計算します | Dynamics 365 Supply Chain Management 価格算定エンジンは、出荷希望日や受取希望日と今日の日付に基づいた価格計算をサポートします。 Commerce の価格算定エンジンは、今日の日付に基づく価格計算のみをサポートしています。 Supply Chain Management と Commerce の両方の機能を使用する顧客については、この設定を用意し、顧客が 2 つの価格決定サービスを組み合わせて作業できるよう、この設定を常に **はい** に設定してください。 この設定は、算定の動作を根本的に変えないため、冗長であることから非推奨としました。 | 10.0.31 のリリースで廃止され、2023 年 10 月に削除される予定です。 |
| 最大価格 | 特定の店舗で、営業価格が上限を下回る商品のみを POS で販売するかどうかを制御するために、機能プロファイルにこの設定を用意しました。 この設定は、機能の使用率が低かったため非推奨となりました。 | 10.0.31 のリリースで廃止され、2023 年 10 月に削除される予定です。 |
| 単価に割引を適用 | この設定は、価格の算定の際に、価格や割引を単価レベルで丸めるか、営業明細行レベルで丸めるかを制御するものです。 この機能は、現在のコード ベースでは使われないため、非推奨です。 | 10.0.31 のリリースで廃止され、2023 年 10 月に削除される予定です。 |
| 複数品目割引を手動で計算する | この設定は、小売店チャネルで価格の算定エンジンが遅延価格計算を使用するかどうかを制御するために用意されました。 このパラメーターが **はい** に設定されている場合、POS アプリケーションで販売注文が作成または編集されるたびに、価格設定エンジンは複数行割引 (数量割引、しきい値割引、混合一致割引など) を直ちに計算しません。 その後、Commerce のパラメーターで同様の設定を使用してこの設定を連結し、オムニチャネル制御とすることにしました。 | 10.0.31 のリリースで廃止され、2023 年 10 月に削除される予定です。 |

Dynamics 365 Commerce で削除された、または非推奨の機能の完全なリストについては、[Dynamics 365 Commerce で削除された、または非推奨の機能](get-started/removed-deprecated-features-commerce.md) をご参照ください。

[!INCLUDE[footer-include](../includes/footer-banner.md)]

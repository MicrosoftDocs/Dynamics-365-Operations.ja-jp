---
title: 販売時点管理 (POS) への周辺機器の接続
description: このトピックでは、Retail POS に周辺機器を接続する方法について説明します。
author: rubencdelgado
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailTerminalTable, RetailDevice
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: 92383
ms.assetid: 83f31ea6-f0a2-4501-9d4d-a37b6eec2599
ms.search.region: global
ms.search.industry: Retail
ms.author: rubendel
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update
ms.openlocfilehash: ec64cb8a7c490c6798a897fd20a56e5af5c8be3a
ms.sourcegitcommit: 12b9d6f2dd24e52e46487748c848864909af6967
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/14/2020
ms.locfileid: "3057940"
---
# <a name="connect-peripherals-to-the-point-of-sale-pos"></a>販売時点管理 (POS) への周辺機器の接続

[!include [banner](includes/banner.md)]

このトピックでは、Retail POS に周辺機器を接続する方法について説明します。

> [!NOTE]
> 具体的なインストール手順については、[Retail Hardware Station のコンフィギュレーションおよびインストール](retail-hardware-station-configuration-installation.md) および [Modern POS (MPOS) のコンフィギュレーション、インストール、および有効化](retail-modern-pos-device-activation.md) を参照してください。

## <a name="key-components"></a>主要コンポーネント

いくつかのコンポーネントは、店舗間の関係、店舗内の販売時点管理 (POS) のレジスターやチャネル、およびレジスターやチャネルがトランザクションの処理に使用する周辺機器の定義に使用されます。 このセクションでは、各コンポーネントおよび店舗展開での使用方法について説明します。

### <a name="pos-registers"></a>POS レジスター

ナビゲーション: **Retail と Commerce** &gt; **チャネル設定** &gt; **POS 設定** &gt; **レジスター** をクリックします。

POS レジスターは、POS の特定のインスタンスの特性を定義するのに使用するエンティティです。 これらの特性には、レジスターで使用される周辺機器のハードウェア プロファイルまたはセットアップ、レジスターがマップされているストア、そのレジスターにログオンしているユーザーのビジュアル エクスペリエンスが含まれます。

### <a name="devices"></a>デバイス

ナビゲーション: **Retail と Commerce** &gt; **チャネル設定** &gt; **POS 設定** &gt; **デバイス** をクリックします。

デバイスとは、POS レジスターにマップされているデバイスの物理的なインスタンスを表すエンティティです。 デバイスが作成されると、POS レジスターにマップされます。 デバイス エンティティは、POS レジスターが有効化された時間、使用しているクライアントのタイプ、および特定のデバイスに配置されているアプリケーション パッケージに関する情報を追跡します。 デバイスは **Retail Modern POS** (MPOS) または **Retail Cloud POS** (クラウド POS) の 2 種類があります。

#### <a name="mpos"></a>MPOS

MPOS とは、Windows 8.1 またはそれ以降の PC ベースのオペレーティング システムにインストールされている POS クライアント アプリケーションです。 **Retail modern POS** のアプリケーション タイプがデバイスにマップされている場合、ダウンロード パッケージを特定のデバイスに指定することができます。 ダウンロード パッケージをカスタマイズして、インストール パッケージの別のバージョンを含めることができます。 別のパッケージを配置できることで、POS レジスターごとに異なる統合が必要な場合の柔軟性を提供します。 MPOS は、組み込みハードウェア ステーションとともに配置されます。

#### <a name="cloud-pos"></a>クラウド POS

クラウド POS とは、ブラウザー ベースの POS です。 ブラウザーで実行されるため、クラウド POS は Windows 8.1 またはそれ以降の PC ベースのオペレーティング システムを必要としません。 **Retail Cloud POS** のアプリケーション タイプが本社の特定のデバイスにマップされている場合、パッケージのダウンロードやインストールの必要なくブラウザーを介して、そのデバイスを使用できます。 クラウド POS には、キーボード ウェッジ ベースのバー コード スキャン以外にハードウェアを使用するためのハードウェア ステーションが必要です。

### <a name="hardware-profile"></a>ハードウェア プロファイル

ナビゲーション: **コマース** &gt; **チャネル設定** &gt; **POS 設定** &gt; **POS プロファイル** &gt; **ハードウェア プロファイル**をクリックします。

ハードウェア プロファイルでは、POS レジスター、またはハードウェア ステーションに接続されているハードウェアを識別します。 ハードウェア プロファイルは、支払ソフトウェア開発キット (SDK) との通信中に使用される支払プロセッサのパラメーターの指定にも使用されます。 (支払 SDK は、ハードウェア ステーションの一部として配置されます)。

### <a name="hardware-station"></a>Hardware Station

ナビゲーション: **Retail と Commerce** &gt; **チャネル** &gt; **店舗** &gt; **すべての店舗**をクリックします。 店舗を選択して、**ハードウェア ステーション** クイック タブをクリックします。

ハードウェア ステーションは、POS 周辺機器を駆動するビジネス ロジックのインスタンスです。 ハードウェア ステーションは、MPOS とともに自動的にインストールされます。 または、ハードウェア ステーションをスタンドアロン コンポーネントとしてインストールして、Web サービスを介して MPOS やクラウド POS によってアクセスすることができます。 ハードウェア ステーションは、チャネル レベルで定義しなければなりません。

### <a name="hardware-station-profile"></a>ハードウェア ステーションのプロファイル

ナビゲーション: **コマース** &gt; **チャネル設定** &gt; **POS 設定** &gt; **POS プロファイル** &gt; **ハードウェア ステーションのプロファイル**をクリックします。

チャネル レベルで指定されたハードウェア ステーション自体は、ハードウェア ステーションの URL などインスタンス固有の情報を含んでいますが、ハードウェア ステーションのプロファイルには、静的または複数のハードウェア ステーションで共有できる情報が含まれています。 静的な情報には、使用するポート、ハードウェア ステーション パッケージ、およびハードウェア プロファイルが含まれています。 静的な情報には、各固有のハードウェア ステーションに必要なハードウェアによって、**チェックアウト**または**返品**などの配置されているハードウェア ステーションの種類の説明も含まれています。

## <a name="scenarios"></a>シナリオ

### <a name="mpos-with-connected-peripheral-devices"></a>周辺機器が接続されている MPOS

[![従来の固定販売時点管理](./media/traditional-300x279.png)](./media/traditional.png)

従来の固定 POS シナリオで MPOS を POS 周辺機器に接続するには、まずレジスタ自体に移動し、ハードウェア プロファイルを割り当てます。 **Retail と Commerce** &gt; **チャネル設定** &gt; **POS 設定** &gt; **レジスター** に POS レジスターがあります。 

ハードウェア プロファイルを割り当てた後、**レジスター**の配布スケジュールを使用して、チャネル データベースに変更を同期します。 **Retail と Commerce** &gt; **Retail と Commerce IT** &gt; **配布スケジュール** で配布スケジュールを見つけることができます。 

次に、チャネルの「ローカル」のハードウェア ステーションを設定します。 **小売りとコマース** &gt; **チャネル** &gt; **店舗** &gt; **すべての店舗**をクリックして、店舗を選択します。 

次に、**ハードウェア ステーション**クイック タブで、**追加**をクリックしてハードウェア ステーションを追加します。 説明を入力して、ホスト名として **localhost** を入力してから、**チャネルのコンフィギュレーション**の配布スケジュールを使用してチャネルに変更を同期します。 **Retail と Commerce** &gt; **Retail と Commerce IT** &gt; **配布スケジュール** で配布スケジュールを見つけることができます。 

最後に、MPOS で、**ハードウェア ステーションの選択**操作を使用して、**localhost** ハードウェア ステーションを選択します。 ハードウェア ステーションを**有効**に設定します。 このシナリオで使用されているハードウェア プロファイルは、POS レジスター自体から指定する必要があります。 ハードウェア ステーションのプロファイルは、このシナリオでは必要ありません。

> [!NOTE]
> キャッシュ ドロワーへの変更などいくつかのハードウェア プロファイルの変更によって、チャネルに変更が同期された後、新しいシフトを開く必要があります。
>
> クラウド POS は周辺機器と通信するために、スタンドアロンのハードウェア ステーションを使用する必要があります。

### <a name="mpos-or-cloud-pos-with-a-stand-alone-hardware-station"></a>スタンドアロンのハードウェア ステーション付きの MPOS またはクラウド POS

[![共有周辺機器](./media/shared-300x254.png)](./media/shared.png)

このシナリオでは、スタンドアロンのハードウェア ステーションは MPOS とクラウド POS クライアント間で共有されます。 このシナリオでは、ダウンロード パッケージ、ポート、およびハードウェア ステーションが使用しているハードウェア プロファイルを指定するためにハードウェア ステーションのプロファイルを作成する必要があります。 ハードウェア ステーションのプロファイルは、**Retail と Commerce** &gt; **チャネル設定** &gt; **POS 設定** &gt; **POS プロファイル** &gt; **ハードウェア ステーションのプロファイル**にあります。 

ハードウェア ステーションのプロファイルを作成した後、特定のチャネル (**小売りとコマース** &gt; **チャネル** &gt; **店舗** &gt; **すべての店舗**) に移動して、新しいハードウェア ステーションを追加します。 以前に作成したハードウェア ステーションのプロファイルに、この新しいハードウェア ステーションをマップします。 

次に、レジ担当者がハードウェア ステーションの識別に役立つ説明を提供します。 **ホスト名**フィールドで、次の形式でホスト コンピューターの URL を入力します: `https://<MachineName:Port>/HardwareStation`。 (**&lt;MachineName:Port&gt;** をハードウェア ステーションの実際のマシン名とハードウェア ステーションのプロファイルで指定されているポートに置き換えます)。スタンドアロンのハードウェア ステーションでは、電子決済 (EFT) ターミナル ID も指定する必要があります。 この値は、支払コネクタが支払プロバイダーと通信する際にハードウェア ステーションに接続される EFT ターミナルを識別します。 

次に、実際のハードウェア ステーションのマシンから、チャネルに移動し、ハードウェア ステーションを選択します。 そして、**ダウンロード**をクリックして、ハードウェア ステーションをインストールします。 

次に、MPOS またはクラウド POS から、**ハードウェア ステーションの選択**操作を使用して以前にインストールされたハードウェア ステーションを選択します。 **ペアリング**を選択して POS とハードウェア ステーションの間でセキュリティで保護された関係を確立します。 POS とハードウェア ステーションの組み合わせごとにこの手順を 1 回完了する必要があります。 

ハードウェア ステーションをペアリングすると、同じ操作を使用して、使用中にハードウェア ステーションを有効にします。 このシナリオでは、レジスター自体ではなく、ハードウェア ステーションのプロファイルにハードウェア プロファイルを割り当てる必要があります。 何らかの理由によりハードウェア ステーションが直接割り当てられているハードウェア プロファイルを持たない場合は、レジスターに割り当てられているハードウェア プロファイルを使用します。

## <a name="client-maintenance"></a>クライアントの保守

### <a name="registers"></a>レジスター

POS レジスターは、主にレジスター自体を介して管理され、レジスターに割り当てられているプロファイルを介しても管理されます。 個々のレジスター固有の属性は、レジスター レベルで管理されます。 これらの属性には、レジスタが使用されている店舗、レジスター番号、説明、およびレジスター自体固有の EFT ターミナル ID が含まれます。

### <a name="pos-profiles"></a>POS プロファイル

**Retail と Commerce** &gt; **チャネル設定** &gt; **POS 設定** &gt; **POS プロファイル**に POS プロファイルがあります。 プロファイルは多くのレジスター間で共有できるため、プロファイルによってレジスターのさまざまな側面を管理するために便利です。 プロファイルは、個々のレジスターにマップされるか、プロファイルが店舗全体で有効な場合、店舗にマップできます。 次のセクションでは、POS プロファイルとその使用方法について説明します。

#### <a name="offline-profile"></a>オフライン プロファイル

オフライン プロファイルは、ストア レベルで設定されています。 そのレジスターがチャネル データベースに接続されていないときに、POS レジスター上で実行されるトランザクションのアップロード設定に使用されます。

#### <a name="functionality-profile"></a>機能プロファイル

機能プロファイルは、ストア レベルで設定されています。 POS で実行できる機能についてのストア全体の設定に使用されます。 次の機能は、機能プロファイルを介して管理されます。 これらの機能は、クイック タブで配置されます。

- **全般**クイック タブ:

    - 国際標準化機構 (ISO)。
    - オフライン モードで顧客を作成。
    - 電子メールのレシート プロファイル。
    - スタッフの中央ログオン認証。

- **機能**クイック タブ:

    - ログオンと拡張ログオンの管理。
    - 価格をキー入力する機能および小数点がマイナー通貨に必要かどうかなど、財務と通貨に関連する POS の側面。
    - POS での時間登録の有効化。
    - 製品や支払の POS とレシートへの表示方法。
    - 営業終了管理。
    - チャネル データベース トランザクションの保持パラメーター。
    - 顧客を検索して POS から作成する方法。
    - 割引の算出方法。

- **金額**クイック タブ:

    - 許可されている最大と最小の価格。
    - 割引アプリケーションおよび計算。

- **情報コード**クイック タブ:

    - POS で情報コードを管理する方法のすべての側面。 詳細については、[情報コードおよび情報コード グループ](info-codes-retail.md)を参照してください。

- **レシート番号**クイック タブ:

    - 店舗番号、ターミナル番号、定数、および販売、返品、販売注文、見積書を別々に印刷するか、またはすべて同じ順序に従うのかに関するセグメントを含むレシート番号マスクを指定します。

#### <a name="receipt-profiles"></a>レシート プロファイル

ハードウェア プロファイル内でレシート プロファイルがプリンターへ割り当てられます。 特定のプリンターで印刷されるレシート タイプを指定するために使用されます。 プロファイルには、レシートの形式、およびレシートを常に印刷するかどうかの判断や、レジ担当者にレシートを印刷する必要があるかどうか判断を求めるかの設定が含まれます。 プリンターごとに別の受信プロファイルを使用することもできます。 たとえば、プリンター 1 は標準的なサーマル レシート プリンターで、小さなレシートの形式があります。 ただし、プリンター 2 は、顧客注文のレシートだけを印刷するために使用するフルサイズのレシート プリンターで、多くのスペースを必要とします。

#### <a name="hardware-profiles"></a>ハードウェア プロファイル

ハードウェア プロファイルは、この記事の前半でクライアント設定のコンポーネントとして説明しています。 ハードウェア プロファイルは、POS レジスターに、またはハードウェア ステーションのプロファイルに直接割り当てられます。 これらは特定の POS レジスターまたはハードウェア ステーションが使用するデバイスの種類を指定するために使用します。 ハードウェア プロファイルは、支払 SDK との通信に使用される EFT 設定にも使用されます。

#### <a name="visual-profiles"></a>視覚プロファイル

視覚プロファイルは、レジスター レベルで割り当てられます。 特定のレジスターのテーマを指定するために使用されます。 プロファイルには、使用されるアプリケーションの種類 (MPOS またはクラウド POS)、アクセントの色とテーマ、フォント スキーム、ログオンの背景、および POS の背景の設定が含まれます。

### <a name="custom-fields"></a>カスタム フィールド

カスタム フィールドを作成して POS に標準で組み込まれていないフィールドを追加できます。 カスタム フィールドを使用する方法の詳細については、「[ブログ記事のカスタム フィールドの操作](https://blogs.msdn.microsoft.com/axsupport/2012/08/06/ax-for-retail-2012-working-with-custom-fields/)」を参照してください。

### <a name="language-text"></a>言語テキスト

言語のテキスト エントリを使用して、POS の既定の文字列を上書きできます。 POS 内の文字列を上書きするには、新しい言語のテキスト行を追加します。 次に、ID、上書きする必要のある既定の文字列、および既定の文字列の代わりに POS で表示するテキストを指定します。

### <a name="hardware-station-profiles"></a>ハードウェア ステーションのプロファイル

ハードウェア ステーションのプロファイルは、この記事の前半で説明しています。 インスタンス特有ではない情報をハードウェア ステーションに割り当てるために使用されます。

### <a name="channel-reports-configuration"></a>小売レポートのコンフィギュレーション

**チャネル レポートのコンフィギュレーション** ページでチャネルで使用可能なレポートを設定します。 レポートの XML 定義を提供し、POS でレポートを特定のアクセス許可グループに割り当てることによって、新しいレポートを作成できます。

### <a name="devices"></a>デバイス

デバイスは、この記事の前半で説明しています。 特定の POS レジスターの有効化を管理するために使用されます。 デバイスは、特定のレジスターに使用するアプリケーションと、MPOS クライアントのインストールに使用する必要があるインストール パッケージの指定にも使用されます。 デバイス有効化の状態を以下に示します。

- **保留中** – デバイスを有効化する準備ができています。
- **有効化** – デバイスが有効化されました。
- **無効化** – 本社または POS でデバイスが無効化されました。
- **無効** – デバイスが無効になっています。

追加の有効化に関連する情報には、デバイスの有効化の状態を変更した作業者、有効化のタイム スタンプ、およびデバイスの構成が検証されているかどうかが含まれます。

### <a name="client-data-synchronization"></a>クライアント データ同期

デバイス有効化の状態の変更を除いた POS クライアントへのすべての変更を、チャネル データベースに同期して有効にする必要があります。 チャネル データベースへの変更を同期するには、**Retail と Commerce** &gt; **Retail と Commerce IT** &gt; **配布スケジュール**と移動して、必要な配布スケジュールを実行します。 クライアントの変更の場合、**レジスター**と**チャネルのコンフィギュレーション**の配布スケジュールを実行する必要があります。

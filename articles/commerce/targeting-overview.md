---
title: デバイス、市場、および位置情報の指定
description: このトピックでは、デバイス、市場、および位置情報の情報を使用して、Microsoft Dynamics 365 Commerce サイト ビルダーの対象者およびターゲットを作成、編集、および管理する方法について説明します。
author: sushma-rao
ms.date: 02/03/2022
ms.topic: overview
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: Retail
ms.author: sushmar
ms.search.validFrom: 2021-07-31
ms.dyn365.ops.version: AX 10.0.21
ms.openlocfilehash: 0c8ceb5e59c801e0d3dbc3a57e54c40fa8d967ac
ms.sourcegitcommit: 1eef00796f7c5511f432b01800cdf8920992d7d5
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/04/2022
ms.locfileid: "8090697"
---
# <a name="device-market-and-geolocation-targeting"></a>デバイス、市場、および位置情報の指定

[!include [banner](includes/banner.md)]

このトピックでは、デバイス、市場、および位置情報の情報を使用して、Microsoft Dynamics 365 Commerce サイト ビルダーの対象者およびターゲットを作成、編集、および管理する方法について説明します。

Dynamics 365 Commerce は、特定の顧客グループ (*対象者* として認知) のために、ページ コンテンツ (*ターゲット* として認知) のバリエーションをパーソナライズし、ユーザーの関与と満足度を増やすために役立ちます。 対象者またはターゲットを先に作成することができます。 ただし、ターゲット設定を成功するためには、両方のコンポーネントが必要になります。

ユーザーは、場所、デバイス情報、サインイン ステータスなど、顧客 Web 要求から動的に派生するその他の情報に基づいて、Commerce サイト ビルダーで対象者を作成および管理します。 また、Commerce サイト ビルダーでは、電子商取引モジュールおよびフラグのターゲットを作成および管理できます。

**免責事項:** ユーザーは、ターゲット設定とプロファイルに関連する法令や規制など、適用される法令や規制に準拠し、この機能を使用する責任を負います。 

## <a name="audiences"></a>対象者

対象者はユーザーのグループであり、グループのメンバー数は一連の動的なルールによって決定されます。 これらのルールは、顧客要求または他の使用可能な区分で使用できる情報に対して実行される単純なロジック テストです。 AND/OR 演算子を使用すると、複数のルールを結合できます。

Commerce はデバイス情報、サインイン ステータス、参照者、クエリ文字列パラメータなどの基本的なセグメントを自然にサポートします。 また、第三者のプロバイダーへの接続を介して、拡張セグメントをサポートします。

### <a name="basic-segments"></a>基本セグメント

既定では、次の区分を使用して、対象者定義に含めできます。

- **サインイン ステータス** – ユーザーが認証済かどうかをテストします。
- **デバイス プラットフォーム** – 次のデバイスのタイプをテストします。

    - モバイル
    - デスクトップ
    - タブレット
    - 外

- **デバイス OS** – 次のオペレーティング システムをテストします。

    - Windows
    - Linux
    - iOS
    - Android、その他

- **クエリ文字列パラメータ** – 要求 URL のクエリ文字列パラメータ内にキー値が存在するかをテストします。 たとえば、URL `www.fabrikam.com/en-us/request?promo=true` に対して、**キャンペーン** パラメーターが **はい** であることをテストするルールを書き込むことができます。
- **Cookie** – 要求 URL でドメインに対して設定された Cookie 値をテストします。 たとえば、Fabrikam.com 要求に **CustomLayout** の名前と **1** の値を持つ Cookie が含まれる場合があります。 Cookie テストでは、Cookie の存在を確認しますが、明示的に作成するわけではありません。 前例では、JavaScript が別のモジュールまたは他の業務プロセスから以前に **CustomLayout** Cookie を設定している必要があります。

    > [!NOTE]
    > Cookie の使用が適用される法令に準拠していることを確認してください。

- **参照者** – ユーザーがページを要求するためリンクに従う場合、参照者はリンクをホストしたページの URL です。

### <a name="extensible-segments"></a>拡張可能なセグメント

Commerce を使用すると、第三者の区分プロバイダーに接続して、使用可能なセグメントのリストを展開できます。 区分プロバイダーは、使用できる区分のタイプを説明します。 位置情報や区分プロバイダーに接続する方法については、[コネクタの構成および有効化](e-commerce-extensibility/connectors.md) を参照してください。

> [!NOTE]
> - 外部プロバイダーが有効な場合、パフォーマンスが予期しない可能性があるサービスに接続する可能性があります。 より良いユーザー エクスペリエンスを確保するために、ユーザーがターゲットを含むページを要求およびそのページが第三者のセグメント プロバイダーを確認する対象者を参照する場合、ページの既定バージョンが表示されます。
> - ユーザーは、Cookie を許可することについて同意されたものとします。 ユーザーのブラウザーは、該当するプロバイダーからすべてのセグメントを要求し、その結果はユーザーに返される Cookie に表示されます。 ページへの後続の要求では、この情報を使用して対象のコンテンツがユーザーに提供されます。 Cookie への準拠については、[Cookie の準拠](cookie-compliance.md) を参照してください。

**免責事項:** 機能を有効にした場合、選択した第三者システムでデータが共有されます。 第三者に提供するデータがある場合は、ユーザーが管理します。 第三者のデータ処理およびコンプライアンス基準が Microsoft Dynamics 365 Commerce 基準から異なるかもしれないことを、ご理解ください。 Microsoft にとってお客様のプライバシーは重要です。 詳細については、[プライバシーと Cookie のお知らせ](https://privacy.microsoft.com/privacystatement) をお読みください。

### <a name="create-an-audience-in-site-builder"></a>サイト ビルダーでの対象者の作成

Commerce サイト ビルダーで対象者を作成するには、次の手順に従います。

1. 左側のナビゲーション ウィンドウで、**対象者** を選択します。
1. **新規** を選択します。
1. 対象者の名前を入力します。 必要に応じて、タグと説明を追加することもできます。
1. **作成** から、**新しいルール ブロックを追加** を選択します。 ルール ブロックは、AND 条件に結合されるルールのコレクションです。 複数のルール ブロックの間に OR 条件を持つルール ブロックを作成できます。
1. セグメントのデータ ソースを選択し、区分名、演算子、および値を指定します。 ルール ブロック内でさらに多くのルールを作成および削除したり、ルール ブロック全体を作成および削除することができます。 ルール ブロックは必要に従って上下に移動できます。

    > [!NOTE]
    > リストの値は最大 100 文字で、各リスト項目には最大 50 文字を含めることができます。

1. ユーザー コンフィギュレーションに満足したら、**編集完了** を選択します。 **公開** を選択して、対象者がライブ ターゲットで使用できるようにします。 または、ターゲットと共に対象者を公開できます。 

対象者を編集するには、**対象者** タブでハイパーリンクを選び、表示された対象者エディターで **編集** を選択します。 対象者を参照するターゲットとページの一覧を表示するには、対象者リスト ビューで対象者を選び、**割り当ての表示** を選択します。 対象者リスト ビューまたは対象者エディターで対象者を削除するには、既に公開されている場合は公開を解除し、コマンド バーで **削除** を選択します。

> [!NOTE]
> 対象者は、Commerce サイト ビルダーのサイト レベルの概念です。 同じ対象者を複数のターゲット間で共有できます。

### <a name="rename-an-audience-in-site-builder"></a>サイト ビルダーでオーディエンスの名前を変更する

Commerce サイト ビルダーで既存のオーディエンスの名前を変更するには、次の手順に従います。

1. 左側のナビゲーション ウィンドウで、**対象者** を選択します。
1. 名前を変更したいオーディエンス セグメントの名前を選択します。
1. オーディエンスの編集を開始するには、**編集** を選択します。
1. オーディエンス プロパティ ウィンドウで、オーディエンスの名前の横のペン記号を選択します。
1. 必要に応じてオーディエンスの名前を編集します。
1. 名前の変更を確認する場合は、チェック マークを選択します。
1. **編集完了** を選択します。

## <a name="targets"></a>ターゲット

ターゲットは、選択した 1 つ以上の対象者に対して表示されるユーザー エクスペリエンスです。 ページまたはフラグメントの 1 つ以上のモジュールのバリエーションを含む場合があります。 

ターゲットのスケジュールを定義して、ターゲットの有効期間を指定できます。 このアクションは、コンテンツのコレクションが公開される時点を決定する発行グループのスケジューリング アクションとは別の方法です。 ターゲットをプレビューして、選択した対象者のメンバーに対する表示形式を確認できます。 また、ターゲットに優先順位を付け、競合が発生した場合に表示するターゲットを指定できます。

### <a name="create-a-target"></a>ターゲットの作成

Commerce サイト ビルダーでページ モジュールのターゲット シェルを作成するには、次の手順に従います。

1. 左のナビゲーション ウィンドウで、**ページ** を選択します。 次に、ターゲットとするモジュールを含むページのハイパーリンクを選択します。
1. **編集** を選択して、編集用にページを確認します。
1. **ターゲット** メニューで、**新しいターゲット** を選び新しいターゲット シェルを作成します。 必要に応じて、ページに複数のターゲットを作成できます。
1. ターゲットの名前と説明を入力して、**次へ** を選択します。
1. **追加** を選び、ターゲット コンテンツを表示する対象者を含めるか、または対象者を除外します。 その後、**次へ** を選択します。

    > [!NOTE]
    > 対象者の割り当ては、ターゲット作成時のオプション手順です。 ただし、ターゲットを公開する前に、対象のユーザー グループにターゲットを絞り込むコンテンツが表示されるのを確認するために、対象者を少なくとも 1 つ含める必要があります。

1. ターゲットの表示に使用するタイム ゾーン、および開始日と終了日時を選択して、ターゲット表示用のタイム ウィンドウを定義します。 ターゲットは、ウィンドウ内で表示される際に一定の時間に設定できる他に、特定の日や時間を選択することもできます。 完了したら、**次へ** を選択します。

    > [!NOTE]
    > 指定する時間およびタイム ゾーンはグローバルです。 異なる時間またはタイム ゾーンごとに異なる場所にターゲットを設定する場合は、異なるターゲットを作成し、場所ごとに目的のスケジュールを定義する必要があります。

1. 詳細を確認し、すべてが正しいようであれば、**ターゲット エクスペリエンスの作成** を選び、**ターゲットに移動** を選択します。 ターゲット シェルが作成されました。 これで、モジュールを追加できます。
1. ターゲットするためにモジュールを選び、省略記号 (**...**) から **現在のターゲットに追加** を選択します。 親モジュールをターゲットにした場合、すべての子がターゲットの一部になります。 対象のモジュールは緑で強調表示されます。
1. 必要なコンテンツを対象のモジュールに更新し、必要に応じてターゲットにモジュールを追加します。 次に、**保存** をクリックして、すべての変更を保存します。
1. ターゲットを公開する前に、コマンド バーで **プレビュー** を選択して確認してください。 その後、次のいずれかのオプションを選択できます。

    - **基本プレビュー** – 選択したバリエーション (既定のページまたはターゲット) のみを表示し、対象者を関連付けずにプレビューするには、このオプションを選択します。
    - **詳細なプレビュー ページ** – ページに複数のターゲットを所有、および選択した対象者のセットまたは特定の日時に属するユーザーとしてプレビューする場合は、このオプションを 選択します。 関連の対象者リストから選ぶために、**次へ** を選択します。 フィルターを削除して、すべての対象者から選択することもできます。

1. ターゲット コンフィギュレーションに満足したら、ターゲットを有効にするためにページを公開する必要があります。 **発行** を選択し、ターゲットをすぐに稼働させます。 また、公開グループを使用してページが表示される時刻をスケジュールすることもできます。 公開グループの詳細については、[公開グループの使用](publish-groups.md) を参照してください。

また、フラグメントをターゲットできます。 手順は同様です。 ただし、手順 1 で、左ナビゲーション ウィンドウの **ページ** の代わりに **フラグメント** を選択します。

> [!NOTE]
> メトリックに悪影響を与える可能性を避けるために、ページまたはフラグメントで実験またはターゲットを実行できます。 実験とターゲットの両方を所有することはできません。

### <a name="manage-targets"></a>ターゲットを管理する

ターゲットを編集、重複、または削除するには、既定のページまたはフラグメントに移動し、次の手順に従います。

1. ドロップダウン メニューで、**ターゲット** を選び、**ターゲットを管理** を選択します。
1. ターゲットを選択して、編集、重複、または削除を行います。
1. 同じモジュールに複数のターゲットがある場合、または複数のターゲットのスケジュールが競合する場合は、**ターゲットの優先順位を付ける** を選択し、表示する順序を指定します。 ページまたはフラグメントに複数のターゲットを追加する場合、通知バーに **ターゲットの優先順位を付ける** ボタンも表示され、ターゲットの優先順位を付けることを通知します。 優先順位が指定されていない場合は、既定で最新のターゲットが選択されます。

### <a name="localize-targets"></a>ターゲットのローカル化

XLIFF ファイルがローカライズ用にエクスポートおよびインポートすると、ページおよびフラグメントのターゲットが自動的に取り込まれます。 ただし、必要ないロケールがある場合は、ローカライズされた XLIFF ファイルのインポート後にターゲットを削除できます。

> [!NOTE]
> ターゲットはチャンネルおよびロケールごとに管理されます。 1 つのチャンネルまたはロケールでターゲットに加えた変更は、自動的に他のチャンネルやロケールに転送されません。

[!INCLUDE[footer-include](../includes/footer-banner.md)]

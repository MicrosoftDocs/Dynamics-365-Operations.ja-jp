---
title: eコマース サイトへのチャネルのマップ
description: このトピックでは、業務要件のほとんどに対して推定することができる、Microsoft Dynamics 365 Commerce のより一般的なチャンネル マッピングのシナリオについて説明します。
author: samjarawan
ms.date: 05/11/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: v-chgriffin
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: samjar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 8ce272d63b4a37f99661333a02434708205ea19a
ms.sourcegitcommit: e4cc43b06ef3f0f562849e2c960025cb244d6017
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/12/2022
ms.locfileid: "8743585"
---
# <a name="map-channels-to-e-commerce-sites"></a>eコマース サイトへのチャネルのマップ

このトピックでは、業務要件のほとんどに対して推定することができる、Microsoft Dynamics 365 Commerce のより一般的なチャンネル マッピングのシナリオについて説明します。

Dynamics 365 Commerce は、製品、価格、および割引を[eコマース サイト](#e-commerce-sites) エクスペリエンスに対して設定したマッピング [オンライン チャンネル](#channels)のためのビジネス シナリオをサポートしています。

ここでは、以下のシナリオについて説明します:

- **1 つの eコマース サイト エクスペリエンスを持つ単一言語チャンネル。** たとえば、このシナリオには、米国英語市場用に構成された 1 つのサイトが含まれる場合があります。
- **1 つのローカライズされたサイト エクスペリエンスを持つ多言語チャンネル。** たとえば、このシナリオには、フランス語と英語をサポートするカナダ用に構成された 1 つのサイトが含まれる場合があります。 このシナリオでは、異なる言語を選択するユーザーのサイト エクスペリエンスは同じですが、各ユーザーの選択した言語にローカライズされます。
- **言語ごとに異なるサイト エクスペリエンスを持つ多言語チャンネル。** たとえば、このシナリオには、フランス語と英語をサポートするカナダ用に構成された 1 つのサイトが含まれる場合があります。 このシナリオでは、言語ごとに固有のサイト エクスペリエンスがあります。
- **1 つのローカライズされたサイト エクスペリエンスを持つ複数のチャンネル (単一言語または複数言語)。** たとえば、このシナリオには、オーストラリアとニュージーランド用に構成された 1 つのサイトが含まれる場合があります。 このシナリオでは、どちらの国も同様に英語でのサイト エクスペリエンスですが、国ごとに異なる製品、通貨、価格、割引、および出荷モードを使用して構成されています。
- **チャンネルごとにサイト エクスペリエンスが異なる複数のチャンネル (単一言語または複数言語)。** たとえば、このシナリオには、オーストラリア、カナダ、ドイツ用に多言語で構成された 1 つのサイトが含まれる場合があります。 このシナリオでは、各国ごとに固有のサイト エクスペリエンスで、異なる製品、通貨、価格、割引、および出荷モードを使用して構成されています。

## <a name="channels"></a>チャネル

チャンネル (オンライン店舗またはオンライン チャンネル) は、製品、価格決定、割引、言語、支払方法、配送モード、フルフィルメント センターなど、eコマース顧客が利用できるオンライン エクスペリエンスのその他の側面をマッピングするために使用されるオンライン eコマースの店舗を表します。 チャンネルは Commerce Headquarters で作成および管理され、1 つの[法人](../fin-ops-core/fin-ops/organization-administration/organizations-organizational-hierarchies.md?toc=/dynamics365/commerce/toc.json#legal-entities)に対してマッピングされます。 通常、法人はチャンネルの税務報告を必要とする単一の国に拠点を置き、1 つの通貨でのみ構成できます。

チャネルの詳細については、[チャンネルの概要](channels-overview.md)を参照してください。 オンライン チャンネルの作成方法の詳細については、[オンライン チャンネルの設定](channel-setup-online.md) を参照してください。

Commerce Headquarters からの次の例は、デモ データ オプションが選択されている場合に Dynamics 365 Commerce で展開される既定のオンライン チャンネルを示しています。

![Commerce Headquarters の既定のデモ データ チャンネル。](media/channel-mapping-1.png)

## <a name="e-commerce-sites"></a>e コマース サイト

e コマース サイトには、顧客が参照して店舗を購入する場合に使用する一連のサイト ページが含まれています。 eコマース サイトは、Commerce サイト ビルダーで管理されます。

サイト ビルダーでサイトを作成および管理する方法の詳細については、[eコマース サイトの概要](online-store-overview.md)を参照してください。

## <a name="common-channel-mapping-scenarios"></a>一般的なチャンネル マッピングのシナリオ

Dynamics 365 Commerce は、さまざまなチャンネル マッピング シナリオをサポートしています。 それに続くチャンネル マッピングのシナリオは、考えられるすべてのチャンネル マッピングシナリオのサブセットに過ぎません。 これらの情報は、独自の業務シナリオを計画する上で役立つガイドです。 Dynamics 365 Commerce デモ データに含まれる架空の Adventure Works スポーツ用品店が、各シナリオの例として使用されます。

### <a name="single-language-channel-that-has-a-single-e-commerce-site-experience"></a>1 つの eコマース サイト エクスペリエンスを持つ単一言語チャンネル

最も基本的なシナリオでは、1 つのチャンネルに単一の市場で販売するための単一言語があります。 このシナリオの例として、米国英語市場向けにのみ設定された Adventure Works オンライン ストアがあります。

次の例は、Commerce headquarters のチャンネル構成を表示しています。 この構成では、オンライン チャンネルが、税申告に使用される単一の言語 (**en-us**)、単一の通貨 (**USD**)、および単一のビジネス エンティティ (**usrt**) のみをサポートします。

![Commerce Headquarters で強調表示された Adventure Works オンライン ストアの法人、通貨、および言語の値。](media/channel-mapping-3.png)

1 つのオンライン チャンネルをサイト ビルダーの 1 つの eコマース サイトにマッピングできます。 新しいサイトを作成してチャンネルにマップする方法の詳細については、このトピックの[サイト ビルダーでサイトにチャンネルをマップする](#map-a-channel-to-a-site-in-site-builder)を参照してください。

### <a name="multi-language-channel-that-has-a-single-localized-site-experience"></a>1 つのローカライズされたサイト エクスペリエンスを持つ多言語チャンネル

このシナリオでは、1 つのチャンネルが複数の言語をサポートします。 したがって、製品名、説明、および属性を Commerce Headquarters にローカライズできます。 サイトに完全にローカライズされたサイト エクスペリエンスを提供するために、サイトのマーケティング コンテンツは Commerce サイト ビルダーでローカライズすることもできます。

このシナリオの制約事項は、1 つのチャンネルを 1 つの通貨、1 つの法人、および 1 つの製品および価格のセットでしか構成できないという点です。 この構成は、1 つの通貨と複数の言語 (英語とフランス語があるカナダなど)、単一の法人、および単一の製品と価格のセットを持つ国に最適です。

チャンネルの各言語は、独自のドメイン名で構成できます。 たとえば、カナダ英語バージョン用に `www.adventure-works.ca` ドメインを構成し、カナダ フランス語バージョン用に `www.adventure-works-fr.ca` を構成することができます。 また、1 つのチャンネルで複数の言語を 1 つのドメインに構成し、言語ごとに異なるパスを使用することができます。 たとえば、カナダ英語バージョン用に `www.adventure-works.ca` ドメインを構成し、カナダ フランス語バージョン用に `www.adventure-works.ca/fr` パスを使用することができます。 [地域検出](geo-detection-redirection.md) を有効化して、ユーザーの位置に基づいて正しいサイトに自動的にリダイレクトすることもできます。

顧客が言語間を手動で切り替える方法の詳細については、このトピックの[サイト選択モジュールを追加して構成する](#add-and-configure-the-site-picker-module)セクションを参照してください。 ローカライズされたページおよびフラグメントをカスタマイズする方法の詳細については、[複数のチャンネルと言語を含むサイト コンテンツの管理](#manage-site-content-that-has-multiple-channels-and-languages)セクションを参照してください。

### <a name="multi-language-channel-that-has-a-different-site-experience-per-language"></a>言語ごとに異なるサイト エクスペリエンスを持つ多言語チャンネル

1 つのチャンネルが複数の言語をサポートしながらも、各言語ごとにサイト エクスペリエンスが全く異なるというシナリオが必要になる場合があります。 このシナリオを実装する場合は、1 つのサイトで[ページ バリアント](#implement-page-variants-for-each-language)を使用することをお勧めします。

また、サイト ビルダーの各言語用の新しい eコマース サイトを作成し、各サイトを 1 つのオンライン チャンネルおよび言語にマッピングする方法もあります。 その結果、言語ごとに 1 つずつ、複数の eコマース サイトにマッピングされた 1 つのオンライン チャンネルとなります。 この複数サイトの方法では、サイト ビルダーで管理するサイトが複数あるため、追加の管理リソースが必要です。

### <a name="multiple-channels-single-language-andor-multi-language-that-have-a-single-localized-site-experience"></a>1 つのローカライズされたサイト エクスペリエンスを持つ複数のチャンネル (単一言語または複数言語)

ブランド化されたサイトで、1 つのサイトで異なる通貨、製品セット、および各チャンネルの価格のセットをサポートするために、地域ごとに複数のオンライン チャンネルが必要になる場合があります。 たとえば、Adventure Works サイトには、カナダ市場で複数の言語を使用するオンライン チャンネル、1 言語を使用する米国市場向けチャンネル、および 1 つの言語を持つドイツ市場向けチャンネルがあります。 このシナリオでは、各オンライン チャンネルが、地域固有の法人に対して構成されます。また、他のチャンネルと同じ製品のセット、それらの製品のサブセット、または異なる製品セットを使用できます。 また、地域通貨、税金、割引、および出荷モードで独自の価格を設定します。

このシナリオでは、各市場を独自のドメイン名で構成できます。 たとえば、米国市場用に `www.adventure-works.com` ドメインを構成し、ドイツ市場用に `www.adventure-works.de` を構成することができます。 また、各市場で別のパスを使用するよう構成することもできます。 たとえば、米国市場用に `www.adventure-works.com` ドメインを構成し、ドイツ市場用に `www.adventure-works.com/de` パスを使用することができます。 [地域検出](geo-detection-redirection.md) を有効化して、ユーザーのリージョンに基づいて正しいサイトに自動的にリダイレクトすることもできます。

また、ユーザーが特定の市場へ手動で切り替え可能なドロップダウン リストをサイトに提供することもできます。 詳細については、このトピックの[サイト選択モジュールを追加して構成する](#add-and-configure-the-site-picker-module)を参照してください。

1 つのサイトで複数チャンネルを構成する方法の詳細については、[eコマース サイトで複数のチャンネルを構成する](#configure-multiple-channels-on-an-e-commerce-site)を参照してください。

### <a name="multiple-channels-single-language-andor-multi-language-that-have-a-different-site-experience-per-channel"></a>チャンネルごとにサイト エクスペリエンスが異なる複数のチャンネル (単一言語または複数言語)

複数の地域にある 1 つのマルチ チャンネルに対して複数のチャンネルを用意し、それぞれの地域でサイトを変味味を取りたい場合もあります。 このシナリオを実装するには、2 つのメソッドがあります。

- [ページ バリアント](#implement-page-variants-for-each-language)を使用します。
- サイト ビルダーの各オンライン チャンネルに対して異なるサイトを構成し、各サイトを異なるオンライン チャンネルおよび言語にマッピングします。 この方法では、サイト ビルダーで管理するサイトが複数あるため、追加の管理リソースが必要です。

## <a name="cross-channel-sharing"></a>クロスチャネル共有

1 つのサイトの複数のチャンネルでコンテンツを共有できる場合は、クロスチャネル共有が便利です。 たとえば、1 つのサイトでグループ化された複数のブランドとストアフロントを持つ小売業者は、一部またはすべてのストアフロントの一部のコンテンツを共有できます。 共有コンテンツには、契約条件、支払条件、出荷方法、およびよく寄せられる質問 (FAQ) などのページを含めることができます。 詳細については、[クロスチャンネル共有を有効にして使用する](cross-channel-sharing.md)を参照してください。

## <a name="map-a-channel-to-a-site-in-site-builder"></a>サイト ビルダーのサイトへチャンネルをマッピングする

複数のオンライン チャンネルを使用するサイトを作成および構成する方法は複数あります。

### <a name="create-a-new-site"></a>新しいサイトを作成する

サイト ビルダーで新しいサイトを作成するには、**サイト** リスト ページに移動して **新しいサイト** を選択します。 次に、表示される **新しいサイト** ダイアログ ボックスで、次の例に示すように、サイトの既定のオンライン チャンネルと言語を選択できます。

![サイト ビルダーで新しいチャンネルを作成しています。](media/channel-mapping-4.png)

この方法で作成したサイトは空で、サイト ページ (ホーム ページ、カテゴリ ページ、製品ページなど) を含まれません。

詳細については、[E コマース サイトの作成](create-ecommerce-site.md)を参照してください。

### <a name="create-a-new-site-by-using-the-site-copy-operation"></a>サイト コピー操作により新しいサイトを作成する

前のセクションで説明するように、新しい新しい空のサイトを作成する代わりに、Fabrikam サイトや Adventure Works サイトなど、Commerce モジュール ライブラリに用意されている 1 つのインストール後のサイトのコピーから開始する方が優れたプラクティスです。

既存のサイトをコピーするには、サイト ビルダーの **サイト** リスト ページに移動し、**サイトのコピー** を選択します。 次に、表示された **サイトのコピー** ダイアログ ボックスでソース サイトを選択し、コピー先サイトの名前を指定できます。

この時点では、サイトの既定のオンライン チャンネルおよび言語をまだ選択できません。 ただし、サイトのコピー操作の完了後にこれらのプロパティを構成できます。 サイト ビルダーの **サイト** リスト ページで最初にサイトを選択すると、**サイトの設定** ダイアログ ボックスが表示され、既定のチャンネルと言語を選択できます。

サイトのコピー操作の詳細については、[e コマース サイトのコピー](copy-ecommerce-site.md) を参照してください。

### <a name="manage-an-existing-site-channel"></a>既存のサイト チャンネルを管理する

チャンネルを使用してサイトを構成した後、次の例に示すように、**サイト設定 \> チャンネル** でサイト ビルダーで選択したサイト内からチャンネルを管理および更新できます。

![サイト ビルダーでのチャンネル マッピングの管理](media/channel-mapping-7.png)

## <a name="support-multiple-sites-in-a-single-tenant"></a>1 つのテナントで複数のサイトをサポートする

多くのブランド化されたサイトは、1 つのテナント内で共存できます。 次の例の図は、それぞれ異なるオンライン チャンネルにマップされている 3 つの異なる展開サイト (Adventure Works、Adventure Works Business、Fabrikam) を示しています。

![サイト ビルダーのサイト リスト。](media/channel-mapping-8.png)

## <a name="configure-a-single-domain-name-with-paths-for-multiple-sites"></a>複数のサイトのパスを使用する 1 つのドメイン名を構成する

1 つのドメイン名を複数のサイトに対して使用し、パスを使用してサイトや言語を分けることができます。 たとえば、このドメインは `www.mycompany.com`、Fabrikam 用と Adventure Works 用の 2 つの異なる eコマース サイトに対して構成されています。 この場合、Fabrikam サイトに対して空白パスとも呼ばれる既定のパス (`www.mycompany.com`) を使用し、Adventure Works サイトに対して別のパス (たとえば `www.mycompany.com/adventureworks`) を使用できます。 また、Fabrikam サイトの既定のパスの代わりにカスタム パス (たとえば `www.mycompany.com/fabrikam`) を使用することもできます。

また、サイトごとに異なるドメイン名を使用できます (たとえば `www.adventure-works.com`、`www.fabrikam.com` など)。 その後、複数の言語や地域にパスを使用できます (カナダ フランス語の場合 `www.adventure-works.com/fr-ca` など)。

## <a name="configure-multiple-languages-on-a-site"></a>サイトで複数の言語を構成する

言語は、**サイト設定 \> チャンネル** と進み、サイト ビルダーで eコマース向けに構成できます。 次の例では、各言語がパスのロケールを使用して構成されています。そのため、各言語には固有の URL が割り当てられています。

![サイトで構成された複数の言語。](media/channel-mapping-10.png)

新しいチャンネル言語を追加するには、**サイト設定 \> チャンネル** に移動し、チャンネルのリンクを選択します。 右側に表示されるウィンドウで、**ロケールの追加** を選択して、追加するチャンネルとロケールを選択します。 次に、選択したチャンネルに使用するパスを指定します。

### <a name="add-and-configure-the-site-picker-module"></a>サイト選択モジュールを追加して構成する

複数の言語またはチャンネルを含むサイトを構成した後に、サイト ページ ヘッダーに言語セレクタを追加して、ユーザーが言語または国を手動で選択する方が便利な場合があります。 モジュール ライブラリ [ヘッダー モジュール](author-header-module.md)には、 ユーザーが[サイト選択モジュール](site-selector.md)を使用して言語を選択できるサポートが組み込まれています。 サイト選択モジュールは、ヘッダー フラグメントのヘッダー モジュールに追加できます。

サイト選択モジュールの追加および構成方法の詳細については、[サイト選択モジュール](site-selector.md)を参照してください。

### <a name="implement-page-variants-for-each-language"></a>言語ごとにページ バリアントを実装する

このシナリオでは、チャンネルは 1 つのみですが、複数の言語があります。 選択した言語に基づいてページの外観を変更するには、ページ バリアントを作成します。 その後、ローカライズされたコンテンツをバリアントに追加できます。

サイト ビルダーでページを開いて、現在のチャンネルと言語を示すリンクを右上隅で選択すると、次の例に示すようにチャンネルと言語の選択ツールが表示されます。 現在の言語のページを上書きする場合は、別のロケールを選択し、**変更** を選択します。 また、[複数のチャンネルと言語を持つサイトを管理](#manage-site-content-that has-multiple-channels-and-languages)している場合は、チャンネルを変更できます。

![サイト ビルダーのページの言語変更。](media/channel-mapping-14.png)

選択したページまたはフラグメントのバリアントがまだ作成されていない場合は、次の例に示すように警告メッセージが表示されます。 この場合、メッセージ テキストで **ページ バリアントの作成** リンクを選択します。 表示されるダイアログ ボックスには、既存のバリアントのコピーから開始するオプション、またはテンプレートから新しいページを作成するオプションが表示されます。

![サイト ビルダーでページ バリアントを作成するメッセージを表示する](media/channel-mapping-16.png)

バリアントを作成しない場合は、元のページが表示され、Commerce Headquarters のモジュール文字列および製品情報に適した言語が表示されます。 ただし、ページ タイトルなどのテキストや他のマーケティング コンテンツが既定のページ モジュールで直接指定されている場合、そのテキストの文字列は元の言語で維持されます。

各ページとフラグメントを手動で作成する代わりに、各ページとフラグメントを XML インターチェンジ ファイル形式 (XLIFF) ファイルにエクスポートし、このファイルを変更して送信できます。 各 XLIFF をローカライズした後、ローカライズされたページ バリアントとしてインポートできます。 XLIFF ファイルをサイト ビルダーのページまたはフラグメントからエクスポートしたり、XLIFF ファイルをページまたはフラグメントにインポートしたりするには、コマンド バーで **ローカライズ** を選択します。 次に、次の例に示すように、**XLIFF のエクスポート** または **XLIFF のインポート** を選択します。

![XLIFF 形式のページまたはフラグメントをインポートまたはエクスポートします。](media/channel-mapping-18.png)

## <a name="manage-site-content-that-has-multiple-channels-and-languages"></a>複数のチャンネルおよび言語を含むサイト コンテンツの管理

複数のチャンネルや言語を持つサイトには、チャンネルと言語の組み合わせごとに各ページおよび片の固有バリエーションが格納されます。 この動作により、ページ バリアントにはローカライズされたデータを格納できます。また、特定のバリアントのページの外観や外観を柔軟に変更できます。

ページ バリアントの使用方法の詳細については、このトピックの[各言語に対するページ バリアントの実装](#implement-page-variants-for-each-language)を参照してください。

## <a name="configure-multiple-channels-on-an-e-commerce-site"></a>eコマース サイトで複数のチャンネルを構成する

**サイト設定 \> チャンネル** に移動し、**チャンネルの追加** を選択すると、サイト ビルダーの eコマース サイトにチャンネルを追加できます。 次に、表示される **チャンネルの追加** ダイアログ ボックスで、オンライン チャンネルと既定のロケールを選択できます。

## <a name="additional-resources"></a>追加リソース

[チャネルの概要](channels-overview.md)

[オンライン チャネルの設定](channel-setup-online.md)

[組織と組織階層の概要](../fin-ops-core/fin-ops/organization-administration/organizations-organizational-hierarchies.md)

[地域検出およびリダイレクトの設定](geo-detection-redirection.md)

[クロスチャネル共有の有効化と使用](cross-channel-sharing.md)

[E コマース サイトの作成](create-ecommerce-site.md)

[eコマース サイトのコピー](copy-ecommerce-site.md)

[サイト ピッカー モジュール](site-selector.md)

---
title: 販売時点管理 (POS) の顧客注文
description: このトピックでは、販売時点管理 (POS) の顧客注文に関する情報を提供します。 顧客注文は、特別注文としても知られています。 このトピックには、関連パラメーターおよびトランザクション フローのディスカッションが含まれています。
author: josaw1
manager: AnnBe
ms.date: 09/03/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
ms.search.form: RetailFunctionalityProfile
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: 260594
ms.assetid: 6fc835ef-d62e-4f23-9d49-50299be642ca
ms.search.region: global
ms.search.industry: Retail
ms.author: anpurush
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: Release 10.0.14
ms.openlocfilehash: 9e5770de82638e6cef6d4c1dffd1dc85549fb11f
ms.sourcegitcommit: 30e4dc0a45f7de5f0a7178b1e88f7c3d61a7395e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/03/2020
ms.locfileid: "3763704"
---
# <a name="customer-orders-in-point-of-sale-pos"></a><span data-ttu-id="b1d8f-105">販売時点管理 (POS) の顧客注文</span><span class="sxs-lookup"><span data-stu-id="b1d8f-105">Customer orders in Point of Sale (POS)</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="b1d8f-106">このトピックでは、販売時点管理 (POS) における顧客注文の作成と管理方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-106">This topic provides information about how to create and manage customer orders in Point of Sale (POS).</span></span> <span data-ttu-id="b1d8f-107">顧客注文は、買い物客が後日商品を受け取りたい、別の場所から商品を受け取りたい、商品を出荷してもらいたいなどの売上を捕捉することができます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-107">Customer orders can be used to capture sales where shoppers want to pick up products on a later date, pick up products from a different location, or have items shipped to them.</span></span> 

<span data-ttu-id="b1d8f-108">無指向性のコマース チャネルの世界では、多くの小売業者によって、さまざまな製品およびフルフィルメントの要件を満たすために、顧客注文または特別注文のオプションが用意されています。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-108">In an omni-channel commerce world, many retailers provide the option of customer orders, or special orders, to meet various product and fulfillment requirements.</span></span> <span data-ttu-id="b1d8f-109">以下に一般的なシナリオを挙げます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-109">Here are some typical scenarios:</span></span>

- <span data-ttu-id="b1d8f-110">顧客が特定の日付に特定の住所まで製品の配送を希望しています。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-110">A customer wants products to be delivered to a specific address on a specific date.</span></span>
- <span data-ttu-id="b1d8f-111">顧客は、その製品を購入した店舗または場所とは異なる店舗または場所から製品の集荷を希望しています。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-111">A customer wants to pick up products from a store or location that differs from the store or location where the customer purchased those products.</span></span>
- <span data-ttu-id="b1d8f-112">店頭の顧客は、今日商品を注文し、後日同じ店で受け取りたいと希望しています。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-112">A customer inside a store location wants to order products today and pick them up from the same store location on a later date.</span></span>

<span data-ttu-id="b1d8f-113">小売業者は、別の時間や場所での商品の配送や受け取りが可能なため、顧客注文を活用して欠品による販売機会の喪失を最小限にします。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-113">Retailers can use customer orders to minimize lost sales that stock outages might otherwise cause, because the merchandise can be delivered or picked up at a different time or place.</span></span>

## <a name="set-up-customer-orders"></a><span data-ttu-id="b1d8f-114">顧客注文の設定</span><span class="sxs-lookup"><span data-stu-id="b1d8f-114">Set up customer orders</span></span>
<span data-ttu-id="b1d8f-115">POS で顧客注文機能を使用する前に、コマース本部で必要なすべての構成を完了していることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-115">Before you try to use customer order functionality in POS, make sure that you complete all the required configurations in Commerce headquarters.</span></span>

### <a name="configure-modes-of-delivery"></a><span data-ttu-id="b1d8f-116">出荷モードの構成</span><span class="sxs-lookup"><span data-stu-id="b1d8f-116">Configure modes of delivery</span></span>

<span data-ttu-id="b1d8f-117">顧客注文を使用するには、店舗チャネルで使用できる配送モードを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-117">To use customer orders, you must configure modes of delivery that the store channel can use.</span></span> <span data-ttu-id="b1d8f-118">少なくとも1つの出荷モードを定義して、注文明細行が店舗から顧客に出荷される際に利用できるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-118">You must define at least one mode of delivery that can be used when order lines are shipped to a customer from a store.</span></span> <span data-ttu-id="b1d8f-119">また、注文明細行が店舗から集荷される際に使用可能な、少なくとも1つの出荷の集荷モードを定義する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-119">You must also define at least one pickup mode of delivery that can be used when order lines are picked up from the store.</span></span> <span data-ttu-id="b1d8f-120">出荷モードは、コマース本部の **出荷モード** ページで定義されます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-120">Modes of delivery are defined on the **Modes of delivery** page in Commerce headquarters.</span></span> <span data-ttu-id="b1d8f-121">コマース チャネルの出荷モードの設定方法については、[出荷モードの定義](https://docs.microsoft.com/dynamics365/commerce/configure-call-center-delivery#define-delivery-modes)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-121">For more information about how to set up modes of delivery for Commerce channels, see [Define delivery modes](https://docs.microsoft.com/dynamics365/commerce/configure-call-center-delivery#define-delivery-modes).</span></span>

![出荷モードのページ](media/customer-order-modes-of-delivery.png)


### <a name="set-up-fulfillment-groups"></a><span data-ttu-id="b1d8f-123">フルフィルメント グループの設定</span><span class="sxs-lookup"><span data-stu-id="b1d8f-123">Set up fulfillment groups</span></span>

<span data-ttu-id="b1d8f-124">店舗や倉庫によっては、顧客の注文を満たすことができない場合があります。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-124">Some stores or warehouse locations might not be able to fulfill customer orders.</span></span> <span data-ttu-id="b1d8f-125">フルフィル メントグループを構成することで、組織は POS で顧客の注文を作成するユーザーにオプションとして表示される、店舗や倉庫の場所を指定することができます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-125">By configuring fulfillment groups, an organization can specify which stores and warehouse locations are shown as options to users who create customer orders in POS.</span></span> <span data-ttu-id="b1d8f-126">フルフィルメント グループは、**フルフィルメント グループ** ページで構成されます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-126">Fulfillment groups are configured on the **Fulfillment groups** page.</span></span> <span data-ttu-id="b1d8f-127">組織は、必要な数のフルフィルメント グループを作成できます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-127">Organizations can create as many fulfillment groups as they require.</span></span> <span data-ttu-id="b1d8f-128">フルフィル メントグループの定義後は、**店舗**ページのアクション ペインの **設定** タブのボタンを使って、店舗にリンクされます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-128">After a fulfillment group is defined, it's linked to a store by using a button on the **Set up** tab on the Action Pane of the **Stores** page.</span></span>

<span data-ttu-id="b1d8f-129">コマース バージョン 10.0.12 およびそれ以降では、フルフィルメント グループで定義された倉庫、または倉庫/店舗の組み合わせが、出荷、集荷、出荷と集荷の両方に使用できるかどうかを定義することができます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-129">In Commerce version 10.0.12 and later, organizations can define whether the warehouse or warehouse/store combinations that are defined in fulfillment groups can be used for shipping, for pickup, or for both shipping and pickup.</span></span> <span data-ttu-id="b1d8f-130">そのため、店舗は柔軟性の高い倉庫と店舗のオプションを備えることができ、出荷注文を行うユーザーと店舗注文を作成するユーザーにこのオプションを表示することができます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-130">Therefore, the store has additional flexibility to drive the warehouse and store options that are shown to users who create an order for pickup versus an order for shipment.</span></span> <span data-ttu-id="b1d8f-131">これらの構成オプションを利用するには、**フルフィルメント グループ内で「出荷」または「集荷」として場所を指定する**機能を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-131">To take advantage of these configuration options, you must turn on the **Ability to specify locations as "Shipping" or "Pickup" enabled within Fulfillment group** feature.</span></span> <span data-ttu-id="b1d8f-132">フルフィルメント グループにリンクされている倉庫が店舗ではない場合は、出荷場所としてのみ構成できます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-132">If a warehouse that is linked to a fulfillment group isn't a store, it can be configured only as a shipping location.</span></span> <span data-ttu-id="b1d8f-133">集荷の注文が POS で構成されている場合は使用できません。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-133">It can't be used when orders for pickup are configured in POS.</span></span>

![フルフィルメント グループのページ](media/customer-order-fulfillment-group.png)

### <a name="configure-channel-settings"></a><span data-ttu-id="b1d8f-135">チャネル設定の構成</span><span class="sxs-lookup"><span data-stu-id="b1d8f-135">Configure channel settings</span></span>

<span data-ttu-id="b1d8f-136">POS で顧客注文を処理する場合は、店舗チャネルの設定をいくつか検討する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-136">When you work with customer orders in POS, you must consider some of the settings of the store channel.</span></span> <span data-ttu-id="b1d8f-137">これらの設定は、コマース本部の **店舗** ページにあります。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-137">These settings are found on the **Stores** page in Commerce headquarters.</span></span>

- <span data-ttu-id="b1d8f-138">**倉庫** - このフィールドは、店舗から出荷するように構成された注文の処理に使用される倉庫を示します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-138">**Warehouse** – This field indicates the warehouse that is used to fulfill orders that are configured for shipment from the store.</span></span>
- <span data-ttu-id="b1d8f-139">**フルフィルメント グループの割り当て** – このボタン (アクションウィンドウの **設定** タブ) を選択して、POS で顧客注文が作成された際に集荷場所や出荷元のオプションを表示するために参照するフルフィルメント グループをリンクします。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-139">**Fulfillment group assignment** – Select this button (on the **Set up** tab on the Action Pane) to link the fulfillment groups that are referenced to show options for pickup locations or shipment origins when customer orders are created in POS.</span></span>
- <span data-ttu-id="b1d8f-140">**宛先に基づく税を使用する** - このオプションは、顧客の住所に出荷される注文明細行に適用される税金のグループを決定するために、出荷先の住所を使用するかどうかを示します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-140">**Use destination-based tax** – This option indicates whether the shipping address is used to determine the tax group that is applied to order lines that are shipped to the customer's address.</span></span>
- <span data-ttu-id="b1d8f-141">**顧客に基づく税を使用する** - 顧客の自宅に出荷するためにPOSで作成された顧客注文に課税するために、顧客の配送先に定義されている課税グループを使用するかどうかを示します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-141">**Use customer-based tax** – This option indicates whether the tax group that is defined for the customer's delivery address is used to tax customer orders that are created in POS for shipment to the customer's home.</span></span>

![Microsoft Store ページにおける店舗のチャネル設定](media/customer-order-all-stores.png)

### <a name="set-up-customer-order-parameters"></a><span data-ttu-id="b1d8f-143">顧客オーダーのパラメータを設定する</span><span class="sxs-lookup"><span data-stu-id="b1d8f-143">Set up customer order parameters</span></span>

<span data-ttu-id="b1d8f-144">POS で顧客注文を作成する前に、コマース本部で適切なパラメータを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-144">Before you try to create customer orders in POS, you must configure the appropriate parameters in Commerce headquarters.</span></span> <span data-ttu-id="b1d8f-145">これらのパラメーターは、**コマース パラメーター** ページの **顧客注文** タブにあります。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-145">These parameters can be found on the **Customer orders** tab of the **Commerce parameters** page.</span></span>

- <span data-ttu-id="b1d8f-146">**既定の注文タイプ** - POS で作成した顧客注文に既定で割り当てられている注文タイプを指定することができます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-146">**Default order type** – You can specify the order type that is assigned by default to customer orders that are created in POS.</span></span> <span data-ttu-id="b1d8f-147">この顧客注文は、販売注文または見積注文にすることができます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-147">These customer orders can be either sales orders or quotation orders.</span></span> <span data-ttu-id="b1d8f-148">既定の注文タイプを問わず、ユーザーは POS から販売注文と顧客注文の両方を作成することができます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-148">Regardless of the default order type, users can still create both sales orders and customer orders from POS.</span></span>
- <span data-ttu-id="b1d8f-149">**既定の保証金** – 注文が確定する前に顧客が保証金として支払わなければならない注文総額の割合を指定します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-149">**Default deposit percentage** – Specify the percentage of the order total amount that the customer must pay as a deposit before an order can be confirmed.</span></span> <span data-ttu-id="b1d8f-150">権限に応じて、POS の **保証金の上書き**操作を使用して、その操作がトランザクション画面のレイアウトに設定されている場合、店員がは金額を上書きできてしまう場合があります。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-150">Depending on their privileges, store associates might be able to override the amount by using the **Deposit override** operation in POS, if that operation is configured for the transaction screen layout.</span></span>
- <span data-ttu-id="b1d8f-151">**配送の集荷モード** - POS での集荷が設定されている販売注文明細行に適用する配送モードを指定します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-151">**Pickup mode of delivery** – Specify the mode of delivery that should be applied to sales order lines that are configured for pickup in POS.</span></span>
- <span data-ttu-id="b1d8f-152">**出荷の実行モード** - 混載カートが作成され、一部の明細が集荷または出荷され、他の明細が顧客によって即時に実行される場合に、実行する注文とみなされる受注明細に適用する出荷モードを指定します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-152">**Carryout mode of delivery** – Specify the mode of delivery that should be applied to sales order lines that are considered carryout order lines when a mixed cart is created, where some lines will be picked up or shipped, and other lines will be carried out by the customer immediately.</span></span>
- <span data-ttu-id="b1d8f-153">**キャンセル料率** – お客様のご注文がキャンセルされた場合に料金が発生する場合は、その金額を指定します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-153">**Cancellation charge percentage** – If a charge should be applied when a customer order is canceled, specify the amount of that charge.</span></span>
- <span data-ttu-id="b1d8f-154">**キャンセル料コード** - POS でキャンセルされた顧客の注文に対してキャンセル料が発生する場合は、ここで使用する売掛料金コードを指定します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-154">**Cancellation charge code** – Specify the Accounts receivable charge code that should be used when a cancellation charge is applied to canceled customer orders through POS.</span></span> <span data-ttu-id="b1d8f-155">請求金額コードでは、キャンセル料の財務転記ロジックを定義します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-155">The charge code defines the financial posting logic for the cancellation charge.</span></span>
- <span data-ttu-id="b1d8f-156">**出荷費用コード** ー **高度な自動請求を使用する**が  **はい** に設定されている場合、このパラメータ設定は無効です。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-156">**Shipping charge code** – If the **Use advanced auto charges** option is set to **Yes**, this parameter setting has no effect.</span></span> <span data-ttu-id="b1d8f-157">このオプションを  **いいえ** に設定すると、POS で顧客注文を作成する際に送料を手動で入力するように求めるメッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-157">If that option is set to **No**, users will be prompted to manually enter a shipping charge when they create customer orders in POS.</span></span> <span data-ttu-id="b1d8f-158">このパラメーターを使用して、ユーザーが出荷費用を入力した際に注文に適用される売掛金勘定費用コードをマッピングします。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-158">Use this parameter to map an Accounts receivable charge code that will be applied to orders when users enter a shipping charge.</span></span> <span data-ttu-id="b1d8f-159">請求金額コードは、配送料の財務計上ロジックを定義します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-159">The charge code defines the financial posting logic for the shipping charge.</span></span>
- <span data-ttu-id="b1d8f-160">**高度な自動請求の使用** - 顧客注文が POS で作成された際に、システムが計算する自動請求を使用する場合は、このオプションを **はい** に設定します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-160">**Use advanced auto charges** – Set this option to **Yes** to use system-calculated auto charges when customer orders are created in POS.</span></span> <span data-ttu-id="b1d8f-161">これらの自動請求は、出荷手数料、またはその他の注文、または品目固有の請求費用を計算するために使用できます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-161">These auto charges can be used to calculate shipping fees or other order or item-specific charges.</span></span> <span data-ttu-id="b1d8f-162">高度な自動請求機能を有効にする方法については、[オムニ チャネルの高度な自動請求](https://docs.microsoft.com/dynamics365/commerce/omni-auto-charges) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-162">For more information about how to set up and use advanced auto charges, see [Omni-channel advanced auto charges](https://docs.microsoft.com/dynamics365/commerce/omni-auto-charges).</span></span>

![コマース パラメーター ページの顧客注文タブ](media/customer-order-parameters.png)

### <a name="update-transaction-screen-layouts-in-pos"></a><span data-ttu-id="b1d8f-164">POS のトランザクション画面のレイアウトを更新する</span><span class="sxs-lookup"><span data-stu-id="b1d8f-164">Update transaction screen layouts in POS</span></span>

<span data-ttu-id="b1d8f-165">POS [画面のレイアウト ](https://docs.microsoft.com/dynamics365/commerce/pos-screen-layouts)が、顧客注文の作成と管理に対応できるように構成されていること、および必要な POS 操作がすべて構成されていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-165">Make sure that the POS [screen layout](https://docs.microsoft.com/dynamics365/commerce/pos-screen-layouts) is configured to support the creation and management of customer orders, and that all required POS operations are configured.</span></span> <span data-ttu-id="b1d8f-166">ここでは、顧客注文の作成と管理を正しくサポートするために推奨される POS 操作を紹介します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-166">Here are some of the POS operations that are recommended to correctly support customer order creation and management:</span></span>
- <span data-ttu-id="b1d8f-167">**すべての製品を出荷する** - この操作は、トランザクション カート内のすべての明細行を出荷先に出荷することを指定するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-167">**Ship all products** – This operation is used to specify that all lines in the transaction cart will be shipped to a destination.</span></span>
- <span data-ttu-id="b1d8f-168">**選択した製品を出荷する** - この操作は、トランザクション カート内の選択された明細行を出荷先に出荷することを指定するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-168">**Ship selected products** – This operation is used to specify that selected lines in the transaction cart will be shipped to a destination.</span></span>
- <span data-ttu-id="b1d8f-169">**すべての製品を集荷する** - この操作は、トランザクション カート内のすべての明細行を選択した店舗の場所から集荷することを指定するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-169">**Pick up all products** – This operation is used to specify that all lines in the transaction cart will be picked up from a selected store location.</span></span>
- <span data-ttu-id="b1d8f-170">**選択した製品を集荷する** - この操作は、トランザクション カート内の選択した明細行を選択した店舗の場所から集荷することを指定するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-170">**Pick up selected products** – This operation is used to specify that selected lines in the transaction cart will be picked up from a selected store location.</span></span>
- <span data-ttu-id="b1d8f-171">**すべての製品を処理する** - この操作は、トランザクション カート内のすべての明細行を実行するよう指定するために使用されます。この操作が POS で使用された場合、顧客の注文はキャッシュ アンド キャリーのトランザクションに変換されます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-171">**Carry out all products** – This operation is used to specify that all lines in the transaction cart will be carried out. If this operation is used in POS, the customer order will be converted to a cash-and-carry transaction.</span></span>
- <span data-ttu-id="b1d8f-172">**選択した製品を処理する** - この操作は、トランザクション カ ート内の選択された明細行が、購入時に顧客によって実行されることを指定するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-172">**Carryout out selected products** – This operation is used to specify that selected lines in the transaction cart are being carried out by the customer at the time of purchase.</span></span> <span data-ttu-id="b1d8f-173">この操作は、[ハイブリッド注文](https://docs.microsoft.com/dynamics365/commerce/hybrid-customer-orders)のシナリオでのみ有用です。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-173">This operation is useful only in a [hybrid order](https://docs.microsoft.com/dynamics365/commerce/hybrid-customer-orders) scenario.</span></span>
- <span data-ttu-id="b1d8f-174">**注文の取り消し** - この操作は、顧客注文を検索および取得するために使用され、POS ユーザーが必要に応じて顧客の注文を編集、キャンセル、などを処理する操作を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-174">**Recall order** – This operation is used to search and retrieve customer orders so that POS users can edit, cancel, or perform fulfillment-related operations on them as required.</span></span>
- <span data-ttu-id="b1d8f-175">**配送モードの変更** - この操作を使用すると、すでに出荷用に設定されている明細行の配送モードを迅速に変更することができるため、ユーザーは「すべての製品を出荷する」または「選択した製品を出荷する」フローを再度実行する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-175">**Change mode of delivery** – This operation can be used to quickly change the mode of delivery for lines that are already configured for shipment, without requiring that users go through the "ship all products" or "ship selected products" flow again.</span></span>
- <span data-ttu-id="b1d8f-176">**保証金の上書き** - この操作は、選択された顧客注文に対して顧客が支払う保証金の金額を変更するために使用することができます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-176">**Deposit override** – This operation can be used to change the deposit amount that the customer will pay for the selected customer order.</span></span>

![POS トランザクション画面の操作](media/customer-order-screen-layout.png)

## <a name="working-with-customer-orders-in-pos"></a><span data-ttu-id="b1d8f-178">POS で顧客注文の作業を行う</span><span class="sxs-lookup"><span data-stu-id="b1d8f-178">Working with customer orders in POS</span></span>

### <a name="create-a-customer-order-for-products-that-will-be-shipped-to-the-customer"></a><span data-ttu-id="b1d8f-179">顧客に出荷する製品の顧客注文を作成する</span><span class="sxs-lookup"><span data-stu-id="b1d8f-179">Create a customer order for products that will be shipped to the customer</span></span>

1. <span data-ttu-id="b1d8f-180">POS トランザクション画面で、トランザクションに顧客を追加します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-180">On the POS transaction screen, add a customer to the transaction.</span></span>
2. <span data-ttu-id="b1d8f-181">製品をカートに追加します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-181">Add products to the cart.</span></span>
3. <span data-ttu-id="b1d8f-182">**選択した製品を出荷する** または **すべてを出荷する** を選択して、 顧客のアカウントに設定された住所に製品を出荷します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-182">Select **Ship selected** or **Ship all** to ship the products to an address on the customer account.</span></span>
4. <span data-ttu-id="b1d8f-183">顧客注文を作成するオプションを選択します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-183">Select the option to create a customer order.</span></span>
5. <span data-ttu-id="b1d8f-184">"出荷元" の場所を確認、変更します。出荷先住所を確認、変更し、送付方法を選択します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-184">Confirm or change the "ship from" location, confirm or change the shipping address, and select a shipping method.</span></span>
6. <span data-ttu-id="b1d8f-185">顧客が希望する注文の出荷日を入力します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-185">Enter the customer's desired order shipment date.</span></span>
7. <span data-ttu-id="b1d8f-186">支払い機能を使用して、計算された金額の支払いを行うか、**保証金の上書き**操作を使用して、支払い期限の金額を変更し、支払いを適用します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-186">Use the payment functions to pay for any calculated amounts that are due, or use the **Deposit override** operation to change the amounts that are due, and then apply payment.</span></span>
8. <span data-ttu-id="b1d8f-187">注文の総額が支払われていない場合は、請求時に注文に基づく残高に対して取得するクレジットカードを入力します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-187">If the full order total wasn't paid, enter a credit card that will be captured for the balance that is due on the order when it's invoiced.</span></span>

### <a name="create-a-customer-order-for-products-that-the-customer-will-pick-up"></a><span data-ttu-id="b1d8f-188">顧客が受け取る製品の顧客注文を作成する</span><span class="sxs-lookup"><span data-stu-id="b1d8f-188">Create a customer order for products that the customer will pick up</span></span>

1. <span data-ttu-id="b1d8f-189">POS トランザクション画面で、トランザクションに顧客を追加します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-189">On the POS transaction screen, add a customer to the transaction.</span></span>
2. <span data-ttu-id="b1d8f-190">製品をカートに追加します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-190">Add products to the cart.</span></span>
3. <span data-ttu-id="b1d8f-191">注文の集荷の構成を開始するには、**選択した製品を集荷** または **すべて集荷**を選択します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-191">Select **Pick up selected** or **Pick up all** to initiate the order pickup configuration.</span></span>
4. <span data-ttu-id="b1d8f-192">選択した商品を顧客が受け取る店舗を選択します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-192">Select the store location where the customer will pick up the selected products.</span></span>
5. <span data-ttu-id="b1d8f-193">受け取り日を選択します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-193">Select a pickup date.</span></span>
6. <span data-ttu-id="b1d8f-194">支払い機能を使用して、計算された金額の支払いを行うか、**保証金の上書き**操作を使用して、支払い期限の金額を変更し、支払いを適用します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-194">Use the payment functions to pay for any calculated amounts that are due, or use the **Deposit override** operation to change the amounts that are due, and then apply payment.</span></span>
7. <span data-ttu-id="b1d8f-195">注文の総額が支払われていない場合は、顧客が後で (受け取り時に) 支払いを行うか、またはクレジット カードが現在トークン化されているかどうかを選択し、受け取り時に使用するか取り込むかを選択します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-195">If the full order total wasn't paid, select whether the customer will provide payment later (at pickup), or whether a credit card will be tokenized now, and then used and captured at the time of pickup.</span></span>

### <a name="edit-an-existing-customer-order"></a><span data-ttu-id="b1d8f-196">既存の顧客注文の編集</span><span class="sxs-lookup"><span data-stu-id="b1d8f-196">Edit an existing customer order</span></span>

<span data-ttu-id="b1d8f-197">オンラインまたは店舗のチャネルで作成された小売オーダーは、必要に応じて、POS を使用して取り消しや編集ができます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-197">Retail orders that are created in either the online or store channel can be recalled and edited through POS as required.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b1d8f-198">コールセンター チャネルで[注文完了を有効にする](https://docs.microsoft.com/dynamics365/commerce/set-up-order-processing-options#enable-order-completion) 設定がオンになっていると、コールセンター チャネルで作成した注文を POS で編集できません。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-198">Orders that are created in a call center channel can't be edited through POS if the [Enable order completion](https://docs.microsoft.com/dynamics365/commerce/set-up-order-processing-options#enable-order-completion) setting is turned on for the call center channel.</span></span> <span data-ttu-id="b1d8f-199">正しい支払い処理を行うためには、コールセンターのチャネルで発生した注文に対して注文完了機能を有効にする機能を使用している注文は、コマース本部のコールセンター アプリケーションで編集する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-199">To ensure correct payment processing, orders that originated in a call center channel and that use Enable order completion functionality must be edited through the call center application in Commerce headquarters.</span></span>

<span data-ttu-id="b1d8f-200">コマース バージョン 10.0.13では、注文が完全にオープンの状態の場合にのみ、対応する顧客注文を POS で編集できます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-200">In Commerce version 10.0.13 and earlier, users can edit supported customer orders through POS only if the orders are fully open.</span></span> <span data-ttu-id="b1d8f-201">注文明細行のいずれかが既にフルフィルメント (ピック、梱包など) に対して処理されている場合、注文は POS で編集するためにロックされた状態になります。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-201">If any lines of an order have already been processed to fulfillment (pick, pack, and so on), the order becomes locked for editing in POS.</span></span>

> [!NOTE]
> <span data-ttu-id="b1d8f-202">コマース バージョン 10.0.14 では、[パブリック プレビュー](https://docs.microsoft.com/dynamics365/fin-ops-core/fin-ops/get-started/public-preview-terms)でリリースされた機能により、注文の一部が既にフルフィルメントされている場合でも、POS ユーザーは POS を通じて顧客注文を編集できます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-202">In Commerce version 10.0.14, a feature that has been released in [public preview](https://docs.microsoft.com/dynamics365/fin-ops-core/fin-ops/get-started/public-preview-terms) lets POS users edit customer orders through POS, even if some of the order has already been fulfilled.</span></span> <span data-ttu-id="b1d8f-203">ただし、完全に請求書が発行された注文は、POS での編集はできません。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-203">However, orders that are fully invoiced still can't be edited through POS.</span></span> <span data-ttu-id="b1d8f-204">このプレビュー機能をテストし、さらにフィードバックを提供するには、**機能管理**ワークスペースの **(プレビュー)販売時点情報**機能をオンにしてください。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-204">To test this preview feature and provide additional feedback, turn on the **(Preview) Edit partially fulfilled orders in Point of Sale** feature in the **Feature management** workspace.</span></span> <span data-ttu-id="b1d8f-205">コールセンター チャネルで発生した顧客注文で、注文完了機能を有効にしているものは、この機能を有効にしても編集することができません。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-205">Customer orders that originated in a call center channel and that use Enable order completion functionality can't be edited even after this feature is enabled.</span></span>

1. <span data-ttu-id="b1d8f-206">**注文の取り消し** を選択します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-206">Select **Recall order**.</span></span>
2. <span data-ttu-id="b1d8f-207">**検索** を使用して注文を検索するフィルタを入力し、**適用** を選択し ます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-207">Use **Search** to enter filters to find the order, and then select **Apply**.</span></span>
3. <span data-ttu-id="b1d8f-208">結果の一覧で順序を選択し、**編集** を選択します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-208">Select the order in the list of results, and then select **Edit**.</span></span> <span data-ttu-id="b1d8f-209">**編集** ボタンが使用できない場合、その注文は編集できない状態になっています。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-209">If the **Edit** button is unavailable, the order is in a state where it can't be edited.</span></span>
4. <span data-ttu-id="b1d8f-210">トランザクション カートから、顧客注文に対して必要な変更を加えます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-210">From the transaction cart, make any necessary changes to the customer order.</span></span> <span data-ttu-id="b1d8f-211">編集中は一部の変更ができなくなっている場合があります。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-211">Some changes might be prohibited during editing.</span></span>
5. <span data-ttu-id="b1d8f-212">支払操作を選択して編集プロセスを完了します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-212">Complete the editing process by selecting a payment operation.</span></span>
6. <span data-ttu-id="b1d8f-213">変更を保存せずに編集プロセスを終了するには、 **無効なトランザクション** 操作を使用します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-213">To exit the editing process without saving any changes, you can use the **Void transaction** operation.</span></span>



### <a name="cancel-a-customer-order"></a><span data-ttu-id="b1d8f-214">顧客注文をキャンセルする</span><span class="sxs-lookup"><span data-stu-id="b1d8f-214">Cancel a customer order</span></span>

1. <span data-ttu-id="b1d8f-215">**注文の取り消し** を選択します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-215">Select **Recall order**.</span></span>
2. <span data-ttu-id="b1d8f-216">**検索** を使用して注文を検索するフィルタを入力し、**適用** を選択し ます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-216">Use **Search** to enter filters to find the order, and then select **Apply**.</span></span>
3. <span data-ttu-id="b1d8f-217">結果の一覧で注文を選択し、**キャンセル** を選択します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-217">Select the order in the list of results, and then select **Cancel**.</span></span> <span data-ttu-id="b1d8f-218">**キャンセル** ボタンが使用できない場合、その注文はキャンセルできない状態となっています。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-218">If the **Cancel** button is unavailable, the order is in a state where it can no longer be canceled.</span></span>
4. <span data-ttu-id="b1d8f-219">キャンセル料金が構成されている場合は確認してください。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-219">If cancellation charges are configured, confirm them.</span></span> <span data-ttu-id="b1d8f-220">必要に応じて、確認する前にキャンセル料を調整することができます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-220">You can adjust the cancellation charges before you confirm them, as required.</span></span> 
5. <span data-ttu-id="b1d8f-221">トランザクション カートから、支払の工程を選択してキャンセル プロセスを完了します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-221">From the transaction cart, complete the cancellation process by selecting a payment operation.</span></span> <span data-ttu-id="b1d8f-222">支払済の保証金がキャンセル料を超過した場合は、返金が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-222">If deposits that were paid exceed the cancellation charge, refund payments might be due.</span></span>
6. <span data-ttu-id="b1d8f-223">キャンセルを保存せずに編集プロセスを終了するには、 **無効なトランザクション** 操作を使用します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-223">To exit the cancellation process without saving any changes, you can use the **Void transaction** operation.</span></span>

## <a name="finalizing-the-customer-order-shipment-or-pickup-from-pos"></a><span data-ttu-id="b1d8f-224">POS からの顧客注文の出荷、または集荷を完了する</span><span class="sxs-lookup"><span data-stu-id="b1d8f-224">Finalizing the customer order shipment or pickup from POS</span></span>

<span data-ttu-id="b1d8f-225">注文の作成後は、注文内容の構成によって、顧客が店頭で商品を受け取るか、発送するかのどちらかになります。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-225">After an order is created, the items will be picked up by the customer from a store location or shipped, depending on the configuration of the order.</span></span> <span data-ttu-id="b1d8f-226">このプロセスの詳細については、[店舗注文フルフィルメント](https://docs.microsoft.com/dynamics365/commerce/order-fulfillment-overview)のドキュメントを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-226">For more information about this process, see the [store order fulfillment](https://docs.microsoft.com/dynamics365/commerce/order-fulfillment-overview) documentation.</span></span>

## <a name="asynchronous-transaction-flow-for-customer-orders"></a><span data-ttu-id="b1d8f-227">顧客注文の非同期トランザクション フロー</span><span class="sxs-lookup"><span data-stu-id="b1d8f-227">Asynchronous transaction flow for customer orders</span></span>

<span data-ttu-id="b1d8f-228">顧客注文は、POS で同期モード、または非同期モードのいずれかで作成することができます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-228">Customer orders can be created in POS in either synchronous mode or asynchronous mode.</span></span> <span data-ttu-id="b1d8f-229">POS で顧客注文を作成する際に、パフォーマンスの問題やユーザーによる遅延が発生した場合は、非同期注文の作成を検討してください。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-229">If you notice performance issues or user delays when you create customer orders in POS, consider turning on asynchronous order creation.</span></span>

### <a name="enable-customer-orders-to-be-created-in-asynchronous-mode"></a><span data-ttu-id="b1d8f-230">非同期モードで作成する顧客注文の有効化</span><span class="sxs-lookup"><span data-stu-id="b1d8f-230">Enable customer orders to be created in asynchronous mode</span></span>

1. <span data-ttu-id="b1d8f-231">コマース本部の**機能プロファイル**ページで、設定を行う店舗に対応する機能プロファイルを選択します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-231">In Commerce headquarters, on the **Functionality profiles** page, select the functionality profile that corresponds to the store that you want to configure.</span></span>
2. <span data-ttu-id="b1d8f-232">**一般**クイック タブで、**非同期モードで顧客注文を作成**オプションを**はい**に設定します。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-232">On the **General** FastTab, set the **Create customer order in async mode** option to **Yes**.</span></span>

<span data-ttu-id="b1d8f-233">**非同期モードで顧客注文を作成**オプションを**はい**に設定すると、顧客注文は Retail Transaction Service (RTS) が使用できる場合でも常に非同期モードで作成されます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-233">When the **Create customer order in async mode** option is set to **Yes**, customer orders are always created in asynchronous mode, even if Retail Transaction Service (RTS) is available.</span></span> <span data-ttu-id="b1d8f-234">このオプションを**いいえ**に設定した場合、顧客注文は RTS を使用して常に同期モードで作成されます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-234">If you set this option to **No**, customer orders are always created in synchronous mode by using RTS.</span></span> <span data-ttu-id="b1d8f-235">非同期モードで顧客注文が作成されると、コマース プル (P) ジョブからコマース本部の小売取引としてプルされ、作成されます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-235">When customer orders are created in asynchronous mode, they're pulled and created as retail transactions in Commerce headquarters from the Commerce Pull (P) jobs.</span></span> <span data-ttu-id="b1d8f-236">小売取引に対応する販売注文は、**注文の同期**を手動で実行するか、またはバッチプロセスを使用して実行することで作成されます。</span><span class="sxs-lookup"><span data-stu-id="b1d8f-236">The corresponding sales orders for the retail transactions are created when **Synchronize orders** is run either manually or through a batch process.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="b1d8f-237">その他のリソース</span><span class="sxs-lookup"><span data-stu-id="b1d8f-237">Additional resources</span></span>

[<span data-ttu-id="b1d8f-238">ハイブリッド顧客注文</span><span class="sxs-lookup"><span data-stu-id="b1d8f-238">Hybrid customer orders</span></span>](hybrid-customer-orders.md)

---
title: コール センターの配送モードと費用の構成
description: このトピックでは、デリバリー モードの設定方法および Dynamics 365 Commerce のコール センターの注文料金を定義します。
author: josaw1
manager: AnnBe
ms.date: 04/26/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailMCRChannelDetailPage, MCROrderParameters
audience: Application User
ms.reviewer: josaw
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2018-04-30
ms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update
ms.openlocfilehash: bce2dac680871e14220d3bb94afacea0a617c707
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/15/2021
ms.locfileid: "4963113"
---
# <a name="configure-call-center-delivery-modes-and-charges"></a>コール センターの配送モードと費用の構成

[!INCLUDE [banner](includes/banner.md)]

Dynamics 365 Commerce で販売注文が発注される時、販売注文を入力した担当者がコール センター チャネルにリンクされている場合、配送のモード (配送モード) を検証し、注文の費用を計算するためにロジックとルールが使用されます。

販売注文を作成する場合、販売注文ヘッダーおよび販売注文明細行で配送モードを選択できます。 既定では、ヘッダーで選択される配送モードがすべての販売注文明細行で使用されます。 ただし、必要に応じて個々の販売明細行の既定の配送モードを上書きすることができます。 顧客レコードに配送モードを定義することもできます。 その後、顧客に対して注文が作成された場合、その配送モードが既定で販売注文明細行で使用されます。

コマースには、チャンネルで使用される配送モード、製品に使用される配送モード、および特定の出荷先に有効な配送モードをユーザーが制限する機能があります。 費用が定義され、販売注文および合計注文の値に対して選択される配送モードに基づいて、顧客の注文に費用が追加されます。

## <a name="define-delivery-modes"></a>配送モードの定義

コール センターの注文にどの配送モードを使用するか特定し、関連付けられたルールおよび費用を定義する前に、配送モードを定義する必要があります。 **販売とマーケティング \> 設定 \> 配送 \> 配送モード** に移動します。 **新規作成** を選択して、新しい配送モードを作成します。 または、リスト中の既存の配送モードを選択し、**編集** を選択して変更します。

業務の要件に基づいて、**配送モード** フィールドに、任意の組み合わせの英数字を入力することができます。 **説明** フィールドを用いて追加のコンテキストを提供できます。 **費用グループ** および **急送** フィールドはオプションで、このトピックの後半で詳細が説明されます。

**コマース チャンネル** クイック タブで、そのチャンネルで販売トランザクションが作成される時に配送モードを使用することが許可されているチャンネルを追加してください。

**製品** クイック タブで、どの製品または製品カテゴリに対して配送モードが使用可能および使用不可能かを指定できます。 たとえば、ある製品が危険物 (hazmat) 制限のため航空便で出荷できない場合、その製品または製品カテゴリが航空輸送に関係するすべての配送モードから除外されていることを確認してください。

**住所** クイック タブで、配送モードが使用可能および使用不可能な国、地域または州を指定できます。 たとえば、ハワイまたはアラスカに出荷される注文は、陸上配送には適しません。 したがって、これらの州は陸上配送サービスに関連付けられているすべての配送モードから除外されますが、航空配送サービスに関連付けられているすべての配送モードに含められる必要があります。

## <a name="validate-delivery-modes-for-a-call-center-order"></a>コール センター注文の配送モードの検証

配送モードを定義した後、**配送モードの処理** バッチ ジョブを実行する必要があります。 このジョブにより配送モードが使用可能になり、チャンネルの販売注文プロセスで使用されます。 **配送モードの処理** ジョブを実行するために、**小売とコマース \> 小売とコマース IT \> 配送モードの処理** に移動してください。 チャンネルに新しい配送モードが追加された時、または既存の配送モードやチャンネルの関係に変更が加えらえた時にこのジョブを実行する必要があります。

**配送モードの処理** バッチ ジョブを実行した後、**小売とコマース \> チャンネル \> コール センター \> すべてのコール センター** に移動します。 **すべてのコール センター** ページ、アクション ペインの **設定** タブで、**配送モード** を選択してくださいます。 **配送モード** ページは、選択されたコール センター チャンネルのすべての有効な配送モードを一覧表示します。 既存の配送モードの編集、または新しい配送モードの追加のために、**配送モードの管理** を選択します。 変更されるたびに **配送モードの処理** ジョブを実行する必要があることに注意してください。

## <a name="define-charges-for-delivery-services"></a>配送サービスの費用の定義

顧客に販売注文が作成された場合、会社はその注文のために選択された配送モードに基づいて自動的に計算された費用を追加することがあります。 これらの費用はすべての顧客および配送モードで同じになるようにコンフィギュレーションできます。 また、費用は顧客に基づき、または販売注文で選択された配送モードに基づき異なります。

費用を定義するには、**小売とコマース \> チャンネル設定 \> 費用 \> 自動費用** に移動します。 **新規作成** を選択して、新しい費用を追加します。 また、既存のエントリを選択し、**編集** を選択します。

注文ヘッダーまたは注文明細行のいずれかのレベルで計算されるように、費用を定義できます。 **レベル** フィールドを使用して、必要なレベルを選択します。

費用は特定の顧客、顧客グループ、またはすべての顧客に定義できます。 **アカウント コード** フィールドで **テーブル** を選択して、特定の顧客にのみ適用される費用を定義します。 **グループ** を選択して、特定の顧客グループの費用を定義します。 **すべて** を選択して、関連する配送モードを使用する販売注文を発注するすべての顧客に費用を適用します。 **テーブル** または **グループ** を **アカウント コード** フィールドで選択した場合、顧客または顧客グループを **関連勘定** フィールドで選択します。

費用がコンフィギュレーションされ、特定の配送モード、配送モード グループ、またはすべての配送モードに適用されます。 **テーブル** を **荷渡方法のコード** フィールドで選択する場合、**荷渡方法リレーション** フィールドで特定の配送モードを選択する必要があります。 **グループ** を選択する場合、**荷渡方法リレーション** フィールドで配送モード グループを選択する必要があります。 **小売とコマース \> チャンネル設定 \> 費用 \> 配送費用グループ** で配送モード グループを定義します。 それらは **配送モード** ページで 1 つまたは複数の配送モードにリンクされます。 費用を定義する時にグループを選択した場合、選択された配送グループにリンクされているすべての配送モードがこれらの費用を使用します。 最後に、**荷渡方法のコード** フィールドで **すべて** を選択した場合、すべての配送モードが費用を使用します。 したがって、**荷渡方法リレーション** フィールドでは値を選択しません。

**明細行** セクションで、必要に応じて、通貨ごとに 1 つまたは複数の費用を定義できます。 費用は、その財務上の転記ルールを定義する費用コードにリンクされている必要があります。 **カテゴリ** フィールドは費用の計算方法を定義するために使用されます。 たとえば、特定の配送モードによって出荷される注文のために 9.95 ドルの均一料金が請求される場合、**固定** カテゴリを使用します。 配送費用をカバーするために注文合計の割合で顧客に請求することにした場合、**割合** カテゴリを使用します。 顧客への実際の費用は **請求金額** フィールドで定義されます。

通常、企業は階層化された費用をコンフィギュレーションします。 この場合、顧客が配送のために支払う金額は発注金額に基づきます。 階層化された費用をコンフィギュレーションするには、**請求金額** フィールドの費用を定義することに加え、**開始金額** および **終了金額** に値を入力します。 たとえば、50 ドルより小さい値の注文について、小売業者は陸上出荷のために 5.95 ドルを請求します。 50 ドル以上、100 ドル未満の注文については、小売業者は 7.95 ドルを請求します。 最後に、100 ドル以上の注文については、小売業者は無料配送を提供します。 次の図は、これらの費用のコンフィギュレーションを示します。

![固定階層型の費用の例](media/fixedtieredcharges.png)

業務の要件に応じて、費用のカテゴリを混在させることができます。 たとえば、100 ドルより小さい値の注文について、出荷のために 9.95 ドルの固定費用がかかります。 次に、100 ドル以上の値の注文については、発注金額の 5 パーセントの割合で配送費用が計算されます。 次の図は、これらの費用のコンフィギュレーションを示します。

![混合階層型の費用の例](media/mixedtieredcharges.png)

## <a name="apply-delivery-modes-during-order-entry-in-a-call-center"></a>コール センターの注文入力時の配送モードの適用

新しい販売注文を作成する場合、販売注文ヘッダーの **配送** クイック タブの **荷渡方法** フィールドで値を指定する必要があります。 このフィールドは顧客レコードの既定値に基づいて自動的に入力されることがあります。

注文ヘッダーで定義されている配送モードは、作成時に自動的に販売注文明細行にコピーされます。 ただし、販売注文入力ページの **明細行詳細** セクションにある **配送** タブの特定の明細行品目に対する配送モード設定を変更できます。

選択した配送モードが、注文あるいは注文明細行で指定された製品や配送先住所に対して有効でない場合、エラー メッセージが表示されます。 その製品、またはアドレスのコンフィギュレーションをサポートするように定義された配送モードを選択する必要があります。

## <a name="calculation-of-delivery-charges-during-entry-of-order"></a>注文の入力時の配送費用の計算

**オーダー完了の有効化** の設定がコール センター チャンネルに有効な場合、ユーザーが **完了** を選択した時に販売注文に対して出荷費用が自動的に計算されます。 **販売注文の集計** ページの上部に「階層型費用が計算されました。」というメッセージが表示されます。 計算された費用が **売上合計** フィールドの値に追加されます。 **金額** クイック タブの **費用** フィールドには、注文と明細行に対して計算されたすべての費用の合計金額が表示されます。 費用の詳細な内訳を表示するには、**販売注文の集計** ページの **注文** を選択し、**費用** オプションを選択して費用を表示、追加、または編集します。 注文ヘッダーの配送費用の計算はヘッダーにリンクされている配送モードに基づいていることに注意してください。 明細行レベルの配送費用は販売明細行でコンフィギュレーションされている配送モードに基づいて計算されます。 異なる明細行に複数の配送モードが使用されている場合、複数の費用が適用され、集計される場合があります。 **販売注文の集計** ページの **費用** フィールドに、合計金額が表示されます。

**オーダー完了の有効化** の設定が無効になっている場合、ユーザーは費用の計算を手動で開始する必要があります。 **販売注文** ページ、アクション ウィンドウ、**販売** タブ、**計算** グループで、**階層型費用** を選択します。 「階層型費用が計算されました」というメッセージが表示されます。 **販売** タブの **費用** オプションを選択して、計算された費用の表示、編集、または削除ができます。

## <a name="use-expedited-delivery-modes-on-call-center-orders"></a>コール センター注文の急送配送モードの使用

オプションとして急送コードをコンフィギュレーションするすべての配送コードにリンクできます。 このコードは、優先順位による並べ替えおよびレポート作成ツールとして使用されます。 現在、注文に適用される追加の費用は発生しません。 急送コードを設定するには、**販売とマーケティング \> 設定 \> 配送 \> 急送コード** に移動してください。

たとえば、翌日航空便によって出荷される注文については、毎日午後 1 時までに倉庫でピッキングが行われる必要があります。 この場合、急送コードを作成し、そのコードをシステムで構成されている任意の翌日配送モードにリンクできます。 倉庫がピッキング ウェーブを作成する時、**急送** フィールドの適切な急送コードがフィルターとして使用され、そのコードにリンクされている配送モードを持つ注文に対してのみピッキングが行われます。

また、コール センター注文が入力されると、販売注文ヘッダーまたは個々の販売注文明細行に急送コードが手動で適用されます。 並べ替えまたはレポート作成の目的のためにコードが再度使用されます。 場合によっては、顧客サービスの問題のために注意深く注文が処理される必要があります。 この場合、特定の急送コードは、フルフィルメント プロセス中の注文と優先順位の識別をするために注文ヘッダーまたは明細行に適用されます。

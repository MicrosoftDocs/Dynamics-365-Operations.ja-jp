---
title: チェックアウト モジュール
description: このトピックでは、ページにチェックアウト モジュールを追加し、必要なプロパティを設定する方法について説明します。
author: anupamar-ms
manager: annbe
ms.date: 01/23/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application user
ms.reviewer: v-chgri
ms.search.scope: Operations, Retail, Core
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 3805c0faabc8afc3decffb924b7f25332ff1ab16
ms.sourcegitcommit: 829329220475ed8cff5a5db92a59dd90c22b04fa
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/05/2020
ms.locfileid: "3025393"
---
# <a name="checkout-module"></a>チェックアウト モジュール


[!include [banner](includes/banner.md)]

このトピックでは、ページにチェックアウト モジュールを追加し、必要なプロパティを設定する方法について説明します。

## <a name="overview"></a>概要

チェックアウト モジュールは、注文を作成するために必要なすべてのモジュールをホストする特別なコンテナーです。 これは、顧客が購買を行うのに必要なすべての情報を入力するために使用する、ステップバイステップのフローを示します。 これは、出荷先住所、配送方法、および請求書情報を示します。 また、注文集計や、顧客注文に関連するその他の情報も表示されます。

チェックアウト モジュールは、カート ID に基づくデータを表示します。 このカート ID は、ブラウザー Cookie として保存されます。 カート ID は、注文の品目、合計金額、割引などの情報をチェックアウト モジュールで表示するために必要です。

## <a name="checkout-module-properties"></a>チェックアウト モジュール プロパティ

チェックアウト モジュールは、注文集計および注文を行うための機能を表示します。 注文を配置する前に必要なすべての顧客情報を収集するには、追加モジュールをチェックアウト モジュールに追加する必要があります。 したがって、小売業者は、各自の要件に基づいてカスタム モジュールをチェックアウト フローに追加したり、モジュールを除外したりする柔軟性を備えています。

### <a name="modules-that-can-be-used-in-the-checkout-module"></a>チェックアウト モジュールで使用できるモジュール

- **出荷先住所** – このモジュールにより、顧客が注文の出荷先住所を追加または選択できます。 顧客がサインインしている場合、その顧客用に以前に保存されたすべての住所が表示されます。 顧客は、それらの住所の中から選択できます。 顧客は、新しい住所を追加することもできます。 出荷先住所は、出荷を必要とする注文のすべての品目に対して使用されます。 個別の明細行品目に対してカスタマイズすることはできません。 出荷先住所の形式は国または地域ごとに定義され、このモジュールでは国/地域固有のルールが適用されます。 このモジュールでは住所検証は提供されませんが、住所検証はカスタマイズを通じて実装できます。 注文に、店舗で受け取る品目のみが含まれる場合、このモジュールは自動的に非表示になります。
- **出荷オプション** – このモジュールにより、顧客は注文の出荷オプションを選択できます。 出荷オプションは、出荷先住所に基づきます。 出荷先住所が変更された場合、出荷オプションを再度取得する必要があります。 注文に、店舗で受け取る品目のみが含まれる場合、このモジュールは自動的に非表示になります。
- **チェックアウト セクション コンテナー** – このモジュールは、複数のモジュールを内側に配置して、チェックアウト フロー内にセクションを作成できるコンテナーです。 たとえば、すべての支払関連モジュールをこのコンテナー内に配置し、1 つのセクションとして表示することができます。 このモジュールは、フローのレイアウトにのみ影響します。
- **ギフト カード** – このモジュールにより、顧客はギフト カードを使用して注文に対する支払を行うことができます。 Microsoft Dynamics 365 Commerce ギフト カードのみをサポートします。 1 枚以上のギフト カードを注文に適用できます。 ギフト カードの残高がカート内の金額に対応しない場合は、ギフト カードと他の支払方法とを組み合わせることができます。 ギフト カードは、顧客がサインインしている場合にのみ引き換えることができます。
- **ロイヤルティ ポイント** – このモジュールにより、顧客はロイヤルティ ポイントを使用して注文に対する支払を行うことができます。 利用可能なポイントと期限が切れるポイントの概要を提供し、顧客が引き換えるポイント数を選択できるようにします。 顧客がサインインしていないかロイヤルティ メンバーではない場合、またはカート内の合計金額が 0 (ゼロ) の場合、このモジュールは自動的に非表示になります。
- **支払** – このモジュールにより、顧客はクレジット カードを使用して注文に対する支払を行うことができます。 カート内の合計金額がロイヤルティ ポイントまたはギフト カードの対象となる場合、または合計金額が 0 (ゼロ) の場合、このモジュールは自動的に非表示になります。 クレジット カード統合は、このモジュールの Adyen 支払コネクタによって提供されます。 このコネクタの使用方法の詳細については、[Adyen 向け Dynamics 365 Payment Connector](dev-itpro/adyen-connector.md) を参照してください。
- **請求先住所** – このモジュールにより、顧客が請求情報を提供できます。 この情報は、クレジット カード情報と共に Adyen によって処理されます。 このモジュールには、顧客が請求先住所を出荷先住所として使用できるようにするオプションが含まれます。
- **連絡先情報** – このモジュールにより、顧客は注文に対する連絡先情報 (電子メール アドレス) を追加または変更できます。
- **テキスト ブロック** – このモジュールには、コンテンツ管理システム (CMS) によって発生する任意のメッセージングが含まれます。 たとえば、"注文に関する問題については、1-800-Fabrikam にお問い合わせください" というメッセージが含まれている場合があります。 

## <a name="commerce-scale-unit-interaction"></a>Commerce Scale Unit インタラクション

出荷先住所や出荷方法など、チェックアウト情報のほとんどはカートに保管され、注文の一部として処理されます。 唯一の例外は、クレジット カード情報です。 この情報は、Adyen 支払コネクタを使用して直接処理されます。 支払は承認されていますが、請求されていません。

## <a name="add-a-checkout-module-to-a-new-page-and-set-the-required-properties"></a>新しいページにチェックアウト モジュールを追加して必要なプロパティを設定する

新しいページにチェックアウト モジュールを追加して必要なプロパティを設定するには、次の手順を実行します。

1. **フラグメント \> 新しいフラグメント**に移動して、新しいフラグメント **チェックアウト フラグメント**に名前を付けます。
1. チェックアウト モジュールをフラグメントに追加します。
1. ヘッダーをチェックアウト モジュールに追加します。
1. 出荷先住所、出荷オプション、チェックアウト セクション コンテナー、および連絡先情報モジュールを追加します。 
1. チェックアウト セクション コンテナー モジュールで、ギフト カード、ロイヤルティ ポイント、および支払モジュールを追加します。 このようにして、すべての支払方法が 1 つのセクションにまとめて表示されることを確認します。
1. フラグメントを保存およびプレビューします。 カート コンテキストがない一部のモジュールは、プレビューで表示されない場合があります。
1. フラグメントの編集を終了し、公開します。
1. 新しいチェックアウト フラグメントを使用するテンプレートを作成します。
1. 新しいテンプレートを使用するチェックアウト ページを作成します。

## <a name="additional-resources"></a>追加リソース

[スタート キットの概要](starter-kit-overview.md)

[コンテナー モジュール](add-container-module.md)

[購入ボックス モジュール](add-buy-box.md)

[カート モジュール](add-cart-module.md)

[注文確認モジュール](order-confirmation-module.md)

[ヘッダー モジュール](author-header-module.md)

[フッター モジュール](author-footer-module.md)

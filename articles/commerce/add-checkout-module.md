---
title: チェックアウト モジュール
description: このトピックでは、ページにチェックアウト モジュールを追加し、必要なプロパティを設定する方法について説明します。
author: anupamar-ms
manager: annbe
ms.date: 10/31/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application user
ms.reviewer: v-chgri
ms.search.scope: Operations, Retail, Core
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 4b810441fd25d41ee0893b119b4f7d91e7435d21
ms.sourcegitcommit: 295d940a345879b3dfc5991e387b91c7257019ea
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/01/2019
ms.locfileid: "2697086"
---
# <a name="checkout-module"></a><span data-ttu-id="3283c-103">チェックアウト モジュール</span><span class="sxs-lookup"><span data-stu-id="3283c-103">Checkout module</span></span>

[!include [banner](includes/preview-banner.md)]
[!include [banner](includes/banner.md)]

<span data-ttu-id="3283c-104">このトピックでは、ページにチェックアウト モジュールを追加し、必要なプロパティを設定する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="3283c-104">This topic describes how to add a checkout module to a page and set the required properties.</span></span>

## <a name="overview"></a><span data-ttu-id="3283c-105">概要</span><span class="sxs-lookup"><span data-stu-id="3283c-105">Overview</span></span>

<span data-ttu-id="3283c-106">チェックアウト モジュールは、注文を作成するために必要なすべてのモジュールをホストする特別なコンテナーです。</span><span class="sxs-lookup"><span data-stu-id="3283c-106">A checkout module is a special container that hosts all the modules that are required to create an order.</span></span> <span data-ttu-id="3283c-107">チェックアウト モジュールには、出荷先住所、出荷方法、請求情報、注文集計、および顧客の注文に関連するその他の情報を処理するモジュールを含めることができます。</span><span class="sxs-lookup"><span data-stu-id="3283c-107">A checkout module can include modules that handle the shipping address, shipping methods, billing information, order summary, and other information that is related to a customer order.</span></span> <span data-ttu-id="3283c-108">これは、顧客が購買を行うのに必要なすべての情報を入力するために使用する、ステップバイステップのフローを示します。</span><span class="sxs-lookup"><span data-stu-id="3283c-108">It presents a step-by-step flow that a customer uses to enter all the relevant information to make a purchase.</span></span>

<span data-ttu-id="3283c-109">チェックアウト モジュールは、カート ID に基づくデータを表示します。</span><span class="sxs-lookup"><span data-stu-id="3283c-109">A checkout module renders data based on the cart ID.</span></span> <span data-ttu-id="3283c-110">このカート ID は、ブラウザー Cookie として保存されます。</span><span class="sxs-lookup"><span data-stu-id="3283c-110">This cart ID is saved as a browser cookie.</span></span> <span data-ttu-id="3283c-111">カート ID は、注文の品目、合計金額、割引などの情報をチェックアウト モジュールで表示するために必要です。</span><span class="sxs-lookup"><span data-stu-id="3283c-111">A cart ID is required to render information in the checkout module, such as the items in the order, the total amount, and discounts.</span></span>

## <a name="checkout-module-properties"></a><span data-ttu-id="3283c-112">チェックアウト モジュール プロパティ</span><span class="sxs-lookup"><span data-stu-id="3283c-112">Checkout module properties</span></span>

<span data-ttu-id="3283c-113">チェックアウト モジュールは、その中の一連のモジュールをホストします。</span><span class="sxs-lookup"><span data-stu-id="3283c-113">A checkout module hosts a set of modules inside it.</span></span> <span data-ttu-id="3283c-114">幅プロパティを使用すると、チェックアウト モジュール内の品目をその幅に合わせるか、画面全体に表示するかを指定できます。</span><span class="sxs-lookup"><span data-stu-id="3283c-114">A width property lets you specify whether the items in the checkout module should fit the width of it or fill the screen.</span></span>

<span data-ttu-id="3283c-115">チェックアウト モジュールには**チェックアウト情報**スロット、**注文集計**スロット、および**注文**スロットなど、複数のスロットがあります。</span><span class="sxs-lookup"><span data-stu-id="3283c-115">A checkout module has multiple slots, such as a **Checkout information** slot, an **Order summary** slot, and a **Place order** slot.</span></span> <span data-ttu-id="3283c-116">各スロットは、ページ上の特定のレイアウトで表示される一連のモジュールをサポートします。</span><span class="sxs-lookup"><span data-stu-id="3283c-116">Each slot supports a set of modules that will appear in a specific layout on the page.</span></span> <span data-ttu-id="3283c-117">たとえば、**チェックアウト情報**スロットには、出荷先住所や支払方法のモジュールなど、チェックアウトをトリガーするのに必要なすべてのモジュールが含まれます。</span><span class="sxs-lookup"><span data-stu-id="3283c-117">For example, the **Checkout information** slot contains all the modules that are required to trigger a checkout, such as modules for the shipping address and payment method.</span></span> <span data-ttu-id="3283c-118">**注文集計**スロットでは注文集計が表示され、注文のアクションがサポートされます。</span><span class="sxs-lookup"><span data-stu-id="3283c-118">The **Order summary** slot shows an order summary and supports the action for placing the order.</span></span> <span data-ttu-id="3283c-119">**注文**スロットでは、注文のアクションもサポートされます。</span><span class="sxs-lookup"><span data-stu-id="3283c-119">The **Place order** slot also supports the action for placing the order.</span></span> <span data-ttu-id="3283c-120">注文モジュールを 2 つのスロットで定義して、さまざまなプラットフォームから注文を行うプロセスを最適化することができます。</span><span class="sxs-lookup"><span data-stu-id="3283c-120">Place order modules can be defined in two slots to optimize the process of placing orders from various platforms.</span></span>

### <a name="modules-that-can-be-used-in-the-checkout-module"></a><span data-ttu-id="3283c-121">チェックアウト モジュールで使用できるモジュール</span><span class="sxs-lookup"><span data-stu-id="3283c-121">Modules that can be used in the checkout module</span></span>

- <span data-ttu-id="3283c-122">**出荷先住所** – このモジュールにより、顧客が注文の出荷先住所を追加または選択できます。</span><span class="sxs-lookup"><span data-stu-id="3283c-122">**Shipping address** – This module lets a customer add or select the shipping address for an order.</span></span> <span data-ttu-id="3283c-123">顧客がサインインしている場合、その顧客用に以前に保存されたすべての住所が表示されます。</span><span class="sxs-lookup"><span data-stu-id="3283c-123">If the customer is signed in, any addresses that were previously saved for that customer are shown.</span></span> <span data-ttu-id="3283c-124">顧客は、それらの住所の中から選択できます。</span><span class="sxs-lookup"><span data-stu-id="3283c-124">The customer can then select among those addresses.</span></span> <span data-ttu-id="3283c-125">顧客は、新しい住所を追加することもできます。</span><span class="sxs-lookup"><span data-stu-id="3283c-125">The customer can also add a new address.</span></span> <span data-ttu-id="3283c-126">出荷先住所は、出荷を必要とする注文のすべての品目に対して使用されます。</span><span class="sxs-lookup"><span data-stu-id="3283c-126">The shipping address is used for all the items in the order that require shipping.</span></span> <span data-ttu-id="3283c-127">個別の明細行品目に対してカスタマイズすることはできません。</span><span class="sxs-lookup"><span data-stu-id="3283c-127">It can't be customized for individual line items.</span></span> <span data-ttu-id="3283c-128">出荷先住所の形式は国または地域ごとに定義され、このモジュールでは国/地域固有のルールが適用されます。</span><span class="sxs-lookup"><span data-stu-id="3283c-128">Shipping address formats are defined for each country or region, and the country/region-specific rules are enforced by this module.</span></span> <span data-ttu-id="3283c-129">このモジュールでは住所検証は提供されませんが、住所検証はカスタマイズを通じて実装できます。</span><span class="sxs-lookup"><span data-stu-id="3283c-129">Although this module doesn't provide address validation, address validation can be implemented through customization.</span></span> <span data-ttu-id="3283c-130">注文に、店舗で受け取る品目のみが含まれる場合、このモジュールは自動的に非表示になります。</span><span class="sxs-lookup"><span data-stu-id="3283c-130">If the order includes only items that will be picked up in the store, this module is automatically hidden.</span></span>
- <span data-ttu-id="3283c-131">**出荷オプション** – このモジュールにより、顧客は注文の出荷オプションを選択できます。</span><span class="sxs-lookup"><span data-stu-id="3283c-131">**Delivery options** – This module lets a customer select a delivery option for an order.</span></span> <span data-ttu-id="3283c-132">出荷オプションは、出荷先住所に基づきます。</span><span class="sxs-lookup"><span data-stu-id="3283c-132">Delivery options are based on the shipping address.</span></span> <span data-ttu-id="3283c-133">出荷先住所が変更された場合、出荷オプションを再度取得する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3283c-133">If the shipping address is changed, the delivery options must be retrieved again.</span></span> <span data-ttu-id="3283c-134">注文に、店舗で受け取る品目のみが含まれる場合、このモジュールは自動的に非表示になります。</span><span class="sxs-lookup"><span data-stu-id="3283c-134">If the order includes only items that will be picked up in the store, this module is automatically hidden.</span></span>
- <span data-ttu-id="3283c-135">**チェックアウト セクション コンテナー** – このモジュールは、複数のモジュールを内側に配置して、チェックアウト フロー内にセクションを作成できるコンテナーです。</span><span class="sxs-lookup"><span data-stu-id="3283c-135">**Checkout section container** – This module is a container that you can put multiple modules inside to create a section within the checkout flow.</span></span> <span data-ttu-id="3283c-136">たとえば、すべての支払関連モジュールをこのコンテナー内に配置し、1 つのセクションとして表示することができます。</span><span class="sxs-lookup"><span data-stu-id="3283c-136">For example, you can put all payment-related modules inside this container to make them appear as one section.</span></span> <span data-ttu-id="3283c-137">このモジュールは、フローのレイアウトにのみ影響します。</span><span class="sxs-lookup"><span data-stu-id="3283c-137">This module affects only the layout of the flow.</span></span>
- <span data-ttu-id="3283c-138">**ギフト カード** – このモジュールにより、顧客はギフト カードを使用して注文に対する支払を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="3283c-138">**Gift card** – This module lets a customer pay for an order by using a gift card.</span></span> <span data-ttu-id="3283c-139">Microsoft Dynamics 365 Commerce ギフト カードのみをサポートします。</span><span class="sxs-lookup"><span data-stu-id="3283c-139">It supports only Microsoft Dynamics 365 Commerce gift cards.</span></span> <span data-ttu-id="3283c-140">1 枚以上のギフト カードを注文に適用できます。</span><span class="sxs-lookup"><span data-stu-id="3283c-140">One or more gift cards can be applied to an order.</span></span> <span data-ttu-id="3283c-141">ギフト カードの残高がカート内の金額に対応しない場合は、ギフト カードと他の支払方法とを組み合わせることができます。</span><span class="sxs-lookup"><span data-stu-id="3283c-141">If the balance of the gift card doesn't cover the amount in the cart, the gift card can be combined with another payment method.</span></span> <span data-ttu-id="3283c-142">ギフト カードは、顧客がサインインしている場合にのみ引き換えることができます。</span><span class="sxs-lookup"><span data-stu-id="3283c-142">Gift cards can be redeemed only if the customer is signed in.</span></span>
- <span data-ttu-id="3283c-143">**ロイヤルティ ポイント** – このモジュールにより、顧客はロイヤルティ ポイントを使用して注文に対する支払を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="3283c-143">**Loyalty points** – This module lets a customer pay for an order by using loyalty points.</span></span> <span data-ttu-id="3283c-144">利用可能なポイントと期限が切れるポイントの概要を提供し、顧客が引き換えるポイント数を選択できるようにします。</span><span class="sxs-lookup"><span data-stu-id="3283c-144">It provides a summary of available points and expiring points, and lets the customer select the number of points to redeem.</span></span> <span data-ttu-id="3283c-145">顧客がサインインしていないかロイヤルティ メンバーではない場合、またはカート内の合計金額が 0 (ゼロ) の場合、このモジュールは自動的に非表示になります。</span><span class="sxs-lookup"><span data-stu-id="3283c-145">If the customer isn't signed in or isn't a loyalty member, or if the total amount in the cart is 0 (zero), this module is automatically hidden.</span></span>
- <span data-ttu-id="3283c-146">**クレジット カード** – このモジュールにより、顧客はクレジット カードを使用して注文に対する支払を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="3283c-146">**Credit card** – This module lets a customer pay for an order by using a credit card.</span></span> <span data-ttu-id="3283c-147">カート内の合計金額がロイヤルティ ポイントまたはギフト カードの対象となる場合、または合計金額が 0 (ゼロ) の場合、このモジュールは自動的に非表示になります。</span><span class="sxs-lookup"><span data-stu-id="3283c-147">If the total amount in the cart is covered by loyalty points or a gift card, or if it's 0 (zero), this module is automatically hidden.</span></span> <span data-ttu-id="3283c-148">クレジット カード統合は、Adyen 支払コネクタによって提供されます。</span><span class="sxs-lookup"><span data-stu-id="3283c-148">Credit card integration is provided by the Adyen payment connector.</span></span> <span data-ttu-id="3283c-149">このコネクタの使用方法の詳細については、[Adyen 支払コネクタ](https://) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="3283c-149">For more information about how to use this connector, see [Adyen payment connector](https://).</span></span>
- <span data-ttu-id="3283c-150">**請求先住所** – このモジュールにより、顧客が請求情報を提供できます。</span><span class="sxs-lookup"><span data-stu-id="3283c-150">**Billing address** – This module lets a customer provide billing information.</span></span> <span data-ttu-id="3283c-151">この情報は、クレジット カード情報と共に Adyen によって処理されます。</span><span class="sxs-lookup"><span data-stu-id="3283c-151">This information is processed, together with the credit card information, by Adyen.</span></span> <span data-ttu-id="3283c-152">このモジュールには、顧客が請求先住所を出荷先住所として使用できるようにするオプションが含まれます。</span><span class="sxs-lookup"><span data-stu-id="3283c-152">This module includes an option that lets customers use their billing address as the shipping address.</span></span>
- <span data-ttu-id="3283c-153">**連絡先情報** – このモジュールにより、顧客は注文に対する連絡先情報 (電子メール アドレス) を追加または変更できます。</span><span class="sxs-lookup"><span data-stu-id="3283c-153">**Contact information** – This module lets a customer add or change the contact information (email address) for an order.</span></span>
- <span data-ttu-id="3283c-154">**注文** – このモジュールにより、顧客は注文を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="3283c-154">**Place order** – This module lets a customer place an order.</span></span>
- <span data-ttu-id="3283c-155">**コンテンツ リッチ ブロック** – このモジュールには、コンテンツ管理システム (CMS) によって発生する任意のメッセージングが含まれます。</span><span class="sxs-lookup"><span data-stu-id="3283c-155">**Content rich block** – This module contains any messaging that is driven by the content management system (CMS).</span></span> <span data-ttu-id="3283c-156">たとえば、"注文に関する問題については、1-800-FABRIKAM にお問い合わせください" というメッセージが含まれている場合があります。</span><span class="sxs-lookup"><span data-stu-id="3283c-156">For example, it might contain a message that states, "For issues with your order, please contact 1-800-FABRIKAM."</span></span> 
- <span data-ttu-id="3283c-157">**注文集計** – このモジュールは、注文の原価内訳を表示します。</span><span class="sxs-lookup"><span data-stu-id="3283c-157">**Order summary** – This module shows the cost breakdown of an order.</span></span>
- <span data-ttu-id="3283c-158">**注文明細行品目** – このモジュールは、注文に含まれる品目の概要を表示します。</span><span class="sxs-lookup"><span data-stu-id="3283c-158">**Order line items** – This module shows a summary of the items that will be included in an order.</span></span>

## <a name="retail-server-interaction"></a><span data-ttu-id="3283c-159">小売サーバー インタラクション</span><span class="sxs-lookup"><span data-stu-id="3283c-159">Retail server interaction</span></span>

<span data-ttu-id="3283c-160">出荷先住所や出荷方法など、チェックアウト情報のほとんどはカートに保管され、注文の一部として処理されます。</span><span class="sxs-lookup"><span data-stu-id="3283c-160">Most of the checkout information, such as the shipping address and shipping method, is stored in the cart and processed as part of the order.</span></span> <span data-ttu-id="3283c-161">唯一の例外は、クレジット カード情報です。</span><span class="sxs-lookup"><span data-stu-id="3283c-161">The only exception is the credit card information.</span></span> <span data-ttu-id="3283c-162">この情報は、Adyen 支払コネクタを使用して直接処理されます。</span><span class="sxs-lookup"><span data-stu-id="3283c-162">This information is processed directly by using the Adyen payment connector.</span></span> <span data-ttu-id="3283c-163">支払は承認されていますが、請求されていません。</span><span class="sxs-lookup"><span data-stu-id="3283c-163">The payment is authorized but isn't charged.</span></span>

## <a name="add-a-checkout-module-to-a-new-page-and-set-the-required-properties"></a><span data-ttu-id="3283c-164">新しいページにチェックアウト モジュールを追加して必要なプロパティを設定する</span><span class="sxs-lookup"><span data-stu-id="3283c-164">Add a checkout module to a new page and set the required properties</span></span>

<span data-ttu-id="3283c-165">新しいページにチェックアウト モジュールを追加して必要なプロパティを設定するには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="3283c-165">To add a checkout module to a new page and set the required properties, follow these steps.</span></span>

1. <span data-ttu-id="3283c-166">**フラグメント \> 新しいフラグメント**に移動して、新しいフラグメント **チェックアウト フラグメント**に名前を付けます。</span><span class="sxs-lookup"><span data-stu-id="3283c-166">Go to **Fragment \> New Fragment**, and name the new fragment **Checkout fragment**.</span></span>
1. <span data-ttu-id="3283c-167">チェックアウト モジュールをフラグメントに追加します。</span><span class="sxs-lookup"><span data-stu-id="3283c-167">Add a checkout module to the fragment.</span></span>
1. <span data-ttu-id="3283c-168">ヘッダーをチェックアウト モジュールに追加します。</span><span class="sxs-lookup"><span data-stu-id="3283c-168">Add a heading to the checkout module.</span></span>
1. <span data-ttu-id="3283c-169">**チェックアウト情報**スロットで、出荷先住所、出荷オプション、チェックアウト セクション コンテナー、および連絡先情報モジュールを追加します。</span><span class="sxs-lookup"><span data-stu-id="3283c-169">In the **Checkout information** slot, add shipping address, delivery options, checkout section container, and contact information modules.</span></span> <span data-ttu-id="3283c-170">この時点で、**チェックアウト情報**スロットには 4 つのセクションがあります。</span><span class="sxs-lookup"><span data-stu-id="3283c-170">There should now be four sections in the **Checkout information** slot.</span></span>
1. <span data-ttu-id="3283c-171">チェックアウト セクション コンテナー モジュールで、ギフト カード、ロイヤルティ ポイント、およびクレジット カード モジュールを追加します。</span><span class="sxs-lookup"><span data-stu-id="3283c-171">In the checkout section container module, add gift card, loyalty points, and credit card modules.</span></span> <span data-ttu-id="3283c-172">このようにして、すべての支払方法が 1 つのセクションにまとめて表示されることを確認します。</span><span class="sxs-lookup"><span data-stu-id="3283c-172">In this way, you make sure that all the payment methods appear together in a section.</span></span>
1. <span data-ttu-id="3283c-173">**注文集計**スロットで、注文集計、注文、およびコンテンツ リッチ ブロック モジュールを追加します。</span><span class="sxs-lookup"><span data-stu-id="3283c-173">In the **Order summary** slot, add order summary, place order, and content rich block modules.</span></span>
1. <span data-ttu-id="3283c-174">コンテンツ リッチ ブロック モジュールで、次のテキストを追加します: **注文に関するご質問については、1-800-FABRIKAM にお問い合わせください。**</span><span class="sxs-lookup"><span data-stu-id="3283c-174">In the content rich block module, add the following text: **For questions about your order, contact 1-800-FABRIKAM.**</span></span>
1. <span data-ttu-id="3283c-175">**注文**スロットで、注文モジュールを追加します。</span><span class="sxs-lookup"><span data-stu-id="3283c-175">In the **Place order** slot, add a place order module.</span></span>
1. <span data-ttu-id="3283c-176">**保存** を選択します。</span><span class="sxs-lookup"><span data-stu-id="3283c-176">Select **Save**.</span></span> <span data-ttu-id="3283c-177">一部のモジュールは、カート コンテキストがないため、プレビューで表示されない場合があります。</span><span class="sxs-lookup"><span data-stu-id="3283c-177">Some modules might not be rendered in the preview, because they don't have a cart context.</span></span>
1. <span data-ttu-id="3283c-178">フラグメントをチェックインし、公開します。</span><span class="sxs-lookup"><span data-stu-id="3283c-178">Check the fragment in, and publish it.</span></span>
1. <span data-ttu-id="3283c-179">新しいチェックアウト フラグメントを使用するテンプレートを作成します。</span><span class="sxs-lookup"><span data-stu-id="3283c-179">Create a template that uses the new checkout fragment.</span></span>
1. <span data-ttu-id="3283c-180">新しいテンプレートを使用するチェックアウト ページを作成します。</span><span class="sxs-lookup"><span data-stu-id="3283c-180">Create a checkout page that uses the new template.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="3283c-181">追加リソース</span><span class="sxs-lookup"><span data-stu-id="3283c-181">Additional resources</span></span>

[<span data-ttu-id="3283c-182">スタート キットの概要</span><span class="sxs-lookup"><span data-stu-id="3283c-182">Starter kit overview</span></span>](starter-kit-overview.md)

[<span data-ttu-id="3283c-183">コンテナー モジュール</span><span class="sxs-lookup"><span data-stu-id="3283c-183">Container module</span></span>](add-container-module.md)

[<span data-ttu-id="3283c-184">購入ボックス モジュール</span><span class="sxs-lookup"><span data-stu-id="3283c-184">Buy box module</span></span>](add-buy-box.md)

[<span data-ttu-id="3283c-185">カート モジュール</span><span class="sxs-lookup"><span data-stu-id="3283c-185">Cart module</span></span>](add-cart-module.md)

[<span data-ttu-id="3283c-186">注文確認モジュール</span><span class="sxs-lookup"><span data-stu-id="3283c-186">Order confirmation module</span></span>](order-confirmation-module.md)

[<span data-ttu-id="3283c-187">ヘッダー モジュール</span><span class="sxs-lookup"><span data-stu-id="3283c-187">Header module</span></span>](author-header-module.md)

[<span data-ttu-id="3283c-188">フッター モジュール</span><span class="sxs-lookup"><span data-stu-id="3283c-188">Footer module</span></span>](author-footer-module.md)

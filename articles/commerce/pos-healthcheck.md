---
title: POS 周辺機器およびサービスの正常性チェック
description: このトピックは、販売時点管理 (POS) での正常性チェックの操作概要を提供します。
author: rubendel
manager: AnnBe
ms.date: 03/06/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Operations, Retail
ms.custom: 141393
ms.assetid: e23e944c-15de-459d-bcc5-ea03615ebf4c
ms.search.region: Global
ms.search.industry: Retail
ms.author: rubendel
ms.search.validFrom: 2019-03-31
ms.dyn365.ops.version: AX 7.0.1
ms.openlocfilehash: 86f0964b6d929d0434a8bf04aaefc173bee21c6f
ms.sourcegitcommit: 361050bed5e0feabd370d225ec70784fc1933258
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/15/2020
ms.locfileid: "4013207"
---
# <a name="health-check-for-pos-peripherals-and-services"></a><span data-ttu-id="39744-103">POS 周辺機器およびサービスの正常性チェック</span><span class="sxs-lookup"><span data-stu-id="39744-103">Health check for POS peripherals and services</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="39744-104">このトピックは、販売時点管理 (POS) での正常性チェックの操作概要について説明します。</span><span class="sxs-lookup"><span data-stu-id="39744-104">This topic describes the health check operation in the point of sale (POS).</span></span>

## <a name="overview"></a><span data-ttu-id="39744-105">概要</span><span class="sxs-lookup"><span data-stu-id="39744-105">Overview</span></span>

<span data-ttu-id="39744-106">小売店舗は、多くのアプリケーションとデバイスが使用される複雑な環境になることがあります。</span><span class="sxs-lookup"><span data-stu-id="39744-106">Retail stores can be complex environments where many applications and devices are used.</span></span> <span data-ttu-id="39744-107">たとえば、周辺機器が故障したり、誤って 1 日中プラグが外れるなど、相互関係のため、操作が増えると常に操作をスムーズに実行するのが困難になることがあります。</span><span class="sxs-lookup"><span data-stu-id="39744-107">As operations grow, it can become difficult to ensure that operations always run smoothly, because of dependencies on, for example, peripherals that can break or accidentally become unplugged over the course of a day.</span></span> <span data-ttu-id="39744-108">デバイスやサービスに関係する問題のトラブルシューティングは、大きな商社には費用がかかり、小さな操作ゆえに均等にもどかしくなることがあります。</span><span class="sxs-lookup"><span data-stu-id="39744-108">Troubleshooting for issues that are related to devices and services can be costly for larger merchants and equally frustrating for smaller operations.</span></span>

<span data-ttu-id="39744-109">Microsoft Dynamics 365 Commerce バージョン 10.0.10 以降には、このような費用とフラストレーションを回避するのに役立つ正常性チェックの操作が含まれています。</span><span class="sxs-lookup"><span data-stu-id="39744-109">Microsoft Dynamics 365 Commerce versions 10.0.10 and later include a health check operation that can help prevent some of this cost and frustration.</span></span> <span data-ttu-id="39744-110">通常の操作以外のこの操作により、POS からデバイスを直接テストする方法が提供されます。</span><span class="sxs-lookup"><span data-stu-id="39744-110">This operation provides a method for testing devices directly from the POS outside of normal operations.</span></span> <span data-ttu-id="39744-111">したがって、小売業者は問題が発生する前に検出することができます。</span><span class="sxs-lookup"><span data-stu-id="39744-111">Therefore, it can help retailers detect issues before they occur.</span></span>

## <a name="key-terms"></a><span data-ttu-id="39744-112">重要な用語</span><span class="sxs-lookup"><span data-stu-id="39744-112">Key terms</span></span>

| <span data-ttu-id="39744-113">期間</span><span class="sxs-lookup"><span data-stu-id="39744-113">Term</span></span> | <span data-ttu-id="39744-114">説明</span><span class="sxs-lookup"><span data-stu-id="39744-114">Description</span></span> |
|---|---|
| <span data-ttu-id="39744-115">周辺機器</span><span class="sxs-lookup"><span data-stu-id="39744-115">Peripheral</span></span> | <span data-ttu-id="39744-116">POS アプリケーションが使用するすべてのデバイスにより、店舗のトランザクションおよび他の操作が容易になります。</span><span class="sxs-lookup"><span data-stu-id="39744-116">Any device that the POS application uses to facilitate transactions and other operations in the store.</span></span> <span data-ttu-id="39744-117">例には、キャッシュ ドロワー、バーコード スキャナー、支払ターミナルなどがあります。</span><span class="sxs-lookup"><span data-stu-id="39744-117">Examples include cash drawers, bar code scanners, and payment terminals.</span></span> |
| <span data-ttu-id="39744-118">サービス</span><span class="sxs-lookup"><span data-stu-id="39744-118">Service</span></span> | <span data-ttu-id="39744-119">このトピックでは、サービスは POS アプリケーションが依存する付加的なアプリケーションのことで、トランザクションおよび日常業務を実行します。</span><span class="sxs-lookup"><span data-stu-id="39744-119">In this topic, a service is an ancillary application that the POS application depends on to perform transactions and daily operations.</span></span> <span data-ttu-id="39744-120">例には、税または出荷計算に役立つアプリが含まれます。</span><span class="sxs-lookup"><span data-stu-id="39744-120">Examples include apps that help with tax or shipping calculations.</span></span> |

## <a name="health-check-operation"></a><span data-ttu-id="39744-121">正常性チェック操作</span><span class="sxs-lookup"><span data-stu-id="39744-121">Health check operation</span></span>

<span data-ttu-id="39744-122">正常性チェックの操作は、Commerce 本社の **POSの操作** ページの操作 717 です。</span><span class="sxs-lookup"><span data-stu-id="39744-122">The health check operation is operation 717 on the **POS Operations** page in Commerce Headquarters.</span></span> <span data-ttu-id="39744-123">POS が非ドロワーモードの場合に使用できます。</span><span class="sxs-lookup"><span data-stu-id="39744-123">It can be used while the POS is in non-drawer mode.</span></span> <span data-ttu-id="39744-124">ただし、ハードウェア ステーションが有効である必要があります。</span><span class="sxs-lookup"><span data-stu-id="39744-124">However, a hardware station must be active.</span></span>

<span data-ttu-id="39744-125">既定では、正常性チェックは、現在レジスターに有効になっているハードウェア ステーションに対してハードウェア プロファイルでコンフィギュレーションされているデバイスのみをテストします。</span><span class="sxs-lookup"><span data-stu-id="39744-125">By default, the health check tests only devices that are configured in the hardware profile for the hardware station that is currently active for a register.</span></span> <span data-ttu-id="39744-126">レジスターが 1 日中複数のハードウェア ステーションを使用していて、すべてに対して正常性チェックを行う場合、、一度に 1 つのハードウェアステーションに接続する必要があります。</span><span class="sxs-lookup"><span data-stu-id="39744-126">If a register uses multiple hardware stations over the course of a day, to do health checks for all of them, it must connect to one hardware station at a time.</span></span> <span data-ttu-id="39744-127">店舗レベルの正常性チェックはありません。</span><span class="sxs-lookup"><span data-stu-id="39744-127">There is no store-level health check.</span></span> <span data-ttu-id="39744-128">ただし、このタイプのチェックは、Commerce サーバーの拡張機能により実行することが可能です。</span><span class="sxs-lookup"><span data-stu-id="39744-128">However, it's possible that this type of check can be done through Commerce Server extensibility.</span></span>

### <a name="out-of-box-health-checks"></a><span data-ttu-id="39744-129">最初から用意されている正常性チェック</span><span class="sxs-lookup"><span data-stu-id="39744-129">Out-of-box health checks</span></span>

| <span data-ttu-id="39744-130">種類</span><span class="sxs-lookup"><span data-stu-id="39744-130">Type</span></span> | <span data-ttu-id="39744-131">接続</span><span class="sxs-lookup"><span data-stu-id="39744-131">Connection</span></span> | <span data-ttu-id="39744-132">詳細情報</span><span class="sxs-lookup"><span data-stu-id="39744-132">Details</span></span> |
|---|---|---|
| <span data-ttu-id="39744-133">プリンター</span><span class="sxs-lookup"><span data-stu-id="39744-133">Printer</span></span> | <span data-ttu-id="39744-134">OPOS</span><span class="sxs-lookup"><span data-stu-id="39744-134">OPOS</span></span> | <span data-ttu-id="39744-135">このチェックは、POS (OPOS) 機能にリンクおよび埋め込まれている基本的なオブジェクトをテストします。</span><span class="sxs-lookup"><span data-stu-id="39744-135">This check tests basic object linking and embedding for POS (OPOS) functions.</span></span> <span data-ttu-id="39744-136">次にいくつか例を挙げます。</span><span class="sxs-lookup"><span data-stu-id="39744-136">Here are some examples:</span></span><ul><li><span data-ttu-id="39744-137">開く: **開く** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span><span class="sxs-lookup"><span data-stu-id="39744-137">Open: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span></span></li><li><span data-ttu-id="39744-138">閉じる: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span><span class="sxs-lookup"><span data-stu-id="39744-138">Close: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span></span></li></ul> |
| <span data-ttu-id="39744-139">ライン ディスプレイ</span><span class="sxs-lookup"><span data-stu-id="39744-139">Line display</span></span> | <span data-ttu-id="39744-140">OPOS</span><span class="sxs-lookup"><span data-stu-id="39744-140">OPOS</span></span> | <span data-ttu-id="39744-141">このチェックは、基本的な OPOS 機能をテストします。</span><span class="sxs-lookup"><span data-stu-id="39744-141">This check tests basic OPOS functions.</span></span> <span data-ttu-id="39744-142">次にいくつか例を挙げます。</span><span class="sxs-lookup"><span data-stu-id="39744-142">Here are some examples:</span></span><ul><li><span data-ttu-id="39744-143">開く: **開く** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span><span class="sxs-lookup"><span data-stu-id="39744-143">Open: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span></span></li><li><span data-ttu-id="39744-144">閉じる: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span><span class="sxs-lookup"><span data-stu-id="39744-144">Close: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span></span></li></ul> |
| <span data-ttu-id="39744-145">デュアル ディスプレイ</span><span class="sxs-lookup"><span data-stu-id="39744-145">Dual display</span></span> | <span data-ttu-id="39744-146">Windows</span><span class="sxs-lookup"><span data-stu-id="39744-146">Windows</span></span> | <span data-ttu-id="39744-147">このチェックにより、オペレーティング システムが 2 番目の Windows ディスプレイを検出できるようになります。</span><span class="sxs-lookup"><span data-stu-id="39744-147">This check ensures that the operating system detects a second Windows display.</span></span> | 
| <span data-ttu-id="39744-148">MSR</span><span class="sxs-lookup"><span data-stu-id="39744-148">MSR</span></span> | <span data-ttu-id="39744-149">OPOS</span><span class="sxs-lookup"><span data-stu-id="39744-149">OPOS</span></span> | <span data-ttu-id="39744-150">このチェックは、基本的な OPOS 機能をテストします。</span><span class="sxs-lookup"><span data-stu-id="39744-150">This check tests basic OPOS functions.</span></span> <span data-ttu-id="39744-151">次にいくつか例を挙げます。</span><span class="sxs-lookup"><span data-stu-id="39744-151">Here are some examples:</span></span><ul><li><span data-ttu-id="39744-152">開く: **開く** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span><span class="sxs-lookup"><span data-stu-id="39744-152">Open: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span></span></li><li><span data-ttu-id="39744-153">閉じる: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span><span class="sxs-lookup"><span data-stu-id="39744-153">Close: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span></span></li></ul> |
| <span data-ttu-id="39744-154">手形振出人</span><span class="sxs-lookup"><span data-stu-id="39744-154">Drawer</span></span> | <span data-ttu-id="39744-155">OPOS</span><span class="sxs-lookup"><span data-stu-id="39744-155">OPOS</span></span> | <span data-ttu-id="39744-156">このチェックは、基本的な OPOS 機能をテストします。</span><span class="sxs-lookup"><span data-stu-id="39744-156">This check tests basic OPOS functions.</span></span> <span data-ttu-id="39744-157">次にいくつか例を挙げます。</span><span class="sxs-lookup"><span data-stu-id="39744-157">Here are some examples:</span></span><ul><li><span data-ttu-id="39744-158">開く: **開く** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span><span class="sxs-lookup"><span data-stu-id="39744-158">Open: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span></span></li><li><span data-ttu-id="39744-159">閉じる: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span><span class="sxs-lookup"><span data-stu-id="39744-159">Close: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span></span></li></ul> | 
| <span data-ttu-id="39744-160">スキャナー</span><span class="sxs-lookup"><span data-stu-id="39744-160">Scanner</span></span> | <span data-ttu-id="39744-161">OPOS</span><span class="sxs-lookup"><span data-stu-id="39744-161">OPOS</span></span> | <span data-ttu-id="39744-162">このチェックは、基本的な OPOS 機能をテストします。</span><span class="sxs-lookup"><span data-stu-id="39744-162">This check tests basic OPOS functions.</span></span> <span data-ttu-id="39744-163">次にいくつか例を挙げます。</span><span class="sxs-lookup"><span data-stu-id="39744-163">Here are some examples:</span></span><ul><li><span data-ttu-id="39744-164">開く: **開く** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span><span class="sxs-lookup"><span data-stu-id="39744-164">Open: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span></span></li><li><span data-ttu-id="39744-165">閉じる: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span><span class="sxs-lookup"><span data-stu-id="39744-165">Close: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span></span></li></ul> | 
| <span data-ttu-id="39744-166">スケール</span><span class="sxs-lookup"><span data-stu-id="39744-166">Scale</span></span> | <span data-ttu-id="39744-167">OPOS</span><span class="sxs-lookup"><span data-stu-id="39744-167">OPOS</span></span> | <span data-ttu-id="39744-168">このチェックは、基本的な OPOS 機能をテストします。</span><span class="sxs-lookup"><span data-stu-id="39744-168">This check tests basic OPOS functions.</span></span> <span data-ttu-id="39744-169">次にいくつか例を挙げます。</span><span class="sxs-lookup"><span data-stu-id="39744-169">Here are some examples:</span></span><ul><li><span data-ttu-id="39744-170">開く: **開く** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span><span class="sxs-lookup"><span data-stu-id="39744-170">Open: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span></span></li><li><span data-ttu-id="39744-171">閉じる: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span><span class="sxs-lookup"><span data-stu-id="39744-171">Close: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span></span></li></ul> |
| <span data-ttu-id="39744-172">PIN パッド</span><span class="sxs-lookup"><span data-stu-id="39744-172">PIN pad</span></span> | <span data-ttu-id="39744-173">OPOS</span><span class="sxs-lookup"><span data-stu-id="39744-173">OPOS</span></span> | <span data-ttu-id="39744-174">このチェックは、基本的な OPOS 機能をテストします。</span><span class="sxs-lookup"><span data-stu-id="39744-174">This check tests basic OPOS functions.</span></span> <span data-ttu-id="39744-175">次にいくつか例を挙げます。</span><span class="sxs-lookup"><span data-stu-id="39744-175">Here are some examples:</span></span><ul><li><span data-ttu-id="39744-176">開く: **開く** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span><span class="sxs-lookup"><span data-stu-id="39744-176">Open: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span></span></li><li><span data-ttu-id="39744-177">閉じる: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span><span class="sxs-lookup"><span data-stu-id="39744-177">Close: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span></span></li></ul> |
| <span data-ttu-id="39744-178">支払ターミナル</span><span class="sxs-lookup"><span data-stu-id="39744-178">Payment terminal</span></span> | <span data-ttu-id="39744-179">支払の SDK</span><span class="sxs-lookup"><span data-stu-id="39744-179">Payments SDK</span></span> | <span data-ttu-id="39744-180">このチェックは、支払 SDK によって提供される基本的な支払ターミナルの機能をテストします。</span><span class="sxs-lookup"><span data-stu-id="39744-180">This check tests basic payment terminal functions provided by the Payments SDK.</span></span> <ul><li><span data-ttu-id="39744-181">ロック</span><span class="sxs-lookup"><span data-stu-id="39744-181">Lock</span></span></li><li><span data-ttu-id="39744-182">BeginTransaction</span><span class="sxs-lookup"><span data-stu-id="39744-182">BeginTransaction</span></span></li><li><span data-ttu-id="39744-183">EndTransaction</span><span class="sxs-lookup"><span data-stu-id="39744-183">EndTransaction</span></span></li><li><span data-ttu-id="39744-184">ReleaseDevice</span><span class="sxs-lookup"><span data-stu-id="39744-184">ReleaseDevice</span></span></li><li><span data-ttu-id="39744-185">精算</span><span class="sxs-lookup"><span data-stu-id="39744-185">Close</span></span></li></ul> |

### <a name="using-the-health-check-operation-in-the-pos"></a><span data-ttu-id="39744-186">POS での正常性チェック操作の使用</span><span class="sxs-lookup"><span data-stu-id="39744-186">Using the health check operation in the POS</span></span>

<span data-ttu-id="39744-187">POS で正常性チェック操作が開始されると、コンフィギュレーションされたデバイスの一覧と各デバイスの状態が右側のウィンドウに表示されます。</span><span class="sxs-lookup"><span data-stu-id="39744-187">When the health check operation is initiated in the POS, a pane on the right lists the configured devices and shows the status of each device.</span></span> <span data-ttu-id="39744-188">単一のデバイスに対して正常性チェックを行うには、デバイスを選択して、 **選択先をテスト** を選択します。</span><span class="sxs-lookup"><span data-stu-id="39744-188">To do a health check for a single device, select the device, and then select **Test selected**.</span></span> <span data-ttu-id="39744-189">すべてのデバイスに対して正常性チェックを行うには、 **すべてテスト** を選択します。</span><span class="sxs-lookup"><span data-stu-id="39744-189">To do a health check for all devices, select **Test all**.</span></span> <span data-ttu-id="39744-190">**すべてテスト** 機能は、すべてのデバイスを一度に 1 つずつテストし、 **状態** 列の各デバイスの状態を更新します。</span><span class="sxs-lookup"><span data-stu-id="39744-190">The **Test all** function tests all the devices, one at a time, and updates the status of each device in the **Status** column.</span></span>

<span data-ttu-id="39744-191">**最後のチェック** 列には、各デバイスに対して正常性チェックがいつ最後に行われたかが表示されます。</span><span class="sxs-lookup"><span data-stu-id="39744-191">The **Last check** column shows when the health check was last done for each device.</span></span>

<span data-ttu-id="39744-192">デバイスの正常性チェックに合格した場合 (つまり、エラーが発生しなかった場合)、デバイスの状態は **OK** になります。</span><span class="sxs-lookup"><span data-stu-id="39744-192">If the health check for a device passes (that is, if no errors are encountered), the device's status will be **OK**.</span></span> <span data-ttu-id="39744-193">正常性チェックが失敗した場合、状態はエラーが発生したことを示します。</span><span class="sxs-lookup"><span data-stu-id="39744-193">If the health check fails, the status will indicate that there was an error.</span></span> <span data-ttu-id="39744-194">この場合、右のウィンドウにエラーに関係する詳細が表示されるか、またはシステム管理者に連絡するようユーザーに指示されます。</span><span class="sxs-lookup"><span data-stu-id="39744-194">In this case, the pane on the right provides details that are related to the error, or it instructs the user to contact the system admin.</span></span>

<span data-ttu-id="39744-195">OPOS キーロックなどの一部のデバイスには、最初から用意されている正常性チェック テストはありません。</span><span class="sxs-lookup"><span data-stu-id="39744-195">Some devices, such as the OPOS keylock, don't have out-of-box health check tests.</span></span> <span data-ttu-id="39744-196">使用されているすべてのデバイスについて正常性チェック テストが検出されなかった場合、状態は **サポートされていません** になります。</span><span class="sxs-lookup"><span data-stu-id="39744-196">If a health check test isn't detected for any device that is used, the status will be **Not supported**.</span></span>

### <a name="extending-health-checks"></a><span data-ttu-id="39744-197">正常性チェックの拡張</span><span class="sxs-lookup"><span data-stu-id="39744-197">Extending health checks</span></span>

<span data-ttu-id="39744-198">最初から用意されている正常性チェック テストは、一般的なエラーに対してわかりやすいメッセージを提供するようにコンフィギュレーションされています。</span><span class="sxs-lookup"><span data-stu-id="39744-198">The out-of-box health check tests are configured to provide some user-friendly messages for typical errors.</span></span> <span data-ttu-id="39744-199">ただし、すべてのシナリオが対象になっているわけではありません。</span><span class="sxs-lookup"><span data-stu-id="39744-199">However, not all scenarios are covered.</span></span> <span data-ttu-id="39744-200">拡張機能によって、商社は環境に特有のエラーに対して分かりやすいメッセージをマップできます。</span><span class="sxs-lookup"><span data-stu-id="39744-200">Through extensibility, merchants can map user-friendly messages to errors that might be specific to their environment.</span></span>

<span data-ttu-id="39744-201">カスタム正常性チェックを作成して、最初はサポートされていなかったデバイスのテスト、または POS が依存するすべてのサービスをテストすることもできます。</span><span class="sxs-lookup"><span data-stu-id="39744-201">Custom health checks can also be created to test devices that aren't supported out of the box, or to test any services that the POS depends on.</span></span>

## <a name="related-articles"></a><span data-ttu-id="39744-202">関連記事</span><span class="sxs-lookup"><span data-stu-id="39744-202">Related articles</span></span>

[<span data-ttu-id="39744-203">Modern POS (MPOS) のトリガーと印刷</span><span class="sxs-lookup"><span data-stu-id="39744-203">Modern POS (MPOS) triggers and printing</span></span>](dev-itpro/pos-trigger-printing.md)

---
title: 購入ボックス モジュール
description: このトピックでは、購入ボックス モジュールと、Microsoft Dynamics 365 Commerce のサイト ページにそれを追加する方法について説明します。
author: anupamar-ms
ms.date: 09/15/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: dce3c8adcd2926e60d001bddb5c278fac6860268
ms.sourcegitcommit: 3cdc42346bb653c13ab33a7142dbb7969f1f6dda
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/31/2021
ms.locfileid: "5796225"
---
# <a name="buy-box-module"></a>購入ボックス モジュール

[!include [banner](includes/banner.md)]

このトピックでは、購入ボックス モジュールと、Microsoft Dynamics 365 Commerce のサイト ページにそれを追加する方法について説明します。

*購入ボックス* という用語は、通常 "折りたたみの上" である製品の詳細ページの領域を指し、製品購買に必要な最も重要な情報すべてをホストします。 ("折りたたみの上" である領域はページが最初に読み込まれたときに表示されるため、ユーザーは下にスクロールして表示する必要はありません。)

購入ボックス モジュールは、製品の詳細ページの購入ボックス領域に表示されるすべてのモジュールをホストするために使用する特別なコンテナーです。

製品の詳細ページの URL には、製品 ID が含まれます。 購買ボックス モジュールの表示に必要なすべての情報は、この製品 ID から派生します。 製品 ID が指定されていない場合、購入ボックス モジュールはページに正しく表示されません。 したがって、購入ボックス モジュールは、製品コンテキストがあるページでのみ使用できます。 製品コンテキストがないページ (ホーム ページやマーケティング ページなど) で使用するには、追加のカスタマイズを行う必要があります。

以下の図は、[商品の詳細] ページにある [購入ボックス] モジュールの例を示しています。

![購入ボックス モジュールの例](./media/ecommerce-pdp-buybox.PNG)

## <a name="buy-box-module-properties-and-slots"></a>購入ボックス モジュール プロパティおよびスロット 

製品の詳細ページでは、購入ボックスは 2 つの領域に分割されます: 左側にメディア領域、右側にコンテンツ領域。 既定では、メディア領域列の幅とコンテンツ領域列の幅の比率は 2:1 になります。 モバイル デバイスでは 2 つの領域が積み重ねられ、一方の領域がもう一方の領域の下に表示されます。 テーマを使用して、列の幅やスタック ランクをカスタマイズすることができます。

購入ボックス モジュールは、製品のタイトル、説明、価格、および評価をレンダリングします。 また、顧客は、サイズ、スタイル、色などの製品属性が異なる製品バリアントを選択することもできます。 製品バリアントが選択されると、購入ボックスの他のプロパティ (製品の説明や画像など) が更新されて、バリアント情報が反映されます。 

数量セレクターは、顧客が購入する品目の数量を指定できるようにするために用意されています。 購入できる最大数量は、サイト設定で定義できます。

購入 ボックスから、カートへの製品の追加、欲しい物リストへの製品の追加、集配場所の選択などのアクションを実行することもできます。 これらのアクションは、製品または製品バリアントに対して実行できます。 製品を欲しい物リストに追加するには、顧客がサインインしている必要があります。

テーマを使用すると、購入ボックスの製品プロパティとアクション コントロールの順序を削除または変更できます。 

## <a name="module-properties"></a>モジュール プロパティ

- **ヘッダー タグ** ー このプロパティは、製品タイトルのヘッダー タグを定義します。 購入ボックスがページの一番上にある場合は、アクセシビリティ標準を満たすため、このプロパティを **h1** に設定する必要があります。 

- **類似した外観のものを買う** - このプロパティを使用すると、現在表示されている商品に似ている商品へのリンクを購入ボックスに表示できます。 この機能は、コマースのリリース 10.0.13 およびこれ以降でのみ利用できます。

## <a name="modules-that-can-be-used-in-a-buy-box-module"></a>購入用ボックス モジュールで使用できるモジュール

- **メディア ギャラリー** – このモジュールは、製品の詳細ページに製品の画像を表示するために使用されます。 このモジュールの詳細については、[メディア ギャラリー モジュール](media-gallery-module.md) を参照してください 。
- **ストア セレクタ―** – このモジュールでは、品目の受け取り可能な近隣店舗の一覧を表示します。 これにより、ユーザーは場所を入力して、近隣にある店舗を見つけることができます。 このモジュールの詳細については、[店舗セレクタ モジュール](store-selector.md) を参照してください 。
- **ソーシャル共有** - このモジュールを [購入] ボックスに追加すると、ユーザーがソーシャル メディアで製品情報を共有できるようになります。 詳細については、[ソーシャル シェア モジュール](social-share-module.md) を参照してください。

## <a name="buy-box-module-settings"></a>購入ボックス モジュール設定

以下の購入ボックス モジュールは、**サイト設定 \> 拡張** で構成可能です :

- **カートの明細行の数量上限** – このプロパティは、カートに追加できる各品目の最大数を指定する目的で使用されます。 たとえば、小売業者が、単一のトランザクションで販売できるのは各製品 10 個のみと決定する場合があります。
- **在庫** - 在庫設定の適用方法については、[在庫設定を適用する](inventory-settings.md)を参照してください。
- **製品をカートに追加する** - このプロパティは、品目がカートに追加された後の動作を指定するために使用されます。 使用可能な値は、**カート ページに移動**、**カート ページに移動しない**、**通知を表示** です。 この値が **カート ページに移動** に設定されている場合は、ユーザーが品目を追加した後はカート ページに移動します。 この値が **カート ページに移動しない** に設定されている場合は、ユーザーが品目を追加した後もカート ページに移動しません。 この値が **通知を表示** に設定されている場合、ユーザーに確認の通知が表示され、引き続き製品の詳細ページを参照することができます。 

> [!IMPORTANT]
> **製品をカートに追加** サイト設定は、Dynamics 365 Commerce 10.0.11 リリースで使用できます。 古いバージョンの Dynamics 365 Commerce を更新する場合は、appsettings.json ファイルを手動で更新する必要があります。 appsettings.json ファイルを更新する手順については、[SDK およびモジュール ライブラリの更新](e-commerce-extensibility/sdk-updates.md#update-the-appsettingsjson-file)を参照してください 。 

次の画像では、Fabrikam サイトにおいて "カートに追加された" 際の確認通知の例を示しています。

![通知モジュールの例](./media/ecommerce-addtocart-notifications.PNG)

## <a name="commerce-scale-unit-interaction"></a>Commerce Scale Unit インタラクション

購入ボックス モジュールでは、Commerce Scale Unit アプリケーションのプログラム インターフェース (API) を使用して製品情報を取得します。 製品の詳細ページの製品 ID は、すべての情報を取得するために使用されます。

## <a name="add-a-buy-box-module-to-a-page"></a>購入ボックス モジュールをページに追加する

新しいページに購入ボックス モジュールを追加して必要なプロパティを設定するには、次の手順を実行します。

1. **フラグメント** に移動し、続いて **新規** を選択して新規フラグメントを作成します。
1. **新規フラグメント** ダイアログ ボックスで、**ボックスを購入** モジュールを選択します。
1. **フラグメント名** で、名前に **購入ボックス フラグメント** と入力し、**OK** を選択します。
1. 購入用ボックス モジュールを含む **メディア ギャラリー** スロットにて、省略記号 (**...**) を選択し、**モジュールの追加** を選択します。
1. **モジュールの追加** ダイアログ ボックスで、**メディア ギャラリー** モジュールを選択して、**OK** を選択します。
1. 購入用ボックス モジュールを含む **店舗セレクター** スロットにて、省略記号 (**...**) を選択し、**モジュールの追加** を選択します。
1. **モジュールの追加** ダイアログ ボックスで、**店舗セレクター** モジュールを選択して、**OK** を選択します。
1. **保存** を選択し、 **編集の完了** を選択してフラグメントにチェックインし、**発行** を選択して公開します。
1. **テンプレート** に移動し、**新規** を選択して新たなテンプレートを作成します。
1. **テンプレート名** 配下の **新規テンプレート** ダイアログ ボックスに、**PDP のテンプレート** を入力し、**OK**  を選択します。
1. **本文** スロットの省略ボタン (**...**) を選択し、**モジュールの追加** を選択します。
1. **モジュールの追加** ダイアログ ボックスで、**規定のページ** モジュールを選択して、**OK** を選択します。
1. 既定のページの **メイン** スロットで、省略記号ボタン (**...**) を選択してから、**フラグメントの追加** を選択します。
1. **ページ フラグメントの選択** ダイアログ ボックスで、作成済の **購入ボックス フラグメント** フラグメントを選択し、続いて **OK** を選択します。
1. **保存** を選択し、 **編集の完了** を選択してテンプレートをチェックインし、**発行** を選択して公開します。
1. **ページ** に移動し、**新規** を選択して新たなページを作成します。
1. **テンプレートの選択** ダイアログ ボックスで、**PDP テンプレート** のテンプレートを選択します。 **ページ名** 配下で、 **ページの PDP** を入力し、**OK** を選択します。
1. 新規ページの **メイン** スロットで、省略記号ボタン (**...**) を選択してから、**フラグメントの追加** を選択します。
1. **ページ フラグメントの選択** ダイアログ ボックスで、作成済の **購入ボックス フラグメント** フラグメントを選択し、続いて **OK** を選択します。
1. ページを保存してプレビューします。 **?productid=&lt;product id&gt;** クエリ文字列パラメーターをプレビュー ページの URL に追加します。 このようにして、製品コンテキストを使用してプレビュー ページの読み込みと表示を行います。
1. **保存** を選択し、 **編集の完了** を選択してページにチェックインし、**発行** を選択して公開します。 製品の詳細ページに、購入ボックスが表示される必要があります。

## <a name="additional-resources"></a>追加リソース

[モジュール ライブラリの概要](starter-kit-overview.md)

[店舗セレクター モジュール](store-selector.md)

[メディア ギャラリー モジュール](media-gallery-module.md)

[コンテナー モジュール](add-container-module.md)

[カート モジュール](add-cart-module.md)

[チェックアウト モジュール](add-checkout-module.md)

[注文確認モジュール](order-confirmation-module.md)

[ヘッダー モジュール](author-header-module.md)

[フッター モジュール](author-footer-module.md)

[ソーシャル共有モジュール](social-share-module.md)

[小売チャンネルの引当可能在庫数量の計算](calculated-inventory-retail-channels.md)

[SDK およびモジュール ライブラリの更新](e-commerce-extensibility/sdk-updates.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
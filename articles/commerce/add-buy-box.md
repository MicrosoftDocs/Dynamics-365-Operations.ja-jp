---
title: 購入ボックス モジュール
description: このトピックでは、購入ボックス モジュールと、Microsoft Dynamics 365 Commerce のサイト ページにそれを追加する方法について説明します。
author: anupamar-ms
manager: annbe
ms.date: 04/13/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.scope: Retail, Core, Operations
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 35b7027e0f0b680dd82ebfcea754fef1617c0163
ms.sourcegitcommit: ac966ea3a6c557fb5f9634b187b0e788d3e82d4d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/14/2020
ms.locfileid: "3261401"
---
# <a name="buy-box-module"></a>購入ボックス モジュール


[!include [banner](includes/banner.md)]

このトピックでは、購入ボックス モジュールと、Microsoft Dynamics 365 Commerce のサイト ページにそれを追加する方法について説明します。

## <a name="overview"></a>概要

*購入ボックス*という用語は、通常 "折りたたみの上" である製品の詳細ページの領域を指し、製品購買に必要な最も重要な情報すべてをホストします。 ("折りたたみの上" である領域はページが最初に読み込まれたときに表示されるため、ユーザーは下にスクロールして表示する必要はありません。)

購入ボックス モジュールは、製品の詳細ページの購入ボックス領域に表示されるすべてのモジュールをホストするために使用する特別なコンテナーです。

製品の詳細ページの URL には、製品 ID が含まれます。 購買ボックス モジュールの表示に必要なすべての情報は、この製品 ID から派生します。 製品 ID が指定されていない場合、購入ボックス モジュールはページに正しく表示されません。 したがって、購入ボックス モジュールは、製品コンテキストがあるページでのみ使用できます。 製品コンテキストがないページ (ホーム ページやマーケティング ページなど) で使用するには、追加のカスタマイズを行う必要があります。

## <a name="buy-box-module-properties-and-slots"></a>購入ボックス モジュール プロパティおよびスロット 

製品の詳細ページでは、購入ボックスは 2 つの領域に分割されます: 左側にメディア領域、右側にコンテンツ領域。 既定では、メディア領域列の幅とコンテンツ領域列の幅の比率は 2:1 になります。 モバイル デバイスでは 2 つの領域が積み重ねられ、一方の領域がもう一方の領域の下に表示されます。 テーマを使用して、列の幅やスタック ランクをカスタマイズすることができます。

購入ボックス モジュールは、製品のタイトル、説明、価格、および評価をレンダリングします。 また、顧客は、サイズ、スタイル、色などの製品属性が異なる製品バリアントを選択することもできます。 製品バリアントが選択されると、購入ボックスの他のプロパティ (製品の説明や画像など) が更新されて、バリアント情報が反映されます。 

数量セレクターは、顧客が購入する品目の数量を指定できるようにするために用意されています。 購入できる最大数量は、サイト設定で定義できます。

購入 ボックスから、カートへの製品の追加、欲しい物リストへの製品の追加、集配場所の選択などのアクションを実行することもできます。 これらのアクションは、製品または製品バリアントに対して実行できます。 製品を欲しい物リストに追加するには、顧客がサインインしている必要があります。

テーマを使用すると、購入ボックスの製品プロパティとアクション コントロールの順序を削除または変更できます。 

## <a name="module-properties"></a>モジュール プロパティ

- **ヘッダー タグ** ー このプロパティは、製品タイトルのヘッダー タグを定義します。 購入ボックスがページの一番上にある場合は、アクセシビリティ標準を満たすため、このプロパティを **h1** に設定する必要があります。 

## <a name="modules-that-can-be-used-in-a-buy-box-module"></a>購入用ボックス モジュールで使用できるモジュール

- **メディア ギャラリー** – このモジュールは、製品の詳細ページに製品の画像を表示するために使用されます。 一対多の画像をサポートできます。 サムネイル画像もサポートします。 サムネイル画像は、水平方向 (画像の下の行) または垂直方向 (画像の横の列) のいずれかに配置できます。 メディア ギャラリー モジュールは、購入ボックス モジュールの**メディア** スロットに追加できます。 現在、画像のみをサポートしています。 
- **ストア セレクタ―** – このモジュールでは、品目の受け取り可能な近隣店舗の一覧を表示します。 これにより、ユーザーは場所を入力して、近隣にある店舗を見つけることができます。 このモジュールの詳細については、[ストア セレクター モジュール](store-selector.md) を参照してください。

## <a name="buy-box-module-settings"></a>購入ボックス モジュール設定

購入ボックス モジュールには、**サイト設定 \> 拡張子**でコンフィギュレーションできる 3 つの設定があります:

- **最大数量** – このプロパティは、カートに追加できる各品目の最大数を指定するために使用されます。 たとえば、小売業者が、単一のトランザクションで販売できるのは各製品 10 個のみと決定する場合があります。
- **在庫確認** – 値が **True** に設定されている場合、購入ボックス モジュールが品目が在庫にあることを確認した後にのみ、品目がカートに追加されます。 この在庫チェックは、品目が出荷されるシナリオと、品目を店舗で受け取るシナリオで実行されます。 値が **False** に設定されている場合、品目がカートに追加されて注文が行われる前に、在庫確認は実行されません。 バック オフィスの在庫の設定をコンフィギュレーションする方法については、[小売チャンネルの引当可能在庫数量の計算](calculated-inventory-retail-channels.md) を参照してください。

- **在庫バッファー** – このプロパティは、在庫のバッファー数を指定するために使用されます。 在庫はリアルタイムで管理されるため、多くの顧客が注文する場合、正確な在庫数を管理するのが困難な場合があります。 在庫確認が実行されると、在庫がバッファー額を下回る場合、その製品は在庫切れとして処理されます。 したがって、複数のチャネルで販売が迅速に行われ、在庫数が完全に同期されていない場合、在庫切れの品目が販売されるリスクは低くなります。

## <a name="commerce-scale-unit-interaction"></a>Commerce Scale Unit インタラクション

購入ボックス モジュールでは、Commerce Scale Unit API を使用して製品情報を取得します。 製品の詳細ページの製品 ID は、すべての情報を取得するために使用されます。

## <a name="add-a-buy-box-module-to-a-page"></a>購入ボックス モジュールをページに追加する

新しいページに購入ボックス モジュールを追加して必要なプロパティを設定するには、次の手順を実行します。

1. **購入ボックス フラグメント**という名前のフラグメントを作成し、それに購入ボックス モジュールを追加します。
1. 購入ボックス モジュールの**メディア** スロットで、メディア ギャラリー モジュールを追加します。
1. 購入ボックス モジュールの**ストア セレクタ―** スロットで、ストア セレクター モジュールを追加します。
1. ページをチェックインしてから公開します。
1. 製品の詳細ページのテンプレートを作成し、**PDP テンプレート**という名前を付けます。
1. 既定のページを追加します。
1. 既定ページの**メイン** スロットで、購入ボックス フラグメントを追加します。
1. テンプレートを保存し、編集を終了して、公開します。
1. 作成したテンプレートを使用して、**PDP ページ**という名前のページを作成します。
1. 新しいページの**メイン** スロットで、購入ボックス フラグメントを追加します。
1. ページを保存してプレビューします。 **?productid=&lt;product id&gt;** クエリ文字列パラメーターをプレビュー ページの URL に追加します。 このようにして、製品コンテキストを使用してプレビュー ページの読み込みと表示を行います。
1. ページを保存し、編集を終了してから、公開します。 製品の詳細ページに、購入ボックスが表示される必要があります。

## <a name="additional-resources"></a>追加リソース

[スタート キットの概要](starter-kit-overview.md)

[店舗セレクター モジュール](store-selector.md)

[コンテナー モジュール](add-container-module.md)

[買い物カゴ モジュール](add-cart-module.md)

[買い物カゴ アイコン モジュール](cart-icon-module.md)

[チェックアウト モジュール](add-checkout-module.md)

[注文確認モジュール](order-confirmation-module.md)

[ヘッダー モジュール](author-header-module.md)

[フッター モジュール](author-footer-module.md)

[小売チャンネルの引当可能在庫数量の計算](calculated-inventory-retail-channels.md)

---
title: 在庫を認識した製品の一覧
description: この記事では、企業が Microsoft Dynamics 365 Commerce の eコ マースサイトで商品一覧ページを設定し、在庫を認識させる方法について説明します。
author: boycez
ms.date: 08/31/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: boycez
ms.search.validFrom: 2022-08-23
ms.openlocfilehash: 2a65dedf2da62fcd92169077d75a0f3b7832a86d
ms.sourcegitcommit: b1df4db7facb5e7094138836c41a65c4a158f01d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/13/2022
ms.locfileid: "9473737"
---
# <a name="inventory-aware-product-listing"></a>在庫を認識した製品の一覧

[!include [banner](../includes/banner.md)]

この記事では、企業が Microsoft Dynamics 365 Commerce の eコ マースサイトで商品一覧ページを設定し、在庫を認識させる方法について説明します。 製品一覧ページには、カテゴリのランディングページや検索結果ページが含まれます。

顧客は一般的に、EC サイト内の商品検索で、在庫がない場合にどうすればよいかを判断できるような仕組みを求めています。 [コマース モジュール ライブラリ](starter-kit-overview.md) カテゴリーと検索結果モジュールには、在庫データを組み込むことができます。 このようにして、次のような体験を提供することができます:

- 在庫状況ラベルを商品と同時に表示する。
- 製品リストから在庫切れの製品を非表示にします。
- 在庫切れの商品を商品一覧ページの最下部に移動します。
- 在庫ベースの商品フィルターに対応。

これらのエクスペリエンスを有効にするには、まず Commerce headquarters で **在庫を考慮した e コマース商品検出の強化** 機能を有効にする必要があります。

> [!NOTE]
> Commerce バージョン 10.0.29 リリース以降では、**在庫の認識を強化した拡張型 eコマース製品検出** 機能が、既定で利用できます。

## <a name="set-up-product-attribute-for-inventory-availability"></a>在庫の有無に応じた商品属性の設定

在庫を考慮した商品リストには、商品属性のフレームワークが使用されています。 前提として、在庫状況データを取得するために専用の商品属性を作成する必要があります。

Commerce headquarters で在庫の有無の商品属性を設定するには、以下のステップで行います。

1. **Retail とコマース \> Retail とコマース IT \> 製品と在庫 \> 商品属性と在庫レベルの入力** の順に移動します。
1. **商品属性にインベントリ レベルを入力する** ダイアログボックスで、**商品属性とタイプ名** フィールドに、在庫データを取得するために作成される専用の商品属性のカスタム名を入力します。
1. **在庫の有無に基づく** フィールドで、在庫レベルの算定を **利用可能な現物** または **利用可能な合計** に基づく数量タイプを選択します。
1. **バッチ処理** オプションを **はい** に設定します。
1. **OK** を選択します。

> [!NOTE]
> e-コマース サイトのページ間で一貫した在庫レベルの算定を行うには、Commerce サイトビルダーの **商品属性に在庫レベルを入力する** ジョブと **在庫レベルに基づく** 設定の両方のフィールドで、**次に基づく在庫の可用性** フィールドと同じ数量タイプを選択することを確認してください。

専用の商品属性を作成した後のステップでは、オンライン チャネル用の属性を設定します。

Commerce headquarters でオンライン チャネルの属性を設定するには、次の手順に従います。

1. **Retail と Commerce \> チャネル設定 \> チャネル カテゴリと製品属性** に移動します。
1. 在庫を考慮した商品リスト体験を有効にするオンライン チャネルを選択します。
1. 関連する属性グループを選択して開き、そこに新しい商品属性を追加します。
1. **Retail と Commerce \> Retail と Commerce IT \> 配送スケジュール** に移動し、**1150** (**カタログ**) ジョブを実行します。 このジョブは、**商品属性に在庫レベルを入力する** ジョブと同じ頻度で実行されるバッチ プロセスとしてスケジュールすることをお勧めします。

> [!NOTE]
> Commerce のバージョン 10.0.26 以前のバージョンでは、在庫状況商品属性を属性グループに追加した後、**属性メタデータを設定** を選択し、新しい商品属性の **チャンネルに属性を表示する**、**取得可能**、**絞り込み可能**、**クエリ可能** オプションをオンにする必要があります。

## <a name="configure-the-display-behavior-for-out-of-stock-products-on-product-listing-pages"></a>商品一覧ページで在庫切れの商品の表示動作を設定します

前述の構成ステップがすべて完了すると、カテゴリページと検索結果ページのリファイナーに、インベントリ ベースのフィルターオプションが追加されます。 ページに表示される各商品タイルには、在庫レベルラベルが表示されます。

カテゴリと検索結果ページでは、製品シリーズレベルではなく、マスター レベルで商品を表示します。 各商品の横に表示されるインベントリ レベルは、その商品の全バリエーションのインベントリ レベルによって決定される集計値です。 製品シリーズの在庫レベルは、Commerce headquarters のオンライン チャネルの既定の倉庫にあるそのシリーズの手持ち在庫を基に計算されます。 マスター商品の在庫レベルには、在庫がある状態とない状態を表す 2 つの値があります。 マスタ 製品は、シリーズがすべて在庫切れである場合に在庫切れと見なされます。 それ以外の場合は、在庫があるものとみなされます。 値のラベルは、[在庫レベル](inventory-buffers-levels.md)の定義から取得されます。 在庫レベルが定義されていない場合、既定のラベル (英語) は **在庫あり** と **在庫なし** です。

Commerce サイト ビルダーで **商品一覧ページの在庫** 設定を行うことで、カテゴリや検索結果ページでの在庫切れ商品の表示方法を制御することができます。 詳細については、[在庫設定を適用する](inventory-settings.md) を参照してください。

[!INCLUDE[footer-include](../includes/footer-banner.md)]

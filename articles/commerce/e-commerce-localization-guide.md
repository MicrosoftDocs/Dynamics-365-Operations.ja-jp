---
title: Dynamics 365 Commerce eコマース ローカライズ ガイド
description: このトピックでは、Microsoft Dynamics 365 Commerce eコマース サイトを追加の言語にローカライズし、複数のチャネルをサポートするようにサイトを構成する方法について説明します。
author: bicyclingfool
ms.date: 04/29/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: stuharg
ms.search.validFrom: 2017-06-20
ms.openlocfilehash: 1e9d91036ceeb9161dc8ee903532b2cf3ca435e2
ms.sourcegitcommit: 26c726bd0b00935e3d2c31fdc5a3b2ae03a8a2b0
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/30/2022
ms.locfileid: "8661528"
---
# <a name="dynamics-365-commerce-e-commerce-localization-guide"></a>Dynamics 365 Commerce eコマース ローカライズ ガイド

[!include [banner](includes/banner.md)]

このトピックでは、Microsoft Dynamics 365 Commerce eコマース サイトを追加の言語にローカライズし、複数のチャネルをサポートするようにサイトを構成する方法について説明し、プロセスに関連する概念と用語についても説明します。

Dynamics 365 Commerce の eコマース機能は、特定の国や言語に合わせて調整できるオンライン エクスペリエンスを有効にすると同時に、テンプレート、ページ、コンテンツ、およびメディアを最大限に再利用できるように設計されています。 また、基本的なサイトを作成してから、国や言語のサポートを追加することで、新しい市場に拡大することもできます。

## <a name="definitions"></a>定義

**ロケール、ロケール識別子**: ロケール (ロケール識別子とも呼ばれます) は、国または地域に関連付けられている言語を定義します。 たとえば、ロケール識別子「fr-ca」はカナダ フランス語に関連付けられています。

**基本言語**: ローカライズのエクスポート前にサイト コンテンツを開発する言語。

**チャネル、オンライン ストア**: チャネル (オンライン ストアとも呼ばれます) は、オンライン eコマース ストアフロントの支払方法、価格グループ、製品階層、品揃え、および製品を定義します。

## <a name="concepts"></a>概念

### <a name="url-driven-experience"></a>URL 駆動型エクスペリエンス

Dynamics 365 Commerce eコマース サイトは、チャネルとロケール識別子を通じて、顧客に固有のマーケット化され、ローカライズされたエクスペリエンスを提供します。 チャネルは、市場に固有の製品、カテゴリ、通貨、および支払方法を定義し、ロケール識別子は、顧客に表示されるコンテンツの言語を決定します。 eコマース サイトでは、URL を使用して、マーケット化されたエクスペリエンスとローカライズされたエクスペリエンスを区別します。 これらの固有のチャネルとロケールのエクスペリエンスのサイト URL は、Dynamics 365 Commerce サイト ビルダーの **サイト設定 \> チャネル** ページのサイトに対して定義されます。

サイト ビルダーでは、URL はドメインとパスの組み合わせであり、チャネルとロケールの固有の組み合わせのエントリ ポイントを定義します。 次の例では、Fabrikam Inc. という架空のオンライン ストアが、チャネルとロケールの 4 つの固有の組み合わせを定義し、各組み合わせを、顧客にコンテンツを提供する固有 URL にマップします。

| ドメイン                     |  パス      | チャネル       |   ロケール     |
|------------------------|--------|--------------------------------|--------|
| `https://fabrikam.com` | /      | Fabrikam 拡張オンライン ストア | ja  |
| `https://fabrikam.com` | /es    | Fabrikam 拡張オンライン ストア | es     |
| `https://fabrikam.ca`  | /      | Contoso オンライン ストア    | fr-ca  |
| `https://fabrikam.ca`  | /en-ca | Contoso オンライン ストア    | en-ca  |

#### <a name="domain"></a>ドメイン

ドメインは、Microsoft Dynamics Lifecycle Services (LCS) で eコマース サイトを設定するときに確立されます。 eコマース環境がプロビジョニングされたら、サービス要求を開いてドメインを追加できます。 eコマース サイトのドメインの設定方法の詳細については、[Dynamics 365 Commerce のドメイン](domains-commerce.md) を参照してください。

#### <a name="path"></a>パス

- パスは、ドメインと組み合わせて、チャネルとロケールの固有の組み合わせにマップされる任意の文字列です。 前の例では、パスとして使用される文字列は、パスがマップされているロケール識別子と一致します。 ただし、別のアプローチを使用できます。
- チャネルとロケールの組み合わせは、ドメインと空のパス ("/") にマップできます。 前の例では、`https://fabrikam.ca/` にアクセスした顧客は、カナダ フランス語でカナダ市場の製品と品揃えを取得します。
- Commerce サイト ビルダーは、ドメインとパスの重複する組み合わせを作成することを防ぎます。 ただし、チャネルとロケールの重複する組み合わせを、ドメインとパスの異なる組み合わせにマップすることができます。

#### <a name="channel"></a>チャネル

- チャネル (オンライン ストアとも呼ばれます) は、オンライン eコマース ストアフロントの支払方法、価格グループ、製品階層、品揃え、および製品を定義します。
- チャネルは、Dynamics 365 Commerce 本部で定義、構成、および公開されます。
- サイト ビルダーは、コマース本部で構成され、サイトにマッピングできるオンライン ストアを検出できます。

チャネルの詳細については、[チャネルの概要](channels-overview.md) を参照してください。 オンライン チャネルの設定方法の詳細については、[オンライン チャネルの設定](channel-setup-online.md) を参照してください。

#### <a name="locale"></a>ロケール

- ロケールは、ローカライズのために XML ローカライズ交換ファイル形式 (XLIFF) ファイルを渡すときに使用される実際の識別子です。 ロケールは定義され、コマース本部の各チャネルに対して公開されます。 サイト ビルダーで言語とチャネルを構成する方法については、次のセクションを参照してください。
- 同じロケールを複数のチャネルにマップできます。 このようにして、共通の言語を複数の市場で提供できます。

## <a name="configure-languages-and-channels-for-your-e-commerce-site"></a>eコマース サイトの言語およびチャネルの構成

すぐに使用できるすべての Dynamics 365 Commerce eコマース サイトは、Fabrikam デモ サイトから開始するか、最初から新しいサイトを作成するかに関係なく、単一のオンライン チャネルと単一の言語を使用するように構成されています。

この構成では、顧客とパートナーは通常、国や言語で使用されるすべての資産を開発します。 これらの資産には、ページ、フラグメント、コンテンツ、メディアが含まれます。 すべてのサイト コンテンツは、サイト用に選択した最初の言語で開発されています。また、Fabrikam デモ サイトを使用している場合、サイト コンテンツは英語で開発されます。

![すぐに使用できる Dynamics 365 Commerce eコマース サイト](media/loc-guide-1.png)

> [!NOTE]
> 追加の言語の Fabrikam デモ サイトを構成して、その言語でコンテンツ開発を実行できるようにすることができます。 サイトとチャネルに新しい言語を追加する方法については、このトピックで後述する[サイトの追加言語の構成](#configure-an-additional-language-for-your-site) セクションを参照してください。

ただし、Dynamics 365 Commerce eコマース サイトのコンテンツ管理システム (CMS) とページ モデルは、新しい市場とロケールへの拡張を有効にするように設計されています。 したがって、単一の eコマース サイトを通じて、複数の市場と言語にまたがるオンライン ストアの資産を管理できます。

![複数の市場と言語にまたがる Dynamics 365 Commerce eコマース サイト](media/loc-guide-2.png)

### <a name="configure-an-additional-language-for-your-site"></a>サイトに追加の言語を構成する

eコマース サイトの新しい言語を構成するプロセスには、3 つの手順があります。

#### <a name="step-1-add-the-language-to-your-channel-online-store-in-commerce-headquarters"></a>手順 1: コマース本部のチャネル (オンライン ストア) に言語を追加する

1. コマース本部で、新しい言語を追加するチャネルに移動します。 コマース本社で構成したチャネルのリストを検索するには **小売とコマース \> チャネル \> オンライン ストア** の順に移動しします。
1. **小売チャネル ID** の値を選択して、サイトにマップされているオンライン ストアを開きます。 Commerce サイト ビルダーで **チャネル** サイト設定ページを開き、**チャネル** 列でオンライン ストアの名前を確認することで、サイトにマップされているオンライン ストアを確認できます。 
1. **言語** クイック タブで、**追加** を選択します。 **言語** フィールドで、新しい言語のロケール コードを選択します。 その後、**保存** を選択します。
1. **小売とコマース \> 小売とコマース IT \> 配送スケジュール** の順に移動し、ジョブ **1070 チャネル コンフィギュレーション** を実行します。 ジョブの実行が終了したら、手順 2 に進み、サイト ビルダーでサイトのチャネルに言語を追加できます。

![コマース本部のオンライン ストアの言語クイックタブ](media/loc-guide-3.png)

#### <a name="step-2-add-the-language-to-a-channel-in-site-builder"></a>手順 2: サイト ビルダーでチャネルに言語を追加する

サイト ビルダーで言語をチャネルに追加するには、次の手順に従います。

1. Commerce サイト ビルダーで、サイトを開き、サイト設定の **チャネル** ページを開きます。
1. 言語を追加するチャネルの名前を選択します。
1. 右側のペインで、**ロケールの追加** を選択します。
1. **ロケールの追加** ダイアログ ボックスの **ロケールの追加** で、コマース本部のチャネルに以前に追加した言語のロケールを選択します。
1. このチャネルと言語でサイトを表示するために顧客が要求するドメインとパスを選択します。
1. この言語をサイト ビルダーのページとフラグメントを表示、作成、更新するための既定の言語にする場合は、**既定の作成チャネル言語として使用** チェックボックスを選択します。 
    > [!NOTE]
    > この設定はサイト ビルダーにのみ影響します。 これは、顧客の公開されたサイト エクスペリエンスに影響を与えません。
1.  **OK** を選択します。
1. **保存と公開** を選択します。

#### <a name="step-3-localize-your-site-content"></a>手順 3: サイト コンテンツをローカライズする

Commerce サイト ビルダーの **ページ** ビューに戻ると、右上のチャネルとロケール ピッカーで新しい言語が使用可能になります。 基本言語で、ページのローカライズされたバージョンを作成できます。

ページとフラグメントのコンテンツをローカライズするプロセスについては、このトピックで後述する [eコマース サイト コンテンツのローカライズ](#localize-e-commerce-site-content) セクションで説明しています。

### <a name="configure-a-new-channel-for-your-site"></a>サイトの新しいチャネルを構成する

Dynamics 365 Commerce eコマース サイトは、コマース本社で構成されている複数のオンライン チャネルにわたって定義されたエクスペリエンスを提供できます。 サイトは複数のチャネルを使用して、支払方法、価格グループ、製品階層、品揃え、および製品セットの固有のコンフィギュレーションを顧客に示します。 チャネルは通常、個々の国に関連付けられているエクスペリエンスの要件と基本設定に合わせてこれらの分析コードを構成するために使用されます。 ただし、この方法は顧客が行う業務上の意思決定です。 要件ではありません。

チャネル (オンライン ストア) の設定に関連する前提条件とタスクは、このドキュメントの範囲を超えています。 コマース本部でのオンライン チャネルの設定方法の詳細については、[チャネル設定の基本](channels-overview.md#channel-setup-basics) を参照してください。 オンライン チャネルに固有の手順と要件については、[オンライン チャネルの設定](channel-setup-online.md) を参照してください。

サイト ビルダーでチャネルをサイトに追加するには、次の手順に従います。

1. Commerce サイト ビルダーで、**サイト設定 \> チャネル** に移動します。 
1. **チャネルを追加** を選択します。
1. **チャネルの追加** ダイアログ ボックスの **チャネル**、追加するチャネルを選択します。 
    > [!NOTE]
    > サイトにまだ追加されていないチャネルのみを追加できます。
1. チャネルの既定のロケールを選択します。 チャネルに新しい言語を追加する場合は、既定の言語をその 1 つに変更できます。
1. チャネルと言語のこの組み合わせに対応するコンテンツやエクスペリエンスを提供する URL を構成するドメインとパスを指定します。
1.  **OK** を選択します。
1. **保存と公開** を選択します。

## <a name="localize-e-commerce-site-content"></a>eコマース サイト コンテンツをローカライズする

### <a name="xliff-basics"></a>XLIFF の基本

XLIFF は、コンテンツ管理ツール間でローカライズ可能なコンテンツを渡すための業界標準のファイル形式です。 Commerce サイト ビルダー では、XLIFF ファイル形式を使用してページ、フラグメント、および画像メタデータのコンテンツをエクスポートし、ローカライズして再インポートすることができます。

Microsoft Dynamics の顧客は通常、[Translated.com](https://translated.com/welcome) などのサードパーティのローカライズ ベンダーと協力して、XLIFF ファイルを必要な言語に翻訳します。

### <a name="localize-assets-in-site-builder"></a>サイトビルダーで資産をローカライズする

次の eコマース サイト資産をサイト ビルダーにローカライズできます。

- ページ
- フラグメント
- メディア資産
- モジュール

すべての新しいページ、フラグメント、およびメディア資産は、チャネルおよびロケール ピッカーで現在選択されているチャネルおよび言語のコンテキストで作成されます。 追加の言語またはチャネルを構成していない場合、この言語は通常、「基本言語」です。 複数のチャネルと言語が構成されているサイトでは、「基本言語」は、サイト設定の **チャネル** ページで既定として設定したチャネルとロケールによって定義されます。

ページ、フラグメント、およびメディア資産のコンテンツをローカライズする手順は類似しています。 例外と相違点については、次のセクションで説明します。 ただし、モジュール コンテンツをローカライズする手順は異なります。 詳細については、このトピックの後にある[ローカライズ モジュール](#localize-modules) セクションを参照してください。

#### <a name="step-1-export-an-xliff-file"></a>手順 1: XLIFF ファイルをエクスポートする

サイト ビルダーで、ページ、フラグメントまたは画像の XLIFF ファイルをエクスポートするには、次の手順を実行します。

1. ローカライズできるように、基本言語コンテンツをエクスポートする資産を開きます。
1. コマンド バーで、**ローカライズ \> XLIFF のエクスポート** を選択します。
    > [!NOTE]
    > **ローカライズ** オプションは、資産が **編集** 状態にある場合にのみ表示されます。

**\<assetname\>.xlf** という名前の XLIFF ファイルは、ブラウザーのダウンロード フォルダーにダウンロードされます。 この XLIFF ファイルは、ローカライズする資産に固有です。 ローカライズするすべての資産の XLIFF ファイルをエクスポートします。

#### <a name="step-2-localize-the-xliff-file"></a>手順 2: XLIFF ファイルをローカライズする

ほとんどの場合、ローカライズ仕入先と協力して、XLIFF ファイルを翻訳します。 ただし、内部で資産をローカライズする場合、またはローカライズ プロセスをテストするだけの場合は、XLIFF ファイルに次の変更を加える必要があります。

- ターゲット言語属性を/xliff/ファイル要素に追加し、その値をローカライズ先の言語のロケール識別子に設定します。 
    > [!NOTE]
    > このロケール識別子は、サイト設定の **チャネル** ページのロケール識別子と一致している必要があります。
- 各 // ソース要素ごとに、テキスト値がソース要素のコンテンツのローカライズされたバージョンであるターゲット要素の兄弟を追加します。

XLIFF ファイルを制御するスキーマの詳細については、[XLIFF 1.2 仕様](http://docs.oasis-open.org/xliff/xliff-core/xliff-core.html) を参照してください。

> [!NOTE]
> 資産を複数の言語にローカライズするには、各言語に対応するローカライズされた XLIFF ファイルを作成する必要があります。

#### <a name="step-3-import-the-localized-xliff-file"></a>手順 3: ローカライズされた XLIFF ファイルをインポートする

資産の XLIFF ファイルをインポートするには、次の手順に従います。

1. Commerce サイト ビルダーで、XLIFF ファイルをインポートする資産を開きます。
1. 右上のチャネルとロケールのピッカーで、ローカライズされたコンテンツをインポートするチャネルと言語を選択します。
1. コマンド バーで、**ローカライズ \> XLIFF のインポート** を選択します。 次に、選択した資産と言語のローカライズされた XLIFF ファイルを参照して選択します。

XLIFF ファイルが正常にインポートされると、ページ、フラグメント、または資産の「バリアント」が作成されます。 それ以降、ローカライズされたバリアントに加えられたすべての変更は、そのバリアントにのみ影響します。 バリアントが派生した基本資産には影響しません。 同様に、基本資産を変更しても、その資産のバリアントには影響しません。 

ただし、ページの場合、それらのページがバインドされているテンプレートまたはレイアウトを変更することにより、バリアント間で変更を加えることができます。 同様に、フラグメントを変更すると、そのバリアントに依存しているすべてのページに影響します。

### <a name="images"></a>画像

画像は、それらの画像に関連付けられているコンテンツ メタデータがローカライズされている場合にのみ、ページまたはモジュール バリアントで表示できます。 現在、メディア資産の次のメタデータはローカライズ可能です。

- 代替テキスト
- Description
- タイトル

現在、画像やビデオなどのデジタル資産にバイナリをローカライズすることはできません。 Dynamics 365 Commerce 製品チームは現在この機能に取り組んでいます。

### <a name="localize-modules"></a>モジュールをローカライズする

モジュール自体の一部として表示される文字列 (たとえば、カルーセル モジュールの「前へ」と「次へ」) は、モジュール コンテンツとは別にローカライズされます。 手順については、[モジュールのローカライズ](e-commerce-extensibility/localize-module.md) を参照してください。

## <a name="additional-resources"></a>追加リソース

[ページ モデルの用語集](page-elements-overview.md)

[クロスチャネル共有](cross-channel-sharing.md)

[モジュールのローカライズ](e-commerce-extensibility/localize-module.md)

[モジュール定義ファイル](e-commerce-extensibility/module-definition-file.md)

[Commerce 拡張リソースおよびラベル ファイルのローカライズ](dev-itpro/extension-resource-localization.md)

[CultureInfoFormatter クラスを使用したグローバライズ モジュール](e-commerce-extensibility/globalize-modules.md)

[アプリの設定: テーマ](e-commerce-extensibility/app-settings.md#themes-section)

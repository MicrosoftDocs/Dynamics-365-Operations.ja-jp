---
title: 小売割引
description: このトピックでは、Dynamics 365 Commerce でのコール センターの割引機能の概要を示します。 さまざまな割引フォームにあるプロパティとおよび割引管理のベスト プラクティスについて説明します。
author: shajain
ms.date: 11/03/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: IT Pro
ms.reviewer: josaw
ms.custom:
- "16181"
- intro-internal
ms.assetid: b1b57734-1406-4ed6-8e28-21c705ee17e2
ms.search.region: global
ms.search.industry: Retail
ms.author: shajain
ms.search.validFrom: 2018-10-23
ms.dyn365.ops.version: AX 8.1.0, Retail October 2018 update
ms.openlocfilehash: 6f6c55dc7f0d4fb2bf9e1bed621798af5692857a8b74100149ac44dba3f602d3
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/05/2021
ms.locfileid: "6717610"
---
# <a name="retail-discounts"></a>小売割引

[!include [banner](includes/banner.md)]

## <a name="overview"></a>概要
このトピックでは、Dynamics 365 Commerce でのコール センターの割引機能の概要を示します。 さまざまな割引フォームにあるプロパティとおよび割引管理のベスト プラクティスについて説明します。 ただし、このトピックでは、さまざまな割引のタイプの詳細、たとえば、単純割引、数量割引、組み合わせ割引、およびしきい値割引などについては扱いません。 これらの詳細については、これらの割引タイプごとに作成された個別のトピックで説明します。

小売業者は、柔軟な割引を必要としており、割引のスタイルとタイプは業界によって異なるため、コマースで割引を定義するにはさまざまな方法があります。 割引機能は、コア製品 (Supply Chain Management) の既存の割引機能に追加されたため、いくつかの重複機能があります。 その結果、割引タイプは、5 つの異なるエンティティ (顧客、ロイヤルティ プログラム、チャンネル、カタログ、および所属) にコンフィギュレーションすることができます。 割引オプションの数が多いため、割引戦略を計画して文書化することは特に重要です。

## <a name="creating-discounts"></a>割引の作成

各割引タイプには、専用ページがあり、割引を作成および管理するために使用します。 コマースには、**すべての割引** ページおよび **価格と割引の管理** ワークスペースがあり、どちらも任意のタイプの新しい割引を作成するのに使用できます。

### <a name="discount-headers-and-discount-lines"></a>割引ヘッダーと割引明細行

すべての割引には、ヘッダー 1 つと 1 つ以上の明細行があります。 すべての割引タイプには、ヘッダーで定義されているプロパティがあり、一部の割引タイプには明細行ごとに定義されているその他のプロパティがあります。 たとえば、数量割引には数量の階層があります。 顧客は、多くの場合、割引ヘッダーの観点からのみコマースの割引を考え、割引ヘッダーを共有しているために割引のすべての明細行が互いに関連付けられているものと見なします。 ただし、割引のこのビューは非常に単純です。 単純割引と数量割引の場合、各割引明細行を、他の割引明細行と一部のプロパティを共有する独立した割引と考える方が正確です。 実際には、価格決定エンジンは、この方法だけで単純割引と数量割引を評価します。 単純割引および数量割引の各割引明細行は依存していません。 単純割引の場合、割引の資格を得るために必要な数量または金額の条件がないため、各割引明細行が同じ割引の他のすべての割引明細行に依存していないこと理解しやすくなります。 数量割引の場合、明細行は、割引の数量基準に到達させるために組み合わせることができると考えるかもしれませんが、そうではありません。 数量階層は、数量割引の行ごとに個別に到達する必要があります。

割引を作成するときは、割引の重複する明細行を常に回避するか最小限に抑えることをお勧めします。 重複する割引明細行は、同じ割引の 2 つ以上の割引明細行を同じ製品に適用できる場合に発生します。 この場合、価格決定エンジンは、最適な割引金額を見つけるために相互に評価する必要がある複数の独立した割引として割引を処理する必要があります。 さらに、割引定義を見るだけでどの割引が適切であるかをユーザーが判断することは難しいことがあります。

## <a name="managing-discounts"></a>割引の管理

### <a name="settings-and-options-that-are-common-to-all-discounts"></a>すべての割引に共通する設定とオプション

このセクションでは、割引のすべてのタイプに共通するプロパティについて説明します。

割引を管理するときは、各割引オプションを個別に理解することが重要ですが、どのオプションが互いにどのような影響を与えるかを理解しておくことも同じように重要です。 割引の一般的な設定は、2 つのカテゴリに分類されます。 最初の分類は、考慮すべき割引をフィルター処理する設定です。 例としては、**ステータス**、**通貨**、および **測定単位** です。 2 番目のカテゴリの設定は、複数の割引が考慮されて適用される順序を制御します。 例としては、**割引同時実行モード** および **価格決定の優先順位** があります。 次の図は、割引の各種プロパティを示しています。

![割引プロパティ。](./media/discount-properties.png "割引プロパティ")

### <a name="discount-id"></a>割引 ID

このフィールドのラベルは **割引** であり、割引ごとに一意の ID を保持しています。 最初に割引を作成するときに設定され、後で変更することはできません。 **コマース パラメーター** では、割引の種類ごとに独立した番号順序を設定することができます。 この場合、番号順序が競合しないことを確認します。 たとえば、各割引タイプに固有の接頭語を使用できます。 たとえば、**d** iscount には D、**q** uantity には Q、**m** ix and **m** atch には MM、**t** hreshold には T などです。

### <a name="discount-name"></a>割引名

このフィールドは、割引の説明に使用される簡単な自由書式フィールドです。 このフィールドの文字列値は、MPOS および CPOS 買い物カゴの明細行に表示され、Modern 販売時点管理 (MPOS) および Cloud POS (CPOS) 顧客レシートに印刷されます。 したがって、レジ担当者およびエンド ユーザーはこの説明を参照します。 これは、どの割引が適用されたかを MPOS/CPOS ユーザーや顧客が把握する主要な手段です。

### <a name="discount-type"></a>割引のタイプ

コマースには次の 4 つのタイプの割引があります: **割引**、**数量**、**組み合わせ**、および **しきい値**。 割引タイプは、最初に割引を作成するときに設定され、後で変更することはできません。 割引タイプは、割引の資格を得るために満たす必要がある数量または金額の基準があるかどうかを決定します。

### <a name="status"></a>ステータス

割引のステータスは、**有効** または **無効** です。 最初に割引を作成するとき、ステータスは **無効** です。 割引は、無効になっている場合にのみ編集できます。 割引データは、チャンネルにプッシュされますが、無効になっている割引はプッシュされません。 割引が以前に有効になり、チャンネルにプッシュされた場合、この新しいプッシュによりチャンネルから割引も削除されます。 ステータスを **有効** に変更すると、割引のタイプに応じて、割引を実行するさまざまな検証チェックが実行されます。 検証チェックの一覧は、不完全または定義が不十分な割引がコマース チャネルにプッシュされることを防ぐため、製品の最新の更新で増加しました。 割引を有効にするときに実行される検証の一覧の一部を以下に示します。

- 割引には、少なくとも 1 つの割引明細行が必要です。
- 割合割引の割合値は 0 (ゼロ) よりも大きく、100 以下にする必要があります。
- 数量割引の数量値は、0 (ゼロ) より大きくなければなりません。 0 や負の金額は、有効となりません。
- 割引には、少なくとも 1 つの価格グループが必要です。 価格グループを設定していない割引をトランザクションに適用することはありません。
- 測定単位 (UoM) は数量割引と組み合わせ割引の明細行に必要です。
- 2 つ以上の数量階層を持つ数量割引の場合、割引額は数量が大きくなると大きくなることが検証されます。
- 2 つ以上のしきい値階層を持つしきい値割引の場合、層ごとの割引額は、それより前の層の最大割引以上である必要があります。
- 組み合わせ最安値割引の場合、最安値の製品の数は、1 より大きく、かつ割引をトリガーするために必要な製品の数よりも少ない必要があります。

### <a name="currency"></a>Currency

割引の通貨は、割引のすべての金額および価格フィールドの通貨を定義します。 割引タイプごとにフィールドのオプションは異なります。 通貨は、割引の計算時にもフィルターとして機能します。 コマースでは、すべての販売注文と MPOS/CPOS トランザクションに通貨があり、価格決定エンジンは同じ通貨の割引のみを考慮します。

### <a name="discount-concurrency-mode"></a>割引同時モード

これは、どの割引がトランザクションと競争するか、どの割引がまとめられるかを決めます。 このオプションの 3 つの値は **排他**、**最良価格**、および **組み入れ** です。

値が **排他** または **最良価格** のとき、トランザクション明細行に 1 つだけ割引を適用することができます。 **排他** および **最良価格** の唯一の違いは、割引が考慮されて適用される順序です。 **排他** 割引は、他のすべての設定が同じである場合、常に **最良価格** および **組み入れ** 割引より前に評価されて適用されます。 したがって、**排他** および **最良価格** 割引が最小価格で競合することはありません。 2 つ以上の **排他** 割引は、際慮価格で競合し、**最良価格** 割引が複数になります。

値が **組み入れ** の場合、割引は、同じく **組み入れ** に設定されている他の任意の割引に組み入れることができます。 したがって、2 つ以上の **組み入れ** 割引がすべてトランザクション明細行に適用されます。 複数の **組み入れ** 割引がトランザクション明細行に適用されるとき、次の順序で適用されます。

1. 割引価格割引
2. 金額割引
3. 割合割引

両方のタイプがトランザクション明細行に適用される場合、**組み入れ** 割引は、**最良価格** 割引と競合します。 したがって、**組み入れ** 設定は、どの割引を組み入れるかを決定するために使用します。 使用される割引同時実行コントロール モードに応じて、複数の **組み入れ** 割引を組み合わせることができ、同じ商品に適用される **最良価格** 割引と競合します。 最大合計割引金額を持つ割引が適用されます。

### <a name="discount-account"></a>割引勘定

コマースでは、個別の総勘定元帳 (GL) 勘定にトランザクションの割引金額を転記することができます。 割引 GL 勘定は、製品または顧客別に設定されています。 コマースには、転記時に、割引金額を区別する固有の方法が用意されています。 各タイプの割引を特定の GL 勘定に転記できます。 両方のオプションで、総勘定元帳で使用されている割引や割引タイプを決定することが簡単になります。

> [!NOTE]
> 割引勘定転記機能が有効になると、コマース割引 GL 勘定から割引 GL 勘定に転記された割引を再分類するために追加の借方項目および貸方項目が作成されます。

### <a name="coupon-code-required"></a>クーポン コードが必要です

アプリのバージョン 7.2 から、割引にコール センター クーポンが統合されました。 割引の場合、**クーポン コードが必要** が **はい** に設定されている場合、**ステータス** フィールドおよび標準日付フィールド **有効日** および **有効期限** は使用できません。 これらのプロパティは、**クーポン** ページにある同等のプロパティによって制御されます。

割引で **クーポン コードが必要** が **はい** に設定されていると、MPOS/CPOS によってクーポン コードまたはバーコードが提供されている場合にのみ割引はトランザクションに適用されます。 クーポン コードおよびバーコードの値は、**クーポン** という名前の個別のページで定義され、構成されます。 クーポン ページでは、割引にクーポンがリンクされています。 [クーポン コードが必要] を **いいえ** に設定すると、クーポン コードは必要なく、割引が常にその価格グループに適用されます。

### <a name="override-priority-and-pricing-priority"></a>優先順位および価格決定優先順位の上書き

これら 2 つのフィールドは連携して動作します。 **優先順位の上書き** が **はい** に設定されていると、**価格決定の優先順位** フィールドが編集可能になります。 割引に直接設定する価格決定の優先順位を選択できます。 **優先順位の上書き** が **いいえ** に設定されていると、優先順位は割引に関連付けられている価格グループの優先順位から継承されます。 複数の価格グループの関連付けの場合、優先順位番号は、割引に関連付けられているすべての価格グループの最上位の価格決定優先順位を選択することによって決定されます。

### <a name="match-all-associated-price-groups"></a>関連するすべての価格グループと一致
Commerce バージョン 10.0.16 以降では、すべての割引フォームで **関連するすべての価格グループと一致** という構成を使用できます。 構成が有効な場合、割引に関連するすべての価格グループがトランザクションに適用される場合にのみ割引が考慮されます。 たとえば、「PG-Student」 (学生所属の価格グループ) と「RP-Houston」 (ヒューストン店舗の価格グループ) という 2 つの価格グループが割引に関連付けられていて、**関連するすべての価格グループと一致** が有効になっている場合、割引はヒューストンの店舗で買い物をする学生に対してのみ考慮されます。 この構成は、所属およびロイヤルティ ベースの割引を限定された店舗に制限する方法を提供します。

> [!NOTE]
> 2 つ以上のチャネル価格グループが割引に関連付けられていて、**関連するすべての価格グループと一致** が有効になっている場合、トランザクションは 1 つの店舗にのみ関連付けることができるため、割引は適用されません。 したがって、割引に関連付けられているすべての価格グループが一致しません。

### <a name="description"></a>説明

このフィールドは、自由形式テキスト フィールドです。 MPOS/CPOS システムまたはトランザクションでは使用されません。

### <a name="disclaimer"></a>免責事項

これは、自由形式テキスト フィールドです。 MPOS/CPOS システムまたはトランザクションでは使用されません。

### <a name="line-type"></a>行タイプ

このフィールドは、すべての割引明細行にあります。 **含める** と **除外する** のいずれかが指定されます。 このフィールドを **カテゴリ**、**製品**、および **バリアント** フィールドと組み合わせて使用して、割引が適用される製品のセットを定義します。 割引を除外する明細行は常に割引を含める明細行をオーバーライドします。 **行タイプ** が **除外** の場合、割引明細行の他のフィールドの多くが淡色表示になります。適用されないためです。

### <a name="unit-of-measure"></a>計量単位

**測定単位** (UoM) は、しきい値割引明細行を除くすべての割引明細行上のフィールドです。 このフィールドは、コマース のラベル **単位** です。 **測定単位** フィールドは、トランザクション明細行に割引を適用するかどうかを決定するために _フィルター_ として機能します。 トランザクション明細行の UoM は、割引明細行で UoM と一致する必要があります。 それ以外の場合、割引明細行は割引計算中に考慮されません。 割引の計算中に UoM 換算は行われません。

### <a name="category-product-variant-and-dimensions"></a>カテゴリ、製品、バリアント、および製品分析コード

**カテゴリ**、**製品**、**バリアントおよび分析コード** は、すべての割引に共通する最後の割引の設定です。 これらのフィールドは、各割引明細行で設定され、割引されるものを指定します。 価格決定エンジンがトランザクションに適用可能な割引を検索するとき、フィルターとして動作します。 これらのフィールドはそれぞれのルールにしたがって相互に関連しあっています。カテゴリには製品が含まれ、製品のサイズ、色、スタイル、および構成はさまざまです。

価格決定は、割引の計算中に割引の順序を決定するためにカテゴリ、製品、およびバリアントの親/子の関係を使用しません。 この動作は、価格決定エンジンが販売価格の売買契約を処理する方法とは異なります。 たとえば、あるカテゴリの 10% の割引と同じカテゴリの製品の 5% の割引の両方が考慮されます。 他のすべてのプロパティが同じであり、両方が組み入れらる **組み入れ** に割引が設定されていない限り、2 つの割引金額の大きいほうが使用されます。 カテゴリ割引で製品割引の使用を強制する場合、価格決定の優先順位または割引の同時発生モードを使用して、ある割引を別の割引より前に適用することができます。

割引を編集するとき、**カテゴリ**、**製品**、**バリアント**、**分析コード** 設定が相互のフィルターとして機能します。 製品またはバリアントが直接入力される場合、**カテゴリ** および **製品** フィールドが *コマース カテゴリ階層* から自動的に設定されます。 次のセクションでは、これらの各フィールドの詳細説明を提供します。

#### <a name="category"></a>カテゴリ

少なくとも、**カテゴリ** フィールドを設定する必要があります。 製品カテゴリ階層から、または補助カテゴリ階層からカテゴリを選択できます。 ただし、チャンネル ナビゲーション階層または他の非コマース階層からカテゴリを選択することはできません。 割引明細行でカテゴリが 1 つだけ指定されている場合、他のすべての割引基準 (通貨や UoM など) を満たしている限り、割引が作成された後に製品がカテゴリに追加された場合でも、割引はカテゴリ内のすべての製品に適用されます。

> [!NOTE]
> 割引明細行で選択したカテゴリは、特定の階層です。 したがって、ほとんどのコマース フィールドでできるように、フィールドに部分的な値を入力して値を指定することはできません。 フル カテゴリ名を入力した場合は、ドロップダウン リストが展開され、そのカテゴリが選択されます。 さらに、Alt + 下方向キーを押して選択ダイアログ ボックスを展開し、Tab キーを押してドロップダウン リスト内で階層選択と階層ツリーの間で移動することができるため、マウスがなくてもフィールドを使用できます。

カテゴリと連携する機能は、割引と売買契約割引の主な差別化要因であり、売買契約の割引を使用しないことをお勧めする主な理由です。 カテゴリは、複数レベルの階層で構成されます。 対照的に、売買契約で使用される品目割引グループは、グループは単一レベルのみであり、各グループは 3 つの売買契約割引タイプ (明細行割引、複数行割引、および合計割引など) のいずれかに固有です。 したがって、売買契約では、すべての 3 つの売買契約割引タイプに同じ製品セットを使用する場合、3 つの独立した割引グループを作成して管理する必要があります。 ただし、割引の場合、1 つのカテゴリのみを管理する必要があります。 4 つのすべての割引タイプでそのカテゴリを使用することができます。 価格調整、品揃え管理、およびロイヤルティ管理で同じカテゴリを使用することもできます。

#### <a name="product"></a>品目

製品は、リリースされた製品またはリリース済製品マスターにすることができます。 すべての割引は、会社固有です。 したがって、これらはリリースされた製品のみ処理します。 製品マスターを選択した場合、通貨や UoM などの他のすべての割引条件が満たされる限り、割引を作成した後にリリースされたバリアントでも、製品のすべてのバリエーションに割引が適用されます。

#### <a name="variant"></a>バリアント

割引明細行でバリアントを選択すると、通貨や UoM などの他のすべての割引条件が満たされる限り、割引はそのバリエーションにのみ適用されます。

#### <a name="dimensions"></a>分析コード

Retail 8.1.1 リリース以降、製品の分析コード レベルで割引を設定する機能が追加されました。 これにより、割引明細行としてに製品の 1 つまたは複数の分析コードを選択する際に柔軟性が生まれます。 この結果、マーチャンダイジング マネージャーが、割引が適用されるバリアントを 1 つずつ追加する必要がなくなります。 たとえば、特定のスタイルを持つすべてのバリアントに割引を指定したり、特定の色およびスタイルのすべてのバリアントに割引を指定したりすることができます。

> [!NOTE]
> 分析コードに基づいてプロモーションを設定する機能は、価格調整ではサポートされていません。 分析コードを定義するための特定のインターフェイスは、Retail バージョン 10.0.4以降では削除されます。

## <a name="best-practices"></a>ベスト プラクティス

- 割引を作成する前に、割引戦略および手順を文書化します。 製品の使用の発展に応じて、ドキュメントを最新の状態にしてください。
- 割引タイプごとに独立した番号順序を使用し、割引 ID 自体が割引タイプを示すように番号順序を構成します。 たとえば、さまざまな英数字定数を、各割引タイプの ID の接頭語として付けます。数量には **Q**、組み合わせには **MM** などです。
- 割引を有効にする前に、価格シミュレーションを使用して、割引のコンフィギュレーションをテストします。 価格シミュレーションには、無効になっている割引を有効として扱うことができるオプションがあります。 このオプションは、有効になる前に割引をテストできるように設計されました。
- 有効でなくなった場合に割引の有効期限が切れます。 このようにして、価格決定エンジンがトランザクションの際に考慮する割引の合計が無限に増えないようにします。 そうしないと、時間の経過と共に割引の計算のパフォーマンスに影響する可能性があります。
- 製品の認可や最後の時期の製品など、製品をグループ化するために補助的なカテゴリを活用できます。
- 重複する割引明細行は常に回避するか最小限にしてください。


[!INCLUDE[footer-include](../includes/footer-banner.md)]
---
title: 店舗注文のフルフィルメント
description: このトピックでは、店舗注文のフルフィルメントにおける概要を説明します。
author: rubencdelgado
ms.date: 10/30/2017
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: RetailStoreTable, RetailTillLayout
audience: Application User
ms.reviewer: josaw
ms.search.region: Global
ms.search.industry: retail
ms.author: rubendel
ms.search.validFrom: 2017-10-30
ms.dyn365.ops.version: ''
ms.openlocfilehash: 962edb3fd0478a8f0281054abc00c35b732620f6
ms.sourcegitcommit: 3cdc42346bb653c13ab33a7142dbb7969f1f6dda
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/31/2021
ms.locfileid: "5796417"
---
# <a name="store-order-fulfillment"></a>店舗注文のフルフィルメント

[!include [banner](includes/banner.md)]

多くの小売業者は、注文する店舗を有効化することで、注文のフルフィルメントを最適化したいと考えています。 店舗レベルでの注文のフルフィルメントは、特定の店舗の過剰在庫のシナリオを軽減するために役立ちます。また、店舗が余分な能力を持っているか、店舗が顧客とのより近い輸送距離内に位置する場合に、物流の視点から必要とされる場合があります。 これに対処するために、販売時点管理で統一された注文のフィルフィルメントの操作が利用できます。

特定の店舗でのフィルフィルメントの注文には、注文のヘッダーまたは明細行に店舗の倉庫が指示されます。

販売時点管理での注文フルフィルメントの操作によって、注文を処理するための販売時点管理に、1 つの作業領域が提供されます。 これには、注文の受付、出荷済にマーキング、または店舗での受け取り開始のすべてが含まれます。

## <a name="access-unified-order-fulfillment-in-the-point-of-sale"></a>販売時点管理の統一された注文フルフィルメントへのアクセス

注文のフルフィルメント、[操作 ID 928](https://docs.microsoft.com/dynamics365/unified-operations/retail/pos-operations)、は販売時点管理の、店舗の注文フルフィルメント作業領域へのアクセスに利用できます。

注文のフルフィルメント操作は、そのまま使用できる独自のアクセス許可を持っていませんが、将来的に、ユーザーは **注文の取得を許可** のアクセス許可を使用して販売時点管理から操作を起動できるようになります。

店舗レベルの構成設定では、販売時点管理の範囲内から注文明細行を手動で受け入れる必要があるかどうかを決定することができます。 構成オプションが設定されていない場合は、注文明細行は既定で承諾されます。 構成オプションが有効にされている場合、販売時点管理のユーザーは **注文の受け入れを許可** のアクセス許可を選択し、販売時点管理の範囲内で注文を受け入れるようにする必要があります。

注文明細行は、販売時点管理からも拒否することができます。 注文明細行の拒否すると、その店舗では実行されず、注文明細行が別の店舗または倉庫に再割り当てされます。 注文明細行の拒否アクセス許可は、**注文拒否の許可** アクセス許可を通じて許可されます。

## <a name="order-fulfillment-operation-parameters"></a>注文のフルフィルメント操作パラメータ

注文のフルフィルメントは、販売時点管理で呼び出されたときに工程に適用できる、すぐ使用できるパラメータを提供します。 **すべての注文** パラメータが構成されている場合、工程を使用するとすべての注文が表示されます。 **出荷する注文** パラメーターは店舗から出荷する必要のある注文のみが表示され、**集荷の注文** は店舗で集荷される注文が表示されます。

## <a name="orders-for-fulfillment"></a>フィルフィルメントの注文

注文のフルフィルメント操作は現在の店舗から出荷、または集荷のいずれかの注文のみを表示します。 注文のフルフィルメント操作を使用する場合は、他の店舗が処理する注文は表示されません。

## <a name="line-selection"></a>行選択

明細行は、アクション ペイン内の **選択** 機能を使用して選択できます。 **選択** が有効の場合、複数の明細行を選択して処理ができます。 同じ明細行をもう一度クリックし、選択した明細行をクリアすることができます。

## <a name="line-details"></a>行の詳細

明細行の詳細は、ポップ アップ メニューの [明細行の詳細] から表示できます。 このメニューを使用すると、選択した明細行の追加情報を表示する 3 つのタブが表示されます。 最初のタブ **行の詳細** は、注文済数量と残余など、行自体の詳細を表示します。 追加の詳細には、配送方法や配送先住所だけでなく、ピッキング、梱包、および請求が済んだ数量を含む詳細が表示されます。 **注文の詳細** タブには、顧客、顧客 ID、注文番号、注文合計、および残高を含む販売注文ヘッダー情報が表示されます。 **在庫** タブは、利用可能な在庫の現物、引当在庫および注文済の在庫に関する選択した明細行の情報を表示します。

複数の明細行が選択されている場合、注文明細行のポップ アップ メニューは複数の明細行が選択されていることを示します。 1つの明細行の詳細を表示するには、1 行が残るまでその明細行をクリアします。

## <a name="pending-order-lines"></a>保留中の注文明細行

統一された注文フルフィルメントには、注文を手動で受け付ける機能が含まれています。 既定では、店舗でのフィルフィルメントの注文は既に許可されています。 ただし、業務プロセスで店舗レベルの作業者が注文受け付けなければならない場合、小売店舗レベルで手動受け入れを使用可能にできます。 注文受付を有効にするには、**Retail および Commerce** \> **チャネル** \> **店舗** \> **すべての店舗** へ移動します。 目的の店舗を開き、**一般** タブで、**注文のフルフィルメント** 下位ヘッダーを見つけます。 この下位ヘッダーには **手動受け入れ** オプションがあり、**いいえ** が規定で設定されています。 このオプションを **はい** に設定し、チャンネル データベースへの変更を同期することで、注文明細行が承認プロセスを通過することができます。

**注文の受け入れを許可** のアクセス許可を持つ作業者は、注文フルフィルメントのオープンと、承認のための行を選択することができます。 行が 1 つ承諾されると、それらの状態が **保留中** から **承諾済** へ変更され、残りの注文調達のための処理を続けることができます。 **手動受け入れ** が有効になったとき、注文は承諾されるまで処理されません。

店舗集配の注文には、**保留中** の状態はありません。 これは、顧客が店舗に到着したさいに、適切な権限を持つ作業者が対応できないため注文明細行を処理できないというシナリオを回避するために行われます。

## <a name="accepted-order-lines"></a>承諾済の注文明細行

行の状態が **承諾済** になっている注文は、販売時点管理で残りの注文フルフィルメント プロセスを通して処理を行えます。 注文が承諾された後は、注文明細行に対して残りのアクションを実行できます。

たとえば、承諾済みの注文明細行を選択し、ピッキングおよび梱包を経由することなく直接集配ができます。

## <a name="line-actions"></a>行のアクション

### <a name="pick"></a>ピック

アクションの **ピック** カテゴリーは、棚から注文明細行をピッキングするプロセスを支援するために用意されています。 ピッキング アクションは、以前に承諾したことのある注文明細行に対してのみ実行できます。

**アクション: ピッキング**

- **結果の POS の状態:** ピッキング
- **結果のバック オフィスの状態:** 変更なし

注文が承諾されたあとは、明細行は選択済、および **ピッキング** としてマークすることが可能です。 明細行を **ピッキング** としてマーキングすることは、ピッキング作業が明細行ですでに実行されていることを表示する方法です。 これにより、2 人の作業者が同時に同じ注文明細行をピッキングしようとすることを防ぎます。

**アクション: ピッキング リストの印刷**

- **結果の状態:** ピッキング
- **結果のバック オフィスの状態:** 変更なし

ピッキング プロセスを実行する作業者を支援するために販売時点管理で、ピッキング リストを印刷できます。 ピッキング プロセスを実行する作業者により印刷されたピッキング リストが運ばれ、製品がピッキングされると、作業者はピッキング リストに、ピッキングされた製品を手動でマークすることができます。

ピッキング リストの形式は Commerce で構成され、レシート プロファイルに追加されます。 レシート プロファイルの設定の詳細については、[レシート テンプレートと印刷](https://docs.microsoft.com/dynamics365/unified-operations/retail/receipt-templates-printing) を参照してください。

明細行が選択され、それらの明細行用にピッキング リストが印刷された場合、**ピッキング** 状態で自動的に更新されます。

**アクション: ピッキング済としてマーク**

- **結果の状態:** ピッキング済または一部ピッキング済
- **結果のバック オフィスの状態:** ピッキング済または一部ピッキング済

物理的にピッキング プロセスが実行された後、明細行は **ピッキング済** にマークすることができます。 明細行を選択し、**ピッキング済** にマークすると、注文明細行を更新するリアルタイムの呼び出しが実行されます。 明細行が販売時点管理で **ピッキング済** としてマークされた後、バック オフィスの状態も **ピッキング済** に更新され、在庫トランザクションには指定された数量が減分されたことが反映されます。

時間の経過とともに注文が処理される場合、特定の明細行に対して部分的な数量を処理することができます。 明細行が選択され、**ピッキング済としてマーク** のアクションが実行され、数量が 1 の値より大きい場合、ユーザーは数量の入力を求められます。 ピッキングする残りの数量は、自動入力されます。 残りの数量より少ない値が指定されている場合、明細行のステータスは **一部ピック済** になります。 バック オフィスで注文明細行が更新されると、[一部ピック済] の状態に反映され、ユーザーによって入力された数量が在庫の更新に使用されます。

注文明細行が誤ってピッキングされた場合、バック オフィスの注文明細行でピッキングの解除プロセスを実行する必要があります。 現在、販売時点管理でサポートされているピッキングの解除アクションはありません。

異なる注文から注文明細行を選択することができ、**ピッキング**、同じピッキングリストに印刷、または **ピッキング済** としてマークすることができます。

### <a name="pack"></a>梱包

注文明細行が承認された後に、任意の時点で注文明細行を梱包できます。

**アクション: 梱包明細の印刷**

- **結果の状態:** 梱包済または一部梱包済
- **結果のバックオフィスの状態:** 出荷済または一部出荷済

このアクションは梱包済または部分的に梱包済として明細行をマークし、梱包明細を印刷します。 まとめて梱包された製品を検証するために梱包明細を印刷することができます。 梱包明細の形式は Commerce で構成され、レシート プロファイルに追加されます。 レシート プロファイルの設定の詳細については、[レシート テンプレートと印刷](https://docs.microsoft.com/dynamics365/unified-operations/retail/receipt-templates-printing) を参照してください。

**アクション: 梱包済としてマーク**

- **結果の状態:** 梱包済または一部梱包済
- **結果のバックオフィスの状態:** 出荷済または一部出荷済

**梱包済みとしてマーク** アクションは、梱包明細の印刷をせずに明細行が梱包されたことを示すために使用することができます。 **梱包明細の印刷** および **梱包済としてマーク** の両方がバック オフィスの在庫トランザクションになります。 販売時点管理での梱包明細行は、バック オフィスで生成されている梱包明細仕訳帳になります。

注文明細行が誤って梱包された場合、梱包明細仕訳帳はバック オフィスで修正する必要があります。

同じ注文上、および同じ荷渡方法の唯一の明細行は、同時に梱包することができます。

現時点では、店舗集配明細行を **梱包済み** とマークするためのオプションは使用できません。 この機能は、将来のリリースで追加されます。 梱包明細票の作成のプロセスは、梱包明細プロセスへのサード パーティの出荷情報の注入をサポートするように強化される予定です。

### <a name="pick-up"></a>集配

店舗集配の注文は、販売時点管理から取得されると、直接集荷することができます。 店舗のピックアップは受理の対象にはなりません。

**アクション: 集配**

- **結果の状態:** 請求済または一部請求済
- **結果のバック オフィスの状態:** 請求済または一部請求済

統一された注文フルフィルメントから集配するための明細行が選択されている場合、注文全体が販売時点管理に読み込まれ、選択した明細行の全数量がマークされます。 注文の他の明細行も販売時点管理のトランザクションの表示に読み込まれますが、数量はゼロとしてマークされます。

集配の明細行がトランザクションの表示に読み込まれた後は、トランザクションは通常通り支払/入金を行うことができます。

集配によって全額請求済になった明細行は、統一された注文処理では表示されなくなります。 部分的に集配済の明細行は、完全に集配済になるまで、統一された注文フルフィルメントに引き続き表示されます。

明細行が誤って集配された場合、エラーを修正する返品を実行する必要があります。

同じ注文上、および同じ荷渡方法の唯一の明細行は、同時に集配することができます。

### <a name="shipping"></a>出荷先

店舗から出荷する注文明細行は、**出荷** アクションを使用して統一された注文フルフィルメントから処理することができます。 手動の注文明細行の承認がチャンネル レベルで構成されている場合、出荷前に注文を受け入れる必要があります。 注文明細行が承諾され、**保留中** またはその他の状態になると、明細行を出荷することができます。

**アクション: 出荷**

- **結果の状態:** 請求済または一部請求済
- **結果のバック オフィスの状態:** 請求済または一部請求済

統一された注文フルフィルメントから出荷された明細行は、注文がバック オフィスから直接注文された場合と同様に、バック オフィスから請求されます。 統一された注文フルフィルメントから出荷されている明細行は、トランザクションの表示に読み込まれず、明細行の出荷時に支払/入金は行われません。

完全に出荷済の注文明細行は統一された注文フルフィルメントには表示されなくなります。 部分的に出荷された明細行は、完全に出荷済になるまで、統一された注文フルフィルメントに引き続き表示されます。

同じ注文の明細行のみ同時に出荷されます。 同じ注文からの明細行に異なる荷渡方法がある場合でも、同時に配送するためにそれらを選択することができます。

### <a name="reject"></a>否認

明細行または部分的な明細行を否認することができます。 これにより、バックオフィスから別の店舗または倉庫に再割り当てが行われます。 明細行は、まだピッキングまたは梱包がされていない場合にのみ否認することができます。 既にピッキングの梱包済みの明細行を否認するには、バック オフィスからその明細行のピッキングまたは梱包を解除する必要があります。

**アクション: 否認**

- **結果の状態:** 否認
- **結果のバック オフィスの状態:** 変更なし

否認済の注文明細行は、**販売注文の処理と照会** ワークスペースから表示できます。 店舗間での否認されたすべての注文明細行を表示するには、ワークスペースで個人のフィルターを解除します。 **注文とお気に入り** セクションの下にある **否認済の注文明細行** タブは注文明細行の詳細を表示します。 さらに、ユーザーは **集計** セクションの下にある **否認済の注文明細行** ボタンをクリックし、販売注文の表示に移動することができます。 これにより、ひとつまたは複数の否認された注文明細行を持つすべての注文を表示されます。 分散注文管理 (DOM) が有効になっている場合、これら否認済の明細行は自動的にフルフィルメントするよう適切な店舗に割り当てられます。ただし、これら注文明細行を手動で割り当てることも可能です。 これを行うには、**フルフィルメントの状態** が **否認済** と表示されている明細行を選択し、サイト / 倉庫を必要に応じて変更します。 **行の更新** ドロップダウン メニューをクリックし、**フルフィルメントの状態のリセット** をクリックしてフルフィルメントの状態を **否認済** から、注文のフルフィルメントの設定に応じて **承諾済** または **保留中** に変更します。 フルフィルメントの状態をリセットした後、店舗の従業員は POS での注文明細行を表示することができます。

## <a name="line-quantity-tracking"></a>明細行の数量の追跡

数量が 1 より大きいひとつの注文明細行は時間の経過とともに処理を行うことができ、結果的に注文明細行の複数の下位状態になります。 たとえば、ビルダーが500枚のボードを必要とするプロジェクトを持っており、プロジェクトの途中で一度に配布される数枚のボードをビルダーが受け取ったり、持っていたりする場合、それらは同時に集荷済、梱包済、出荷済の数量になる場合があります。

明細行が選択されるといつでも、明細行の残りの量は、残余数量が処理されていると仮定して自動入力されます。 上記の例を使用すると、200 枚のボードがすでにピッキングされており、ボードの明細行がピッキングのために選択されている場合、300 枚の残りの数量は、数量に自動的に入力されます。 200 枚のボードがすでに請求済の場合でも同様です。 この場合、残りの数量のみ自動入力されます。

引き続き上記の例で考えてみると、200 枚のボードが梱包済としてマークされ、出荷が選択されている場合、合計量 500 枚が自動的に入力されます。 200 枚のボードのみが出荷された場合、システムは以前に梱包されたボードが出荷されており、梱包済の数量が減分されるものとします。 201 枚のボードが出荷された場合は、最初に梱包されたボードが減分され、残りの 1 枚が残りの数量から減分されます。

## <a name="line-statuses"></a>行ステータス

販売時点管理の明細行には、注文明細行の状態を反映するためのいくつかのステータスがあります。 販売時点管理およびバック オフィスの状態は常に一致しません。 注文明細行の状態は注文のフルフィルメント操作を使用することで、販売時点管理を通して表示することができます。 バック オフィスでは、注文明細行は注文の詳細から確認できます。 注文の詳細は、**Retail および Commerce** \> **顧客** \> **すべての顧客の注文** からアクセスすることができます。 注文の詳細を表示するためには **注文 ID** を選択してください。 注文の詳細から **販売注文** タブを選択し、**表示** サブ ヘッダーの下にある **状態の詳細** を選択します。

- **保留中** – 店舗に割り当てられ、まだ承認されていない注文明細行は、販売時点管理で表示すると **保留中** の状態になっています。 販売時点管理で承認が保留中になっている明細行は、バック オフィスでは **注文処理** 状態になります。
- **承諾済** – 手動または自動的に承諾された注文明細行は、販売時点管理で表示すると **承諾済** の状態になります。 **承諾済** 状態の明細行は、バック オフィスでは **注文処理** として表示されます。
- **ピッキング** – 店舗レベルで現在ピッキング中の明細行は **ピッキング** の状態になります。 これら同じ明細行は、バック オフィスで表示した際、**注文処理** として表示します。
- **ピッキング済** および **一部ピッキング済** – 販売時点管理でピッキングまたは一部ピッキング済の明細行は **ピッキング済** または **一部ピッキング済** の状態になります。 バック オフィスの同じ明細行は **ピッキング済** または **一部ピック済** としても表示します。
- **梱包済** および **一部梱包済** – 販売時点管理で梱包済または一部梱包済の明細行は **梱包済** または **一部梱包済** の状態になります。 バック オフィスの同じ明細行は **出荷済** または **一部出荷済** としても表示します。
- **一部請求済** – 一部ピッキング済または一部出荷済の明細行は、販売時点管理およびバック オフィスで **一部請求済** の状態になります。
- **請求済** – 販売時点管理で全額請求済の明細行は、フルフィルメントのために表示されなくなります。 それらの明細行の状態は、バック オフィスでは **請求済** です。

## <a name="order-fulfillment-filtering"></a>注文のフルフィルメント フィルター

販売時点管理の注文のフルフィルメントは、フィルター処理が含まれており、必要なものをユーザーが検索しやすくなるようになります。 フィルターは、**販売時点管理** 画面の下部にあるアクション ペインを通して変更できます。 既定では、工程の設定に基づいて、**配送タイプ** フィルターが適用されます。 工程が、**すべての注文** パラメーターで設定されている場合、注文のフルフィルメントにアクセスすると、そのフィルターは適用されます。 同じことが **店舗集配** および **ストアから出荷** パラメータに適用されます。 注文のフルフィルメントの表示に適用可能なその他のフィルターが含まれます:

- 顧客番号
- 顧客名
- 顧客の電子メール
- 注文番号
- 荷渡方法
- 受領番号
- チャネル参照 ID
- 元の店舗番号
- 行ステータス
- 作成日
- 出荷日
- 入荷日


[!INCLUDE[footer-include](../includes/footer-banner.md)]
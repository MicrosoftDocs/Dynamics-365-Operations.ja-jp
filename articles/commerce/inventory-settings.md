---
title: 在庫設定を適用する
description: このトピックでは在庫設定を取り上げ、Microsoft Dynamics 365 Commerce で適用する方法について説明します。
author: anupamar-ms
ms.date: 04/23/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: ''
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: ''
ms.openlocfilehash: 46e59c8253ae5e4de54d56a45a142194ce38cf54
ms.sourcegitcommit: c08a9d19eed1df03f32442ddb65a2adf1473d3b6
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/06/2021
ms.locfileid: "6357861"
---
# <a name="apply-inventory-settings"></a>在庫設定の適用

[!include [banner](includes/banner.md)]

このトピックでは在庫設定を取り上げ、Microsoft Dynamics 365 Commerce で適用する方法について説明します。

在庫設定では、製品をカートに追加する前に在庫を確認するかどうかを指定します。 また、"在庫あり" や "残りわずか" などの在庫関連の販売促進メッセージも定義します。 これらの設定により、在庫切れの製品は購入できなくなります。

Dynamics 365 Commerce は、製品の手持在庫の見積を提供します。 見積済手持在庫の計算方法については、[小売チャンネルの引当可能在庫数量の計算](calculated-inventory-retail-channels.md) を参照してください。

Commerce サイト ビルダーでは、在庫のしきい値と範囲を製品またはカテゴリに対して定義できます。 在庫を在庫あり、低在庫、または在庫切れに分類できるかを判定します。 詳細については、[在庫バッファーと在庫レベルのコンフィギュレーション](inventory-buffers-levels.md) を参照してください。

> [!NOTE]
> 在庫のしきい値と範囲のサポートは、Dynamics 365 Commerce 10.0.12 リリースで利用できます。

## <a name="inventory-settings"></a>在庫設定

Commerce では、在庫設定はサイト ビルダーの **サイト設定 \> 拡張機能 \> 在庫管理** で定義されています。 5 つの在庫設定があり、そのうちの 1 つは廃止されています (非推奨):

- **アプリで在庫チェックを有効にする** – この設定により、製品の在庫確認が有効になります。 購入ボックス、カート、店舗で受け取り モジュールで製品在庫が確認され、在庫がある場合にのみ製品をカートに追加できるようになります。
- **基準となる在庫レベル** – この設定では、在庫レベルの計算方法が定義されます。 使用可能な値は、**引当可能合計数**、**引当可能現物数**、**在庫切れしきい** です。 Commerce では、在庫のしきい値と範囲を製品とカテゴリごとに定義できます。 在庫 API は、**引当可能合計数** プロパティと **引当可能現物数** プロパティ両方の製品在庫情報を返します。 小売業者は、**引当可能合計数** または **引当可能現物数** の値が、在庫数と在庫状況および在庫切れの状態に対応する範囲を決定するために使用されるべきかどうかを決定します。

    設定に **基準となる在庫レベル** の **在庫切れしきい** 値 は、古い (レガシ)、廃止値です。 選択すると、在庫数は **引当可能合計数** 値の結果から決定されますが、しきい値は、後で説明する **在庫切れしきい値** 数値設定によって定義されます。 このしきい値の設定は、E コマース サイト全体のすべての製品に適用されます。 在庫がしきい値数を下回ると、製品は在庫切れと見なされます。 それ以外の場合は、在庫ありと見なされます。 **在庫切れのしきい** 値の機能は制限されており、バージョン 10.0.12 以降で使用することはお勧めしません。

- **複数の倉庫の在庫レベル** – この設定により、既定の倉庫または複数の倉庫に対して在庫レベルを計算できます。 **個々の倉庫に基づく** オプションは、既定の倉庫に基づいて在庫レベルを計算します。 また、eコマース サイトでは、フルフィルメントを容易にするために複数の倉庫を指定することもできます。 この場合、**出荷倉庫と集荷倉庫の集計に基づく** オプションを使用して有効在庫数が示されます。 たとえば、顧客が品目を購入し、配送方法として「配送」を選択した場合、その品目は、利用可能な在庫があるフルフィルメント グループのどの倉庫からでも出荷することができます。 製品の詳細ページ (PDP) では、フルフィルメント グループ内の出荷倉庫に在庫がある場合、出荷時に「在庫あり」のメッセージが表示されます。 

> [!IMPORTANT] 
> **複数の倉庫の在庫レベル** 設定は、Commerce バージョン 10.0.19 リリースで利用可能です。 古いバージョンの Commerce を更新する場合は、appsettings.json ファイルを手動で更新する必要があります。 手順については、[SDK およびモジュール ライブラリの更新](e-commerce-extensibility/sdk-updates.md#update-the-appsettingsjson-file) を参照してください。

- **在庫範囲** – この設定では、メッセージがサイト モジュールに表示される在庫範囲を定義します。 これは、設定に **基準となる在庫レベル** で **引当可能合計数** 値または **引当可能現物数** 値のいずれかが選択されている場合にのみ適用されます。 使用できる値は、**すべて**、**在庫が少なく在庫切れ**、**在庫切れ** です。

    - **すべて** を選択すると、在庫あり (" 使用可能" メッセージ) から 在庫切れ ("在庫切れ" メッセージ) まで、すべての在庫範囲のメッセージが表示されます。
    - **在庫が少なく在庫切れ** を選択すると、在庫あり (" 使用可能" メッセージ) を除くすべての在庫範囲のメッセージが表示されます。
    - **在庫切れ** を選択すると、"在庫切れ" メッセージのみが表示されます。

- **在庫切れしきい** – この古い数値設定は、**基準となる在庫レベル** 設定に対して **在庫切れしきい** 値が選択されている場合にのみ有効になります。

> [!IMPORTANT] 
> これらの設定は、Dynamics 365 Commerce のリリース バージョン 10.0.12 で使用可能です。 古いバージョンの Dynamics 365 Commerce を更新する場合は、appsettings.json ファイルを手動で更新する必要があります。 appsettings.json ファイルを更新する手順については、[SDK およびモジュール ライブラリの更新](e-commerce-extensibility/sdk-updates.md#update-the-appsettingsjson-file)を参照してください 。

## <a name="modules-that-use-inventory-settings"></a>在庫設定を使用するモジュール

購入ボックス、欲しい物リスト、店舗セレクター、カート、買い物カゴ アイコン モジュールは、在庫設定を使用して、在庫範囲とメッセージを表示します。

次の図の例では、PDP に在庫あり (「利用可」) メッセージが示されています。

![在庫ありメッセージがある PDP モジュールの例。](./media/pdp-InStock.png)

次の図の例では、PDP に「在庫なし」メッセージが示されています。

![在庫切れメッセージがある PDP モジュールの例。](./media/pdp-outofstock.png)

次の図の例では、カートに在庫あり (「利用可」) メッセージが示されています。

![在庫ありメッセージがある買い物カゴモジュールの例。](./media/cart-instock.png)

## <a name="additional-resources"></a>追加リソース

[モジュール ライブラリの概要](starter-kit-overview.md)

[在庫バッファーと在庫レベルのコンフィギュレーション](inventory-buffers-levels.md)

[買い物カゴ モジュール](add-cart-module.md)

[購入ボックス モジュール](add-buy-box.md)

[アカウント管理ページとモジュール](account-management.md)

[店舗セレクター モジュール](store-selector.md)

[SDK およびモジュール ライブラリの更新](e-commerce-extensibility/sdk-updates.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]

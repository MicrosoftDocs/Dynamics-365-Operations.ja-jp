---
title: 周辺機器
description: このトピックでは、コマース周辺機器に関連する概念を説明します。
author: BrianShook
ms.date: 03/01/2022
ms.topic: article
audience: Application User, IT Pro
ms.reviewer: josaw
ms.custom:
- "268444"
- intro-internal
ms.search.region: Global
ms.author: brshoo
ms.search.validFrom: 2016-11-30
ms.openlocfilehash: fa9b8c79d1b3b5ed04a7d277bf09cd05dbd332d2
ms.sourcegitcommit: 116898def829c0f78bda8a117242aa308793465d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/01/2022
ms.locfileid: "8370979"
---
# <a name="peripherals"></a>周辺機器

[!include[banner](includes/banner.md)]
[!include[banner](includes/preview-banner.md)]

このトピックでは、店舗機器に関連する概念を説明します。 周辺機器を販売時点管理 (POS) と接続するさまざまな方法、および POS との接続の管理を担当するコンポーネントについて説明します。

## <a name="concepts"></a>概念

### <a name="pos-registers"></a>POS レジスター

ナビゲーション: **小売とコマース \> チャンネル設定 \> POS 設定 \> レジスター** の順に移動します。 販売時点管理 (POS) レジは、POS の特定のインスタンスの特性を定義するのに使用するエンティティです。 これらの特性には、レジスターで使用される周辺機器のハードウェア プロファイルまたはセットアップ、レジスターがマップされているストア、そのレジスターにログオンしているユーザーのビジュアル エクスペリエンスが含まれます。

### <a name="devices"></a>デバイス

ナビゲーション: **小売とコマース \> チャンネル設定 \> POS 設定 \> デバイス** の順に移動します。 デバイスとは、POS レジスターにマップされているデバイスの物理的なインスタンスを表すエンティティです。 デバイスが作成されると、POS レジスターにマップされます。 デバイス エンティティは、POS レジスターが有効化された時間、使用しているクライアントのタイプ、および特定のデバイスに配置されているアプリケーション パッケージに関する情報を追跡します。 

デバイスは、次のアプリケーション タイプにマップすることができます: Retail Modern POS、Retail Cloud POS、Retail Modern POS – Android、および Retail Modern POS – iOS。

### <a name="modern-pos"></a>Modern POS

Modern POS は、Microsoft Windows の POS プログラムです。 これは、Windows 10 および Windows 11 オペレーティング システム (OS) に配置できます。

### <a name="cloud-pos"></a>クラウド POS

クラウド POS は Modern POS プログラムのブラウザ ベースのバージョンで、Web ブラウザでアクセスできます。

### <a name="modern-pos-for-ios"></a>iOS 用 Modern POS

iOS 用 Modern POS は iOS ベース バージョンの Modern POS で、iOS デバイスに配置できます。

### <a name="modern-pos-for-android"></a>Android 用 Modern POS

Android 用 Modern POS は Android ベース バージョンの Modern POS で、Android デバイスに配置できます。

### <a name="pos-peripherals"></a>POS 周辺機器

POS 周辺機器は、POS 機能用に明示的にサポートされているデバイスです。 これらの周辺機器は、特定のクラスに分けられます。 これらのクラスに関する詳細については、このトピックの「デバイス クラス」セクションを参照してください。

### <a name="hardware-station"></a>ハードウェア ステーション

ナビゲーション: **小売とコマース \> チャンネル \> 店舗 \> すべての店舗** の順に移動します。 店舗を選択して、**ハードウェア ステーション** クイック タブを選択します。 **ハードウェア ステーション** 設定は、周辺機器ロジックを配置するインスタンスを定義するのに使用されるチャネル レベルの設定です。 チャンネル レベルのこの設定は、ハードウェア ステーションの特性を決定するのに使用されます。 また、特定の店舗で Modern POS インスタンスに使用するハードウェア ステーションを一覧表示するために使用されます。 ハードウェア ステーションは、Windows 用および Android 用 Modern POS プログラムに組み込まれています。 ハードウェア ステーションは、Microsoft インターネット インフォメーション サービス (IIS) のスタンドアロン プログラムとして別に配置することもできます。 この場合は、ネットワークからアクセスできます。

### <a name="hardware-profile"></a>ハードウェア プロファイル

ナビゲーション: **小売とコマース \> チャネル設定 \> POS 設定 \> POS プロファイル \> ハードウェア プロファイル** の順に移動します。 ハードウェア プロファイルは、POS レジスター用またはハードウェア ステーション用にコンフィギュレーションされているデバイスのリストです。 ハードウェア プロファイルは、POS レジスターまたはハードウェア ステーションに直接マップできます。

## <a name="devices-classes"></a>デバイス クラス
POS 周辺機器は、クラスに分けられています。 このセクションでは、Modern POS をサポートするデバイスの概要について説明します。

### <a name="printer"></a>プリンター

プリンタには、従来型の POS レシート プリンターおよび全ページ プリンタが含まれます。 プリンターは、Retail POS 用オブジェクトのリンクと埋め込み (OPOS) および Microsoft Windows ドライバ インターフェイスを通してサポートされます。 2 つまでのプリンタを同時に使用できます。 この機能により、現金店頭払いの顧客のレシートがレシート プリンタで印刷されるている間に、詳細情報を伴う顧客の注文全体が別のプリンタで印刷されるというシナリオをサポートします。 レシート プリンタは、コンピュータに USB で直接接続するか、ネットワークにイーサネットで接続するか、または Bluetooth で接続できます。

### <a name="scanner"></a>スキャナー

2 つまでのバーコード スキャナーを同時に使用できます。 この機能により、チェック アウトの時間の時間短縮のため、大きなあるいは重い品目のスキャンのために携帯式のスキャナーが必要で、同時にほとんどの標準サイズの品目に対しては固定埋め込みスキャナーを使用する場合のシナリオをサポートします。 スキャナーは、OPOS、Universal Windows Platform (UWP)、またはキーボード ウェッジ インターフェイスでサポートすることができます。 スキャナーをコンピューターに接続するために、USB または Bluetooth も使用できます。

### <a name="msr"></a>MSR

OPOS ドライバを使用して、1 つの USB 磁気ストライプ リーダー (MSR) を設定できます。 電子決済 (EFT) の支払トランザクションにスタンドアロン MSR を使用する場合、MSR は支払コネクタで管理する必要があります。 支払コネクタとは別のスタンドアロン MSR は、顧客ロイヤルティ エントリ、従業員のサインイン、およびギフト カード エントリに使用できます。

### <a name="cash-drawer"></a>キャッシュ ドロワー

ハードウェア プロファイルごとに、2 つのキャッシュ ドロワーをサポートすることができます。 この機能により、レジスターごとに 2 つの有効なシフトを同時に使用することが可能になります。 共有シフトの場合、または複数のモバイル POS デバイスでキャッシュ ドロワーを同時に使用する場合、ハードウェア プロファイルごとに 1 つのキャッシュ ドロワーのみが使用可能です。 キャッシュ ドロワーは、コンピュータに USB で直接接続するか、ネットワークにイーサネットで接続するか、またはレシート プリンターに RJ12 インターフェースで接続できます。 場合によっては、キャッシュ ドロワーは Bluetooth でも接続できます。

### <a name="line-display"></a>ライン ディスプレイ

ライン ディスプレイは、製品、トランザクションの残高などの必要な情報をトランザクションの間に顧客に示すのに使用されます。 1 つのライン ディスプレイは、OPOS ドライバーを使用して USB でコンピュータに接続できます。

### <a name="signature-capture"></a>署名キャプチャ

署名の取得デバイスは、OPOS ドライバを使用して USB で直接コンピュータに接続できます。 署名の取得デバイスが設定されている場合、顧客はデバイスに署名するように要求されます。 署名がなされると、承認用にレジ担当者に表示されます。

### <a name="scale"></a>拡大縮小

スケールは、OPOS ドライバーを使用して USB でコンピュータに接続できます。 「計量」製品とマークされた製品がトランザクションに追加されると、POS は スケールの重量を読み、トランザクションに製品を追加し、スケールから得られる数値を使用します。

### <a name="pin-pad"></a>PIN パッド

個人 ID 番号 (PIN) パッドは、OPOS でサポートされますが、支払コネクタで管理する必要があります。

### <a name="secondary-display"></a>二次表示

二次表示が設定された場合、基本情報は 2 番目の Windows ディスプレイに表示されます。 既定では、二次ディスプレイは構成できず、表示されるコンテンツは制限されます。 二次ディスプレイの目的は、独立したソフトウェア ベンダー (ISV) 拡張子をサポートすることです。 

### <a name="payment-device"></a>支払デバイス

支払デバイスのサポートは、支払コネクタを通して実装されます。 支払デバイスは、他のデバイス クラスが提供する機能の 1 つまたは複数を実行できます。 支払デバイスは、MSR/カード リーダー、ライン ディスプレイ、署名キャプチャ デバイスまたは PIN パッド として機能します。 支払デバイスのサポートは、ハードウェア プロファイルに含まれる他のデバイスのスタンドアロン デバイス サポートとは関係なく実装されています。

## <a name="supported-interfaces"></a>サポートされているインターフェース
### <a name="opos"></a>OPOS

できるだけ多くのデバイスでコマースが使用できることを保証するため、サポートされる基本周辺機器プラットフォームは POS 業界標準用の OLE です。 POS 業界標準用 OLE は、周辺機器の業界標準の通信プロトコルを設定する National Retail Federation (NRF) により作成されました。 OPOS は、POS標準用 OLE の実装として広く採用されています。 これは 90 年代半ばに作成され、それ以降、数回更新されています。 OPOS は、Windows ベースの POS システムに POS ハードウェアを簡単に統合できるデバイス ドライバ アーキテクチャを提供します。 OPOSは、互換性のある POS ハードウェアとソフトウェアの間の処理通信を制御します。 OPOS コントロールは、2 つ部分から構成されます:

-   **コントロール オブジェクト** – デバイス クラス (ライン ディスプレイなど) のコントロール オブジェクトは、ソフトウェアプログラムにインターフェイスを提供します。 Monroe Consulting Services ([www.monroecs.com](http://www.monroecs.com/)) は、コモン コントロール オブジェクト (CCO) と呼ばれる標準化された一式の OPOS コントロール オブジェクトを提供します。 CCO は、コマースの POS コンポーネントをテストするのに使用されます。 したがって、このテストにより、コマースが OPOS によってデバイス クラスをサポートする場合、メーカーは OPOS 用に作成されたサービス オブジェクトを提供できるように多くのデバイス タイプがサポートまたは提供されることが保証されます。 各デバイス タイプを明示的にテストする必要はありません。
-   **サービス オブジェクト** – サービス オブジェクトはコントロール オブジェクト (CCO) とデバイス間の通信を提供します。 通常、デバイスのサービス オブジェクトはデバイス メーカーによって提供されます。 ただし、場合によっては、製造元のサイトからサービス オブジェクトをダウンロードする必要があるかもしれません。 たとえば、最新のサービス オブジェクトが利用可能かもしれません。 メーカーの Web サイトのアドレスを特定するには、ハードウェアのドキュメントを参照してください。

[![コントロール オブジェクトとサービス オブジェクト。](./media/retail_peripherals_overview01.png)](./media/retail_peripherals_overview01.png) POS 用 OLE の OPOS での実装をサポートすることで、デバイス メーカーと POS のパブリッシャーが標準を正しく実装している限り、以前に組み合わせテストされていない POS システムとサポート デバイスの組み合わせでも正しく動作することが保証されます。 

> [!NOTE]
> OPOS サポートは、OPOS ドライバーがあるすべてのデバイスのサポートを保証するものではありません。 コマースは最初に OPOS によりそのデバイス タイプまたはクラスをサポートする必要があります。 また、サービス オブジェクトが最新バージョンの CCO に対応した最新のものではないかもしれません。 一般に、サービス オブジェクトのクオリティには差異があります。

### <a name="windows"></a>ウィンドウ

POS レシートの印刷は、OPOS に最適化されています。 一般に、OPOS による印刷は Windows による印刷より高速です。 したがって、40 列のレシートを高速のトランザクション タイムで印刷する必要のある環境では、OPOS を使用することが最善です。 ほとんどのデバイスについては、OPOS コントロールを使用します。 ただし、一部の OPOS レシート プリンターは Windows ドライバもサポートします。 Windows ドライバを使用する場合、最新のフォントにアクセス可能で、複数のレジスターと 1 つのプリンターをネットワーク化できます。 ただし、Windows ドライバーの使用には短所があります。 短所の例を次に示します。

-   Windows ドライバを使用する場会、画像は印刷開始前にレンダリングされます。 したがって、印刷は OPOS コントロールを使用するプリンタより遅くなる傾向があります。
-   プリンターを通して接続されているデバイス (「デイジー チェーン」) は 、Windows ドライバーを使用している間、正しく動作しないかもしれません。 たとえば、キャッシュ ドロワーが開かないかもしれず、領収書プリンタが指示通り動かないかもしれません。
-   OPOS は、紙切断または伝票印刷などレシート プリンターに特有の広範な変数をサポートします。
-   Windows プリンターは、IIS ハードウェア ステーションではサポートされません。 

使用している Windows プリンターで OPOS コントロールが使用できる場合、コマースでプリンターを正しく使用できるはずです。

### <a name="plug-and-play-devices"></a>デバイスのプラグ アンド プレイ

プラグ アンド プレイ デバイスがそのデバイス タイプをサポートする Windows OS バージョンに接続された場合、デバイスを使用するためのドライバーは必要はありません。 たとえば、Windows が Bluetooth のスピーカー デバイスを検出すると、OS はそのデバイスが "スピーカー" クラス タイプを持つことを認識します。 追加の設定は必要ありません。 

POS 周辺機器の場合、多くの USB デバイスを接続でき、Windows OS はヒューマン インターフェイス デバイス (HID) によって認識されます。 ただし、Windows がデバイスがクラスまたはタイプを指定しないため、そのデバイスの機能を認識することができない場合があります。 Windows 10 で、バーコード スキャナーおよび MSR のデバイス クラスが追加されました。 したがって、デバイスがこれらのクラスの 1 つのデバイスとして Windows 10 に自分を申告すると、Windows は適切なタイミングでデバイスのイベントを聞き取ります。

Modern POS は MSR およびスキャナーの UWP をサポートします。 したがって、Modern POS がこれらのデバイスの 1 つからの入力に対して準備できている場合、これらのデバイス クラスの 1 つに属するデバイスが接続されると、デバイスは使用できるようになります。 たとえば、プラグ アンド プレイのバーコード スキャナーが Windows 10 のコンピュータに接続された場合、Modern POS 用にバーコード サインインが設定され、サインイン ページでバーコード スキャナーが有効になります。 追加の設定は必要ありません。

さらに、キャッシュ ドロワーやレシート プリンター用のクラスなど、Windows に POS 周辺機器のクラスが追加されています。 これらの新しいデバイス クラスの Modern POS でのサポートは保留中です。

### <a name="keyboard-wedge"></a>キーボード ウェッジ

キーボード ウェッジのデバイスは、データがキーボードで入力されているかのようにコンピューターにそのデータを送信します。 したがって既定では、POS で有効なフィールドが、スキャンまたは読み取りされたデータを受け取ります。 場合によっては、この動作により誤ったタイプのデータが誤ったフィールドにスキャンされることがあります。 たとえば、クレジット カードのデータ入力を対象とするフィールドにバーコードがスキャン入力されるかもしれません。 多くの場合、スキャンまたは読み取りされたデータが、バーコードなのかカードの読み取りなのかを決定するロジックが POS にあります。 したがって、データが正しく処理されます。 ただし、デバイスがキーボード ウェッジ デバイスの代わりに OPOS として設定されている場合は、そのデバイスのデータをどのように処理するかを詳細に制御できます。データが送られてくるデバイスについて多くのことが「知られている」からです。 たとえば、バーコード スキャナーのデータはバーコードとして自動的に認識され、キーボード ウェッジ デバイスを使用した一般的なストリング検索の場合より、データベースの関連レコードは早く簡単に検索できます。

> [!NOTE]
> POS でキーボード ウェッジ スキャナーを使用する場合は、最後にスキャンした文字の後にキャリッジ リターンまたは **入力** イベントを送信するようにプログラムする必要があります。 この構成を行わないと、キーボード ウェッジ スキャナーが正しく機能しません。 キャリッジ リターン イベントを追加する方法の詳細については、デバイスの製造元から提供されたドキュメントを参照してください。  

### <a name="device-printers"></a>デバイス プリンター

"デバイス" タイプのプリンターは、ユーザーがコンピュータで設定されているプリンタを選択することを求めるように設定できます。 "デバイス" タイプのプリンターが構成され、Modern POS が印刷のコマンドを検出した場合、ユーザーはリストからプリンターを選択するように要求されます。 この動作は、Windows ドライバーの動作とは異なります。ハードウェア プロファイルの "Windows" プリンター タイプは、プリンターの一覧を表示しません。 代わりに、指定されたプリンタが **デバイス名** フィールドに入力されていることが必要です。

### <a name="network"></a>ネットワーク

ネットワーク対応のキャッシュ ドロワー、レシート プリンター、支払ターミナルは、Windows アプリケーションの Modern POS に組み込まれたプロセス間通信 (IPC) のハードウェア ステーションを経由して直接、あるいは他の Modern POS クライアントの IIS ハードウェア ステーションを経由して、ネットワークで使用できます。

## <a name="hardware-station-deployment-options"></a>ハードウェア ステーションの配置オプション

### <a name="dedicated"></a>専用

Windows 用 および Android 用 Modern POS クライアントには、**専用** または (組み込み) ハードウェア ステーションが含まれます。 それらのクライアントは、アプリケーションに組み込まれているビジネス ロジックを使用して、周辺機器と直接通信できます。 Android アプリケーションは、ネットワーク デバイスのみをサポートします。 Android 用の周辺機器サポートの詳細については、[Android および iOS の POS Hybrid アプリの設定](./dev-itpro/hybridapp.md)の記事を参照してください。

専用のハードウェア を使用するには、次の手順に従います。

1. Windows または Android アプリケーション用 Modern POS を使用するレジスターにハードウェア プロファイルを割り当てます。
1. レジスターが使用される店舗用に "専用" タイプのハードウェア ステーションを作成します。 
1. Modern POSを非ドロワー モードで開き、**ハードウェア ステーションを管理する** 操作を使用して、ハードウェアを操作する機能をオンにします。 専用のハードウェア ステーションは既定で有効になります。 
1. Modern POS からサインアウトします。 その後、再度サインインしてシフトを開きます。 ハードウェア プロファイルで構成された周辺機器が使用できるようになりました。 

### <a name="shared"></a>共有済み

"IIS" ハードウェア ステーションと呼ばれることもありますが、“IIS” とは POS アプリケーションが Microsoft インターネット インフォメーション サービス経由でハードウェア ステーションに接続することを意味します。 POS アプリケーションは、デバイスが接続されているコンピュータで実行される Web サービスを介して IIS ハードウェア ステーションに接続します。 ハードウェア ステーションが使用されると、ハードウェア ステーションに接続されている周辺機器は、IIS ハードウェア ステーションと同じネットワークにつながるどの POS レジスターでも使用できます。 Windows および Android 用 Modern POS のみに周辺機器サポートが組み込まれているため、他のすべての Modern POS アプリケーションは、ハードウェア プロファイルでコンフィギュレーションされた POS 周辺機器と通信するために IIS ハードウェア ステーションを使用する必要があります。 したがって、IIS ハードウェア ステーションの各インスタンスは、Web サービスおよびデバイスと通信するアプリケーションを実行するコンピュータが必要です。 

共有ハードウェア ステーションを使用して、複数の販売時点管理クライアントが周辺機器を共有したり、単一の販売時点管理に対してコミットされたセットまたは周辺機器を管理できます。 

ハードウェア ステーションを使用して複数の POS クライアント間で周辺機器の共有をサポートする場合は、キャッシュ ドロワー、レシート プリンター、および支払ターミナルのみを使用する必要があります。 スタンドアロンのバーコード スキャナー、MSR、ライン ディスプレイ、スケール、その他のデバイスを直接接続することはできません。 接続すると、複数の POS デバイスがそれらの周辺機器を同時に使用しようとして競合が生じます。 サポートされているデバイス用の競合は、以下のように管理されています:

-   **キャッシュ ドロワー** – キャッシュ ドロワーはデバイスに送信されるイベントによって開きます。 キャッシュ ドロワーがキャッシュ ドロワーがすでに開いている状態で呼び出された場合、問題が発生します。 共有ハードウェア ステーション構成で使用されているキャッシュ ドロワーの場合、ハードウェア プロファイルで **共有** と設定されている必要があります。 この設定は、POS が [open] コマンドを送信する時に、キャッシュ ドロワーがすでに開いているかどうかの確認をすることを防ぎます。
-   **レシート プリンター** – 2つのレシート印刷コマンドがハードウェア ステーションに同時に送信されると、デバイスによってはどちらかのコマンドが失われてしまうことがあります。 デバイスによっては、この問題を防ぐための内部メモリまたはプールがあります。 印刷コマンドが正常に終了しない場合、レジ担当者はエラー メッセージを受信し、POS から印刷コマンドを再試行できます。
-   **支払ターミナル** – レジ担当者が既に使用中の支払ターミナルに支払/入金のトランザクションを送信しようとした場合、ターミナルが使用中であり後でもう一度試すようにレジ担当者に求めるメッセージがレジ担当者に通知されます。 通常、レジ担当者はターミナルが既に使用中であることがわかり、他のトランザクションが完了するまで待機してから、支払/入金を再度送信します。

将来のリリースでは、サポートされていないデバイスが共有ハードウェア ステーションにマップされているハードウェア プロファイルで設定されているかどうかを検証する予定です。 サポートされていないデバイスが検出された場合、デバイスが共有ハードウェア ステーションでサポートされていないことを知らせるメッセージがユーザーに表示されます。 共有ハードウェア ステーションの場合、**支払/入金での選択** オプションは、レジスター レベルで **はい** と設定されます。 これにより、POS のトランザクションで支払/入金が選択された場合、POS ユーザーはハードウェア ステーションを選択するように求められます。 ハードウェア ステーションが支払/入金時にのみ選択された場合、ハードウェア ステーションの選択はモバイルのシナリオの POS ワークフローに直接追加されます。 付加的なメリットとして、共有シナリオの場合には支払ターミナルのライン ディスプレイは使用されません。 支払ターミナルがライン ディスプレイとして使用されると、トランザクションが完了するまでそのターミナルの他のユーザーの使用がブロックされる場合があります。 モバイルのシナリオでは、ラインはトランザクションに長期に渡って追加されることがあります。 したがって、デバイスの最適な使用を保証するために **支払/入金での選択** オプションが必要です。

### <a name="network-peripherals"></a>ネットワーク周辺機器

ハードウェア プロファイルのデバイスのネットワーク指定は、キャッシュ ドロワー、レシート プリンター、支払ターミナルのネットワーク経由での接続を有効にします。

#### <a name="modern-pos-for-windows"></a>Windows 用の Modern POS

ネットワーク周辺機器の IP アドレスは、2 箇所で指定できます。 Modern POS の Windows クライアントが一式のネットワーク周辺機器を使用している場合、レジスタ自体のアクション ペインの **IP コンフィギュレーション** オプションを使用してこれらのデバイスの IP アドレスを設定する必要があります。 POS レジスタで共有されているネットワーク デバイスの場合、ネットワーク デバイスを割り当てているハードウェア プロファイルを共有ハードウェア ステーションに直接マップすることができます。 IP アドレスを割り当てるには、**店舗** ページでハードウェア ステーションを選択し、**ハードウェア ステーション** セクションの **IP コンフィギュレーション** オプションを使用し、そのハードウェア ステーションに割り当てられているネットワーク デバイスを指定します。 ネットワーク デバイスのみを使用するハードウェア ステーションの場合、ハードウェア ステーション自体を配置する必要はありません。 この場合、店舗内の場所に従ってネットワーク対応可能なデバイスを概念的にグループ化するためにのみ、ハードウェア ステーションが必要となります。

#### <a name="cloud-pos-and-modern-pos-for-ios"></a>クラウド POS および iOS 用 Modern POS

物理的に接続されている周辺機器およびネットワーク対応可能な周辺機器の駆動ロジックは、ハードウェア ステーションに含まれています。 したがって Windows および Android 用以外の Modern POS クライアントの場合、周辺機器がハードウェア ステーションに物理的に接続されているかネットワークに対応しているかに関係なく、POS とそれらの周辺機器との通信を可能にするためには、IIS ハードウェア ステーションを配置し有効化する必要があります。

## <a name="setup-and-configuration"></a>設定およびコンフィギュレーション
### <a name="hardware-station-installation"></a>ハードウェア ステーションのインストール

IIS ハードウェア ステーションをインストールする方法のガイダンスについては、[Retail ハードウェア ステーションのコンフィギュレーションとインストール](retail-hardware-station-configuration-installation.md) を参照してください。

### <a name="modern-pos-for-windows-setup-and-configuration"></a>Windows 用 Modern POS の設定とコンフィギュレーション

詳細については、[Modern POS (MPOS) の構成、インストール、有効化](retail-modern-pos-device-activation.md)を参照してください。

### <a name="modern-pos-for-android-and-ios-setup-and-configuration"></a>Android および iOS 用 Modern POS の設定とコンフィギュレーション

詳細については、[Android および iOS での POS Hybrid アプリの設定](./dev-itpro/hybridapp.md)を参照してください。

### <a name="opos-device-setup-and-configuration"></a>OPOS デバイスの設定とコンフィギュレーション

OPOS コンポーネントに関する詳細については、このドキュメントの「サポートされているインターフェース」のセクションを参照してください。 通常、OPOS ドライバーはデバイス メーカーから提供されます。 OPOS デバイス ドライバをインストールすると、Windows レジストリの以下のどこか 1 つの場所にキーを追加します:

-   **32 ビット システム:** HKEY\_LOCAL\_MACHINE\SOFTWARE\OLEforRetail\ServiceOPOS
-   **64 ビット システム:** HKEY\_LOCAL\_MACHINE\SOFTWARE\WOW6432Node\OLEforRetail\ServiceOPOS

ServiceOPOS レジストリ内では、設定されているデバイスは OPOS デバイス クラスに従って編成されます。 複数のデバイス ドライバが保存されます。

## <a name="supported-scenarios-by-hardware-station-type"></a>ハードウェア ステーションのタイプによりサポートされるシナリオ
### <a name="client-support--ipc-hardware-station-vs-iis-hardware-station"></a>クライアント サポート – IPC ハードウェア ステーション対 IIS ハードウェア ステーション

次の表に、サポートされるトポロジや配置シナリオを示しています。

| クライアント      | IPC ハードウェア ステーション | IIS ハードウェア ステーション |
|-------------|----------------------|----------------------|
| Windows アプリケーション | はい                  | はい                  |
| クラウド POS   | いいえ                   | はい                  |
| Android     | はい                  | はい                  |
| iOS         | いいえ                   | はい                  |

### <a name="network-peripherals"></a>ネットワーク周辺機器

ネットワーク周辺機器は、Windows および Android アプリケーション用 Modern POSに組み込まれたハードウェア ステーションを通じて直接サポートすることができます。 他のすべてのクライアントの場合、IIS ハードウェア ステーションを配置する必要があります。

| クライアント      | IPC ハードウェア ステーション | IIS ハードウェア ステーション |
|-------------|----------------------|----------------------|
| Windows アプリケーション | はい                  | はい                  |
| クラウド POS   | いいえ                   | はい                  |
| Android     | はい                  | はい                  |
| iOS         | いいえ                   | はい                  |

## <a name="supported-device-types-by-hardware-station-type"></a>ハードウェア ステーションのタイプによりサポートされるデバイス タイプ
### <a name="modern-pos-for-windows-with-an-ipc-built-in-hardware-station"></a>IPC (組み込み) ハードウェア ステーションを含む Windows 用 Modern POS

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>サポートされているデバイス クラス</th>
<th>サポートされているインターフェース</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>プリンター</td>
<td><ul>
<li>OPOS</li>
<li>Windows ドライバー</li>
<li>デバイス</li>
<li>ネットワーク</li>
</ul></td>
</tr>
<tr class="even">
<td>プリンター 2</td>
<td><ul>
<li>OPOS</li>
<li>Windows ドライバー</li>
<li>デバイス</li>
<li>ネットワーク</li>
</ul></td>
</tr>
<tr class="odd">
<td>ライン ディスプレイ</td>
<td>OPOS</td>
</tr>
<tr class="even">
<td>デュアル ディスプレイ</td>
<td>Windows ドライバー</td>
</tr>
<tr class="odd">
<td>MSR</td>
<td><ul>
<li>OPOS</li>
<li>UWP (設定の必要はありません)。</li>
<li>キーボード ウェッジ (設定の必要はありません)。</li>
</ul></td>
</tr>
<tr class="even">
<td>ドロワー</td>
<td><ul>
<li>OPOS</li>
<li>ネットワーク </br><strong>注記:</strong> <strong>共有シフトを使用</strong>がドロワーに設定されている場合、ドロワーは 1 つだけ設定できます。</li>
</ul></td>
</tr>
<tr class="odd">
<td>ドロワー 2</td>
<td><ul>
<li>OPOS</li>
<li>ネットワーク </br><strong>注記:</strong> <strong>共有シフトを使用</strong>がドロワーに設定されている場合、ドロワーは 1 つだけ設定できます。</li>
</ul></td>
</tr>
<tr class="even">
<td>スキャナー</td>
<td><ul>
<li>OPOS</li>
<li>UWP (設定の必要はありません)。</li>
<li>キーボード ウェッジ (設定の必要はありません)。</li>
</ul></td>
</tr>
<tr class="odd">
<td>スキャナー 2</td>
<td><ul>
<li>OPOS</li>
<li>UWP (設定の必要はありません)。</li>
<li>キーボード ウェッジ (設定の必要はありません)。</li>
</ul></td>
</tr>
<tr class="even">
<td>スケール</td>
<td>OPOS</td>
</tr>
<tr class="odd">
<td>PIN パッド</td>
<td>OPOS (サポートは、支払コネクタのカスタマイズによって提供されます)。</td>
</tr>
<tr class="even">
<td>署名キャプチャ</td>
<td>OPOS</td>
</tr>
<tr class="odd">
<td>支払ターミナル</td>
<td><ul>
<li>カスタム デバイス サポート</li>
<li>ネットワーク (詳細については、 支払コネクタのドキュメントを参照してください。)</li>
</ul></td>
</tr>
</tbody>
</table>

### <a name="all-modern-pos-clients-that-have-a-committed-shared-iis-hardware-station"></a>確定済み "共有" IIS ハードウェア ステーションを持つすべての Modern POS クライアント

> [!NOTE]
> IIS ハードウェア ステーションが "確定済み" である場合、POS クライアントとハードウェア ステーション間には 1 対 1 の関係があります。

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>サポートされているデバイス クラス</th>
<th>サポートされているインターフェース</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>プリンター</td>
<td><ul>
<li>OPOS</li>
<li>ネットワーク</li>
</ul></td>
</tr>
<tr class="even">
<td>プリンター 2</td>
<td><ul>
<li>OPOS</li>
<li>ネットワーク</li>
</ul></td>
</tr>
<tr class="odd">
<td>ライン ディスプレイ</td>
<td>OPOS</td>
</tr>
<tr class="even">
<td>MSR</td>
<td>OPOS</td>
</tr>
<tr class="odd">
<td>ドロワー</td>
<td><ul>
<li>OPOS</li>
<li>ネットワーク </br><strong>注記:</strong> <strong>共有シフトを使用</strong> が設定されている場合、ハードウェア プロファイルごとにドロワーは 1 つだけ設定できます。</li>
</ul></td>
</tr>
<tr class="even">
<td>ドロワー 2</td>
<td><ul>
<li>OPOS</li>
<li>ネットワーク</li>
</ul></td>
</tr>
<tr class="odd">
<td>スキャナー</td>
<td>OPOS</td>
</tr>
<tr class="even">
<td>スキャナー 2</td>
<td>OPOS</td>
</tr>
<tr class="odd">
<td>スケール</td>
<td>OPOS</td>
</tr>
<tr class="even">
<td>PIN パッド</td>
<td>OPOS (サポートは、支払コネクタのカスタマイズによって提供されます)。</td>
</tr>
<tr class="odd">
<td>Sig. キャプチャ</td>
<td>OPOS</td>
</tr>
<tr class="even">
<td>支払ターミナル</td>
<td><ul>
<li>カスタム デバイス サポート</li>
<li>ネットワーク (詳細については、 支払コネクタのドキュメントを参照してください。)</li>
</ul></td>
</tr>
</tbody>
</table>

### <a name="all-modern-pos-clients-that-share-an-iis-hardware-station"></a>IIS ハードウェア ステーションを共有するすべての Modern POS クライアント

> [!NOTE]
> IIS ハードウェア ステーションが「共有」の場合、複数のデバイスがハードウェア ステーションを同時に使用できます。 このシナリオでは、次の表に示すデバイスのみを使用する必要があります。 バーコード スキャナーや MSR など、この表にないデバイスを共有しようとする場合、複数のデバイスが同じ周辺機器を要求しようとするとエラーが発生します。 将来、そのようなコンフィギュレーションは明示的に禁止されます。

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>サポートされているデバイス クラス</th>
<th>サポートされているインターフェース</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>プリンター</td>
<td><ul>
<li>OPOS</li>
<li>ネットワーク</li>
</ul></td>
</tr>
<tr class="even">
<td>プリンター 2</td>
<td><ul>
<li>OPOS</li>
<li>ネットワーク</li>
</ul></td>
</tr>
<tr class="odd">
<td>ドロワー</td>
<td><ul>
<li>OPOS</li>
<li>ネットワーク </br><strong>注記:</strong> <strong>共有シフトを使用</strong> が設定されている場合、ハードウェア プロファイルごとにドロワーは 1 つだけ設定できます。</li>
</ul></td>
</tr>
<tr class="even">
<td>ドロワー 2</td>
<td><ul>
<li>OPOS</li>
<li>ネットワーク</li>
</ul></td>
</tr>
<tr class="odd">
<td>支払ターミナル</td>
<td><ul>
<li>カスタム デバイス サポート</li>
<li>ネットワーク (詳細については、 支払コネクタのドキュメントを参照してください。)</li>
</ul></td>
</tr>
</tbody>
</table>

## <a name="configuration-for-supported-scenarios"></a>サポートされるシナリオのコンフィギュレーション
ハードウェア プロファイルの作成方法の詳細については、[販売時点管理 (POS) への周辺機器の接続](define-maintain-channel-clients-registers-hw-stations.md) を参照してください。 

### <a name="modern-pos-for-windows-with-an-ipc-built-in-hardware-station"></a>IPC (組み込み) ハードウェア ステーションを含む Windows 用 Modern POS

このコンフィギュレーションは、従来の固定 POS レジスターの最も一般的なコンフィギュレーションです。 このシナリオでは、ハードウェア プロファイルの情報は、レジスタ自体に直接マップされます。 EFT ターミナル番号も、レジスタ自体に設定する必要があります。 このコンフィギュレーションを設定するには、次の手順に従います。

1.  すべての必須の周辺機器が設定されたハードウェア プロファイルを作成します。
2.  POS レジスターにハードウェア プロファイルをマップします。
3.  POS レジスターが使用される店舗用に **専用** タイプのハードウェア ステーションを作成します。 説明がオプションです。 

    > [!NOTE]
    > ハードウェア ステーションに他のプロパティを設定する必要はありません。 ハードウェア プロファイルなど他の必須情報はすべて、レジスタ自体から取得されます。

4.  **Retail とコマース \> Retail とコマース IT \> 配送スケジュール** の順に移動します。
5.  店舗に新しいハードウェア プロファイルを同期させるため、**1090** 配分スケジュールを選択します。 POS に変更を同期させるため、**今すぐ実行** を選択します。
6.  店舗に新しいハードウェア ステーションを同期させるため、**1040** 配分スケジュールを選択します。 POS に変更を同期させるため、**今すぐ実行** を選択します。
7.  Windows 用 Modern POS をインストールして有効化します。
8.  Windows 用 Modern POS を起動し、接続されている周辺機器の使用を開始します。

### <a name="modern-pos-for-android-with-an-ipc-built-in-hardware-station"></a>IPC (組み込み) ハードウェア ステーションを含む Android 用 Modern POS

**10.0.8 の新機能** - DK ポートを介してそれらのプリンターに接続された Epson ネットワーク プリンターとキャッシュ ドロワーが、Android アプリ用 Modern POS でサポートされるようになりました。 詳細については、[Android および iOS での POS Hybrid アプリを設定する](./dev-itpro/hybridapp.md)の記事を参照してください。

### <a name="all-modern-pos-clients-that-have-a-committed-shared-iis-hardware-station"></a>確定済み共有 IIS ハードウェア ステーションを持つすべての Modern POS クライアント

1 つの POS レジスター専用で使用されているハードウェア ステーションを持つすべての Modern POS クライアントに、このコンフィギュレーションは使用できます。 このコンフィギュレーションを設定するには、次の手順に従います。

1.  すべての必須の周辺機器が設定されたハードウェア プロファイルを作成します。
2.  POS レジスターが使用される店舗用に **専用** タイプのハードウェア ステーションを作成します。
3.  専用のハードウェア ステーションで、次のプロパティを設定します:
    -   **ホスト名** – ハードウェア ステーションをホストするコンピュータの名前。 
    
        > [!NOTE]
        > クラウド POS の場合、クラウド POS が実行されているローカル コンピュータの特定は **localhost** の使用で解決できます。 ただし、クラウド POS とハードウェア ステーションのペアリングに必要な証明書は、コンピュータ名が「Localhost」となっている必要があります。 問題を回避するには、必要に応じて、店舗の各専用ハードウェア ステーションのインスタンス一覧をリストすることをお勧めします。 各ハードウェア ステーション毎に、ハードウェア ステーションが配置される特定のコンピュータ名がホスト名となる必要があります。
    
    -   **ポート** – ハードウェア ステーションが Modern POS クライアントとの通信に使用するポート。
    -   **ハードウェア プロファイル** – ハードウェア ステーション自体にハードウェア プロファイルが提供されない場合、レジスターに割り当てられているハードウェア プロファイルが使用されます。
    -   **EFT POS の数** – EFT 認証の送信に使用する EFT ターミナル ID。 この ID は、クレジット カード プロセッサによって提供されます。
    -   **パッケージ名** – ハードウェア ステーションの配置に使用するハードウェア ステーション パッケージ。

4.  **Retail とコマース \> Retail とコマース IT \> 配送スケジュール** の順に移動します。
5.  店舗に新しいハードウェア プロファイルを同期させるため、**1090** 配分スケジュールを選択します。 POS に変更を同期させるため、**今すぐ実行** を選択します。
6.  店舗に新しいハードウェア ステーションを同期させるため、**1040** 配分スケジュールを選択します。 POS に変更を同期させるため、**今すぐ実行** を選択します。
7.  ハードウェア ステーションをインストールします。 ハードウェア ステーションをインストールする方法の詳細については、[Retail ハードウェア ステーションのコンフィギュレーションとインストール](retail-hardware-station-configuration-installation.md) を参照してください。
8.  Modern POS をインストールして有効化します。 Modern POS をインストールする方法の詳細については、[Modern POS (MPOS) のコンフィギュレーション、インストールおよび有効化](retail-modern-pos-device-activation.md)を参照してください。
9.  Modern POS にサイン インするには、**非ドロワー操作の実行** を選択します。
10. **ハードウェア ステーションの管理** 操作を開始します。
11. **管理** を選択します。
12. ハードウェア ステーションの管理ページで、ハードウェア ステーションを起動するオプションを設定します。
13. 使用するハードウェア ステーションを選択し、**ペア** を選択します。
14. ハードウェア ステーションのペアリングが終わった後、**閉じる** を選択します。
15. ハードウェア ステータスの選択ページで、最後に選択されたハードウェア ステーションを選択して有効にします。

### <a name="all-modern-pos-clients-that-have-a-shared-iis-hardware-station"></a>共有 IIS ハードウェア ステーションを持つすべての Modern POS クライアント

このコンフィギュレーションは、他のデバイスとハードウェア ステーションを共有するすべての Modern POS クライアントで使用できます。 このコンフィギュレーションを設定するには、次の手順に従います。

1.  必須の周辺機器が設定されたハードウェア プロファイルを作成します。
2.  POS レジスターが使用される店舗用に **共有** タイプのハードウェア ステーションを作成します。
3.  共有のハードウェア ステーションで、次のプロパティを設定します:
    -   **ホスト名** – ハードウェア ステーションをホストするコンピュータの名前。
    -   **説明** – ハードウェア ステーションを識別する助けとなるテキスト、**返品** または **店の前** など。
    -   **ポート** – ハードウェア ステーションが Modern POS クライアントとの通信に使用するポート。
    -   **ハードウェア プロファイル** – 共有ハードウェア ステーションの場合、各ハードウェア ステーションにハードウェア プロファイルが必要です。 ハードウェア プロファイルはハードウェア ステーション間で共有できます。しかし、各ハードウェア ステーションにマップされている必要があります。 また、複数のデバイスが同じ共有ハードウェア ステーションを使用する場合、共有シフトの使用をお勧めします。 共有シフトの設定には、**Retail とコマース \> チャネル設定 \> POS 設定 \> POS プロファイル \> ハードウェア プロファイル** をクリックします。 個々の共有ハードウェア プロファイルでキャッシュ ドロワーを選択し、**共有シフト ドロワー** オプションを **はい** に設定します。
    -   **EFT POS の数** – EFT 認証の送信に使用する EFT ターミナル ID。 この ID は、クレジット カード プロセッサによって提供されます。
    -   **パッケージ名** – ハードウェア ステーションの配置に使用するハードウェア ステーション パッケージ。

4.  店舗に必要な各追加ハードウェア ステーションについて、手順 2 と 3 を繰り返します。
5.  **Retail とコマース \> Retail とコマース IT \> 配送スケジュール** の順に移動します。
6.  店舗に新しいハードウェア プロファイルを同期させるため、**1090** 配分スケジュールを選択します。 POS に変更を同期させるため、**今すぐ実行** を選択します。
7.  店舗に新しいハードウェア ステーションを同期させるため、**1040** 配分スケジュールを選択します。 POS に変更を同期させるため、**今すぐ実行** を選択します。
8.  手順 2 と 3 で設定したハードウェア ステーションを、各ホスト コンピューターにインストールします。 ハードウェア ステーションをインストールする方法の詳細については、[Retail ハードウェア ステーションのコンフィギュレーションとインストール](retail-hardware-station-configuration-installation.md) を参照してください。
9.  Modern POS をインストールして有効化します。 Modern POS をインストールする方法の詳細については、[Modern POS (MPOS) のコンフィギュレーション、インストールおよび有効化](retail-modern-pos-device-activation.md)を参照してください。
10. Modern POS にサイン インするには、**非ドロワー操作の実行** を選択します。
11. **ハードウェア ステーションの管理** 操作を開始します。

12. **管理** を選択します。
13. ハードウェア ステーションの管理ページで、ハードウェア ステーションを起動するオプションを設定します。
14. 使用するハードウェア ステーションを選択し、**ペア** を選択します。
15. Modern POS が使用する各ハードウェア ステーションについて、手順 14 を繰り返します。
16. すべての必要なハードウェア ステーションのペアリングが終了したら、**閉じる** を選択します。
17. ハードウェア ステータスの選択ページで、最後に選択されたハードウェア ステーションを選択して有効にします。 

> [!NOTE]
> デバイスが異なるハードウェア ステーションをしばしば使用する場合、支払/入金プロセスを開始するときにレジ担当者がハードウェア ステーションを選択するよう促すようにように Modern POS を設定することをお勧めします。 **小売りとコマース\> チャンネル設定 \> POS 設定 \> レジスター の順に移動します**。 レジスターを選択し、**支払/入金での選択** オプションを **はい** に設定します。 チャンネル データベースへの同期変更に、**1090** 配送スケジュールを使用します。

## <a name="extensibility"></a>拡張性
ハードウェア障害の拡張機能のシナリオについては、[POS を新たなハードウェア デバイスと統合し、拡張機能インストーラーを生成する](dev-itpro/hardware-device-extension.md)を参照してください。

## <a name="security"></a>セキュリティ
現在のセキュリティ基準によると、実稼動環境で次の設定をする必要があります。 

### <a name="hardware-station-installer"></a>ハードウェア ステーションのインストーラー
ハードウェア ステーションのインストーラーは、セルフサービスによるインストールの一部として、これらのレジストリの編集を自動的に行います。

-   Secure Sockets Layer (SSL) は無効にする必要があります。
-   Transport Layer Security (TLS) version 1.2 (または現行最新バージョン) のみを有効にして使用する必要があります。 

### <a name="ssl-and-tls"></a>SSL および TLS
既定では、SSL および TLS 1.2 を除くすべてのバージョンの TLS は無効になります。 これらを値の編集または有効化するには、次の手順に従います。
    1.  Windows ロゴキーと R キーを同時に押して、**実行** ウィンドウを開きます。
    2.  **開く** フィールドに、**Regedit** と入力してから **OK** を選択します。
    3.  **ユーザー アカウント コントロール** メッセージ ボックス現われたら、**はい** を選択します。
    4.  **Registry Editor** ウィンドウで、**HKEY\_LOCAL\_MACHINESystemCurrentControlSetSecurityProvidersSCHANNELProtocols** に移動します。 TLS 1.2 のみを有効にするために、以下のキーは自動的に挿入されています:
        -   TLS 1.2Server:Enabled=1
        -   TLS 1.2Server:DisabledByDefault=0
        -   TLS 1.2Client:Enabled=1
        -   TLS 1.2Client:DisabledByDefault=0
        -   TLS 1.1Server:Enabled=0
        -   TLS 1.1Client:Enabled=0
        -   TLS 1.0Server:Enabled=0
        -   TLS 1.0Client:Enabled=0
        -   SSL 3.0Server:Enabled=0
        -   SSL 3.0Client:Enabled=0
        -   SSL 2.0Server:Enabled=0
        -   SSL 2.0Client:Enabled=0
-   知られている特定の理由で必要とされない限り、追加のネットワーク ポートを開かないでください。
-   クロスオリジンのリソース共有を無効にし、許可され承認されたオリジンを指定する必要があります。
-   ハードウェア ステーションを実行するコンピュータで使用する証明書の取得には、信頼された証明機関のみを使用してください。

> [!NOTE]
> IIS と Payment Card Industry (PCI) 要件のセキュリティ ガイドラインを確認することが非常に重要です。

## <a name="peripheral-simulator"></a>周辺機器シミュレーター
詳細については、[コマースの周辺機器シミュレーター](dev-itpro/retail-peripheral-simulator.md)を参照してください。

## <a name="microsoft-tested-peripheral-devices"></a>マイクロソフトでテストされた周辺機器
### <a name="ipc-built-in-hardware-station"></a>IPC (組み込み) ハードウェア ステーション

次の周辺機器は、Windows 用 Modern POS に組み込まれた IPC ハードウェア ステーションを使用してテストされています。

#### <a name="printer"></a>プリンター

| メーカー | モデル    | インターフェイス | コメント                |
| ------------ | -------- | --------- | ----------------------- |
| Epson        | TM-T88V  | OPOS      |                         |
| Epson        | TM-T88IV | OPOS      |                         |
| HP           | H300     | OPOS      | Powered USB             |
| Star         | TSP650II | カスタム    | ネットワーク経由で接続   |
| Star         | mPOP     | OPOS      | Bluetooth 経由で接続 |
| 東芝      | HSP100   | OPOS      |                         |
| 東芝      | HSP150   | OPOS      |                         |

> [!NOTE]
> Star TSP 100 プリンターは、組み込みハードウェア ステーションに対してサポートされていません。 組み込みのハードウェア ステーションでは 64 ビット プロセスを使用しますが、既存の Star TP 100 ドライバーと互換性がありません。 

#### <a name="bar-code-scanner"></a>バーコード スキャナー

| メーカー  | モデル         | インターフェイス | コメント |
| ------------- | ------------- | --------- | -------- |
| Datalogic     | Magellan 8400 | OPOS      |          |
| ハネウェル     | 1900          | UWP       |          |
| HP 統合済 | E1L07AA       | OPOS      |          |
| 記号        | LS2208        | OPOS      |          |

#### <a name="payment-terminals-and-pin-pads"></a>支払端末および PIN パッド

Dynamics 365 Commerce は、支払サービス用に Adyen と統合する既成のソリューションを提供します。 Adyen 用 [Dynamics 365 Payment Connector](dev-itpro/adyen-connector.md) は、デバイスに依存しない [Adyen Payment Terminal アプリケーション プログラミング インターフェイス (API)](https://www.adyen.com/blog/introducing-the-terminal-api) を使用し、この API がサポートしているすべての支払ターミナルに対応できます。 サポート対象の支払端末の完全な一覧については、[Adyen POS 端末](https://www.adyen.com/pos-payments/terminals)を参照してください。

カスタム コネクタを作成することにより、他の支払プロバイダーを Dynamics 365 Commerce と併用することもできます。 支払プロバイダーがサポートしているすべての支払ターミナルは、Dynamics 365 Commerce と使用できます 。 同様に Dynamics 365 Commerce は、POS に対するローカル IP、クラウド API、直接接続 (たとえば、KM 経由) など、支払プロバイダーによってサポートされている支払デバイスの統合モデルを許可します。 詳細については、[支払ターミナルのためのエンド・ツー・エンドの支払統合を作成する](dev-itpro/end-to-end-payment-extension.md) を参照してください。

#### <a name="cash-drawer"></a>キャッシュ ドロワー

| メーカー | モデル     | インターフェイス | コメント                |
|--------------|-----------|-----------|-------------------------|
| Star         | mPOP      | OPOS      | Bluetooth 経由で接続 |
| APG          | Atwood    | ユーザー設定    | ネットワーク経由で接続   |
| Star         | SMD2-1317 | OPOS      |                         |
| HP           | QT457AA   | OPOS      |                         |
| Epson        |           | ユーザー設定    | DK ポート経由でネットワーク Epson プリンターに接続 |

#### <a name="line-display"></a>ライン ディスプレイ

| メーカー | モデル    | インターフェイス | コメント |
| ------------ | -------- | --------- | -------- |
| Epson        | DM-D110  | OPOS      |          |
| HP           | T シリーズ | OPOS      |          |

#### <a name="signature-capture"></a>署名キャプチャ

| メーカー | モデル  | インターフェイス | コメント |
|--------------|--------|-----------|----------|
| Scriptel     | ST1550 | OPOS      |          |

#### <a name="scale"></a>スケール

| メーカー | モデル         | インターフェイス | コメント |
|--------------|---------------|-----------|----------|
| Datalogic    | Magellan 8400 | OPOS      |          |

#### <a name="msr"></a>MSR

| メーカー | モデル       | インターフェイス | コメント |
|--------------|-------------|-----------|----------|
| Magtek       | 21073075    | UWP       |          |
| Magtek       | 21073062    | OPOS      |          |
| HP           | IDRA-334133 | OPOS      |          |

### <a name="dedicated-iis-hardware-station"></a>専用 IIS ハードウェア ステーション

次の周辺機器は、専用 (共有ではない) IIS ハードウェア ステーションを使用して、Windows 用 Modern POS およびクラウド POS とともにテストされています。

#### <a name="printer"></a>プリンター

| メーカー | モデル    | インターフェイス | コメント                |
| ------------ | -------- | --------- | ----------------------- |
| Epson        | TM-T88V  | OPOS      |                         |
| Epson        | TM-T88IV | OPOS      |                         |
| HP           | H300     | OPOS      | Powered USB             |
| Star         | TSP650II | カスタム    | ネットワーク経由で接続   |
| Star         | mPOP     | OPOS      | Bluetooth 経由で接続 |
| 東芝      | HSP100   | OPOS      |                         |
| 東芝      | HSP150   | OPOS      |                         |

#### <a name="bar-code-scanner"></a>バーコード スキャナー

| メーカー  | モデル         | インターフェイス | コメント |
| ------------- | ------------- | --------- | -------- |
| Datalogic     | Magellan 8400 | OPOS      |          |
| HP 統合済 | E1L07AA       | OPOS      |          |
| 記号        | LS2208        | OPOS      |          |

#### <a name="payment-terminals-and-pin-pads"></a>支払端末および PIN パッド

Dynamics 365 Commerce は、支払サービス用に Adyen と統合する既成のソリューションを提供します。 Adyen 用 [Dynamics 365 Payment Connector](dev-itpro/adyen-connector.md) は、デバイスに依存しない [Adyen Payment Terminal API](https://www.adyen.com/blog/introducing-the-terminal-api) を使用し、この API がサポートしているすべての支払ターミナルに対応できます。 サポート対象の支払端末の完全な一覧については、[Adyen POS 端末](https://www.adyen.com/pos-payments/terminals)を参照してください。

カスタム コネクタを作成することにより、他の支払プロバイダーを Dynamics 365 Commerce と併用することもできます。 支払プロバイダーがサポートしているすべての支払ターミナルは、Dynamics 365 Commerce と使用できます 。 同様に Dynamics 365 Commerce は、POS に対するローカル IP、クラウド API、直接接続 (たとえば、KM 経由) など、支払プロバイダーによってサポートされている支払デバイスの統合モデルを許可します。 詳細については、[支払ターミナルのためのエンド・ツー・エンドの支払統合を作成する](dev-itpro/end-to-end-payment-extension.md) を参照してください。

#### <a name="cash-drawer"></a>キャッシュ ドロワー

| メーカー | モデル     | インターフェイス | コメント              |
|--------------|-----------|-----------|-----------------------|
| APG          | Atwood    | ユーザー設定    | ネットワーク経由で接続 |
| Star         | SMD2-1317 | OPOS      |                       |
| HP           | QT457AA   | OPOS      |                       |
| Epson        |           | ユーザー設定    | DK ポート経由でネットワーク Epson プリンターに接続 |

#### <a name="line-display"></a>ライン ディスプレイ

| メーカー  | モデル   | インターフェイス | 備考 |
|---------------|---------|-----------|----------|
| HP 統合済 | G6U79AA | OPOS      |          |
| Epson         | M58DC   | OPOS      |          |

#### <a name="signature-capture"></a>署名キャプチャ

| メーカー | モデル  | インターフェイス | コメント |
|--------------|--------|-----------|----------|
| Scriptel     | ST1550 | OPOS      |          |

#### <a name="scale"></a>スケール

| メーカー | モデル         | インターフェイス | コメント |
|--------------|---------------|-----------|----------|
| Datalogic    | Magellan 8400 | OPOS      |          |

#### <a name="msr"></a>MSR

| メーカー | モデル       | インターフェイス | コメント |
|--------------|-------------|-----------|----------|
| Magtek       | 21073075    | UWP       |          |
| Magtek       | 21073062    | OPOS      |          |
| HP           | IDRA-334133 | OPOS      |          |

### <a name="shared-iis-hardware-station"></a>共有 IIS ハードウェア ステーション

次の周辺機器は、共有 IIS ハードウェア ステーションを使用して、Windows 用 Modern POS およびクラウド POS とともにテストされています。 

> [!NOTE]
> プリンター、支払ターミナル、キャッシュ ドロワーのみサポートされます。

#### <a name="printer"></a>プリンター

| メーカー | モデル    | インターフェイス | コメント                |
| ------------ | -------- | --------- | ----------------------- |
| Epson        | TM-T88V  | OPOS      |                         |
| Epson        | TM-T88IV | OPOS      |                         |
| HP           | H300     | OPOS      | Powered USB             |
| Star         | mPOP     | OPOS      | Bluetooth 経由で接続 |
| 東芝      | HSP100   | OPOS      |                         |
| 東芝      | HSP150   | OPOS      |                         |

#### <a name="payment-terminal"></a>支払ターミナル

Dynamics 365 Commerce は、支払サービス用に Adyen と統合する既成のソリューションを提供します。 Adyen 用 [Dynamics 365 Payment Connector](dev-itpro/adyen-connector.md) は、デバイスに依存しない [Adyen Payment Terminal API](https://www.adyen.com/blog/introducing-the-terminal-api) を使用し、この API がサポートしているすべての支払ターミナルに対応できます。 サポート対象の支払端末の完全な一覧については、[Adyen POS 端末](https://www.adyen.com/pos-payments/terminals)を参照してください。

カスタム コネクタを作成することにより、他の支払プロバイダーを Dynamics 365 Commerce と併用することもできます。 支払プロバイダーがサポートしているすべての支払ターミナルは、Dynamics 365 Commerce と使用できます 。 同様に Dynamics 365 Commerce は、POS に対するローカル IP、クラウド API、直接接続 (たとえば、KM 経由) など、支払プロバイダーによってサポートされている支払デバイスの統合モデルを許可します。 詳細については、[支払ターミナルのためのエンド・ツー・エンドの支払統合を作成する](dev-itpro/end-to-end-payment-extension.md) を参照してください。

#### <a name="cash-drawer"></a>キャッシュ ドロワー

| メーカー | モデル     | インターフェイス | コメント              |
|--------------|-----------|-----------|-----------------------|
| APG          | Atwood    | ユーザー設定    | ネットワーク経由で接続 |
| Star         | SMD2-1317 | OPOS      |                       |
| HP           | QT457AA   | OPOS      |                       |
| Epson        |           | ユーザー設定    | DK ポート経由でネットワーク Epson プリンターに接続 |


## <a name="troubleshooting"></a>トラブルシューティング
### <a name="modern-pos-can-detect-the-hardware-station-in-its-list-for-selection-but-it-cant-complete-the-pairing"></a>Modern POS は、選択リストにあるハードウェア ステーションを検出できますが、ペアリングを完了することはできません

**ソリューション:** 以下の潜在的障害ポイントを確認してください:

-   Modern POS を実行しているコンピュータは、ハードウェア ステーションを実行しているコンピュータで使用される証明書を信頼します。
    -   この設定を確認するには、Web ブラウザーで次の URL にアクセスします: https://&lt;Computer Name&gt;:&lt;Port Number&gt;/HardwareStation/ping。
    -   この URL は ping を使用してコンピュータにアクセスできるかどうかを確認し、ブラウザは証明書が信頼できるかどうかを示します。 (たとえば、Internet Explorer ではカギのシンボルがアドレス バーに表示されます。 このシンボルを選択すると、Internet Explorer は証明書が現在信頼されているかどうかを確認します。 表示される証明書の詳細を見ることで、ローカル コンピュータに証明書をインストールできます)。
-   ハードウェア ステーションを実行するコンピュータで、ハードウェア ステーションで使用されるポートはファイアウォールで開かれます。
-   ハードウェア ステーションのインストールの最後に実行される支払商社情報インストール ツールを使用して、ハードウェア ステーションに支払商社情報が正しくインストールされます。

### <a name="modern-pos-cant-detect-the-hardware-station-in-its-list-for-selection"></a>Modern POS が選択リストにあるハードウェア ステーションを検出できない

**ソリューション:** 次の要素のいずれかによりこの問題が生じることがあります:

-   ハードウェア ステーションが本社で正しく設定されていません。 詳細については、[Retail ハードウェア ステーションのコンフィギュレーションとインストール](retail-hardware-station-configuration-installation.md#troubleshooting)を参照してください。 
-   チャンネル構成を更新するジョブが実行されていません。 この場合、チャンネル構成用に 1070 のジョブを実行します。

### <a name="modern-pos-doesnt-reflect-new-cash-drawer-settings"></a>Modern POS が新しいキャッシュ ドロワーの設定を反映していない

**ソリューション:** 現在のバッチを閉じます。 キャッシュ ドロワーへの変更は、現在のバッチが閉じられるまで Modern POS では更新されません。

### <a name="modern-pos-is-reporting-an-issue-with-a-peripheral"></a>Modern POS が周辺機器の問題を報告します

**ソリューション:** この問題の一般的な原因を挙げます。

-   他のデバイス ドライバの Configuration Utility が終了していることを確認します。 これらのユーティリティが開かれている場合、Modern POS またはハードウェア ステーションのデバイス要求を邪魔することがあります。
-   周辺機器が複数の POS のデバイスで共有されている場合、次のカテゴリの 1 つに属していることを確認してください。
    -   キャッシュ ドロワー
    -   レシート プリンター
    -   支払ターミナル

    周辺機器がこれらのカテゴリのいずれかに属していない場合、ハードウェア ステーションは周辺機器を複数の POS デバイスで共有するようにはデザインされていません。
-   場合によっては、デバイス ドライバによってコモン コントロール オブジェクト (CCO) が正しく動作できなくなることがあります。 新たにインストールされたデバイスが正しく作動していない場合、またはそのほかの問題に気づく場合、通常は CCO を再インストールすることで問題を解決できます。 CCO をダウンロードするには、<http://monroecs.com/oposccos_current.htm> を参照してください。
-   テストまたはトラブルシューティングのために頻繁に周辺機器を変更する場合、キャッシュが自然に更新されるのを待つ代わりに IIS をリセットする必要があるかもしれません。 IIS のリセットには、次の手順に従います。
    1.  **開始** メニューから **CMD** とタイプします。
    2.  検索結果で、**コマンド プロンプト** を右クリックして、次いで **管理者として実行** を選択します。
    3.  **コマンド プロンプト** ウィンドウで、**iisreset /Restart** とタイプして Enter キーを押します。
    4.  IIS の再起動後、Modern POS を再起動します。
-   周辺機器に頻繁に変更を加え、POS クライアントを頻繁に起動および終了した場合、前の POS セッションの dllhost プロセスが現在のセッションに干渉することがあります。 この場合、前のセッションを管理するダイナミックリンク ライブラリ (DLL) のホストを閉じるまで、デバイスが使用可能にならないことがあります。 DLL ホストを終了するには、次の手順に従います。
    1.  **開始** メニューから **タスク マネージャ** とタイプします。
    2.  検索結果から、**タスク マネージャー** を選択します。
    3.  タスク マネージャの **詳細** タブで **名前** というラベルの付いた列ヘッダーを選択し、テーブルを名前のアルファベット順に並べ替えます。
    4.  dllhost.exe が見つかるまでスクロールします。
    5.  各 DLL ホストを選択し、**タスクの終了** を選択します。
    6.  DLL ホストが終了したら、Modern POS を再起動します。


## <a name="additional-resources"></a>追加リソース

[コマースの周辺機器シミュレーター](dev-itpro/retail-peripheral-simulator.md)




[!INCLUDE[footer-include](../includes/footer-banner.md)]

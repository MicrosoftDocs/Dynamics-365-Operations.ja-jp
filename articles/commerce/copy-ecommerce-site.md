---
title: eコマース サイトのコピー
description: この記事では、Microsoft Dynamics 365 Commerce サイト ビルダーの e コマース環境内または環境間で、既存の eコマース サイトをコピーする方法について説明します。
author: josaw1
ms.date: 06/03/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: josaw
ms.search.validFrom: 2017-06-20
ms.openlocfilehash: 9b74e0d48be29272b893c855c229e4003f0c161e
ms.sourcegitcommit: 87e727005399c82cbb6509f5ce9fb33d18928d30
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/12/2022
ms.locfileid: "9276295"
---
# <a name="copy-an-e-commerce-site"></a>eコマース サイトのコピー

[!include [banner](../includes/banner.md)]

この記事では、Microsoft Dynamics 365 Commerce サイト ビルダーの e コマース環境内または環境間で、既存の eコマース サイトをコピーする方法について説明します。

Dynamics 365 Commerce は、Commerce サイトビルダーのセルフサービス操作の一環として、サイトのコピーやクローン作成をサポートしています。 1 つの eコマース環境内、または 2 つの eコマース環境間でサイトをコピーすることができます。 サイトコピー操作を開始するユーザーは、コピー元とコピー先の eコマース環境の両方のテナント管理者である必要があります。

サイトコピー操作は、コピー元サイトのすべての電子商取引コンテンツをコピーします。 このコンテンツには、ページ、フラグメント、テンプレート、URL、アセットが含まれます。 新しいサイトを使用する前に、First Run Experience (FRE) プロセスで初期化する必要があります。 チャンネルは、サイトビルダー内の **サイト設定 \> チャンネル** でマッピングと管理できます。

サイトコピー操作の所要時間は、主にソースサイト上のアセット数に依存します。 例外的に大規模なサイトでは、代わりに環境コピー操作の使用を検討することをお勧めします。 (この操作は、データ ポータビリティ操作とも呼ばれます)。

> [!NOTE]
> - コピー元サイトは、サイト コピー操作の間、読み取り専用になります。
> - 公開されているバージョンのドキュメントのみがコピーされます。 バージョンが公開されていない場合は、最新バージョンのみがコピーオーバーされます。
> - コンテンツのバージョン履歴は、移行先サイトでは利用できません。

## <a name="copy-a-site-within-an-e-commerce-environment"></a>e コマース環境内のサイトをコピーする

e コマース環境内のサイトをコピーするには、以下の手順に従います。

1. コピー操作を行いたい環境のサイト ビルダーにサインインします。
1. 右上の **サイトの切り替え** を選択し、**サイトの管理** を選択してサイト一覧表示を開きます。
1. コピーまたはクローンを作成するサイトを探し、サイト名の横にあるチェックボックスを選択して選択します。
1. コマンド バーで、**サイトのコピー** を選択します。
1. **サイトのコピー** ポップアップ メニューの **新規サイト名** フィールドに、新しいサイトの名前を入力します。 新しいサイト名は、e コマース環境で一意でなければなりません。 **ソース テナント** と **ソース サイト** のフィールドには、現在のテナントと選択したサイトの情報が自動的に設定されます。
1. **コピーの作成** を選択します。

情報が検証されると、新しいサイトのコピー ジョブが作成されたことを示す通知が表示されます。 ジョブの進行状況は、[**テナント ジョブ** ページの右ペイン](#monitor-the-site-copy-operation)で確認することができます。 コピー操作が正常に完了すると、サイト リスト ビューのサイト一覧に新しいサイトが表示されます。

以下の図は、サイト ビルダーの **サイトのコピー** ポップアップ メニューの例です。

![サイト ビルダーの「サイトのコピー」ポップアップ メニュー。](media/site-copy_1.png)

## <a name="copy-a-site-between-two-e-commerce-environments"></a>2 つの eコマース環境間でサイトをコピーする

2 つの eコマース環境間でサイトをコピーするには、次の手順に従います。

1. 配信先の eコマースのサイトビルダーにサインインしてください。
1. コマンド バーで、**サイトのコピー** を選択します。
1. **サイトのコピー** ポップアップ メニューの **新規サイト名** フィールドに、新しいサイトの名前を入力します。 新しいサイト名は、e コマース環境で一意でなければなりません。
1. **ソース テナント** フィールドで、ソーステナントの名前を選択します。
1. **ソース サイト** フィールドで、ソース サイトを選択します。
1. **コピーの作成** を選択します。

> [!NOTE]
> テナント管理者の権限は、送信元と送信先の両方の eコマース環境に必要です。

情報が検証されると、新しいサイトのコピー ジョブが作成されたことを示す通知が表示されます。 ジョブの進行状況は、[**テナント ジョブ** ページの右ペイン](#monitor-the-site-copy-operation)で確認することができます。 コピー操作が正常に完了すると、サイト リスト ビューのサイト一覧に新しいサイトが表示されます。

## <a name="map-channels-during-the-site-copy-operation-optional"></a>サイト コピーの操作中にチャネルをマップする (オプション)

ソース チャネルおよびロケールは、サイト コピー操作の一部として、宛先チャネルおよびロケールにマップできます。 チャネル マッピングがサイト コピー操作の一部として行われる場合は、FRE プロセスを使用してサイトを初期化し、サイトの設定でチャネルを構成する必要はありません。 

サイト ビルダーですべてのチャネルおよびロケールを "現状のまま" (1 対 1) にマップするには、次の手順に従います。

1. 右上の **サイトの切り替え** を選択し、**サイトの管理** を選択してサイト一覧表示を開きます。
1. コピーまたはクローンを作成するサイトを探し、サイト名の横にあるチェックボックスを選択して選択します。
1. コマンド バーで、**サイトのコピー** を選択します。
1. **サイトのコピー** ポップアップ メニューで、**新しいサイト名**、**ソース テナント**、および **ソース サイト** (まだ存在していない場合) の値を入力します。
1. **チャネル マッピングの追加** を選択します。
1. **サイト チャネルとロケールの構成** ポップアップ メニューで、**ソース チャネル** を選択し、ソース チャネルを選択します。  
1. **宛先チャネル** を選択し、ソース チャネルと同じチャネルを選択します。 
1. **ロケールの追加** を選択します。
1. **ソース ロケール** を選択し、ソース ロケールを選択します。
1. **宛先ロケール** を選択し、ソース ロケールと同じロケールを選択します。 
1. **URL パス** の場合、宛先環境で現在使用されていない固有の URL パスを入力します。
1. チャネルにマップするロケールごとに手順 8 - 11 を繰り返します。
1. **適用** を選択します。
1. ソース チャネルごとに手順 6 - 11 を繰り返します。
1. **閉じる** を選択します。
1. 構成の正確性を確認し、**サイトのコピー** を 選択します。

> [!NOTE]
> すべてのソース チャネルおよびロケールがマップされている必要があり、マップできるのは一度のみです。

## <a name="monitor-the-site-copy-operation"></a>サイトコピー操作を監視する

サイトコピー操作の進行状況を監視するには、次の手順に従います。

1. 配信先の eコマースのサイトビルダーにサインインしてください。
1. 左側のペインで **テナントのジョブ** を選択します。
1. **テナント ジョブ** ページで、リストからサイトコピージョブを探して選択します。 右側にペインが表示され、選択したジョブの状態や詳細が表示されます。

状態が **処理中** のジョブは、キャンセルすることができます . 一覧からジョブを選択し、次にコマンド バーで **キャンセル** を選択します。

状態が **失敗** または **エラーで終了** でエラーが発生したジョブを再試行することができます。 一覧からジョブを選択し、次にコマンド バーで **再試行** を選択します。

> [!NOTE]
> サイトのコピー ジョブが完了した後も、ビデオ アセットの処理が継続される場合があります。

下図は、サイトビルダーの **テナント ジョブ** ページの右側ペインの例です。

![サイト ビルダーのテナント求人ページの右ペインにある求人詳細。](media/site-copy_2.png)

## <a name="initialize-a-new-site-by-using-the-fre-process"></a>FRE 処理による新規サイトの初期化

新しいサイトを使用する前に、FRE プロセスによって初期化する必要があります。

FRE プロセスを使用して新しいサイトを初期化するには、次の手順に従います。

1. 新サイトのサイト ビルダーにサインインします。
1. 右上の **サイトの切り替え** を選択し、**サイトの管理** を選択してサイト一覧表示を開きます。
1. 初期化する新しいサイトを探し、選択します。
1. **サイトのセットアップ** ダイアログ ボックスの **ドメインの選択** フィールドで、ドメインを選択します。 初期化時に eコマース環境に関連付けられたすべてのドメインが選択可能です。
1. **既定のチャネルの選択** フィールドを選択し、関連するオンラインストアのチャンネルを選択します。 選択したチャンネルでは、Commerce 本部に蓄積されたアソート情報などが提供されます。
1. **既定言語の選択** フィールドで、既定の作成言語を選択します。 選択したオンライン ストアチャネルに設定されているすべての言語が選択可能です。
1. **パス** フィールドでは、値はベース ドメインと、任意で入力できる URL パスから構成されます。 チャンネルがドメイン ルートから提供される場合、またはこの情報を後でサイト ビルダーのチャンネル設定ビューに入力する場合は、URL パスを空白のままにすることができます。 サイト パスは、eコマース環境において一意でなければなりません。
1. **OK** を選択します。 入力された情報でサイトが初期化され、サイト管理ビューに移動します。

下図は、サイトビルダーの **サイトの設定** ダイアログ ボックスの例です。

![サイト ビルダーのサイト設定ダイアログ ボックス。](media/site-copy_3.png)

## <a name="additional-resources"></a>追加リソース

[ドメイン名のコンフィギュレーション](configure-your-domain-name.md)

[新しい eコマース テナントの配置](deploy-ecommerce-site.md)

[オンライン チャンネルと Dynamics 365 Commerce サイトの関連付け](associate-site-online-store.md)

[robots.txt ファイルの管理](manage-robots-txt-files.md)

[URL リダイレクトの一括アップロード](upload-bulk-redirects.md)

[B2C テナントを Commerce に 設定](set-up-b2c-tenant.md)

[ユーザー ログイン用のカスタム ページの設定](custom-pages-user-logins.md)

[Commerce 環境での複数の B2C テナントのコンフィギュレーション](configure-multi-b2c-tenants.md)

[コンテンツ配信ネットワーク (CDN) のサポートの追加](add-cdn-support.md)

[場所に基づく店舗検出の有効化](enable-store-detection.md)

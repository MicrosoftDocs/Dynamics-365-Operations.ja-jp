---
title: フィルター処理オプション
description: この記事では、利用可能なフィルター処理オプションについて説明します。
author: jasongre
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Developer
ms.reviewer: robinr
ms.search.scope: Operations
ms.custom: 28721
ms.assetid: f5501319-dcaa-4912-9456-97a0ef2c2452
ms.search.region: Global
ms.author: jasongre
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: da5030fbb617c12008198c64c1a5dafdae398b64
ms.sourcegitcommit: 2b890cd7a801055ab0ca24398efc8e4e777d4d8c
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "1506194"
---
# <a name="filtering-options"></a>フィルター処理オプション

[!include [banner](../includes/banner.md)]

この記事では、利用可能なフィルター処理オプションについて説明します。

<a name="introduction"></a>はじめに
------------

Microsoft Dynamics AX 2012 には、次のフィルタ処理オプションが用意されています。

| フィルター オプション                         | 説明                                                                                                                                                                   |
|---------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| グリッド フィルタ                        | ユーザーは、グリッド列ヘッダーの下の入力フィールドにフィルター条件を定義します。                                                                                             |
| 選択フィルタ (フィールド フィルタ) | ユーザーはフィールド値を選択し、その値をフィルター条件として使用します。                                                                                                     |
| 高度なフィルター                       | ユーザーは、高度なフィルタリング オプション (フォームではなく列にフィルターを適用、追加のデータ ソースに参加、複数の列で並べ替えるなど) を含むダイアログ ボックスを開きます。 |

次のフィルター処理オプションがあります。

| フィルター オプション         | 説明                                                                                                                                |
|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| フィルター ウィンドウ           | 左からスライドし、対象となるコンテンツに適用できる複数のフィルター基準を含むインライン ウィンドウです。       |
| QuickFilter           | フレームワークによって指定されたフィルタリング機構が任意のリストまたはグリッドの上に表示されると、高速で単一列のフィルター処理を提供します。           |
| グリッド列のフィルター処理 | ユーザーは、フィルター条件を定義し、グリッド列ヘッダーから開くドロップ ダイアログを使用して、単一列ソートを実行できます。 |
| 高度なフィルター/並べ替え  | たいていの高度なフィルターのシナリオでは、Dynamics AX 2012 から移行された**高度なフィルター**は引き続き使用可能です。                     |

## <a name="filter-expressions"></a>フィルター式
Microsoft Dynamics 365 for Finance and Operations でのフィルター処理と Dynamics AX 2012 でのフィルター処理の重要な違いの 1 つは、フィルター値が定義されてるときにクエリ記号が使用される方法です (たとえば、「\*」 と 0 文字以上を照合させるか、「..」を使用して一致する値の範囲を指定します)。 Dynamics AX 2012 では、これらの記号がフィルター処理中にはっきりと表示されます。 たとえば、グリッド オプションによるフィルターについては、ユーザーがフィールドで**含む**演算子を選択した場合、ワイルドカード文字 (\*) を現在の式の各終わりに追加することにより、システムはその演算子を変換します。 現在のバージョンでは、クエリ記号は選択された演算子によって暗黙的に指定され、ユーザー インターフェイスに挿入されません。 これにより、より直観的で簡単なフィルター処理がユーザーに提供されます。 特定のクエリ記号を使用して追加のフィルター条件を指定するユーザーに、またはより複雑な条件を入力する必要があるユーザーについては、各データ タイプに対して **一致**演算子が提供されます。 その他のすべての演算子については、クエリ記号はリテラルとして解釈されます。 たとえば、フィルター条件「名が A と一致する」は、名が A の文字で始まるすべてのレコードを検出します。ただし、フィルター条件「名が A\*である」は、名が文字どおり「A\*」に等しいレコードを検出します。 次のテーブルは、クライアントが Finance and Operations フィルター演算子と Dynamics AX 2012 クエリ構文の間でどのように変換するかを示しています。

| フィルター演算子                      | Finance and Operations のクエリ構文 |
|--------------------------------------|------------------------------------------|
| 「円」である、または「円」と等しい        | “circle”                                    |
| 「円」ではない、または「円」と等しくない | “!circle”                                   |
| 「円」、「四角」、「サークルスクエア」のいずれか     | “circle,square,circlesquare”                         |
| 「円」が含まれています。                       | “\*circle\*”                                |
| 「サークル」は含まない               | “!\*circle\*”                               |
| 「サークル」で始まる                    | “circle\*”                                  |
| 「円」 の後に/「円」 より大きい     | “&gt;circle”                                |
| 「円」以上          | “circle..”                                  |
| 「サークル」の前 / 「サークル」より小さい       | “&lt;circle”                                |
| 「円」以下             | “..circle”                                  |
| 「四角」と「円」の間              | “square..circle”                               |

先行するテンプレートと一致しないクエリ構文は、**一致**演算子として解釈されます。

## <a name="filter-pane"></a>フィルター ウィンドウ
フィルタ ウィンドウは、完全なページ一覧をフィルター処理する使いやすいインターフェイスを提供します。 フィルタ ウィンドウは、フィルター処理するデータがユーザーに表示されるように、画面の左側からスライド インし、ページのコンテンツを右側にプッシュするインライン ウィンドウです。 ユーザーは、ページの左側にあるシステム定義の **フィルターの表示** ボタンをクリックして、このフィルター メカニズムを開きます。 開いた後、フィルター ウィンドウは、ユーザーが新しいページに移動するまで、または**フィルターの非表示**ボタンを使用してユーザーがフィルター ウィンドウを閉じるまで、フィルター ウィンドウは表示されたままになります。

### <a name="when-is-the-filter-pane-available"></a>フィルタ ウィンドウはいつ使用可能になりますか ?

現在、フィルター ウィンドウは、次のフォームを除くすべてのフォームが使用できます。

-   ドロップ ダイアログ
-   ダイアログ
-   拡張プレビュー
-   ルックアップ
-   フォーム パーツ
-   パート
-   目次フォーム タイプ
-   データ ソースがないフォーム

**注記:** 特定のフォームおよびフォーム タイプでのフィルタ ウィンドウの可用性が発展しているので、このリストは変更される可能性があります。

### <a name="what-data-does-the-filter-pane-work-on"></a>どのようなデータにフィルタ ウィンドウは有効か ?

フィルター ウィンドウはページ リスト全体を対象としているため、フォーム上の最初のマスター データ ソースに (内部/外部結合によって) 直接結合されているテーブルとフィールドでのみ動作します。 このフィルター処理メカニズムは、セカンダリ コレクションのフィルター処理、または他のルート データ ソースとその直接結合されたデータ ソースのフィルター処理を目的としたものではありません。 その他のフィルター処理メカニズム (クイック フィルター、グリッド列のフィルター処理など) は、これら他の要件を満たすために使用できます。

### <a name="what-fields-are-initially-shown-in-the-filter-pane"></a>どのようなフィールドがフィルタ ウィンドウに最初に表示されますか。

フィルタ ウィンドウに最初に表示されるフィールドが選択される方法を次に示します。

1.  現在クエリ上に存在するすべての範囲/フィルター (非表示でないフィルター/範囲のみが表示されます) で使用されます。
2.  範囲フィルターがクエリに現在存在しない場合、1 つ目のマスター データ ソースからのプライマリ インデックスのフィールドが使用されます。
3.  1 つ目のマスタ データ ソースからのプライマリ インデックスのフィールドがない場合は、1 つ目のマスタ データ ソースで直接定義されている TitleFields が使用されます。  TitleFields が定義されていない場合は、既定のフィールドは表示されません。 (現在、最初のマスター データ ソースが別のテーブル (たとえばテーブル B) を拡張している場合、テーブル B の TitleField は表示されませんが、今後そのチェックを追加する予定です。)

### <a name="can-i-control-the-default-fields-that-appear-in-the-filter-pane"></a>フィルター ウィンドウに表示される既定のフィールドを制御できますか。

開発者は、そのフィールドの空のフィルターをクエリに追加することで、特定のフィールドがフィルター ウィンドウに表示されるようにすることができます。 例については、フォーム init() にフィルター転記 super() を追加する **FmCustomer** フォームを参照してください。 空のフィールドがフィルター ウィンドウに表示されることを保証するために追加された後、フィルター ウィンドウのフィールドは常にクエリで明示的なものになり、TitleFields や最初のマスター データ ソースのプライマリ インデックスからのフィールドになりません。

### <a name="i-dont-want-users-to-be-able-to-filter-on-a-specific-field-or-modify-an-existing-filter-how-do-i-accomplish-this"></a>ユーザーは特定のフィールドのフィルター処理または既存のフィルターを変更できません。 これをどのように完了しますか。

開発者は、フィルタのステータスを変更することで、ユーザーが特定のフィールドでフィルタを変更/追加できるかどうかに影響を与える可能性があります。 使用可能な値は、次の **RangeStatus** 列挙型です。

1.  **開く (既定)** – ユーザーはこのフィルターを表示および変更できます。
2.  **ロック済** – ユーザーはフィルター値を表示できますが、変更することはできません。 ユーザーはこの列に別のフィルターを追加することもできません。
3.  **非表示** – ユーザーは、この列にフィルターがあることを確認できません。 ユーザーはこの列に別のフィルターを追加することもできません。

### <a name="can-i-control-the-fields-that-appear-in-the-add-a-filter-field-list-in-the-filter-pane"></a>フィルター ウィンドウのフィルター フィールド リストの追加に表示されるフィールドを制御できますか。

**フィルター フィールドの追加** リストに表示されるフィールドは、フォームの最初のマスター データ ソースを含むクエリのフィルター設定可能なすべてのフィールドです。 したがって、開発者はこのリストに表示されるフィールドを制御することはできません。 通常、予期しないフィールドが表示される場合、またはフィルターを適用するフィールドが見つからない場合、予定しているフィールドは異なるマスター データ ソース (最初のデータ ソースではない) 上にあるか、または子コレクション上のいずれかにあります。

### <a name="how-is-the-filter-pane-used"></a>フィルタ ウィンドウはどのように使用されますか。

フィルタ ウィンドウは、単純で簡単に使用できます。 最初に、各フィルター フィールドに関連付けられているリストで、フィルター演算子を選択します。 表示される演算子のセットは、フィールドのデータ型によって異なることに注意してください。 フィルター条件に適切な値を入力して **適用** をクリックします。 フォームは、指定したフィルター基準に基づいて更新されます。

## <a name="quickfilter"></a>QuickFilter
Dynamics AX 2012 では、QuickFilter がリスト ページにのみ自動的に追加されるフレームワーク コントロールでした。 Finance and Operations では、QuickFilter はシステム内で任意のグリッドに関連付けることができるモデル化されたコントロールになっています。 ユーザーが入力を開始すると、列セレクター ドロップダウンが表示され、フィルターが適用される列に向かってユーザーがガイドされます。 開発者は QuickFilter の既定の列も指定できます。 開発者によって列が指定されていない場合は、グリッドにフィルター処理される最初のフィールドが既定の列です。 [![3\_フィルター](./media/3_filter.png)](./media/3_filter.png)

### <a name="why-dont-i-have-a-column-selector-in-my-quickfilter"></a>自分の QuickFilter 内に列セレクターがないのはなぜですか。

列セレクターは、グリッドに接続されている QuickFilter にのみ表示されます。 列の選択が表示されていない場合は、ほとんどの場合は、QuickFilter の **TargetControl** プロパティは空白になります。 このプロパティは、操作対象のグリッドを指している必要があります。 **TargetControl** プロパティが正しく設定されていますが、列のセレクターが表示されていない場合、グリッドにフィルター処理可能な列がない可能性があります。 テキスト以外のコントロール (イメージなど) に加えて、データ メソッドにバインドされているコントロールはフィルター処理できません。

### <a name="can-i-use-the-quickfilter-to-filter-other-collection-controls-such-as-trees"></a>QuickFilter を使用して他のコレクション コントロール (ツリーなど) をフィルターできますか？

はい、QuickFilter を使用して他のコレクション コントロールをフィルター処理することができますが、フィルター処理を手動で接続する必要があります。 一般的な手順を次に示します。

-   **TargetControl** プロパティを空白のままにします。
-   QuickFilter で **applyFilter()** メソッドをオーバーライドします。
-   目的のフィルター処理を実行するためメソッド内にコードを記述します。

## <a name="grid-column-header-filteringsorting"></a>グリッド列のヘッダーのフィルター処理/並べ替え
Finance and Operations では、グリッド フィルター エクスペリエンスは Microsoft Excel での体験により近く調整されています。 ユーザーが列のヘッダーをクリックするとき (フィルター処理できる列の場合) 、ドロップ ダイアログが表示され、ユーザーはそのダイアログを使用して列をフィルター処理できます。 ここでのフィルタリング経験は、フィルター ウィンドウでのフィルタリング経験を模倣します。 また、現在選択されている列に基づくグリッドをソートするオプションがあります。 [![4\_フィルター](./media/4_filter.png)](./media/4_filter.png)




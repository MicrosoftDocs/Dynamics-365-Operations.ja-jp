---
title: "AX 2012 からのアップグレード - 切替テスト (模擬切替)"
description: "このトピックでは、AX 2012 環境をオフにしてから Dynamics 365 for Finance and Operations をオンにするまでの切替えプロセスをテストする方法について説明します。"
author: robadawy
manager: AnnBe
ms.date: 03/22/2018
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
audience: Developer, IT Pro
ms.reviewer: margoc
ms.search.scope: Operations
ms.search.region: Global
ms.author: robadawy
ms.search.validFrom: 2017-06-16
ms.dyn365.ops.version: Platform update 8
ms.translationtype: HT
ms.sourcegitcommit: efcb77ff883b29a4bbaba27551e02311742afbbd
ms.openlocfilehash: 3db84cd3d698e7884c9b275be25bd3094c6938da
ms.contentlocale: ja-jp
ms.lasthandoff: 05/08/2018

---

# <a name="upgrade-from-ax-2012---cutover-testing-mock-cutover"></a><span data-ttu-id="52114-103">AX 2012 からのアップグレード - 切替テスト (模擬切替)</span><span class="sxs-lookup"><span data-stu-id="52114-103">Upgrade from AX 2012 - Cutover testing (Mock cutover)</span></span>

[!include [banner](../includes/banner.md)]

[!include [upgrade banner](../includes/upgrade-banner.md)]

<span data-ttu-id="52114-104">*切替*という用語は、新しいシステムを稼働させる最後のプロセスに使用します。</span><span class="sxs-lookup"><span data-stu-id="52114-104">*Cutover* is the term that we use for the final process of getting a new system live.</span></span> <span data-ttu-id="52114-105">この切替プロセスは、Microsoft Dynamics AX 2012 をオフにした後、Microsoft Dynamics 365 for Finance and Operations をオンにする前に実行されるタスクで構成されています。</span><span class="sxs-lookup"><span data-stu-id="52114-105">The cutover process consists of the tasks that occur after Microsoft Dynamics AX 2012 is turned off, but before Microsoft Dynamics 365 for Finance and Operations, is turned on.</span></span> <span data-ttu-id="52114-106">アップグレード切替テスト (切替モック) の目的は、切替プロセスを練習することで、実際の切替中に関係するすべての人がスムーズに作業できるようにすることです。</span><span class="sxs-lookup"><span data-stu-id="52114-106">The purpose of upgrade cutover testing (mock cutover) is to practice the cutover process, to help guarantee a smooth experience for everyone who is involved during the actual cutover to go-live.</span></span>

<span data-ttu-id="52114-107">切替中には、3 つの主要なワーク ストリームがあります。</span><span class="sxs-lookup"><span data-stu-id="52114-107">There are three main workstreams during a cutover:</span></span>

- <span data-ttu-id="52114-108">**技術的なワーク ストリーム** – このワーク ストリームには、データ アップグレードの実行プロセスが含まれています。</span><span class="sxs-lookup"><span data-stu-id="52114-108">**Technical workstream** – This workstream includes the data upgrade execution process.</span></span> <span data-ttu-id="52114-109">業務では、許可されているダウンタイムの金額に制限が適用されます。</span><span class="sxs-lookup"><span data-stu-id="52114-109">Your business will enforce a limit on the amount of downtime that is allowed.</span></span> <span data-ttu-id="52114-110">ダウンタイムの間は、AX 2012 または Finance and Operations のいずれも利用できません。</span><span class="sxs-lookup"><span data-stu-id="52114-110">During this downtime, neither AX 2012 nor Finance and Operations will be available.</span></span> <span data-ttu-id="52114-111">このワーク ストリームでは、業務でのダウンタイム制限を満たすために、データ アップグレード手順をチューニングする必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-111">This workstream might have to tune the data upgrade procedure to meet the business's downtime limit.</span></span>
- <span data-ttu-id="52114-112">**機能的なワーク ストリーム** – このワーク ストリームには、データのアップグレードが完了した後に実行されるコンフィギュレーション タスクが含まれます。</span><span class="sxs-lookup"><span data-stu-id="52114-112">**Functional workstream** – This workstream includes the configuration tasks that are performed after the data upgrade is completed.</span></span> <span data-ttu-id="52114-113">機能的なワークストリームと技術的なワークストリームの両方が業務のダウンタイム制限内に収まる必要があるため、これらのタスクをすべて文書化および定量化し、リソースを割り当てる必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-113">All these tasks must be documented and quantified, and a resource must be assigned, because both the functional workstream and the technical workstream must fit within the business's downtime limit.</span></span>
- <span data-ttu-id="52114-114">**AX 2012 ロールバック** - このワークストリームには AX 2012 環境へのロールバックが含まれています。</span><span class="sxs-lookup"><span data-stu-id="52114-114">**AX 2012 rollback** - This workstream includes rolling back to an AX 2012 environment.</span></span> <span data-ttu-id="52114-115">ロールバックする必要はありませんが、必要な場合に備えてテスト済みのプロセスがあることが非常に重要です。</span><span class="sxs-lookup"><span data-stu-id="52114-115">Although it's unlikely that you will have to roll back, it's very important that you have a tested process in case you require it.</span></span>

<span data-ttu-id="52114-116">次の図は、実稼動環境で発生するような、切替中の全体的なプロセスを示しています。</span><span class="sxs-lookup"><span data-stu-id="52114-116">The following illustration shows the overall process for cutover to go-live as it will occur in the production environment.</span></span>

![切替プロセス](./media/cutover_1.png)

<span data-ttu-id="52114-118">モック カットオーバー プロセスは、サンドボックス環境での基本的なデータ アップグレードの検証と非常によく似ています。</span><span class="sxs-lookup"><span data-stu-id="52114-118">The mock cutover process is very similar to a basic data upgrade validation in a sandbox environment.</span></span> <span data-ttu-id="52114-119">そのプロセスを熟知していて、そのプロセスを既に実行済みであると仮定します。</span><span class="sxs-lookup"><span data-stu-id="52114-119">We assume that you are familiar with that process, and have already performed it.</span></span> <span data-ttu-id="52114-120">切替モックは、次の点で異なります。</span><span class="sxs-lookup"><span data-stu-id="52114-120">Mock cutover differs in the following ways:</span></span>

- <span data-ttu-id="52114-121">データのアップグレード プロセスは本番環境で実行されますが、このアプローチは高速です。</span><span class="sxs-lookup"><span data-stu-id="52114-121">The data upgrade process is performed on the production environment, this approach is faster.</span></span>
- <span data-ttu-id="52114-122">Finance and Operations の実稼働環境でのアクセスが制限されているために、Application Object Server (AOS) のサンドボックス インスタンスで以前に実行されていた一部のタスクは、Microsoft サービス エンジニアリング (DSE) チームによって実行されるようになりました。</span><span class="sxs-lookup"><span data-stu-id="52114-122">Because the production environment for Finance and Operations has restricted access, some tasks that were previously performed on the sandbox instance of Application Object Server (AOS) are now performed by the Microsoft Service Engineering (DSE) team.</span></span> <span data-ttu-id="52114-123">これらのタスクには、データ アップグレード プロセスの実行が含まれます。</span><span class="sxs-lookup"><span data-stu-id="52114-123">These tasks include running the data upgrade process.</span></span>
- <span data-ttu-id="52114-124">次のタスクを追加しました。</span><span class="sxs-lookup"><span data-stu-id="52114-124">We added the following tasks:</span></span>
    - <span data-ttu-id="52114-125">スモーク テストを実行します。</span><span class="sxs-lookup"><span data-stu-id="52114-125">Perform a smoke test.</span></span>
    - <span data-ttu-id="52114-126">アプリケーションの設定タスクを完了します。</span><span class="sxs-lookup"><span data-stu-id="52114-126">Complete application setup tasks.</span></span> <span data-ttu-id="52114-127">このステップは、使用する機能に応じて大規模になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="52114-127">This step can be large, depending on the functionality that is used.</span></span> <span data-ttu-id="52114-128">このステップでは、機能チームは新しいアプリケーションの機能を構成して、アップグレードされたシステムで使用できるようにします。</span><span class="sxs-lookup"><span data-stu-id="52114-128">During this step, the functional team configures new application functionality so that it's ready to be used in the upgraded system.</span></span>
    - <span data-ttu-id="52114-129">ユーザーがシステムに戻れるようにします。</span><span class="sxs-lookup"><span data-stu-id="52114-129">Allow users back in.</span></span> <span data-ttu-id="52114-130">アップグレードが完了して、システムを再度使用できることをユーザーに通知します。</span><span class="sxs-lookup"><span data-stu-id="52114-130">Notify your user base that the upgrade is completed and that they can use the system again.</span></span>

> [!NOTE]
> <span data-ttu-id="52114-131">この記事では、*サンドボックス* という用語を使用して SQL Azure データベースに接続されている標準またはプレミア承認テスト (レベル 2 または 3)、またはより高度な環境を示します。</span><span class="sxs-lookup"><span data-stu-id="52114-131">In this article, we use the term *sandbox* to refer to a Standard or Premier Acceptance Testing (Tier 2 or 3) or higher environment connected to a SQL Azure database.</span></span>

## <a name="technical-workstream"></a><span data-ttu-id="52114-132">技術的なワーク ストリーム</span><span class="sxs-lookup"><span data-stu-id="52114-132">Technical workstream</span></span>

<span data-ttu-id="52114-133">技術的なワーク ストリームに含まれるさまざまな技術チームのメンバー: データベース管理者 (DBA)、AX 2012 のシステム管理者、サーバー管理者、AX 2012 および Finance and Operations に精通している開発者。</span><span class="sxs-lookup"><span data-stu-id="52114-133">The technical workstream involves various technical team members: the database administrator (DBA), the AX 2012 system administrator, server administrators, and developers who are familiar with AX 2012 and Finance and Operations.</span></span> <span data-ttu-id="52114-134">このトピックでは、どのタスクがどのロールを含めるかについて説明します。</span><span class="sxs-lookup"><span data-stu-id="52114-134">This topic will explain which tasks involve which roles.</span></span>

<span data-ttu-id="52114-135">切替テスト中には、技術チームは、データ アップグレード プロセスのパフォーマンスと信頼性のテストに焦点を当てて、ビジネスのダウンタイム制限を満たすようにします。</span><span class="sxs-lookup"><span data-stu-id="52114-135">During cutover testing, the technical team is focused on performance and reliability testing of the data upgrade process, to make sure that it meets the business's downtime limit.</span></span> <span data-ttu-id="52114-136">ハードウェアとソフトウェアの多くの要素がこのプロセスに関連しています。</span><span class="sxs-lookup"><span data-stu-id="52114-136">Many elements of hardware and software are involved in this process.</span></span> <span data-ttu-id="52114-137">これらの要素の一部はオンプレミスですが、他の要素は Microsoft クラウドに含まれています。</span><span class="sxs-lookup"><span data-stu-id="52114-137">Some of these elements are on-premises, whereas others are in the Microsoft cloud.</span></span> <span data-ttu-id="52114-138">加えて、カスタム アプリケーション コードと標準コードの多くの要素が含まれています。</span><span class="sxs-lookup"><span data-stu-id="52114-138">In addition, many elements of custom application code and standard code are involved.</span></span> <span data-ttu-id="52114-139">このテストの結果は、環境の切替プロセスを信頼する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-139">The result of this testing should be confidence in the cutover process for your environment.</span></span>

### <a name="technical-workstream-process"></a><span data-ttu-id="52114-140">技術的なワーク ストリーム プロセス</span><span class="sxs-lookup"><span data-stu-id="52114-140">Technical workstream process</span></span>

> [!NOTE]
> <span data-ttu-id="52114-141">技術的なワークストリームについては、切替テストのプロセスは、実際/稼働の切替プロセスの高レベルの手順と同じです。</span><span class="sxs-lookup"><span data-stu-id="52114-141">For the technical workstream, the cutover testing process is the same as the high-level steps of the actual/go-live cutover process.</span></span>

1.  <span data-ttu-id="52114-142">Microsoft Lifecycle Services (LCS) を通じて **その他のタイプ** サービス要求を送信し、実稼働環境をアップグレードするという目的を DSE に通知します。</span><span class="sxs-lookup"><span data-stu-id="52114-142">Submit an **Other type** service request through Microsoft Lifecycle Services (LCS) to notify DSE of your intention to upgrade a production environment.</span></span>
2.  <span data-ttu-id="52114-143">AX 2012 AOS のインスタンスをオフにします。</span><span class="sxs-lookup"><span data-stu-id="52114-143">Turn off your AX 2012 AOS instances.</span></span>
3.  <span data-ttu-id="52114-144">AX 2012 データベースのバックアップを作成し、元のデータベースのコピーに対して Transact-SQL (T-SQL) スクリプトを実行します。</span><span class="sxs-lookup"><span data-stu-id="52114-144">Create a backup of the AX 2012 database and run a Transact-SQL (T-SQL) script against a copy of the original database.</span></span>
4.  <span data-ttu-id="52114-145">SQLPackage.exe という名前の無料の SQL Server ツールを使用して、コピーされたデータベースを bacpac ファイルにエクスポートします。</span><span class="sxs-lookup"><span data-stu-id="52114-145">Export the copied database to a bacpac file by using a free SQL Server tool that is named SQLPackage.exe.</span></span> <span data-ttu-id="52114-146">このツールでは、SQL データベースにインポートできる特別な種類のデータベース バックアップを提供します。</span><span class="sxs-lookup"><span data-stu-id="52114-146">This tool provides a special type of database backup that can be imported into SQL Database.</span></span>
5.  <span data-ttu-id="52114-147">bacpac ファイルを AOS マシンにアップロードします。</span><span class="sxs-lookup"><span data-stu-id="52114-147">Upload the bacpac file to the AOS machine.</span></span>
6.  <span data-ttu-id="52114-148">サンドボックス環境で bacpac ファイルを Application Object Server (AOS) 仮想マシンにダウンロードし、SQLPackage.exe を使用してインポートします。</span><span class="sxs-lookup"><span data-stu-id="52114-148">Download the bacpac file to the Application Object Server (AOS) virtual machine in the sandbox environment, and then import it by using SQLPackage.exe.</span></span> 
7.  <span data-ttu-id="52114-149">データベースがアップグレード準備完了であることを Microsoft DSE チームに通知し、サンドボックスから実稼働環境にインポートされたデータベースをコピーします。</span><span class="sxs-lookup"><span data-stu-id="52114-149">Notify the Microsoft DSE team that your database is ready for upgrade – they will copy the imported database from sandbox to the production environment.</span></span>
    - <span data-ttu-id="52114-150">DSE チームは、インポートされたデータベースに対して適切なデータ アップグレードを実行します。</span><span class="sxs-lookup"><span data-stu-id="52114-150">The DSE team will run the data upgrade against the imported database.</span></span>
    - <span data-ttu-id="52114-151">データ アップグレードが完了すると、DSE チームにより通知されます。この時点で、ログインして、ポスト アップグレードに必要な機能構成タスクを完了し、エンド ユーザーが新しいシステムに戻ることができます。</span><span class="sxs-lookup"><span data-stu-id="52114-151">The DSE team will notify you once the data upgrade is complete – at this point you can log in and complete any functional configuration tasks required post-upgrade before you allow the end users back into the new system.</span></span>

<span data-ttu-id="52114-152">次のセクションでは、このプロセスと [AX 2012 からのアップグレード - サンド ボックス環境でのデータ アップグレード](upgrade-data-sandbox.md) で説明されている、コア データのアップグレード プロセスとの違い、および実行する必要のある検証について説明します。</span><span class="sxs-lookup"><span data-stu-id="52114-152">The next sections contain details about how this process differs from the core data upgrade process, descsribed in the [Upgrade from AX 2012 - Data upgrade in a sandbox environment](upgrade-data-sandbox.md) topic, and the validations that you should perform.</span></span>

### <a name="1-submit-a-cutover-request"></a><span data-ttu-id="52114-153">1. 切り替え要求を送信する</span><span class="sxs-lookup"><span data-stu-id="52114-153">1. Submit a cutover request</span></span>

<span data-ttu-id="52114-154">**その他のタイプ** サービス要求を送信します。</span><span class="sxs-lookup"><span data-stu-id="52114-154">Submit an **Other type** service request.</span></span> <span data-ttu-id="52114-155">Microsoft solution architect と協力して十分の通知期間 (2、3 週間前) があることを確認します。</span><span class="sxs-lookup"><span data-stu-id="52114-155">Work with your Microsoft solution architect and ensure that you do this with plenty of notice (2 to 3 weeks in advance).</span></span> <span data-ttu-id="52114-156">これが切替モックであることをサービス要求で示します。</span><span class="sxs-lookup"><span data-stu-id="52114-156">Indicate in the service request that this is a mock cutover.</span></span>
    - <span data-ttu-id="52114-157">既に実稼働環境をカスタマイズして配置したことを確認します。モック データベースのアップグレードは実稼働環境で発生します。</span><span class="sxs-lookup"><span data-stu-id="52114-157">Make sure that you have a production environment already deployed with your customizations, a mock database upgrade will occur on your production environment.</span></span>
    - <span data-ttu-id="52114-158">切替モックは、米国太平洋標準時で月曜日から木曜日の営業時間中に実行されます。</span><span class="sxs-lookup"><span data-stu-id="52114-158">Mock cutovers are performed during business hours, Monday to Thursday, in the US Pacific timezone.</span></span>
    - <span data-ttu-id="52114-159">切替モックは DSE チームの空き状況に左右されますので、事前に計画してください。</span><span class="sxs-lookup"><span data-stu-id="52114-159">Mock cutover requests are subject to availability of the DSE team, please plan ahead.</span></span>

<span data-ttu-id="52114-160">詳細については、以下を参照してください。</span><span class="sxs-lookup"><span data-stu-id="52114-160">For more information, see:</span></span> 
- <span data-ttu-id="52114-161">[サービス要求を送信する](../lifecycle-services/submit-request-dynamics-service-engineering-team.md)</span><span class="sxs-lookup"><span data-stu-id="52114-161">[Submit a service request](../lifecycle-services/submit-request-dynamics-service-engineering-team.md).</span></span>
- [<span data-ttu-id="52114-162">研修</span><span class="sxs-lookup"><span data-stu-id="52114-162">Onboarding</span></span>](../../fin-and-ops/imp-lifecycle/onboard.md)

### <a name="2-turn-off-the-ax-2012-aos-instances"></a><span data-ttu-id="52114-163">2. AX 2012 AOS インスタンスをオフにする</span><span class="sxs-lookup"><span data-stu-id="52114-163">2. Turn off the AX 2012 AOS instances</span></span>

<span data-ttu-id="52114-164">このタスクには、AX 2012 のシステム管理者とサーバー管理者が含まれます。</span><span class="sxs-lookup"><span data-stu-id="52114-164">This task involves the AX 2012 system administrator and the server administrators.</span></span>

<span data-ttu-id="52114-165">次の領域を検証する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-165">The following areas should be validated:</span></span>

- <span data-ttu-id="52114-166">**切替の時点で実行中のバッチ ジョブ** – 既に実行を開始している実行時間の長いバッチ ジョブは、システムの停止を防止します。</span><span class="sxs-lookup"><span data-stu-id="52114-166">**Batch jobs that are running at the time of cutover** – A long-running batch job that has already started to run will prevent the system from stopping.</span></span> <span data-ttu-id="52114-167">希望する時点で AOS インスタンスを停止できるように、事前に計画してください。</span><span class="sxs-lookup"><span data-stu-id="52114-167">Plan ahead, so that you can stop your AOS instances at the desired moment.</span></span> <span data-ttu-id="52114-168">AX 2012 をオフにする前にバッチが完了するよう、バッチをスケジュールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-168">You might have to schedule batches so that they're completed some time before you turn off AX 2012.</span></span>

- <span data-ttu-id="52114-169">**システムの統合** – AX 2012 環境と統合されている他のシステムをお持ちかもしれません。</span><span class="sxs-lookup"><span data-stu-id="52114-169">**Integrated systems** – You might have other systems that are integrated with the AX 2012 environment.</span></span> <span data-ttu-id="52114-170">AX 2012 をオフにするための計画には、これらのシステムを考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-170">You must factor these systems into your plan to turn off AX 2012.</span></span> <span data-ttu-id="52114-171">たとえば、AX 2012 自体をオフにする前に、統合システムをしばらくオフにして、残りのインフライト トランザクションを完了する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-171">For example, you might have to turn off the integrated systems some time before you turn off AX 2012 itself, so that any remaining in-flight transactions can be completed.</span></span> <span data-ttu-id="52114-172">統合システムの要件は、企業間で広く異なります。</span><span class="sxs-lookup"><span data-stu-id="52114-172">The requirements for integrated systems vary widely from business to business.</span></span> <span data-ttu-id="52114-173">したがって、専門家チームはこのシナリオを個別に計画する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-173">Therefore, your team of experts must plan for this scenario independently.</span></span>

 ### <a name="3-create-a-backup-of-the-ax-2012-database-and-run-the-t-sql-script-to-prepare-the-database"></a><span data-ttu-id="52114-174">3. AX 2012 データベースのバックアップを作成し、T SQL スクリプトを実行して、データベースを準備する</span><span class="sxs-lookup"><span data-stu-id="52114-174">3. Create a backup of the AX 2012 database and run the T-SQL script to prepare the database</span></span> 

<span data-ttu-id="52114-175">このタスクには、DBA が含まれます。</span><span class="sxs-lookup"><span data-stu-id="52114-175">This task involves the DBA.</span></span> <span data-ttu-id="52114-176">バックアップは、ロールバックが必要な場合に使用されます。</span><span class="sxs-lookup"><span data-stu-id="52114-176">The backup will be used if a rollback is required.</span></span> <span data-ttu-id="52114-177">また、一定の期間保持され、切替時にシステム状態を示す基準点としても使用されます。</span><span class="sxs-lookup"><span data-stu-id="52114-177">It will also be used as a reference point that will be kept for a period and show the system state at the moment of cutover.</span></span>

<span data-ttu-id="52114-178">次の領域を検証する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-178">The following areas should be validated:</span></span>
- <span data-ttu-id="52114-179">バックアップ プロセスに要する時間を正確に把握します。</span><span class="sxs-lookup"><span data-stu-id="52114-179">Capture how long the backup process takes, precisely.</span></span>
- <span data-ttu-id="52114-180">使用されるバックアップオプション (圧縮と非圧縮など) を調整し、可能な限り高速なバックアップを保証します。</span><span class="sxs-lookup"><span data-stu-id="52114-180">Adjust the backup options that are used (for example, compression versus non-compression), to help guarantee the fastest possible backup.</span></span>

<span data-ttu-id="52114-181">バックアップを作成した後、元のデータベースのコピーに対して T-SQL スクリプトを実行します。</span><span class="sxs-lookup"><span data-stu-id="52114-181">After the backup is created, run the T-SQL script against the copy of the original database.</span></span> <span data-ttu-id="52114-182">(Go-Live カットオーバーの間に、元のデータベースに対して T-SQL スクリプトを実行します)。</span><span class="sxs-lookup"><span data-stu-id="52114-182">(During a go-live cutover you run the T-SQL script against the original database).</span></span> 

<span data-ttu-id="52114-183">このスクリプトは、ユーザーを削除、AX 2012 RTM モデル ストアに関連するステップを削除、スキーマをクリーン アップ、ビューを削除、および tempDB への参照を削除によってデータベースを準備します。</span><span class="sxs-lookup"><span data-stu-id="52114-183">This script prepares the database by removing users, removing procedures related to the AX 2012 RTM model store, cleaning up schemas, dropping views, and dropping references to tempDB.</span></span> <span data-ttu-id="52114-184">環境で機能するスクリプトを変更することが必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="52114-184">You may need to modify the script to work for your environment.</span></span> 

<span data-ttu-id="52114-185">このスクリプトは、Sandbox データ アップグレード トピックの「[T SQL スクリプトを実行して、データベースを準備する](upgrade-data-sandbox.md#run-the-t-sql-script-to-prepare-the-database)」セクションにあります。</span><span class="sxs-lookup"><span data-stu-id="52114-185">The script can be found in the [Run the T-SQL script to prepare the database](upgrade-data-sandbox.md#run-the-t-sql-script-to-prepare-the-database) section of the Sandbox data upgrade topic.</span></span> 


### <a name="4-export-the-database-to-a-bacpac-file"></a><span data-ttu-id="52114-186">4. データベースを bacpac ファイルにエクスポートする</span><span class="sxs-lookup"><span data-stu-id="52114-186">4. Export the database to a bacpac file</span></span>

<span data-ttu-id="52114-187">このタスクには、DBA が含まれます。</span><span class="sxs-lookup"><span data-stu-id="52114-187">This task involves the DBA.</span></span> <span data-ttu-id="52114-188">このタスクの出力は、新しいシステムの Microsoft Azure にアップロードされるエクスポート ファイルです。</span><span class="sxs-lookup"><span data-stu-id="52114-188">The output of this task is the export file that will be uploaded to Microsoft Azure for the new system.</span></span> <span data-ttu-id="52114-189">サンドボックス データのアップグレード トピックの[コピーしたデータベースをエクスポート](./upgrade-data-sandbox.md#export-the-copied-database-to-a-bacpac-file)セクションで説明されているサンドボックス環境でのデータのアップグレード テストを実行している場合、インポート プロセスをよく知っている必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-189">You should already be familiar with this process if you have performed a data upgrade test on your sandbox environment as described in the [Export the copied database](./upgrade-data-sandbox.md#export-the-copied-database-to-a-bacpac-file) section of the Sandbox data upgrade topic.</span></span>

<span data-ttu-id="52114-190">次の領域を検証する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-190">The following areas should be validated:</span></span>
- <span data-ttu-id="52114-191">バックアッププロセスの具体的なタイミングを取得します。</span><span class="sxs-lookup"><span data-stu-id="52114-191">Get concrete timings for the backup process.</span></span>
- <span data-ttu-id="52114-192">可能な限り高速のエクスペリエンスを保証するために、エクスポート プロセスを最適化します。</span><span class="sxs-lookup"><span data-stu-id="52114-192">Optimize the export process to help guarantee the fastest possible experience.</span></span> <span data-ttu-id="52114-193">最適化には、次のタスクが必要です。</span><span class="sxs-lookup"><span data-stu-id="52114-193">Optimization might require the following tasks:</span></span>
    - <span data-ttu-id="52114-194">CPU、ディスク I/O、メモリなどのエクスポート中にシステム リソースを測定します。</span><span class="sxs-lookup"><span data-stu-id="52114-194">Measure system resources during export, such as CPU, disk I/O, and memory.</span></span>
    - <span data-ttu-id="52114-195">リソースのボトルネックが見つかった場合は、それらを軽減するための計画を作成します。</span><span class="sxs-lookup"><span data-stu-id="52114-195">If resource bottlenecks are found, create a plan to mitigate them.</span></span> <span data-ttu-id="52114-196">通常、より多くの必要なリソースを割り当てることでこれらのボトルネックが軽減されます。</span><span class="sxs-lookup"><span data-stu-id="52114-196">Typically, you will mitigate these bottlenecks by assigning more of the required resource.</span></span>


### <a name="5-upload-the-bacpac-file-to-azure-storage-or-the-lcs-asset-library"></a><span data-ttu-id="52114-197">5. Azure ストレージまたは LCS 資産ライブラリに bacpac ファイルをアップロードする</span><span class="sxs-lookup"><span data-stu-id="52114-197">5. Upload the bacpac file to Azure storage or the LCS Asset library</span></span>

<span data-ttu-id="52114-198">このタスクには、DBA またはサーバー管理者が関与します。</span><span class="sxs-lookup"><span data-stu-id="52114-198">This task involves the DBA or the server administrators.</span></span> <span data-ttu-id="52114-199">このタスクの間に、bacpac ファイルは Azure に移動されます。</span><span class="sxs-lookup"><span data-stu-id="52114-199">During this task, the bacpac file is moved into Azure.</span></span>

<span data-ttu-id="52114-200">作成した bacpac ファイルは、Azure でホストされたサンドボックス環境の AOS 仮想マシン (VM) にコピーする必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-200">The bacpac file you have created needs to be copied to the AOS virtual machine (VM) in your Azure hosted sandbox environment.</span></span> <span data-ttu-id="52114-201">これを引当するためのいくつかの理由があります。</span><span class="sxs-lookup"><span data-stu-id="52114-201">There are several reasons for this:</span></span>
   1. <span data-ttu-id="52114-202">レベル 2 (またはそれ以上) サンドボックス環境により使用される Azure SQL データベース インスタンスには、環境自体の外からのアクセスを防ぐファイアウォール ルールがあります。</span><span class="sxs-lookup"><span data-stu-id="52114-202">The Azure SQL Database instance used by your Tier 2 (or higher) sandbox environment has firewall rules preventing access from outside of the environment itself.</span></span>
   2. <span data-ttu-id="52114-203">Bacpac インポートのパフォーマンスは、Azure SQL データベース インスタンスとし同じ Azure データセンター コンピューターからインポートした場合、何倍も向上します。</span><span class="sxs-lookup"><span data-stu-id="52114-203">Performance of bacpac import is multiple times faster when importing from a machine within the same Azure datacenter as the Azure SQL database instance.</span></span>

<span data-ttu-id="52114-204">Bacpac ファイルをサンドボックス AOS VM に移動する方法を選択することができます。</span><span class="sxs-lookup"><span data-stu-id="52114-204">You can choose how you would like to move the bacpac file to the sandbox AOS VM.</span></span> <span data-ttu-id="52114-205">Microsoft Azure ストレージを使用することをお勧めします。Azure ストレージを使用するには、ユーザー自身のサブスクリプション (Dynamics 365 サブスクリプション自体に含まれていません) で独自の Azure ストレージ アカウントを取得する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-205">A fast option is to use Microsoft Azure storage, which would require that you acquire your own Azure storage account on your own Azure subscription (this is not provided within the Dynamics 365 subscription itself).</span></span> <span data-ttu-id="52114-206">Azure ストレージ間でファイルを移動するのに役立つ無料のツールがあります。コマンド ラインからは[Azcopy](/azure/storage/common/storage-use-azcopy) を、GUI 操作からは [Microsoft Azure ストレージ エクスプローラー](http://azure.microsoft.com/en-us/features/storage-explorer/)を使用できます。</span><span class="sxs-lookup"><span data-stu-id="52114-206">There are free tools to help you to move files between Azure storage: From the command line you can use [Azcopy](/azure/storage/common/storage-use-azcopy), or for a GUI experience you can use [Microsoft Azure storage explorer](http://azure.microsoft.com/en-us/features/storage-explorer/).</span></span> <span data-ttu-id="52114-207">これらのツールのいずれかを使用して、オンプレミス環境から Azure ストレージにバックアップをアップロードします。</span><span class="sxs-lookup"><span data-stu-id="52114-207">Use one of these tools to upload the backup from your on-premises environment to Azure storage.</span></span> <span data-ttu-id="52114-208">サンドボックス AOS VM にダウンロードすることができます。</span><span class="sxs-lookup"><span data-stu-id="52114-208">You can then download it to your sandbox AOS VM.</span></span>

<span data-ttu-id="52114-209">もう 1 つの (無料) オプションは、LCS 資産ライブラリを使用することですが、アップロードやダウンロードは Azure ストレージよりも時間がかかる場合があります。</span><span class="sxs-lookup"><span data-stu-id="52114-209">Another (free) option is to use the LCS asset library, however, the upload and download will take longer than Azure storage.</span></span> <span data-ttu-id="52114-210">このオプションを使用するには、次のようにします。</span><span class="sxs-lookup"><span data-stu-id="52114-210">To use this option:</span></span> 
1. <span data-ttu-id="52114-211">LCS でプロジェクトにログインし、アセット ライブラリに移動します。</span><span class="sxs-lookup"><span data-stu-id="52114-211">Log into your project in LCS and go to your Asset library.</span></span>
2. <span data-ttu-id="52114-212">データベース バックアップ タブを選択します。</span><span class="sxs-lookup"><span data-stu-id="52114-212">Select the Database backup tab.</span></span> 
3. <span data-ttu-id="52114-213">bacpac ファイルをアップロードします。</span><span class="sxs-lookup"><span data-stu-id="52114-213">Upload the bacpac file.</span></span> 

<span data-ttu-id="52114-214">その VM から LCS にログインして LCS アセット ライブラリからダウンロードすることにより、後から bacpac をサンドボックス AOS VM にダウンロードすることができます。</span><span class="sxs-lookup"><span data-stu-id="52114-214">You can later download the bacpac onto the sandbox AOS VM by logging into LCS on that VM and downloading it from the LCS Asset library.</span></span>

<span data-ttu-id="52114-215">次の領域を検証する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-215">The following areas should be validated:</span></span>
- <span data-ttu-id="52114-216">複数回測定することにより、アップロード プロセスの具体的なタイミングを取得します。</span><span class="sxs-lookup"><span data-stu-id="52114-216">Get concrete timings for the upload process by measuring it several times.</span></span> <span data-ttu-id="52114-217">アップロード時間は、インターネット接続の速度と、自分の場所に関連する Azure データセンターの地理的な場所に基づいて異なります。</span><span class="sxs-lookup"><span data-stu-id="52114-217">Upload times will vary, based on the speed of your Internet connection and the geographical location of the Azure datacenter in relation to your location.</span></span>

### <a name="6-download-and-import-the-bacpac-file-to-the-azure-sql-database"></a><span data-ttu-id="52114-218">6. bacpac ファイルをダウンロードして Azure SQL データベースにインポートする</span><span class="sxs-lookup"><span data-stu-id="52114-218">6. Download and import the bacpac file to the Azure SQL database</span></span>

<span data-ttu-id="52114-219">このタスクには、DBA が含まれます。</span><span class="sxs-lookup"><span data-stu-id="52114-219">This task involves your DBA.</span></span> <span data-ttu-id="52114-220">このタスクの結果は、アップグレードする準備が整った SQL Azure データベースです。</span><span class="sxs-lookup"><span data-stu-id="52114-220">The outcome of this task is a SQL Azure database that is ready to by upgraded.</span></span> <span data-ttu-id="52114-221">サンドボックス データのアップグレード トピックの [bacpac ファイルをインポート](./upgrade-data-sandbox.md#import-the-bacpac-file-into-sql-database)セクションで説明されているサンドボックス環境でのデータのアップグレード テストを実行している場合、インポート プロセスをよく知っている必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-221">You should already be familiar with the import process if you have performed a data upgrade test on your sandbox environment as described in the [Import the bacpac file](./upgrade-data-sandbox.md#import-the-bacpac-file-into-sql-database) section of the Sandbox data upgrade topic.</span></span>

<span data-ttu-id="52114-222">SQL データベース インスタンスへのアクセスを制限するファイアウォール規則があるため、サンドボックス環境の AOS 仮想マシン (VM) でこのタスクを直接実行します。</span><span class="sxs-lookup"><span data-stu-id="52114-222">Perform this task directly on the AOS virtual machine (VM) in your sandbox environment, because there are firewall rules that restrict access to the SQL Database instance.</span></span> <span data-ttu-id="52114-223">ただし、AOS コンピューターを使用すると、アクセス許可を取得できます。</span><span class="sxs-lookup"><span data-stu-id="52114-223">However, by using the AOS machine, you can gain access.</span></span> <span data-ttu-id="52114-224">パフォーマンス上の理由から、bacpac ファイルを AOS コンピューターの D ドライブに配置することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="52114-224">For performance reasons, we recommend that you put the bacpac file on drive D on the AOS machine.</span></span> <span data-ttu-id="52114-225">Azure 仮想マシンでは、D ドライブは通常、他の利用可能なディスクよりも高いパフォーマンスを持つ物理ディスクです。</span><span class="sxs-lookup"><span data-stu-id="52114-225">On Azure VMs, drive D is a physical disk that typically has higher performance than other available disks.</span></span>

<span data-ttu-id="52114-226">次の領域を検証する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-226">The following areas should be validated:</span></span>

- <span data-ttu-id="52114-227">インポート プロセスの具体的なタイミングを取得します。</span><span class="sxs-lookup"><span data-stu-id="52114-227">Get concrete timings for the import process.</span></span>
- <span data-ttu-id="52114-228">可能な限り高速のエクスペリエンスを保証するために、エクスポート プロセスを最適化します。</span><span class="sxs-lookup"><span data-stu-id="52114-228">Optimize the export process to help guarantee the fastest possible experience.</span></span> <span data-ttu-id="52114-229">最適化作業には、エクスポート中のシステム リソースの測定が含まれます。</span><span class="sxs-lookup"><span data-stu-id="52114-229">Optimization tasks include measuring system resources during export.</span></span> <span data-ttu-id="52114-230">次にいくつか例を挙げます。</span><span class="sxs-lookup"><span data-stu-id="52114-230">Here are some examples:</span></span>
   - <span data-ttu-id="52114-231">**AOS コンピューター:** CPU、ディスク I/O、メモリ</span><span class="sxs-lookup"><span data-stu-id="52114-231">**On the AOS machine:** CPU, disk I/O, and memory</span></span>
   - <span data-ttu-id="52114-232">**Azure SQL データベース インスタンス:** SQL データベース スループット (DTU)。</span><span class="sxs-lookup"><span data-stu-id="52114-232">**On the Azure SQL Database instance:** SQL database throughput (DTU).</span></span> <span data-ttu-id="52114-233">sys.dm_resource_stats システム ビューでは、AOS コンピューターの Microsoft SQL Server Management Studio から Azure SQL DTU を監視できます。</span><span class="sxs-lookup"><span data-stu-id="52114-233">You can monitor Azure SQL DTU from Microsoft SQL Server Management Studio on the AOS machine by looking at the sys.dm_resource_stats system view.</span></span>
   
- <span data-ttu-id="52114-234">リソースのボトルネックが見つかった場合は、それらを軽減するための計画を作成します。</span><span class="sxs-lookup"><span data-stu-id="52114-234">If resource bottlenecks are found, create a plan to mitigate them.</span></span> <span data-ttu-id="52114-235">通常、より多くの必要なリソースを割り当てることでこれらのボトルネックが軽減されます。</span><span class="sxs-lookup"><span data-stu-id="52114-235">Typically, you will mitigate these bottlenecks by assigning more of the required resource.</span></span> 
  
  > <span data-ttu-id="52114-236">[重要] リソースのボトルネックが発生した場合には、標準またはプレミア パフォーマンス テストなどの上位の階層に属しているサンド ボックスで、このプロセスの実行が必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="52114-236">[IMPORTANT] In the event of resouce bottlenecks, you may need to run this process on a sandbox that belongs to a higher tier like a Standard or Premier Performance Test.</span></span>

### <a name="7-request-the-dse-team-to-start-the-data-upgrade-process"></a><span data-ttu-id="52114-237">7. データ アップグレード プロセスを開始する DSE チームを要求する</span><span class="sxs-lookup"><span data-stu-id="52114-237">7. Request the DSE team to start the data upgrade process</span></span>

<span data-ttu-id="52114-238">データベースのインポートが完了したら、DSE チームにデータベースのアップグレード準備が完了したことを通知します。</span><span class="sxs-lookup"><span data-stu-id="52114-238">Once you have completed importing the database, notify the DSE team that the database is ready to be upgraded.</span></span> <span data-ttu-id="52114-239">データベースがインポートされた場所 (環境名) を含めます。</span><span class="sxs-lookup"><span data-stu-id="52114-239">Include the location (Environment name) that the database has been imported on.</span></span>
<span data-ttu-id="52114-240">DSE チームは、このタスクを実行し、古いデータベース構造が新しいシステムのスキーマに変換されます。</span><span class="sxs-lookup"><span data-stu-id="52114-240">The DSE team will perform this task, the old database structure is transformed to the schema of the new system.</span></span> <span data-ttu-id="52114-241">データベースの同期プロセスも、このタスクの一部として実行されます。</span><span class="sxs-lookup"><span data-stu-id="52114-241">The database synchronization process also runs as part of this task.</span></span> <span data-ttu-id="52114-242">この操作は SQL でコストがかかる操作であるため、クラスター化されたインデックスがテーブルで変更された場合など、状況によってはデータベースの同期にかなりの時間がかかる場合があります。</span><span class="sxs-lookup"><span data-stu-id="52114-242">Database synchronization might take a significant amount of time in some situations, such as when a clustered index has changed on a table, because this operation is a costly operation in SQL.</span></span>

<span data-ttu-id="52114-243">まず、開発およびサンドボックス環境で、分析とデバッグのプロセスの実行を完了することを強くお勧めします。</span><span class="sxs-lookup"><span data-stu-id="52114-243">We strongly recommend that you have first performed your analysis and debugging process in a development and sandbox environment.</span></span> <span data-ttu-id="52114-244">サンド ボックス環境では、デバッグと分析のオプションがさらに制限されます。</span><span class="sxs-lookup"><span data-stu-id="52114-244">In a sandbox environment, debugging and analysis options are more restricted.</span></span> <span data-ttu-id="52114-245">目標は、切替テストを実行するときに対処する必要のある問題がほとんど、あるいはまったくないことです。</span><span class="sxs-lookup"><span data-stu-id="52114-245">The goal is to have few or no issues that must be addressed when you do cutover testing.</span></span>

<span data-ttu-id="52114-246">次の領域を検証する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-246">The following areas should be validated:</span></span>
- <span data-ttu-id="52114-247">インポート プロセスの具体的なタイミングを取得します。</span><span class="sxs-lookup"><span data-stu-id="52114-247">Get concrete timings for the import process.</span></span>
- <span data-ttu-id="52114-248">最速のエクスペリエンスを保証するために、プロセスを最適化します。</span><span class="sxs-lookup"><span data-stu-id="52114-248">Optimize the process to help guarantee the fastest experience.</span></span> <span data-ttu-id="52114-249">最適化には、次のタスクが必要です。</span><span class="sxs-lookup"><span data-stu-id="52114-249">Optimization might require the following tasks:</span></span>
    - <span data-ttu-id="52114-250">ReleaseUpdateScriptsExecution テーブルを使用して、個々のアップグレード スクリプトのパフォーマンスを監視します。</span><span class="sxs-lookup"><span data-stu-id="52114-250">Monitor the performance of individual upgrade scripts through the ReleaseUpdateScriptsExecution table.</span></span>
    - <span data-ttu-id="52114-251">パフォーマンスを最適化するためにスクリプトを調整します。</span><span class="sxs-lookup"><span data-stu-id="52114-251">Adjust scripts to optimize performance.</span></span> <span data-ttu-id="52114-252">このタスクでは、スクリプトの X++ コードをカスタマイズして、データセット用に最適化する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-252">This task might require that you customize a script’s X++ code to optimize it for your dataset.</span></span>
    - <span data-ttu-id="52114-253">Microsoft Dynamics Lifecycle Services (LCS) の監視または Management Studio の sys.dm_resources_stats システム ビューを使用して Azure SQL DTU を監視します。</span><span class="sxs-lookup"><span data-stu-id="52114-253">Monitor Azure SQL DTU by using Microsoft Dynamics Lifecycle Services (LCS) monitoring or the sys.dm_resources_stats system view in Management Studio.</span></span> <span data-ttu-id="52114-254">リソースがすべて使用されている場合は、より高いデータベースレベルを Microsoft DSE チームに要求する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-254">If resources are maxed out, you might have to request a higher database level from the Microsoft DSE team.</span></span>

<span data-ttu-id="52114-255">アップグレードが完了すると、Microsoft DSE チームから通知されます。</span><span class="sxs-lookup"><span data-stu-id="52114-255">The Microsoft DSE team will notify you when the upgrade is complete.</span></span> <span data-ttu-id="52114-256">この時点で環境のスモーク テストを完了しエンド ユーザが新しいシステムに入る前に必要な機能コンフィギュレーション タスクを実行できます。</span><span class="sxs-lookup"><span data-stu-id="52114-256">At this point you can complete a smoke test of the environment and perform any functional configuration tasks required before allowing the end users into the new system.</span></span>

## <a name="functional-workstream"></a><span data-ttu-id="52114-257">機能的なワーク ストリーム</span><span class="sxs-lookup"><span data-stu-id="52114-257">Functional workstream</span></span>

<span data-ttu-id="52114-258">データのアップグレード後に、新しい環境でいくつかのコンフィギュレーション タスクが必要になります。</span><span class="sxs-lookup"><span data-stu-id="52114-258">After data upgrade, several configuration tasks will be required in the new environment.</span></span> <span data-ttu-id="52114-259">このワーク ストリームの目的は、すべてのコンフィギュレーション タスクを文書化および定量化し、リソースを各タスクに割り当てることで、ダウンタイム期間中にこれらのタスクを機能的なワーク ストリームとともに実行できるようにすることです。</span><span class="sxs-lookup"><span data-stu-id="52114-259">The goal of this workstream is to document and quantify all configuration tasks, and to assign a resource to each task, to help guarantee that these tasks can be done together with the technical workstream during the downtime window.</span></span>

<span data-ttu-id="52114-260">通常、機能的なタスクでは、特定のシステム パラメータの値または他のコンフィギュレーション データの値の変更が含まれます。</span><span class="sxs-lookup"><span data-stu-id="52114-260">Typically, functional tasks involve changing the values of specific system parameters or other configuration data.</span></span> <span data-ttu-id="52114-261">これらのタスクは、機能テストのパス全体を通して識別されます。これは、切替テストとは別のアクティビティです。</span><span class="sxs-lookup"><span data-stu-id="52114-261">These tasks are identified through the full functional test pass, which is a separate activity from the cutover testing.</span></span> <span data-ttu-id="52114-262">このタイプのタスクが特定された場合、機能のリソースおよび開発者と共に確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-262">When a task of this type is identified, it should be reviewed together with the functional resource and your developer.</span></span>

<span data-ttu-id="52114-263">より大きな変更を行うには、新しいカスタム データ アップグレード スクリプトを作成して、データのアップグレード プロセス中にデータを更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-263">Larger changes might require that a new custom data upgrade script be written to update the data during the data upgrade process.</span></span> <span data-ttu-id="52114-264">ただし、機能のリソースは、データのアップグレード後に新しいシステムを使用して、より小さな変更を手動で実行できます。</span><span class="sxs-lookup"><span data-stu-id="52114-264">However, the functional resource can manually run smaller changes through the new system after data upgrade.</span></span>

<span data-ttu-id="52114-265">新しいデータのアップグレード スクリプトを持つ、より大規模な変更をテストする必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-265">Larger changes that have new data upgrade scripts must be tested.</span></span> <span data-ttu-id="52114-266">したがって、MajorVersionDataUpgrade.zip パッケージの 1 つ以上の追加の繰り返しを実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-266">Therefore, one or more additional iterations of the MajorVersionDataUpgrade.zip package will have to be run.</span></span> <span data-ttu-id="52114-267">手動のデータ入力のコストに対して、パッケージを再度実行するコストを比較検討することが重要です。</span><span class="sxs-lookup"><span data-stu-id="52114-267">It's important that you weigh the cost of running the package again against the cost of manual data entry.</span></span>

<span data-ttu-id="52114-268">手動による変更のたびに、切替計画ドキュメントにタスクを追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-268">For each manual change, a task must be added to the cutover plan document.</span></span> <span data-ttu-id="52114-269">このタスクでは、次の詳細を示す必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-269">This task must show the following details:</span></span>

-   <span data-ttu-id="52114-270">タスクとは何か、また必要な作業は何か。</span><span class="sxs-lookup"><span data-stu-id="52114-270">What is the task, and what must be done?</span></span>
-   <span data-ttu-id="52114-271">そのタスクを実行するのは誰か。</span><span class="sxs-lookup"><span data-stu-id="52114-271">Who must do it?</span></span>
-   <span data-ttu-id="52114-272">時間はどのくらいかかるか。</span><span class="sxs-lookup"><span data-stu-id="52114-272">How long does it take?</span></span>

### <a name="add-users-and-perform-functionl-tests"></a><span data-ttu-id="52114-273">ユーザーの追加、および機能テストの実行</span><span class="sxs-lookup"><span data-stu-id="52114-273">Add users, and perform functionl tests</span></span>
<span data-ttu-id="52114-274">環境を完全に構成したときは、ユーザーを追加し、適切なテストを実行します。</span><span class="sxs-lookup"><span data-stu-id="52114-274">When you have fully configured your environment, add users, and perform appropriate testing.</span></span> 

## <a name="roll-back-to-ax-2012"></a><span data-ttu-id="52114-275">AX 2012 にロールバックする</span><span class="sxs-lookup"><span data-stu-id="52114-275">Roll back to AX 2012</span></span>

<span data-ttu-id="52114-276">このタスクの目的は、AX 2012 をオフにしたときのバックアップを使用してデータベースを復元し、AX 2012 を再度オンにすることです。</span><span class="sxs-lookup"><span data-stu-id="52114-276">The goal of this task is to restore the database by using the backup that was made when AX 2012 was turned off, and then turn AX 2012 back on.</span></span> <span data-ttu-id="52114-277">統合システムの状態も復元する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-277">The state of integrated systems might also have to be restored.</span></span> <span data-ttu-id="52114-278">ただし、統合システムは企業間で異なるため、特定の状況に応じてこのシナリオを個別に計画する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52114-278">However, because integrated systems vary from business to business, you must plan for this scenario independently, based on your specific circumstances.</span></span> <span data-ttu-id="52114-279">ロールバックする必要はありませんが、必要な場合に備えてテスト済みのプロセスがあることが非常に重要です。</span><span class="sxs-lookup"><span data-stu-id="52114-279">Although it's unlikely that you will have to roll back, it's very important that you have a tested process in case you require it.</span></span>


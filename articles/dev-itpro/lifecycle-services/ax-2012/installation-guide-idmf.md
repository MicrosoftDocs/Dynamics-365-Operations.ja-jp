---
title: "Intelligent Data Management Framework (IDMF) のインストール ガイド"
description: "このトピックでは、Microsoft Dynamics AX インテリジェント データ管理フレームワーク (IDMF) をインストールするためのシステム要件と手順について説明します。"
author: kfend
manager: AnnBe
ms.date: 11/14/2017
ms.topic: article
ms.prod: dynamics-ax-2012
ms.service: 
ms.technology: 
audience: Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: AX 2012
ms.custom: 18361
ms.assetid: 213e05b1-f48d-4178-8168-7114f0b6311e
ms.search.region: Global
ms.author: kfend
ms.search.validFrom: 
ms.dyn365.ops.version: 2012
ms.translationtype: HT
ms.sourcegitcommit: e782d33f3748524491dace28008cd9148ae70529
ms.openlocfilehash: ec0d2b97adbdbfdedacc40c9bdb5ef6fd7e12f72
ms.contentlocale: ja-jp
ms.lasthandoff: 08/09/2018

---

# <a name="intelligent-data-management-framework-idmf-installation-guide"></a>Intelligent Data Management Framework (IDMF) のインストール ガイド

[!include [banner](../../includes/banner.md)]

このトピックでは、Microsoft Dynamics AX インテリジェント データ管理フレームワーク (IDMF) をインストールするためのシステム要件と手順について説明します。 

<a name="overview-of-the-intelligent-data-management-framework"></a>Intelligent Data Management Framework の概要
-----------------------------------------------------

IDMF により、システム管理者は Microsoft Dynamics AX インストールのパフォーマンスを最適化できます。 フレームワークは、Microsoft Dynamics AX アプリケーションの正常性の評価と現在の使用パターンの分析を行い、データベース サイズの削減に役立ちます。 IDMF を使用すると、Microsoft Dynamics AX データベースを分析し、最適なデータベース サイズを維持できます。 解析ダッシュ ボード、データベース正常性チェック、およびインデックスの最適化などのツールを使用して、データベースを監視できます。 データベース・サイズを維持するには、パージ機能とアーカイブ機能を使用します。 削除機能で、実稼働データベースの関連するエンティティまたはテーブルのセットから、データを削除します。 アーカイブ機能により、実稼働データベースにある一連の関連テーブルからスタンバイ データベースへデータが移動されます。 *アーカイブ データベース*と呼ばれるこのスタンバイ データベースは、レポート目的で使用できますが、更新できません。 フレームワークとこのトピックでは、*オフライン* という用語を *アーカイブ* と交換し、*パージ* という用語を *リサイクル* と交換して使用します。

## <a name="prerequisites"></a>前提条件
このトピックを利用するためには、次の分野の知識が必要です。

-   Microsoft Dynamics AX アプリケーションおよびシステム管理
-   Microsoft SQL Server データベースの管理、バックアップ、復旧、およびパフォーマンスのチューニング
-   Microsoft Windows Server の管理、バックアップ、復旧、およびパフォーマンスのチューニング

## <a name="before-you-begin"></a>準備
インストール中に、次のデータベースに関する情報を提供するよう求められます。

- 実働データベース。 実働データベースは、実働環境の Microsoft Dynamics AX データベースです。
- 生産レプリカ データベース。 アプリケーションの稼働状態を分析するには、多くのクエリを実行し、Microsoft Dynamics AX モジュールから情報を取得する必要があります。 これらのアプリケーション クエリは広範囲に及ぶため、実稼働データベースに適用するとオンライン ユーザーの応答時間に悪影響を及ぼします。 したがって、既定では、これらのクエリは実稼働レプリカ データベースに対して実行されます。 アプリケーションの正常性チェックの精度は、運用レプリカ データベースのアプリケーション データがどの程度、運用データベースのアプリケーション データを反映するかによって異なります。 インストール プロセス開始する前に、所定の場所に関連するアプリケーション データとともに、運用レプリカ データベースが存在することを確認します。 生産レプリカ データベースを生産データベースのできるだけ近くに維持するための同期戦略を作成します。
- 管理データベース。 セットアップ プログラムは、インストール時に入力した情報に基づいて、管理データベースと呼ばれる新しいデータベースを作成します。 このフレームワークは、このデータベースを内部で使用します。 このデータベースに、一意の名前を指定する必要があります。 このデータベースをフレームワークの管理データベースとして簡単に識別する名前を使用することをお勧めします。 AOS サービス アカウントには、管理データベースでの **datareader**、**datawriter**、および **ddladmin** 権限が必要です。 
  > [!NOTE]
  > IDMF では、Microsoft Dynamics AX のメタデータ情報を管理データベースに格納します。 インストール後のタスクを実行すると、IDMF は運用データベースからのメタデータ情報と管理データベースを同期します。 Microsoft Dynamics AX アプリケーションのメタデータを変更するたびに、生産データベースを管理データベースと同期させる必要があります。 データベースを同期するには、このトピックの **インストール後の作業** セクションの指示に従ってください。
- セットアップ プログラムは、インストール時に入力した情報に基づいて、アーカイブ データベースと呼ばれる新しいデータベースを作成します。 このフレームワークは、アーカイブ データベースを使用して、アーカイブ タスクによって生産データベースから移動されたレコードを格納します。 
  > [!NOTE]
  > アーカイブされたトランザクションを表示するには、アーカイブ データベースに接続する Application Object Server (AOS) インスタンスを構成する必要があります。 ユーザーにはアーカイブ データベースへの読み取りアクセス権のみがあることを確認します。 アーカイブされたトランザクションを変更すると、データの不一致が発生します。 IDMF は、変更されたアーカイブ データベースからデータを復元することはできません。
- IDMF アーカイブ機能を利用する前に、AOS を構成し、バッチ サーバーとして実行する必要があります。 詳細については、[バッチ サーバーとして AOS インスタンスのコンフィギュレーション](http://technet.microsoft.com/library/74687f8d-fd55-4a99-bea9-835655905fb4(AX.60).aspx) を参照してください。

アーカイブ、管理、および生産複製データベースのデータ ファイルとログ ファイルの場所と初期サイズを決定します。 初期サイズが最適なパフォーマンスに十分で、場所が将来の拡大に対するリソースを提供していることを確認します。 データベース コンフィギュレーションの詳細については、[SQL サーバーおよび記憶域の設定のコンフィギュレーション](http://technet.microsoft.com/library/83931d0a-2d75-4cc8-b29b-129ebd5b27e5(AX.60).aspx) を参照してください。

## <a name="system-requirements"></a>システム要件
このセクションでは、IDMF のシステム要件を示します。 フレームワークをインストールする前に、作業しているシステムがハードウェアおよびソフトウェアの最小要件を満たしているか、または超えているかを確認してください。

### <a name="network-requirements"></a>ネットワーク要件

ローカル エリア ネットワーク (LAN) コンピューターに IDMF をインストールします。 ワイド エリア ネットワーク (WAN) 経由で接続されているコンピューターにインストールすると、遅延が増加してパフォーマンスが低下するためお勧めできません。

### <a name="hardware-requirements"></a>ハードウェア要件

次のテーブルは、IDMFを インストールして実行するためのハードウェアの最小要件を示しています。

| ハードウェア        | 最小要件                                                                                                       |
|-----------------|----------------------------------------------------------------------------------------------------------------------------|
| プロセッサ       | Intel Pentium/Celeron ファミリまたは互換性のある Pentium III Xeon 以上のプロセッサ、1.1 ギガヘルツ (GHz) 以上推奨 |
| メモリ (RAM)    | 1 GB 以上を推奨                                                                                                   |
| ハード ディスク領域 | IDMF の 70 メガバイト (MB)                                                                                                 |
| 監視         | Super VGA (1024x768) 以上の解像度                                                                                  |
| ポインティング デバイス | Microsoft 製のマウスまたは互換性のあるポインティング デバイス                                                                              |

### <a name="supported-operating-systems"></a>サポートされるオペレーティング システム

IDMF は、次のオペレーティング システムの 32 ビットおよび 64 ビット バージョンでサポートされています。
-   Windows Server 2008 Standard エディション、Enterprise エディション、または Datacenter エディション 
-   Windows Server 2008 R2 Standard エディション、Enterprise エディション、または Datacenter エディション 
-   Windows Server 2012 Standard エディション、Enterprise エディション、または Datacenter エディション 
-   Windows 7 Professional エディションまたは Ultimate エディション
-   Windows 8 Pro エディションまたは Enterprise エディション

## <a name="software-requirements"></a>ソフトウェア要件
IDMF のインストール前に、コンピューターに次のソフトウェアをインストールする必要があります。

| ソフトウェア                                                           | コメント                                                                                                                                                                                                                                                          |
|--------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Microsoft .NET Framework 4.5                                       |                                                                                                                                                                                                                                                                  |
| Windows インストーラー 3.1 またはそれ以降のバージョン                           |                                                                                                                                                                                                                                                                  |
| Microsoft Dynamics AX Windows クライアント                               | Microsoft Dynamics AX のバージョン用。                                                                                                                                                                                                                       |
| Microsoft Dynamics AX .NET Business Connector                      | AX 2009、Microsoft Dynamics AX 2012 から AX 2012 R2 まで                                                                                                                                                                                                             |
| SQL Server Integration Services ランタイム、およびクライアント コンポーネント | 使用される SQL Server データベースと同じバージョン (サービスパックを含む)。 SQL Server セットアップ プログラムを使用して、これらのコンポーネントをコンピューターにインストールします。 SQL Server データベース エンジンなど、他の SQL Server コンポーネントをインストールする必要はありません。 |
| Microsoft Office 2007 以降 (オプション)                          | Excel へのエクスポート機能を使用するかどうかのみ必要とされます。                                                                                                                                                                                                      |
| Microsoft 分散トランザクション コーディネーター (MSDTC)              | コンフィギュレーションの詳細については、次のセクションで説明します。                                                                                                                                                                                                          |

> [!NOTE]
> IDMF では、business connector を使用して、Microsoft Dynamics AX アプリケーションと連携します。 IDMF をインストールする前に、Business Connector が Microsoft Dynamics AX アプリケーションに正常に接続できることを確認します。

### <a name="configure-msdtc"></a>MSDTC をコンフィギュレーション

SQL Server のホストおよび IDMF のインストール先のコンピューターに MSDTC をインストールして構成する必要があります。 ローカル DTC プロパティ ダイアログ ボックスを開くには、これらの手順に従います。 Windows 7、Windows Vista、Windows Server 2008 および Windows Server 2008 R2 に関する詳細については、[ネットワーク DTC アクセスの有効化](http://technet.microsoft.com/en-us/library/cc753510(WS.10).aspx) を参照してください。
1.  **開始**をクリックし、**実行**をクリックして、dcomcnfg と入力し、**OK** をクリックして**コンポーネント サービス**を開きます。
2.  コンソール ツリーで、**コンポーネント サービス**を展開して**コンピューター**をクリックし、**マイ コンピューター**を展開して**分散トランザクション コーディネーター**をクリックしてから、**ローカル DTC** をクリックします。
3.  **ローカル DTC** を右クリックし、**プロパティ** をクリックして **ローカル DTC プロパティ** ダイアログ ボックスを開きます。
4.  **セキュリティ** タブをクリックします。
5.  **セキュリティ** タブで次のオプションを設定し、**OK** をクリックします。

    | コンフィギュレーション オプション              | 推奨値 |
    |-----------------------------------|-------------------|
    | ネットワーク DTC アクセス                | 有効           |
    | クライアントおよび管理         |                   |
    | リモート クライアントを許可              | 有効           |
    | リモート管理を許可       | 有効           |
    | トランザクション マネージャー通信 |                   |
    | 着信を許可                     | 有効           |
    | 発信を許可                    | 有効           |
    | 認証は不要です        | 有効           |

### <a name="database-server-requirements"></a>データベース サーバー要件

次のテーブルにデータベース サーバーの要件を示します。 SQL Server の 32 ビットと 64 ビット バージョンの両方がサポートされています。 SQL Server をインストールするシステム要件については、[SQL Server Web サイト](http://www.microsoft.com/sql/default.mspx) を参照してください。

| データベース サーバー バージョン                            |
|----------------------------------------------------|
| SQL Server 2008 Enterprise または Standard エディション    |
| SQL Server 2008 R2 Enterprise または Standard エディション |
| SQL Server 2012 Enterprise または Standard エディション    |
| SQL Server 2014 Enterprise または Standard エディション    |


#### <a name="database-requirements"></a>データベース要件

インストール時に、設定は次のデータベースを作成します。
-   アーカイブ データベース
-   管理データベース

インストール時に、設定は次のデータベースに接続します。
-   Microsoft Dynamics AX 生産データベース
-   生産レプリカ データベース

## <a name="installation-prerequisites"></a>インストールの前提条件

IDMF をインストールする前に次の条件が満たされていることを確認します。
-   Microsoft Dynamics AX データベースは、SQL Server 2008 またはそれ以降のインスタンスにある必要があります。
-   IDMF は、AX 2009、および Microsoft Dynamics AX 2012 から AX 2012 R2 でのみサポートされています。
-   IDMF をインストールするコンピューターは、このトピックの**ソフトウェア要件**セクションで詳述されているハードウェアおよびソフトウェア要件を満たしている必要があります。
-   Microsoft Dynamics AX のデータベースの相互参照情報を更新する必要があります。
    -   Microsoft Dynamics AX 2012 Windows クライアントの開発ワークスペースで、**ツール** &gt; **相互参照** &gt; **定期処理** &gt; **更新**をクリックします。 **相互参照の更新 (再コンパイル)** フォームで、**データ モデルの更新**フィールドが選択されていることを確認します。 **OK** をクリックします。
    -   Microsoft Dynamics AX Windows クライアントの以前のバージョンで、**Microsoft Dynamics AX** &gt; **ツール** &gt; **開発ツール** &gt; **相互参照** &gt; **定期処理** &gt; **更新**をクリックします。 **相互参照の更新 (再コンパイル)** フォームで、**データ モデルの更新**および**型階層の更新**フィールドが選択されていることを確認します。 **OK** をクリックします。 情報ログ メッセージを待ち、相互参照の更新が正常に行われたことを確認します。

### <a name="rights-required-for-installation"></a>インストールに必要な権限

IDMF をインストールする前に、ログオンするアカウントに適切なアクセス許可があることを確認してください。 システム管理者に問い合わせてこれらの権限があることを確認してください。

> [!NOTE]
> 自分のアカウントではなく、ドメイン アカウントを使用して IDMF をインストールする場合は、そのアカウントに適切なアクセス許可が付与されている必要があります。

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>アクション</th>
<th>アカウントに必要なアクセス許可</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>IDMF をインストールします。</td>
<td>インストールを実行するシステム管理者には、次のものが必要です。
<ul>
<li>ローカル コンピューターの管理者グループのメンバー。</li>
<li>SQL Server のサーバー インスタンスのデータベース作成者 (dbcreator) ロールのメンバー。</li>
</ul></td>
</tr>
<tr class="even">
<td>サービス アカウントを作成します。</td>
<td>インストール プロセスでは、スケジューラ サービスのアカウント名とパスワードを入力する必要があります。 このサービス アカウントは、次が必要です。
<ul>
<li>Microsoft Dynamics AX アプリケーションの管理者グループのメンバーである必要があります。</li>
<li>パブリック サーバー ロールのメンバーである必要があります。 <strong><span class="ui">SQL Server ログイン プロパティ</span></strong>&gt;<span class="ui"><strong>サーバー ロール</strong></span>] ページを使用してこのアクセス許可を与えます。</li>
<li>生産、生産レプリカ、アーカイブ、および管理データベースに対する、次のユーザー マッピングがあります。 <strong><span class="ui">SQL Server ログイン プロパティ</span></strong>&gt;<strong><span class="ui">ユーザー マッピング</span></strong> ページを使用してこれらのアクセス許可を与えます。
<ul>
<li>db_owner</li>
<li>public</li>
</ul>
<div class="alert">
<table>
<thead>
<tr class="header">
<th><strong>メモ</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>セットアップ ウィザード</strong>は、IDMF のインストール中に、管理およびアーカイブ データベースを作成します。 <strong>セットアップ ウィザード</strong>が正常に完了したら、サービス アカウントに管理データベースとアーカイブ データベースのユーザー マッピングを提供してください。</td>
</tr>
</tbody>
</table>
</div></li>
<li>任意のデータベースを表示し、サーバーの状態を表示するアクセス許可があります。 <strong><span class="ui">SQL Server ログイン プロパティ</span></strong>&gt;<strong><span class="ui">アクセス許可</span></strong> ページを使用してこれらのアクセス許可を与えます。</li>
<li>IDMF をインストールするサブフォルダーを含む、フォルダーへのアクセス許可を読み取り、書き込み、 および変更します。</li>
</ul></td>
</tr>
<tr class="odd">
<td>IDMF コンソールを使用します。</td>
<td>IDMF を使用するシステム管理者には次のものが必要です。
<ul>
<li>Microsoft Dynamics AX アプリケーションの管理者グループのメンバーである必要があります。</li>
<li>IDMF をインストールするサブフォルダーを含む、フォルダーへのアクセス許可を読み取り、書き込み、 および変更します。
<div class="alert">
<table>
<thead>
<tr class="header">
<th><strong>メモ</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>セットアップ ウィザード</strong>は、インストール時にこのフォルダーを作成します。 <strong>セットアップ ウィザード</strong>が正常に完了したら、ユーザーにインストール フォルダーの読み取りと書き込みのアクセス許可を提供してください。</td>
</tr>
</tbody>
</table>
</div></li>
<li>生産、生産レプリカ、アーカイブ、および管理データベースに対する、次のユーザー マッピングがあります。 <strong><span class="ui">SQL Server ログイン プロパティ</span></strong>&gt;<strong><span class="ui">ユーザー マッピング</span></strong> ページを使用してこれらのアクセス許可を与えます。
<ul>
<li>db_owner</li>
<li>public</li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>

## <a name="install-idmf"></a>IDMF のインストール

インストール プロセスを開始する前に、次の設定とサービスを確認してください。
1.  IDMF をインストールする予定のコンピューターで、次の操作を行います。
    1.  Application Object Server (AOS) への接続を確認します。 IDMF では Microsoft Dynamics AX configuration utility のアクティブなコンフィギュレーションで指定されている AOS インスタンスに接続されます (**開始** &gt; **管理ツール** &gt; **Microsoft Dynamics AX 2012 コンフィギュレーション**)。
    2.  Microsoft Dynamics AX Windows クライアントを起動し、Microsoft Dynamics AX アプリケーションに正常にアクセスできることを確認します。
    3.  SQL Server Integration Services サービスと Distributed Transaction Coordinator サービスが実行されていることを確認します。

2.  データベース サーバーで SQL Server サービスが実行されていることを確認します。

IDMF をインストールするには、これらの手順に従います。
1.  **IDMF 2.0.exe** をダブルクリックします。
2.  **ようこそ**ページで、**続行するには、次へ**をクリックします。
3.  **Microsoft ソフトウェア ライセンス条件**ページで、ライセンス条項を読み、**ライセンス条項に同意する**をクリックし、**次へ**をクリックします。
4.  **コンポーネントの設定**ページで、**次へ**をクリックし、既定のインストール場所を受け入れるようにします。 インストール場所を変更するには、**参照** をクリックします。 **次へ** をクリックして続行します。
5.  **Microsoft Dynamics AX バージョンの選択**ページで、使用している Microsoft Dynamics AX のバージョンを選択し、**次へ**をクリックします。
6.  **新しいアーカイブ データベースの作成**ページの、SQL Server のインスタンス フィールドで、管理データベースを作成する SQL Server のインスタンスの名前を入力します。 **データベース名**フィールドに、管理データベースの名前を入力します。 新しいデータベースを作成するには、名前を指定してください。 既存のデータベースの名前を使用している場合は、エラーでインストールが失敗します。
7.  **Microsoft Dynamics AX 生産データベースの指定**ページの、**SQL Server インスタンス**フィールドで、作成する生産データベースを含む SQL Server インスタンス名を入力します。 **データベース名**フィールドに、Microsoft Dynamics AX の実装に関する生産データベースの名前を入力します。 **次へ** をクリックします。

    > [!NOTE]
    >ここに入力する実働データベース名は、Microsoft Dynamics AX サーバー構成ユーティリティで使用されるデータベース名と一致する必要があります。

8.  **Microsoft Dynamics AX 生産レプリカ データベースの指定**ページの、**SQL Server インスタンス**フィールドで、作成する生産レプリカ データベースを含む SQL Server インスタンス名を入力します。 **データベース名**フィールドに、生産レプリカ データベースの名前を入力します。 これは既存のデータベースの必要があります。 **次へ** をクリックします。
9.  **新しいアーカイブ データベースの作成**ページの、**SQL Serverのインスタンス**フィールドで、アーカイブ データベースを作成する SQL Server のインスタンスの名前を入力します。 データベース名フィールドに、アーカイブ データベースの名前を入力します。 新しいデータベースを作成するには、名前を指定してください。 既存のデータベースの名前を使用している場合は、エラーでインストールが失敗します。
10. **電子メール設定の指定** ページには、電子メール警告機能に必要な情報が取り込まれます。 この情報はインストール時に提供する必要はありません。後で電子メール警告を構成することができます。 必要に応じて、次のフィールドの値を入力し、**次へ** をクリックします。
    1.  **SMTP (送信) サーバー** フィールドで、有効な SMTP サーバーの IP アドレスまたは DNS 名を指定します。
    2.  **SMTP ポート** フィールドで、電子メール メッセージを送信するために使用するポート番号を指定します。
    3.  **送信元アドレス** フィールドで、電子メールの送信元として表示される電子メール アドレスを指定します。
    4.  **ユーザー名**フィールドで、SMTP サーバーにアクセスするために使用するユーザー名を指定します。
    5.  **パスワード** フィールドで、SMTP サーバーにアクセスするために使用するパスワードを指定します。
    6.  **受信者リスト** フィールドで、受信者の 1 つまたは複数の電子メール アドレスを指定します。 複数の電子メール アドレスは、セミコロンで区切ってください。
    7.  **会社名**フィールドで、組織の名前を指定します。 IDMF では、バージョン情報のダイアログ ボックスにこの名前が表示されます。

11. セットアップ プログラムは、Windows サービスとしてスケジューラをインストールします。 **サービス アカウントの指定**ページの、**アカウント名 (DomainUserName)** および**パスワード**フィールドに、スケジューラー サービス アカウントのアカウント名とパスワードを入力します。 [次へ] をクリックします。
    > [!NOTE]
    >   ここで入力したアカウント名は、Microsoft Dynamics AX アプリケーションの管理者グループに属している必要があり、**インストールに必要な権限**セクションで指定されているデータベースのアクセス許可を持っていることが必要です。 
12. **インストールの準備ができました**ページで、**インストール**をクリックして続行します。
13. インストールが完了するためのセットアップを待ちます。 **完了** をクリックしてウィザードを閉じます。

## <a name="post-installation-tasks"></a>ポスト インストール タスク
IDMF コンソールを開始する前に、インストール後のタスクを完了する必要があります。 ポスト インストール タスクには、次のアクションが含まれます。

1.  ラベル ファイルをインストール フォルダーから Microsoft Dynamics AX アプリケーション フォルダーにコピーします。
2.  SQL Server Integration Services (SSIS) パッケージの接続マネージャーを更新します。
3.  Microsoft Distributed Transaction Coordinator (MSDTC) が正しくインストールされ、構成されていることを確認します。
4.  Microsoft Excel がインストールされていることを確認してください。 Excel は、オプション コンポーネントです。 ただし、コンピュータに Excel がない場合は、インストール後のタスクに警告メッセージが表示されます。 Export to Excel コマンドを使用するには、Excel が必要です。
5.  SQL Server Integration Services (SSIS) パッケージをデータベースのロケール情報で更新します。
6.  インストール時に指定されている電子メール設定を検証します。
7.  X++ プロジェクト (XPO) をインポートし、IDMF の操作に必要なクラスを作成するため、Microsoft Dynamics AX クライアントを起動します。
8.  Microsoft Dynamics AX アプリケーション内のメタデータに管理データベースのメタデータを同期します。

インストール後のタスクを完了するには、これらの手順に従います。

1. Microsoft Dynamics AX クライアントが起動され、Microsoft Dynamics AX アプリケーションを正常に開いていることを確認します。
2. Microsoft Dynamics AX アプリケーションで相互参照システムが更新されたことを確認します。 更新された相互参照システムなしでは、ポスト インストール処理は失敗してエラー メッセージが表示されます。 手順については、このトピックの**インストールの必要条件**を参照してください。 
   > [!NOTE]
   > インストール後の作業を、管理者として実行する必要があります。
3. **開始** &gt; **すべてのプログラム** &gt; **Microsoft Dynamics AX Intelligent Data Management Framework** の順にクリックします。 **インストール後の作業** を右クリックし、**管理者として実行** をクリックしてインストール後のタスクを実行します。 また、インストールは場所に移動して、**PostInstallSetup.exe** を右クリックし、**管理者として実行** をクリックすることができます。 既定の インストール場所は、C:\Program Files\Microsoft Dynamics AX Intelligent Data Management Framework です。

ポスト インストール チェックリスト アプリケーションは、コマンド プロンプト ウィンドウで実行されます。 アプリケーションでは、プロンプトが白で表示されます。 白色の質問に答える必要があります。 各開始ステップは黄色で表示されます。 オプションの欠落しているコンフィギュレーションの詳細は黄色でも表示されます。 正常に完了した各ステップは緑で表示されます。 不成功に終わった各ステップは赤で表示されます。 ポスト インストール チェックリスト アプリケーションは、次の操作を実行します。

1.  必要な情報を取得するために使用されるコマンド プロンプト ウィンドウを開きます。
2.  ラベル ファイルを Microsoft Dynamics AX アプリケーション フォルダにコピーします。 これらのラベル ファイルは、Microsoft Dynamics AX 開発のベストプラクティスに従って、インポートされたプロジェクトまたは XPO によってインポートされるクラスのラベルを提供します。
3.  パッケージ接続マネージャーを更新します。 パッケージ接続マネージャーは、SQL Server Integration Services パッケージの実行に使用されます。
4.  Microsoft 分散トランザクション コーディネーター (MSDTC) の適切な構成を検証します。 ポスト インストール チェックリストは、構成が有効でない場合は、エラー メッセージを表示します。 コンフィギュレーションの指示については、**ソフトウェア要件**セクションを参照してください。
5.  Excel がインストールされていることを検証します。 Excel は、オプション コンポーネントです。 ただし、コンピュータに Excel がない場合は、インストール後のタスクに警告メッセージが表示されます。 Export to Excel コマンドを使用するには、Excel が必要です。 この手順では、プレインストール アプリケーションが、インストール済みの Excel のバージョン、および Excel の Microsoft Office プライマリ相互運用アセンブリ (PIA) の存在をレジストリで照会します。 ポスト インストール アプリケーションに Excel または Excel PIA が見つからなかった場合は、「Microsoft Office Excel と Microsoft Office プライマリ相互運用機能アセンブリ (PIA) がインストールされていることをを確認します」というメッセージが表示されます。 Excel へのエクスポート機能を使用するには、Excel と Excel PIA がコンピュータにインストールされている必要があります。 インストール後のアプリケーションが終了した後、必要に応じて、PIA をダウンロードおよびインストールします。 Excel 2003 については、[Office 2003 更新プログラム: 再頒布可能パッケージのプライマリ相互運用アセンブリ](http://www.microsoft.com/downloads/details.aspx?familyid=3c9a983a-ac14-4125-8ba0-d36d67e0f4ad&displaylang=en) を参照してください。 Excel 2007 については、[2007 Microsoft Office システム更新プログラム: 再頒布可能パッケージのプライマリ相互運用アセンブリ](http://www.microsoft.com/downloads/details.aspx?FamilyID=59daebaa-bed4-4282-a28c-b864d8bfa513&displaylang=en) を参照してください。
6.  電子メール設定の構成を検証します。 電子メールの設定は、インストール時のオプションです。 存在しない、あるいは無効の電子メール構成の設定がある場合、アプリケーションは後で設定を構成するように通知するメッセージを表示します。 IDMF では、有効な電子メール構成のテスト電子メールを送信します。
7.  スケジューラー サービスを開始します。 IDMF は、Microsoft Dynamics AX Intelligent Data Management Framework service と呼ばれるサービスを使用します。 このサービスはスケジューラー サービスとも呼ばれ、この用語はサービス名と同じ意味で使用されます。 ポスト インストール アプリケーションは、スケジューラ サービスの起動を試み、その試みの失敗または成功を示すメッセージを表示します。 サービスが実行されていることを確認するには、**開始** &gt; **管理ツール** &gt; **サービス**とクリックするか、サービスを手動で開始します。
8.  IDMF で使用されるクラスを作成するために使用する X++ プロジェクト (XPO) をインポートします。 ポスト インストール アプリケーションは、Microsoft Dynamics AX クライアントのコンフィギュレーションで指定される階層に XPO をインポートします。 XPO の名前については、このトピックの**インストール後の作業を手動で実行**セクションを参照してください。 **注意**: Business Connector が、XPO をインポートする予定のレイヤーと同じレイヤーを指していることを確認します。 Microsoft Dynamics AX クライアントの構成ウィンドウのリストを開くためのアプリケーション レイヤー オブジェクトが、ビジネス コネクタと Windows クライアントの両方で同じレイヤーを指していることを確認します。
9.  XPO をインポートする回答を入力するように求めます。 ここでは、XPO をインポートする Y を入力し、メタデータ同期が完了したことを示すメッセージが表示されるまで待ちます。 ポスト インストール アプリケーションは、ステップ 8 に詳しく説明されている通りに、Microsoft Dynamics AX クライアントのコンフィギュレーションで指定される階層に XPO をインポートします。 プロジェクトを手動で入力するには N を入力します。 XPO を手動でインポートする手順については、**インストール後の作業を手動で実行**セクションを参照してください。 IDMF の開始前に、この XPO を正常にインポートする必要があります。
10. 前の手順で N を入力すると、メタデータを同期するかどうかを尋ねられます。 直ちに Y を入力してメタデータを同期するか、または Y を入力してメタデータを後に手動で同期します。 **注意**: IDMF を開始する前に、この手順を正常に完了する必要があります。
11. 続行するにはキーボードの任意のキーを押すように求めます。 これが最後のステップです。キーを押すと、インストール後のアプリケーションによってコマンド プロンプト ウィンドウが閉じられます。

## <a name="framework-checklist"></a>フレームワーク チェックリスト
インストール後のタスクが正常に完了した後、**開始** &gt; **すべてのプログラム** &gt; **Intelligent Data Management Framework** &gt; **Microsoft Dynamics AX Intelligent Data Management Framework** から IDMF を開始します。 アプリケーションを初めて起動すると、**フレームワーク チェックリスト** に、2 組のチェックリスト、アプリケーションを開始する前に完了しておく必要のあるタスク、初めて起動したときに完了しておく必要のあるタスクが表示されます。 必要なタスクを正常に完了していない場合は、**閉じる**をクリックします。 次の作業を完了した後、アプリケーションを再起動します。
1.  Microsoft Dynamics AX アプリケーションで相互参照を更新します。
2.  前のセクションで説明したインストール後の作業を完了します。
3.  IDMF for Microsoft Dynamics AX サービスが実行していることを確認します。

次のチェックリストを正常に完了させるまで、フレームワークを起動するたびに **フレームワーク チェックリスト** ダイアログ ボックスを確認します。 **OK** をクリックして、**スケジュール タスク** ウィンドウで次のチェックリストを完成させます。
1. 生産データベースのベースライン分析スナップショットを正常に完了します。 メニュー バーで、**スケジュール**をクリックします。 データベースのベースライン分析スナップショットを作成するには、**スケジュール タスク**ウィンドウでこれらの手順に従います。 
   1.  **タスクの詳細**ウィンドウで、タスクの**名前**および**説明**のフィールドに値を入力します。
   2.  **スケジュール**タブで、**頻度**リストから、**一時のみ**を選択します。 **開始日** および **時刻** フィールドで値を選択するか入力します。
   3.  **保存** をクリックします。
   4.  健康チェック クエリの評価を求めるメッセージが表示されたら、**いいえ** をクリックします。
   5.  タスクを更新するには、**ステータス** &gt; **更新**とクリックします。 **"成功"** ステータスが表示されてタスクが完了するまで待ちます。 データベース分析のために **解析** メニューを使用する準備ができています。

2. 稼働状態チェック分析をスケジュールして実行します。 正常性チェック分析のベースラインを作成するには、これらの手順に従います。 
   1.  **管理** &gt; **アプリケーション健康チェック**をクリックして、正常性チェック クエリを処理します。 **アプリケーション正常性チェック クエリ** ウィンドウで、**クエリの検証**をクリックし、検証が完了するまで待ちます。 検証が成功すると、**クエリの検証** ボタンが非表示になり、**クエリ** ノ ードのすべてのクエリが黒く表示されます。
   2.  正常性チェック解析の元帳期間を作成するには、**スケジュール** &gt; **元帳期間**の順にクリックします。 必要な情報を**スケジュール タスク**ウィンドウの**タスク詳細**ウィンドウに入力し、**保存**をクリックします。 このタスクでは、**頻度**リストから、**一時のみ**を選択します。 次のステップに進む前に、元帳期間のスケジュールが正常に完了するまで待ちます。
   3.  正常性チェック分析のベースラインを作成するには、**スケジュール** &gt; **システム正常性チェック**の順にクリックします。 このタスクは、前のステップで作成した元帳期間のタスクが正常に完了した後に開始する必要があります。 必要な情報を**スケジュール タスク**ウィンドウの**タスク詳細**ウィンドウに入力し、**保存**をクリックします。 このタスクでは、**頻度**リストから、**一時のみ**を選択します。
   4.  タスクを更新するには、**ステータス** &gt; **更新**とクリックします。 元帳期間タスクとベースライン ヘルス チェック分析タスクが両方とも**合格**の状態で完了していることを確認します。 正常性チェック分析のために **解析** メニューを使用する準備が整いました。 

3. このステップは、アーカイブ機能を使用する場合にのみ必要です。 アーカイブ データベースとメタデータを同期します。 メタデータ同期タスクは、生産データベースからアーカイブ データベースにメタデータをコピーします。 次のステップに進む前に、メタデータの同期タスクを正常に完了する必要があります。 メタデータ同期タスクを作成するには、これらの手順に従います。
   1.  **スケジュール** &gt; **メタデータ**の順にクリックし、メタデータ同期タスクを処理します。 必要な情報を**スケジュール タスク**ウィンドウの**タスク詳細**ウィンドウに入力し、**保存**をクリックします。 このタスクでは、**頻度**リストから、**一時のみ**を選択します。 **注記**: アーカイブ データベースを一貫性のある状態に保つために、実稼動データベースとアーカイブ データベース間でメタデータを同期するための定期的なタスクを作成することを検討してください。
   2.  タスクを更新するには、**ステータス** &gt; **更新**とクリックします。 メタデータ同期タスクが完了したことを **"成功"** ステータスで確認します。

4. このステップは、アーカイブ機能を使用する場合にのみ必要です。 生産データベースからアーカイブ データベースにマスター データを複製します。 マスター データのレプリケーション タスクを作成する前に、前のステップを完了する必要があります。 マスター データ レプリケーション タスクは、生産データベースからアーカイブ データベースにマスター データ テーブルをコピーします。 マスター データのレプリケーション タスクを作成するには、これらの手順に従います。

   1. **スケジュール** &gt; **マスター データ**の順にクリックして、マスターデータ複製タスクを処理します。 必要な情報を**スケジュール タスク**ウィンドウの**タスク詳細**ウィンドウに入力し、**保存**をクリックします。 このタスクでは、**頻度**リストから、**一時のみ**を選択します。 **注記**: アーカイブ データベースを一貫性のある状態に保つために、実稼動データベースとアーカイブ データベース間でマスター データ テーブルを同期するための定期的なタスクを作成することを検討してください。
      2.  タスクを更新するには、**ステータス** &gt; **更新**とクリックします。 マスター データのレプリケーション タスクが完了したことを **"成功"** ステータスで確認します。

5. 前のステップのタスクが正常に完了したことを **成功** ステータスで確認します。 IDMF と連携する準備が整いました。

## <a name="removing-idmf"></a>IDMF の削除
IDMF は**コントロール パネル**でアンインストールできます。 プログラムをアンインストールしても、管理データベース、実稼働レプリカ データベース、アーカイブ データベースは削除されません。 必要に応じて、データベースのバックアップを作成した後、手動で削除できます。

## <a name="troubleshoot-installation-issues"></a>インストールに関する問題のトラブルシューティング
このセクションでは、**セットアップ ウィザード**の実行時に発生する可能性がある問題のトラブルシューティングに役立つ情報を提供します。
### <a name="location-of-log-files"></a>ログ ファイルの場所

IDMF では、&lt;インストール フォルダー&gt; のすべてのログ ファイル、&lt;インストール フォルダー&gt; のデフォルト パスが C:\Program ファイルの Microsoft Dynamics AX インテリジェント データ管理フレームワークであるログ フォルダーを作成しています。

### <a name="create-and-view-the-installation-log-file"></a>インストール ログ ファイルを作成して表示する

既定では、セットアップ プログラムはインストール ログ ファイルを作成しません。 必要に応じて、設定により使用されている設定と発生したエラーをキャプチャするために、インストール ログ ファイルを作成することができます。 インストール ログ ファイルを作成するには、これらの手順に従います。
1.  コマンド プロンプト ウィンドウを開きます。
2.  次のコマンドを実行します。

        "<Path of the exe file>IDMF-2.0.exe" /L*v "<Path of the log file>AXDataManagementToolSetupLog.txt"

3.  ログ ファイルを開いて、「error.」を検索する 次のメッセージは、ログ ファイルに含まれるメッセージのタイプの例です。

        CreateDatabase: Error 0x80040e14: failed to create to database: '<<Database name>>', error: Database '<<Database name>>' already exists. Choose a different database name.

4.  IDMF からのメッセージを含むシステム ログを確認するには、Windows イベント ビューアーを使用します。

### <a name="common-error-messages-generated-by-setup"></a>セットアップによって生成される一般的なエラー

セットアップを実行する場合、次の一般的なエラー メッセージが表示される可能性があります。
-   データベースの作成エラー。 管理データベースまたはアーカイブ データベース用に入力した名前と同じ名前の SQL Server にデータベースが存在する場合、セットアップが失敗し、エラー メッセージが表示されます。
-   データ タイプの不一致エラー。 SQL Server 2000 に接続しようとすると、データ型が一致しないため、SQL スクリプトのエラー メッセージが表示されます。
-   前提条件がありません。 前提条件なしでセットアップを開始する場合は、不足しているコンポーネントを記載したエラー メッセージが表示されます。 前提条件をインストールしてから、セットアップを再度実行します。

### <a name="idmf-fails-to-start"></a>IDMF が開始しない

IDMF を起動するときは、次のエラーが発生することがあります: 「未処理の例外が発生し、記録されました。 サポートにお問い合わせください。 このエラー メッセージは、エラー状態がアクセス許可などの環境問題によって発生した場合に IDMF が表示する一般的なメッセージです。 この特定のエラー状態は、通常、ユーザーが IDMF をインストールしたフォルダーに対して読み取り、書き込み、および変更のアクセス許可を持っていない場合に発生します。  エラー状態を修正するには、IDMF とそのサブフォルダーのインストール フォルダーに、読み取り、書き込み、変更のアクセス許可を適用します。 既定のパスは、C:\Program Files\Microsoft Dynamics AX Intelligent Data Management Framework です。

### <a name="common-error-messages-generated-by-the-post-installation-tasks"></a>インストール後の作業をによって生成される一般的なエラーメッセージ

インストール後のタスクから次の一般的なエラー メッセージが表示される可能性があります。
-   インストール後の作業を開始する前に相互参照更新を完了していない場合、「Microsoft Dynamics AX アプリケーション内の相互参照を更新する必要があります」というメッセージが表示されます。 相互参照システムを更新し、インストール後の手順を開始します。 相互参照システムを更新する方法の詳細については、このトピックの**インストールの前提条件**セクションを参照してください。
-   ポスト インストール タスクは、データベースまたは Application Object Server (AOS) との接続またはセキュリティ上の問題が発生した場合は動作しません。 典型的なエラーメッセージは次のとおりです。
    -   XPO のインポートでエラーが発生しました。管理者に問い合わせてください。
    -   XPO のインポートに失敗しました。
    -   メタデータ同期に失敗しました。

    接続またはセキュリティ上の問題を修正し、データベース サーバーおよび AOS に接続できることを確認します。 その後、インストール後のタスクを再開します。 あるいは、インストール後のタスクを手動で実行することができます。 手順については、このトピックの**インストール後の作業を手動で実行**を参照してください。
-   ポスト インストール アプリケーションは IDMF スケジューラ サービスを起動できないことがあり、"データ管理スケジューラ サービスを再起動できません" というメッセージが表示されます。 サービスを手動で再起動します ([コントロール パネル] &gt; [管理ツール] &gt; [サービス])。 このエラーは、サービス アカウントに使用したパスワードが正しくない場合に発生します。 サービス管理コンソールを使用してサービスを手動で再起動し、サービス アカウントのパスワードをリセットします。
-   ポスト インストール タスクが失敗して、次のエラー メッセージが表示されることがあります: "Ax32.exe が内部または外部コマンド、操作可能なプログラム、またはバッチ ファイルとして認識してされません。 XPO のインポートに失敗しました。" インストール後のタスクを手動で実行します。 手順については、このトピックの**インストール後の作業を手動で実行**を参照してください。

### <a name="metadata-synchronization-fails"></a>メタデータ同期に失敗

エラー メッセージ、"内部例外: 操作に失敗しました、が表示される場合があります。 クラス &lt;xxxx&gt; は存在しません。 メタデータ同期に失敗しました。" ここで、&lt;xxxx&gt; はクラス名です。 この問題は、3 層構成の Windows クライアントで、Axapta Object Cache (AOC) と呼ばれる Microsoft Dynamics AX アプリケーション キャッシュによって発生します。 キャッシュをクリアして、その後このトピックの **インストール後の作業を手動で実行** セクションに記載されている手順に従う必要があります。 **キャッシュのクリア**
1.  Microsoft Dynamics AX Windows クライアントを開始します。
2.  Microsoft Dynamics AX 2012 では、**ツール** &gt; **キャッシュ**メニューで、次のメニュー項目のそれぞれをクリックします: **ディクショナリの更新**、**データの更新**、**AOD の更新**
3.  以前のバージョンの Microsoft Dynamics AX では、**Microsoft Dynamics AX** &gt; **ツール** &gt; **開発ツール** &gt; **アプリケーション オブジェクト**メニューで、以下の各メニュー項目をクリックします: **ディクショナリの更新**、**データの更新**、**AOD の更新**。

### <a name="odbc-operation-fails"></a>ODBC 操作失敗

"ODBC 操作に失敗しました、というメッセージが表示される可能性があります。 データベースにログオンできません。 \[Microsoft\] \[ODBC ドライバー マネージャー\] データ ソース名が見つかりません。既定のドライバーが指定されていません。 オブジェクト「ODBC 接続」を作成できませんでした。 メタデータ同期に失敗しました。" このエラーは、通常、Microsoft Dynamics AX クライアントが SQL Server 2008 クライアント コンポーネントと共にインストールされている場合に発生します。 ポスト インストール プログラムは、メタデータの同期中に失敗すると、次のエラー メッセージを表示します。 このエラーを解決するには、SQL Server 2005 セットアップから ODBC ドライバ SQLCLI.DLL をインストールします。 このファイルは、&lt; SQL Server 2005 インストール メディア &gt; ServersSetup フォルダーから入手できます。 32 ビット システムの場合は sqlncli.msi、64 ビット システムの場合は sqlncli\_64.msi を使用します。 このファイルは、データベース接続を確立するために Application Object Server (AOS) で必要です。
インストール後のタスクの手動での実行

インストール後のタスクを手動で実行するには、これらの手順に従います。
1. フォルダー内のすべてのラベル ファイルを &lt;Data Management Framework のインストール フォルダー&gt;XPOLabels&lt;のバージョン&gt; から Microsoft Dynamics AX アプリケーション フォルダーに移動します。 既定の IDMF インストール フォルダーはC:\Program Files\Microsoft Dynamics AX Intelligent Data Management Framework です。
2. XPO を正常にインポートした後、アプリケーション オブジェクト ツリー (AOT) でジョブ **DMTPopulateMetadataJob** を変更します。 管理データベース サーバー名と管理データベース名に適切な値を入力し、次にジョブを実行します。 このジョブは、Microsoft Dynamics AX アプリケーションからメタデータとシステム情報を取得し、管理データベースに格納します。 IDMF は、その使用を管理データベースからメタデータ情報を取得します。 **注記**: Microsoft Dynamics AX アプリケーションのメタデータが変更されたときに、このジョブを実行して管理データベースを実稼働データベースと同期させる必要があります。
3. 前の手順で、ジョブが正常に完了したら、次のテーブルにはレコードが含まれます。 これらのテーブルが空ではないことを確認するために、管理データベースのクエリを実行します。
   -   **AXAOTENUMINFO**
   -   **AXAOTTABLEINFO**
   -   **AXAOTFIELDSINFO**
   -   **AXAOTINDEXINFO**
   -   **AXAOTTABLERELATION**

4. **DMTAddEnumValue** ジョブを、アプリケーション オブジェクト ツリー (AOT) で開いて実行します。 このジョブは、列挙値 **DMTArchiveSummary**を、enums **LedgerTransType** および **InventTransType** に追加します。 IDMF は列挙 **DMTArchiveSummary** をアーカイブ プロセス中に使用します。
   > [!NOTE]
   > 次のステップに進む前に、このステップを実行する必要があります。
5. データベースを同期させます。 Microsoft Dynamics AX Windows クライアントで、ツール バーの**アプリケーション オブジェクト ツリー**をクリックします。 AOT ウィンドウで、**データ ディクショナリ** ノードを右クリックしてから**同期**を選択します。
6. C:\Program Files\Microsoft Dynamics AX Intelligent Data Management Framework\XPO に移動します。 このフォルダーには、X++ プロジェクト (XPO) が含まれています。 Microsoft Dynamics AX クライアントを使用して、Summation XPO ファイルをインポートします。 IDMF は、データのアーカイブまたはアーカイブされたデータの復元の際に Summation XPO ファイルを使用して、元帳、在庫および銀行トランザクションへのエントリを調整します。




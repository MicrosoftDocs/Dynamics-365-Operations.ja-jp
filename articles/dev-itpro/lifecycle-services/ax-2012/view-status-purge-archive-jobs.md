---
title: 削除およびアーカイブ ジョブの表示
description: このトピックでは、インテリジェント データ管理フレームワーク (IDMF) を使用して、パージ ジョブとアーカイブ ジョブを表示する方法について説明します。
author: kfend
manager: AnnBe
ms.date: 11/14/2017
ms.topic: article
ms.prod: dynamics-ax-2012
ms.service: ''
ms.technology: ''
audience: Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: AX 2012
ms.custom: 18771
ms.assetid: fd4f59b6-280e-4091-b563-44315a1bb893
ms.search.region: Global
ms.author: kfend
ms.search.validFrom: ''
ms.dyn365.ops.version: 2012
ms.openlocfilehash: 465ee69fb1024821350949c0f6757db292a78bcd
ms.sourcegitcommit: 0f530e5f72a40f383868957a6b5cb0e446e4c795
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/29/2019
ms.locfileid: "368981"
---
# <a name="view-purge-and-archive-jobs"></a>削除およびアーカイブ ジョブの表示

[!include [banner](../../includes/banner.md)]

Microsoft Dynamics AX IDMF **ステータス** メニューのオプションを使用して、現在実行中のすべてのジョブの状態を最新の情報に更新して、現在実行中および完了したジョブすべての詳細を表示することができます。 ツール バーで、**ステータス**をクリックして、**ステータス**ワークスペースを開きます。

## <a name="navigation-of-the-status-workspace"></a>ステータス ワークスペースのナビゲーション
次のテーブルで、**ステータス** ワークスペースのコントロールについて説明します。

### <a name="panes"></a>ウィンドウ

| ウィンドウ               | 説明                                                                                                                                                                                                                                                                                                                                                                                 |
|--------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **ジョブ ステータス**     | すべての現在実行中、キャンセルされた、障害が発生した、または完了したタスクの一覧を提供します。 各現在実行中または完了したタスクは、ジョブと呼ばれます。 このワークスペースでは、ジョブ、タスク、スケジュールという用語を区別なく使用します。 **管理**&gt;**フレームワーク オプション** ウィンドウで、**状態の詳細を表示** **前の** オプションを使用して、このウィンドウに表示されるジョブの数を構成します。 |
| **状態の詳細** | 選択したタスクのステータスの詳細を提供します。                                                                                                                                                                                                                                                                                                                                               |
| **追跡**          | 選択したタスクに複数のステップおよびクエリがある場合に一覧表示します。                                                                                                                                                                                                                                                                                                               |

### 

### <a name="fields"></a>フィールド

#### <a name="job-status-pane"></a>ジョブ ステータス ウィンドウ

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>フィールド</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong><span class="ui">名前</span></strong></td>
<td>タスクの名前です。</td>
</tr>
<tr class="even">
<td><strong><span class="ui">タイプ</span></strong></td>
<td>タスクのタイプ。</td>
</tr>
<tr class="odd">
<td><strong><span class="ui">前回の実行時刻</span></strong></td>
<td>このタスクが最後に実行された日時</td>
</tr>
<tr class="even">
<td><strong><span class="ui">最後の実行結果</span></strong></td>
<td>結果は、<strong><span class="ui">Pass</span></strong>、<strong><span class="ui">Fail</span></strong>、<strong><span class="ui">Running</span></strong>、<strong><span class="ui">Canceled</span></strong> のいずれかになります。 対応するエラー ログ ファイルにある Intelligent Data Management Framework およびスケジューラー サービス ログ エラー。 失敗またはキャンセルされたアーカイブの再起動、アーカイブ タスクを元に戻すか復元するには、次の手順を使用します。
<ol>
<li><strong>ステータス</strong> ワークスペースのタスクの詳細を確認してください。</li>
<li>エラー ログ ファイルを調べて、エラーの原因となった条件を特定し、エラー状態を修正します。</li>
<li>アーカイブを再起動したり、アーカイブを復元するには、<strong>ステータス</strong><strong>ワークスペース</strong>&gt;<strong><span class="ui">ジョブ ステータス</span></strong> ウィンドウでタスクをクリックし、<strong><span class="ui">タスクを再起動</span></strong> を選択します。 その他のすべてのタスクについては、新しいタスクを作成し、実行します。 <strong>注記:</strong> 失敗したタスク、またはデータのコピーを開始する前にキャンセルされたタスクを再開することはできません。 障害が発生したまたはキャンセルされたタスクを再起動できない場合は、新しいタスクを作成する必要があります。</li>
<li>正常に完了したことを確認するために前の手順で開始したタスクを監視します。</li>
</ol>
失敗またはキャンセルされたアーカイブ タスクを元に戻すには、次の手順を使用します。
<ol>
<li><strong>ステータス</strong> ワークスペースのタスクの詳細を確認してください。</li>
<li>エラー ログ ファイルを調べて、エラーの原因となった条件を特定し、エラー状態を修正します。</li>
<li>アーカイブ タスクを元に戻すには、<strong>ステータス</strong><strong>ワークスペース</strong>&gt;<strong><span class="ui">ジョブ ステータス</span></strong> ウィンドウでタスクをクリックし、<strong><span class="ui">スケジュールを元に戻す</span></strong> を選択します。 その他のすべてのタスクについては、新しいタスクを作成し、実行します。 <strong>注記:</strong> 失敗したタスク、またはデータのコピーを開始する前に取り消されたタスクを元に戻すと、元に戻す対象がないことを示すメッセージが IDMF によって表示されます。</li>
<li>正常に完了したことを確認するために前の手順で開始したタスクを監視します。</li>
</ol></td>
</tr>
<tr class="odd">
<td><strong><span class="ui">次のスケジュール</span></strong></td>
<td>定期的なタスクの次の実行日時。</td>
</tr>
<tr class="even">
<td><strong><span class="ui">説明</span></strong></td>
<td>タスクの説明。 既定では、IDMF は選択した削除オブジェクトのデータ削除など、タスクの簡単な説明を提供します。 この説明では、アーカイブ オブジェクトまたは削除オブジェクトのルールに関する情報は提供されません。 IDMF 構成ファイルを変更して、説明内でルールとその値を指定することができます。 構成ファイルを変更するには、次の手順を使用します。
<ol>
<li>メモ帳などの編集ツールを使用して、Data Management Framework のインストール フォルダーから、<strong>AXDataManagementTool.exe.Config</strong> を開きます。 インストール フォルダーの既定のパスは、C:\Program Files\Microsoft Dynamics AX Intelligent Data Management Framework です。</li>
<li><p>コンフィギュレーション キー <strong>IncludeRulesInDescription</strong> を検索して、次のコードに示すように値を <strong>true</strong> に変更します。</p>
<pre><code>&lt;add key=&quot;IncludeRulesInDescription&quot; value=&quot;true&quot; /&gt;</code></pre></li>
<li>コンフィギュレーション ファイルを保存し、IDMF を再起動します。</li>
</ol>
修正済み構成ファイルを使用すると、アーカイブを作成または更新またはタスクを削除するとき、その説明には選択した削除オブジェクトまたはアーカイブ オブジェクトのためのすべてのルールおよびその値が含まれます。</td>
</tr>
<tr class="odd">
<td><strong><span class="ui">SSIS トレース</span></strong></td>
<td>このフィールドには、このタスクの Microsoft SQL Server Integration Services (SSIS) トレース出力を表示するためのハイパーリンクが用意されています。 ハイパーリンクは、トレース レベルを [<span class="ui">詳細</span>] に設定した場合にのみ使用できます。 [<span class="ui">フレームワーク オプション</span>] メニューを使用して、SSIS トレース レベルを設定します。</td>
</tr>
</tbody>
</table>

#### <a name="status-details-pane"></a>状態の詳細ウィンドウ

| フィールド                | 説明                                                                                                                                                                                     |
|----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **タイプ**             | タスクのタイプ。                                                                                                                                                                               |
| **ステータス**           | 状態は、**Pass**、**Fail**、**Running**、**Canceled** のいずれかになります。 失敗したかキャンセルされた場合は、タスクをもう一度実行する必要があります。 現在実行中のタスクまたは将来のタスクに対するステータスの影響を特定します。 |
| **開始時刻**       | タスクの開始時刻。                                                                                                                                                                     |
| **終了時刻**         | タスクの終了時刻。                                                                                                                                                                       |
| **作成日時** | タスクが作成された日時。                                                                                                                                                    |

### 

### <a name="trace-pane"></a>トレース ウィンドウ

すべてのタスクは次のフィールドに含まれています。 アーカイブ タスクのアーカイブおよび復元には**開始時刻**および**終了時刻**フィールドは含まれませんが、**継続期間**フィールドは代わりに提供されます。

| フィールド          | 説明                                                                                                                                                                                                                                                                                                                         |
|----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **開始時刻** | サブタスクの開始時刻。 このフィールドは、元帳期間、アーカイブ、および復元タスクを除くすべてのタスクを使用します。                                                                                                                                                                                                         |
| **終了時刻**   | タスクの終了時刻。 このフィールドは、元帳期間、アーカイブ、および復元タスクを除くすべてのタスクで使用できます。                                                                                                                                                                                                          |
| **ステータス**     | すべてのタスクの完了ステータスは、**合格**または**不合格**のいずれかです。 また、アーカイブおよび削除のタスクでは、タスクが有効なときに実行中ステータスが表示されます。 失敗したタスクについては、タスクをもう一度実行する前に、どのサブタスクが失敗したかを確認します。 失敗したタスクの影響を特定するか、他のタスクでタスクを再実行してください。 |

#### 

#### <a name="trace-pane-for-analysis-snapshot-tasks-for-production-and-archive-databases"></a>生産データベースとアーカイブ データベースの分析スナップショット作業のトレース ウィンドウ

| フィールド        | 説明                                                                                                                                                                  |
|--------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **サブタスク** | サブタスクは、**インデックス分析スナップショット**または**テーブル分析スナップショット**などのタスクのステップです。 **トレース** ウィンドウは、該当する場合に、特定のタスクのすべてのサブタスクが表示されます。 |

#### 

#### <a name="trace-pane-for-master-data-synchronization-tasks"></a>マスタ データ同期作業のトレース ウィンドウ

| フィールド             | 説明                                                                                               |
|-------------------|-----------------------------------------------------------------------------------------------------------|
| **テーブル名**    | 削除オブジェクト内のテーブル名。                                                                       |
| **挿入された行** | 実稼働データベースからアーカイブ データベースに、このマスター テーブルに挿入された行数。 |
| **更新された行**  | 実稼働データベースからアーカイブ データベースに、このマスター テーブルで更新された行数。    |

#### 

#### <a name="trace-pane-for-metadata-synchronization-tasks"></a>メタデータ同期作業のトレース ウィンドウ

| フィールド                   | 説明                                                                                                                                                                                                                                                  |
|-------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **サブタスク**            | メタデータ同期タスクが実行するサブタスクの名前。 各サブタスクは、機能、インデックス、主キー、ストアド プロシージャ、テーブル、またはビューなどのデータベース オブジェクトに対応します。                                                            |
| **生産 DB 数** | 生産データベースで検出されたオブジェクトの数。                                                                                                                                                                                                      |
| **アーカイブ DB 数**    | アーカイブ データベースにコピーされたデータベース オブジェクトの数。 実稼働 db カウントとアーカイブ db カウントの値は、テーブル、インデックス、プライマリ キー サブタスクと一致する必要があります。 これらのカウントに不一致が発生した場合は、メタデータ同期タスクが失敗します。 |

#### 

#### <a name="trace-pane-for-system-health-check-tasks"></a>システム正常性チェック作業のトレース ウィンドウ

| フィールド       | 説明                                                       |
|-------------|-------------------------------------------------------------------|
| **期間**  | 期間は、元帳期間に基づいた 4 桁の暦年です。 |
| **基準** | 測定の説明。                                     |

#### 

#### <a name="trace-pane-for-purge-tasks"></a>パージ作業のトレース ウィンドウ

| フィールド                                     | 説明                                                                                                                                                                                                                                           |
|-------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **テーブル名**                            | 削除オブジェクト内のテーブルの名前。                                                                                                                                                                                                            |
| **再利用されたレコード**                      | 削除タスクによってこのテーブルからリサイクルされたレコードの合計数。                                                                                                                                                                               |
| **削除テーブルに挿入されたレコード** | 削除テーブルに挿入されたレコードの総数。 削除テーブルから削除しない限り、削除テーブルには実稼働データベースからリサイクルされたすべてのレコードが含まれます。 この値は、再利用するレコードの数と同じです。 |

#### 

#### <a name="trace-pane-for-archive-tasks"></a>アーカイブ作業のトレース ウィンドウ

| フィールド                                          | 説明                                                                                                                                                                                                                                       |
|------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **テーブル名**                                 | アーカイブ オブジェクトまたは関連するアーカイブ オブジェクトの名前。                                                                                                                                                                            |
| **一時テーブルに挿入されたレコード** | このアーカイブ アクティビティのソースとして使用された一時表に挿入されたレコードの合計数。                                                                                                                             |
| **アーカイブ データベースに挿入されたレコード** | 実稼働データベース内の対応する表から、アーカイブ データベース内のテーブルに挿入されたレコードの合計数。 この数は、ソース データベース内のレコード数と一致する必要があります。                                       |
| **オフラインのレコード**                           | アーカイブされたレコードの合計数、つまり、実稼働データベースからアーカイブ データベースにコピーされた後、実稼働データベースから削除されたレコードの総数。                                        |
| **合計数**                            | 実稼働データベースに挿入した調整レコードの合計数。 影響を受ける勘定の差引勘定をするためにエントリの調整が必要な場合があります。                                                                                            |
| **期間**                                   | このアーカイブ ステップを完了するために必要な時間。 アーカイブ オブジェクト内のテーブルごとに、さまざまな段階のデータ アーカイブ プロセスが異なる時間に実行されます。 結果として、データ グリッドは開始時刻と終了時刻の代わりに期間を提供します。 |
| **ステータス**                                     | **合格** または **不合格** など、サブタスクの状態。                                                                                                                                                                                          |

#### 

#### <a name="trace-pane-for-restore-archive-tasks"></a>復元作業のトレース ウィンドウ

| フィールド                                     | 説明                                                                                                                                                                                                                                   |
|-------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **テーブル名**                            | リストア対象のアーカイブ オブジェクトまたは関連するアーカイブ オブジェクト内のテーブルの名前。                                                                                                                                                 |
| **アーカイブの日付**                          | アーカイブ日時。                                                                                                                                                                                                                    |
| **復元の見込みのあるレコード**     | 暦年に選択した会社と期間に基づいて選択されたレコードの合計数。                                                                                                                              |
| **復元されたレコード**                      | このテーブルのアーカイブ データベースから実稼働データベースに復元されたレコードの合計数。                                                                                                                                    |
| **合計数**                       | 実稼働データベースから削除された調整レコードの合計数。                                                                                                                                                                  |
| **アーカイブ データベースから削除されたレコード** | この表のアーカイブ データベースから削除されたレコードの合計数。                                                                                                                                                                 |
| **期間**                              | このアーカイブ ステップを完了するために必要な時間。 アーカイブ オブジェクト内のテーブルごとに、さまざまな段階のデータ アーカイブ プロセスが異なる時間に実行されます。 結果として、データ グリッドは開始時刻と終了時刻の代わりに期間を提供します。 |
| **ステータス**                                | **合格** または **不合格** など、サブタスクの状態。                                                                                                                                                                                      |

## <a name="refresh"></a>更新反映
**ステータス** ワークスペースを更新するには、ツールバーの **更新** をクリックします。

## <a name="export-to-excel"></a>Excel にエクスポート
このコマンドを使用すると、データグリッドから選択した行を、このコマンドが使用可能なすべてのワークスペースからエクスポートできます。




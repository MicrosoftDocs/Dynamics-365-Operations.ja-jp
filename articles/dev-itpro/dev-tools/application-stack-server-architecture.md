---
title: "アプリケーション スタックおよびサーバーのアーキテクチャ"
description: "アプリケーション スタックは、アプリケーション プラットフォーム、アプリケーション基準、およびアプリケーション スイートという、3 つの別個のモデルに分割されます。"
author: kfend
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
audience: Developer
ms.reviewer: robinr
ms.search.scope: Operations
ms.custom: 31751
ms.assetid: 6a5811cc-a551-4e4d-824c-d760460b3223
ms.search.region: Global
ms.author: meeram
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: efcb77ff883b29a4bbaba27551e02311742afbbd
ms.openlocfilehash: 7055a7ffc60b2fae50a610c2654ba62d93fcef41
ms.contentlocale: ja-jp
ms.lasthandoff: 05/08/2018

---

# <a name="application-stack-and-server-architecture"></a><span data-ttu-id="325d0-103">アプリケーション スタックおよびサーバーのアーキテクチャ</span><span class="sxs-lookup"><span data-stu-id="325d0-103">Application stack and server architecture</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="325d0-104">アプリケーション スタックは、アプリケーション プラットフォーム、アプリケーション基準、およびアプリケーション スイートという、3 つの別個のモデルに分割されます。</span><span class="sxs-lookup"><span data-stu-id="325d0-104">The application stack is divided into three separate models -  Application Platform, Application Foundation, and Application Suite.</span></span> 

<a name="overview"></a><span data-ttu-id="325d0-105">概要</span><span class="sxs-lookup"><span data-stu-id="325d0-105">Overview</span></span>
--------

<span data-ttu-id="325d0-106">アプリケーション スタックとサーバー アーキテクチャは、次の 3 本の主要な柱に対応します。</span><span class="sxs-lookup"><span data-stu-id="325d0-106">The application stack and server architecture aligns with three key pillars:</span></span>

-   <span data-ttu-id="325d0-107">新しいクライアント</span><span class="sxs-lookup"><span data-stu-id="325d0-107">New client</span></span>
-   <span data-ttu-id="325d0-108">クラウドの準備</span><span class="sxs-lookup"><span data-stu-id="325d0-108">Cloud readiness</span></span>
-   <span data-ttu-id="325d0-109">新しい開発スタック</span><span class="sxs-lookup"><span data-stu-id="325d0-109">New development stack</span></span>

<span data-ttu-id="325d0-110">アプリケーション スタックは、アプリケーション プラットフォーム、アプリケーション基準、およびアプリケーション スイートという、3 つの別個のモデルに分割されています。</span><span class="sxs-lookup"><span data-stu-id="325d0-110">The application stack has been divided into three separate models: Application Platform, Application Foundation, and Application Suite.</span></span> <span data-ttu-id="325d0-111">Fleet Management のサンプル アプリケーションが開発されたのと同様に、分離により、ベース基盤モデルの新しいアプリケーション開発が可能になります。</span><span class="sxs-lookup"><span data-stu-id="325d0-111">The separation enables new application development on the base foundation models, just as the Fleet Management sample application has been developed.</span></span> <span data-ttu-id="325d0-112">サーバーのアーキテクチャ内の変更に関する次の重要な点に注意してください。</span><span class="sxs-lookup"><span data-stu-id="325d0-112">Note the following important points about the changes in the server architecture:</span></span>

-   <span data-ttu-id="325d0-113">サーバー上のサービス エンドポイントは、すべてのフォームとコントロールのメタデータとデータをブラウザー ベースのクライアントに返す責任があります。</span><span class="sxs-lookup"><span data-stu-id="325d0-113">The services endpoint on the server is now responsible for returning all form and control metadata and data to the browser-based client.</span></span> <span data-ttu-id="325d0-114">サーバーとのリモート プロシージャ コール (RPC) ベースの通信はなくなりました。</span><span class="sxs-lookup"><span data-stu-id="325d0-114">There is no longer any remote procedure call (RPC)-based communication with the server.</span></span> <span data-ttu-id="325d0-115">フォーム オブジェクトは引き続きサーバー上で実行され、レンダリングはサーバーおよびクライアント側 (ブラウザー) の投資を通じてブラウザーおよびその他のクライアント用に最適化されています。</span><span class="sxs-lookup"><span data-stu-id="325d0-115">The form objects still run on the server, and rendering has been optimized for browsers and other clients through server and client-side (browser) investments.</span></span>
-   <span data-ttu-id="325d0-116">アプリケーション コード ベースを含むサーバーは、Internet Information Services (IIS) Web アプリケーションに展開されます。</span><span class="sxs-lookup"><span data-stu-id="325d0-116">The server, including the application code base, is deployed to an Internet Information Services (IIS) web application.</span></span> <span data-ttu-id="325d0-117">クラウドでは、Microsoft Azure のサービスとしてのインフラストラクチャ (IaaS) 仮想マシン (VM) に配置されます。</span><span class="sxs-lookup"><span data-stu-id="325d0-117">In the cloud, it's deployed to Microsoft Azure infrastructure as a service (IaaS) virtual machines (VMs).</span></span>
-   <span data-ttu-id="325d0-118">これは Azure でホストされ、インターネットを介してアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="325d0-118">It is hosted on Azure and is available for access through the Internet.</span></span> <span data-ttu-id="325d0-119">ユーザーは、クライアントと資格情報の組み合わせを使用してアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="325d0-119">A user can use a combination of clients and credentials to access it.</span></span> <span data-ttu-id="325d0-120">推奨されるプライマリ ID プロバイダーは OrgID で、ID のストアは Azure Active Directory (Azure AD) です。</span><span class="sxs-lookup"><span data-stu-id="325d0-120">The recommended primary identity provider is OrgID, and the store for the identity is Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="325d0-121">セキュリティ サブシステムは、ユーザーとロールに対して同じ AuthZ セマンティクスを使用します。</span><span class="sxs-lookup"><span data-stu-id="325d0-121">The security subsystem uses the same AuthZ semantics for users and roles.</span></span>
-   <span data-ttu-id="325d0-122">クラウドにアクセスするには、アクティブ クライアントとパッシブ クライアントの 2 種類のクライアントを考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="325d0-122">Two types of clients must be considered for access in the cloud: active clients and passive clients.</span></span>
    -   <span data-ttu-id="325d0-123">アクティブなクライアントは、サーバーからの応答に基づいて、アクションをプログラムで開始できます。</span><span class="sxs-lookup"><span data-stu-id="325d0-123">Active clients can programmatically initiate actions based on responses from the server.</span></span> <span data-ttu-id="325d0-124">アクティブなクライアントは認証用の HTTP リダイレクトに依存しません。</span><span class="sxs-lookup"><span data-stu-id="325d0-124">An active client doesn't rely on HTTP redirects for authentication.</span></span> <span data-ttu-id="325d0-125">スマート/リッチ クライアントは、アクティブなクライアントの例です。</span><span class="sxs-lookup"><span data-stu-id="325d0-125">A smart/rich client is an example of an active client.</span></span>
    -   <span data-ttu-id="325d0-126">パッシブ クライアントは、サーバーからの応答に基づいて、アクションをプログラムで開始できません。</span><span class="sxs-lookup"><span data-stu-id="325d0-126">Passive clients can't programmatically initiate actions based on responses from the server.</span></span> <span data-ttu-id="325d0-127">パッシブなクライアントは認証用の HTTP リダイレクトに依存します。</span><span class="sxs-lookup"><span data-stu-id="325d0-127">A passive client relies on HTTP redirects for authentication.</span></span> <span data-ttu-id="325d0-128">Web ブラウザーは、パッシブ クライアントの例です。</span><span class="sxs-lookup"><span data-stu-id="325d0-128">A web browser is an example of a passive client.</span></span>

    <span data-ttu-id="325d0-129">現在、Access Control Service (ACS) は非対話型認証のためのメカニズムをサポートしていません。</span><span class="sxs-lookup"><span data-stu-id="325d0-129">Currently, Access Control Service (ACS) doesn't support a mechanism for non-interactive authentication.</span></span> <span data-ttu-id="325d0-130">したがって、アクティブなクライアントが ACS を使用して認証を試みる場合でも、パッシブ クライアント認証を使用する必要があります。パッシブ クライアント認証では、ブラウザーのダイアログ ボックスに、ユーザーに資格情報の入力を求めるプロンプトが表示されます。</span><span class="sxs-lookup"><span data-stu-id="325d0-130">Therefore, even when active clients try to authenticate by using ACS, they must use passive client authentication, in which a browser dialog box prompts the user to enter his or her credentials.</span></span>
-   <span data-ttu-id="325d0-131">完全に改訂されたメタデータ サブシステムには、新しいコンパイラおよび Microsoft Visual Studio ベース開発モデルが組み込まれています。</span><span class="sxs-lookup"><span data-stu-id="325d0-131">A completely revamped metadata subsystem incorporates the new compiler and Microsoft Visual Studio–based development model.</span></span> <span data-ttu-id="325d0-132">モデル ストアは、モデルによって編成された一連のフォルダーと XML コンポーネントとして表されます。</span><span class="sxs-lookup"><span data-stu-id="325d0-132">The model store is represented as a set of folders and XML artifacts that are organized by model.</span></span> <span data-ttu-id="325d0-133">テーブル、フォーム、クラスなどのモデル要素は、メタデータとソース コードの両方を含む XML ファイルで表されます。</span><span class="sxs-lookup"><span data-stu-id="325d0-133">The model elements, such as tables, forms, and classes, are represented by an XML file that contains both metadata and source code.</span></span>

<span data-ttu-id="325d0-134">次の図の左側に、アプリケーション スタックが個別のモデルに分割されている様子が示されています。</span><span class="sxs-lookup"><span data-stu-id="325d0-134">The left side of the following diagram shows how the application stack has been split into distinct models.</span></span> <span data-ttu-id="325d0-135">右側には、主要なコンポーネントがサーバーにどのように積み重ねられているかが示されています。</span><span class="sxs-lookup"><span data-stu-id="325d0-135">The right side shows how the key components are stacked in the server.</span></span> 

<span data-ttu-id="325d0-136">[![アーキテクチャ図面](./media/ArchitectureDrawing1.png)](./media/ArchitectureDrawing1.png)</span><span class="sxs-lookup"><span data-stu-id="325d0-136">[![Architecture drawing](./media/ArchitectureDrawing1.png)](./media/ArchitectureDrawing1.png)</span></span>   

<span data-ttu-id="325d0-137">Microsoft Dynamics AX 2012 は、ユーザーに付与されるアクセス許可を統一します。</span><span class="sxs-lookup"><span data-stu-id="325d0-137">Microsoft Dynamics AX 2012 unionizes permissions that are granted to a user.</span></span> <span data-ttu-id="325d0-138">ただし、エントリ ポイントを通して読み取りアクセス許可、フォームを通して編集アクセス許可がデータ ソースに付与されるときに問題が発生します。</span><span class="sxs-lookup"><span data-stu-id="325d0-138">However, an issue can occur when a data source is granted read permissions through an entry point and edit permissions through a form.</span></span> <span data-ttu-id="325d0-139">アクセス許可が結成されているため、最終的にユーザーはこの場合のデータ ソースに対する編集のアクセス許可を持ちます。</span><span class="sxs-lookup"><span data-stu-id="325d0-139">Because permissions are unionized, the user eventually has edit permissions to that data source in this case.</span></span> <span data-ttu-id="325d0-140">ただし、フォームにメニュー項目を通して読み取りアクセス権が付与された場合、そのパスを通してデータ ソースを編集することはできません。</span><span class="sxs-lookup"><span data-stu-id="325d0-140">However, if the form was granted read access through a menu item, the expectation is that the data source can't be edited through that path.</span></span> <span data-ttu-id="325d0-141">したがって、呼び出しのコンテキストは尊重されません。</span><span class="sxs-lookup"><span data-stu-id="325d0-141">Therefore, the context of the call isn't honored.</span></span> <span data-ttu-id="325d0-142">Microsoft Dynamics 365 for Finance and Operations では、呼び出しのコンテキストがエントリ ポイントを通じて与えられたアクセス許可に基づいて受け入れられます。</span><span class="sxs-lookup"><span data-stu-id="325d0-142">In Microsoft Dynamics 365 for Finance and Operations, the context of the call is honored, based on the permissions that are granted through the entry point.</span></span> <span data-ttu-id="325d0-143">フォームにメニュー項目からの読み取りアクセス権が付与された場合、フレームワークには、テーブルへのユーザーのみ読み取りアクセスが与えられます。</span><span class="sxs-lookup"><span data-stu-id="325d0-143">If the form was granted read access through a menu item, the framework grants the user only read access to the table.</span></span> <span data-ttu-id="325d0-144">ただし、書き込みアクセスを提供する別のメニュー項目から同一のフォームが開かれた場合、フォームには書き込みアクセス許可が付与されます。</span><span class="sxs-lookup"><span data-stu-id="325d0-144">However, if the same form is opened through another menu item that provides write access, the form is granted write permissions.</span></span> <span data-ttu-id="325d0-145">開発者は、特定のエントリ ポイントからフォームの目的の動作を指定できるため、この動作は開発の経験を簡素化します。</span><span class="sxs-lookup"><span data-stu-id="325d0-145">This behavior simplifies the development experience, because developers can specify the desired behavior for a form through a given entry point.</span></span>

## <a name="cloud-architecture"></a><span data-ttu-id="325d0-146">クラウド アーキテクチャ</span><span class="sxs-lookup"><span data-stu-id="325d0-146">Cloud architecture</span></span>
<span data-ttu-id="325d0-147">クラウド アーキテクチャには、ソフトウェアの展開とプロビジョニング、運用の監視とレポート、およびシームレスなアプリケーション ライフサイクル管理を自動化するサービスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="325d0-147">The cloud architecture includes services that automate software deployment and provisioning, operational monitoring and reporting, and seamless application lifecycle management.</span></span> <span data-ttu-id="325d0-148">クラウド アーキテクチャは、3 つの主な概念領域で構成されています。</span><span class="sxs-lookup"><span data-stu-id="325d0-148">The cloud architecture consists of three main conceptual areas:</span></span>

-   <span data-ttu-id="325d0-149">**Lifecycle Services (LCS)** – LCS は、広範なライフサイクル関連の機能を可能にするマルチ テナントの共有サービスです。</span><span class="sxs-lookup"><span data-stu-id="325d0-149">**Lifecycle Services (LCS)** – LCS is a multi-tenant shared service that enables a wide range of lifecycle-related capabilities.</span></span> <span data-ttu-id="325d0-150">このリリースに固有の機能には、ソフトウェア開発、顧客プロビジョニング、サービス レベル アグリーメント (SLA) の監視、およびレポート機能が含まれます。</span><span class="sxs-lookup"><span data-stu-id="325d0-150">Capabilities that are specific to this release include software development, customer provisioning, service level agreement (SLA) monitoring, and reporting capabilities.</span></span>
-   <span data-ttu-id="325d0-151">**Finance and Operations** – VM インスタンスは、LCS によって Azure サブスクリプションに配置されます。</span><span class="sxs-lookup"><span data-stu-id="325d0-151">**Finance and Operations** – The VM instances are deployed through LCS to your Azure subscription.</span></span> <span data-ttu-id="325d0-152">デモ、開発/テスト、高可用性の運用トポロジなど、さまざまなトポロジが利用できます。</span><span class="sxs-lookup"><span data-stu-id="325d0-152">Various topologies are available: demo, development/test, and high-availability production topologies.</span></span>
-   <span data-ttu-id="325d0-153">**Microsoft サービスを共有** – Finance and Operations は様々な Microsoft のサービスを使用して Finance and Operations、Microsoft Office 365 および他のオンライン サービスと共に定期管理及び請求関係を顧客が一度のサインインで管理できる「One Microsoft」ソリューションを有効にします。</span><span class="sxs-lookup"><span data-stu-id="325d0-153">**Shared Microsoft services** – Finance and Operations uses several Microsoft services to enable a “One Microsoft” solution where customers can manage a single sign-in, subscription management, and billing relationship with Microsoft across Finance and Operations, Microsoft Office 365, and other online services.</span></span>

<span data-ttu-id="325d0-154">Microsoft Azure ストレージ、ネットワーク、監視、SQL Azure など、Azure プラットフォームの多くの機能はいくつかの名前に使用されます。</span><span class="sxs-lookup"><span data-stu-id="325d0-154">Many features of the Azure platform are used, such as Microsoft Azure Storage, networking, monitoring, and SQL Azure, to name a few.</span></span>  <span data-ttu-id="325d0-155">共有サービスが工程に移り、参加者の環境のアプリケーション ライフサイクルが調整されます。</span><span class="sxs-lookup"><span data-stu-id="325d0-155">Shared services put into operation and orchestrate the application lifecycle of the environments for participants.</span></span> <span data-ttu-id="325d0-156">Azure の機能と LCS があいまって、堅牢なクラウド サービスを提供します。</span><span class="sxs-lookup"><span data-stu-id="325d0-156">Together, Azure functionality and LCS will offer a robust cloud service.</span></span>

## <a name="development-environment"></a><span data-ttu-id="325d0-157">開発環境</span><span class="sxs-lookup"><span data-stu-id="325d0-157">Development environment</span></span>
<span data-ttu-id="325d0-158">開発環境のアーキテクチャは、クラウド インスタンスのアーキテクチャに似ています。</span><span class="sxs-lookup"><span data-stu-id="325d0-158">The architecture of the development environment resembles the architecture of the cloud instance.</span></span> <span data-ttu-id="325d0-159">また、Visual Studio 開発ツールとその他のコンポーネントで構成されるソフトウェア開発キット (SDK) も含まれます。</span><span class="sxs-lookup"><span data-stu-id="325d0-159">It also includes the software development kit (SDK), which consists of the Visual Studio development tools and other components.</span></span> <span data-ttu-id="325d0-160">Team Foundation Server または Visual Studio Online を介したソース管理により、複数開発者のシナリオが可能になります。このシナリオでは、各開発者が別個の開発環境を使用できます。</span><span class="sxs-lookup"><span data-stu-id="325d0-160">Source control through Team Foundation Server or Visual Studio Online enables multiple-developer scenarios, where each developer uses a separate development environment.</span></span> <span data-ttu-id="325d0-161">配置パッケージは、開発環境でコンパイルおよび生成し、LCS を使用してクラウド インスタンスに展開できます。</span><span class="sxs-lookup"><span data-stu-id="325d0-161">Deployment packages can be compiled and generated on a development environment and deployed to cloud instances by using LCS.</span></span> <span data-ttu-id="325d0-162">次の図は、主要なコンポーネントが開発環境でどのようにやり取りするかを示しています。</span><span class="sxs-lookup"><span data-stu-id="325d0-162">The following diagram shows how the key components interact in a development environment.</span></span>

<span data-ttu-id="325d0-163">[![CloudEnvironmentTechConcepts](./media/cloudenvironmenttechconcepts.png)](./media/cloudenvironmenttechconcepts.png)</span><span class="sxs-lookup"><span data-stu-id="325d0-163">[![CloudEnvironmentTechConcepts](./media/cloudenvironmenttechconcepts.png)](./media/cloudenvironmenttechconcepts.png)</span></span>





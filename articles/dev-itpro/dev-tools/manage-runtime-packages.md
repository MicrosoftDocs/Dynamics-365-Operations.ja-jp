---
title: "ソース コントロールを使用してサード パーティ モデルとランタイム パッケージを管理"
description: "このトピックでは、サードパーティ ソリューションを管理、配布、展開するうえで推奨される戦略について説明します。"
author: jorisdg
manager: AnnBe
ms.date: 05/21/2018
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
audience: Developer
ms.reviewer: robinr
ms.search.scope: Operations
ms.custom: 26731
ms.assetid: 
ms.search.region: Global
ms.author: jorisde
ms.search.validFrom: 2017-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: e782d33f3748524491dace28008cd9148ae70529
ms.openlocfilehash: 623a45cf1897bd55bdcf5bc66b0a22934137dac0
ms.contentlocale: ja-jp
ms.lasthandoff: 08/09/2018

---

# <a name="manage-third-party-models-and-runtime-packages-by-using-source-control"></a><span data-ttu-id="46f61-103">ソース コントロールを使用してサード パーティ モデルとランタイム パッケージを管理</span><span class="sxs-lookup"><span data-stu-id="46f61-103">Manage third-party models and runtime packages by using source control</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="46f61-104">サード パーティのソリューションを使用する顧客は、ソリューションで使用するさまざまなソリューション コンポーネントを受け取ることがあります。</span><span class="sxs-lookup"><span data-stu-id="46f61-104">Customers that work with solutions from third parties might receive different solution artifacts to use in their solution.</span></span> <span data-ttu-id="46f61-105">通常、これらのアーティファクトはコード (モデルの形式) またはバイナリ (展開可能なパッケージの形式) で配布されます。</span><span class="sxs-lookup"><span data-stu-id="46f61-105">Typically, these artifacts are distributed as code (in the form of models) or binaries (in the form of deployable packages).</span></span> <span data-ttu-id="46f61-106">場合によっては、サード パーティは、ソリューションの一部をバイナリのコードとその他のパーツとして提供する場合があります。</span><span class="sxs-lookup"><span data-stu-id="46f61-106">In some cases, third parties might provide some parts of their solution as code and other parts as a binary.</span></span>

<span data-ttu-id="46f61-107">このトピックでは、これらのサードパーティ ソリューションを管理、配布、展開するための推奨される戦略について説明します。</span><span class="sxs-lookup"><span data-stu-id="46f61-107">This topic outlines a recommended strategy for managing, distributing, and deploying these third-party solutions.</span></span>

## <a name="models-from-third-parties"></a><span data-ttu-id="46f61-108">サード パーティからのモデル</span><span class="sxs-lookup"><span data-stu-id="46f61-108">Models from third parties</span></span>
<span data-ttu-id="46f61-109">サード パーティから受け取ったソース コードは、バイナリにコンパイルし、配置可能パッケージに含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="46f61-109">Any source code that is received from third parties must be compiled into a binary and included in a deployable package.</span></span> <span data-ttu-id="46f61-110">モデルは、開発仮想マシン (VM) にインストールしてソース管理に追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="46f61-110">Models should be installed on a development virtual machine (VM) and added to source control.</span></span> <span data-ttu-id="46f61-111">そこからは、ビルド VM はソース コードをピッキング、構築、および配置可能パッケージに含めることができます。</span><span class="sxs-lookup"><span data-stu-id="46f61-111">From there, the build VM can pick up the source code, build it, and include it in a deployable package.</span></span> <span data-ttu-id="46f61-112">他の開発者は、Microsoft Visual Studio チーム サービス (VSTS) のモデルをそのまま開発 VM に同期できます。</span><span class="sxs-lookup"><span data-stu-id="46f61-112">Other developers can just synchronize the model from Microsoft Visual Studio Team Services (VSTS) to their development VMs.</span></span> <span data-ttu-id="46f61-113">手動でインストールする必要はありません。</span><span class="sxs-lookup"><span data-stu-id="46f61-113">They don't have to manually install it.</span></span>

<span data-ttu-id="46f61-114">開発 VM でモデルをインストールする方法の詳細については、[モデルのエクスポートとインポート](models-export-import.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="46f61-114">For information about how to install a model on a development VM, see [Export and import a model](models-export-import.md).</span></span>

<span data-ttu-id="46f61-115">モデルをインストールしたら、以下の手順に従いソース管理に新しいモデルを追加します。</span><span class="sxs-lookup"><span data-stu-id="46f61-115">After you install the model, follow these steps to add the new model to source control.</span></span>

1. <span data-ttu-id="46f61-116">Microsoft Visual Studio の **Dynamics 365** メニューで、**モデル管理** > **モデルの更新**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="46f61-116">In Microsoft Visual Studio, on the **Dynamics 365** menu, click **Model Management** > **Refresh Models**.</span></span>
2. <span data-ttu-id="46f61-117">**表示** > **アプリケーション エクスプローラー**をクリックして、アプリケーション エクスプ ローラーを開きます。</span><span class="sxs-lookup"><span data-stu-id="46f61-117">Open Application Explorer by clicking **View** > **Application Explorer**.</span></span>
3. <span data-ttu-id="46f61-118">**AOT**ルート ノードを右クリックし、、**モデル ビュー** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="46f61-118">Right-click the **AOT** root node, and then click **Model view**.</span></span>
4. <span data-ttu-id="46f61-119">モデルの一覧で、インストールした新しいモデルを検索します。</span><span class="sxs-lookup"><span data-stu-id="46f61-119">In the list of models, find the new model that you installed.</span></span> <span data-ttu-id="46f61-120">モデルを含むパッケージの名前をメモしておきます。</span><span class="sxs-lookup"><span data-stu-id="46f61-120">Make a note of the name of the package that contains the model.</span></span> <span data-ttu-id="46f61-121">パッケージ名はモデル名の後にかっこ付きで表示されます。</span><span class="sxs-lookup"><span data-stu-id="46f61-121">The package name appears in parentheses after the model name.</span></span> <span data-ttu-id="46f61-122">たとえば、次の図では、**税帳簿**、**税エンジン コンフィギュレーション**、および**税エンジン インターフェイス**モデルはすべて **TaxEngine** という名前のパッケージに属します。</span><span class="sxs-lookup"><span data-stu-id="46f61-122">For example, in the following illustration, the **Tax Books**, **Tax Engine Configuration**, and **Tax Engine Interface** models all belong to the package that is named **TaxEngine**.</span></span>

    ![各モデルのパッケージ名](media/appexplorer_modelpackagename.png)

5. <span data-ttu-id="46f61-124">**表示** > **その他の Windows** > **ソース管理エクスプローラー**をクリックして、ソース管理エクスプローラーを開きます</span><span class="sxs-lookup"><span data-stu-id="46f61-124">Open Source Control Explorer by clicking **View** > **Other Windows** > **Source Control Explorer**.</span></span>
6. <span data-ttu-id="46f61-125">**MyProject/Trunk/Main/Metadata** など、この開発 VM にマップされているメタデータ フォルダーに移動します。</span><span class="sxs-lookup"><span data-stu-id="46f61-125">Navigate to the metadata folder that is mapped on this development VM, such as **MyProject/Trunk/Main/Metadata**.</span></span>
7. <span data-ttu-id="46f61-126">メタデータ フォルダーで、新しいモデルを含むパッケージのフォルダーを探します。</span><span class="sxs-lookup"><span data-stu-id="46f61-126">In the metadata folder, find the folder for the package that contains the new model.</span></span> <span data-ttu-id="46f61-127">パッケージ フォルダーを右クリックし、**フォルダーへの品目の追加** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="46f61-127">Right-click the package folder, and then click **Add Items to Folder**.</span></span>
9. <span data-ttu-id="46f61-128">**ソース管理に追加**ダイアログ ボックスで、**記述子**フォルダーとモデルの名前があるフォルダーを選択します。</span><span class="sxs-lookup"><span data-stu-id="46f61-128">In the **Add to Source Control** dialog box, select the **Descriptor** folder and the folder that has the name of the model.</span></span> <span data-ttu-id="46f61-129">一部のモデルには**在庫置場**フォルダで参照される DLL も含まれる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="46f61-129">Some models may also contain referenced DLLs in the **bin** folder.</span></span> <span data-ttu-id="46f61-130">これらが存在する場合は、**bin** フォルダから適切な DLL ファイルを含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="46f61-130">If these exist you'll need to also include the approriate DLL files from the **bin** folder.</span></span> <span data-ttu-id="46f61-131">一度すべてのファイルが選択されると、**次へ**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="46f61-131">Once all files have been selected, click **Next**.</span></span>
10. <span data-ttu-id="46f61-132">追加する品目を確認し、準備ができたら **完了** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="46f61-132">Review the items that will be added, and then, when you're ready, click **Finish**.</span></span>
11. <span data-ttu-id="46f61-133">**保留中の変更**ウィンドウを、**チーム エクスプローラー**ウィンドウから、または**表示** > **その他の Windows** > **保留中の変更**をクリックして開きます。</span><span class="sxs-lookup"><span data-stu-id="46f61-133">Open the **Pending Changes** window from the **Team Explorer** pane or by clicking **View** > **Other Windows** > **Pending Changes**.</span></span>
12. <span data-ttu-id="46f61-134">変更を確認してチェックイン コメントを入力し、**チェック イン** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="46f61-134">Review the changes, enter a check-in comment, and then click **Check In**.</span></span>

## <a name="deployable-packages-from-third-parties"></a><span data-ttu-id="46f61-135">サード パーティから展開可能なパッケージ</span><span class="sxs-lookup"><span data-stu-id="46f61-135">Deployable packages from third parties</span></span>
<span data-ttu-id="46f61-136">サード パーティの展開可能パッケージを開発用 VM に手動でインストールし、インストールされたコンポーネントをソース管理に追加することができます。</span><span class="sxs-lookup"><span data-stu-id="46f61-136">Deployable packages from third parties can be manually installed on a development VM, and the installed artifacts can then be added to source control.</span></span> <span data-ttu-id="46f61-137">その後、ローカル ワークスペースを同期させることで、他の開発者が、展開可能なパッケージをインストールしなくても、VM 上でランタイム パッケージを受け取ることができます。</span><span class="sxs-lookup"><span data-stu-id="46f61-137">Then, by synchronizing their local workspace, other developers can receive the runtime package on their VMs without having to install the deployable package.</span></span> <span data-ttu-id="46f61-138">ビルド VM でのビルド プロセスは、ビルド VM 上で拡張機能やその他の依存関係のランタイム パッケージを使用できるようにするのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="46f61-138">The build process on the build VM will help guarantee that the runtime packages for any extensions or other dependencies are available on the build VM.</span></span> <span data-ttu-id="46f61-139">プラットフォーム更新プログラム 6 以降では、既定でビルド VM から作成される最終的な配置可能パッケージにこれらのランタイム パッケージが含まれます。</span><span class="sxs-lookup"><span data-stu-id="46f61-139">In Platform update 6 and later, by default, these runtime packages will be included in the final deployable package that is created from the build VM.</span></span> <span data-ttu-id="46f61-140">詳細については、このトピックの後半の [サード パーティ コードを展開する](#deploying-third-party-code) セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="46f61-140">For more information, see the  [Deploying third-party code](#deploying-third-party-code) section later in this topic.</span></span>

<span data-ttu-id="46f61-141">開発 VM で配置可能パッケージをインストールする方法の詳細については、[配置可能パッケージのインストール](../deployment/install-deployable-package.md) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="46f61-141">For information about how to install a deployable package on a development VM, see [Install a deployable package](../deployment/install-deployable-package.md).</span></span>

> [!NOTE]
> <span data-ttu-id="46f61-142">ビルド VM にソフトウェア配置可能パッケージを直接インストールしないでください。</span><span class="sxs-lookup"><span data-stu-id="46f61-142">Don't install a software deployable package directly on the build VM.</span></span> <span data-ttu-id="46f61-143">このトピックで説明するソース管理を使用します。</span><span class="sxs-lookup"><span data-stu-id="46f61-143">Use source control as described in this topic.</span></span> <span data-ttu-id="46f61-144">バイナリ更新プログラムのみビルド VM にインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="46f61-144">Only binary updates should be installed on build VMs.</span></span>

<span data-ttu-id="46f61-145">開発 VM に配置可能パッケージをインストールした後は、以下の手順に従いソース管理にランタイム パッケージを追加します。</span><span class="sxs-lookup"><span data-stu-id="46f61-145">After you install the deployable package on a development VM, follow these steps to add the runtime package to source control.</span></span>

1. <span data-ttu-id="46f61-146">**表示** > **その他の Windows** > **ソース管理エクスプローラー**をクリックして、ソース管理エクスプローラーを開きます</span><span class="sxs-lookup"><span data-stu-id="46f61-146">Open Source Control Explorer by clicking **View** > **Other Windows** > **Source Control Explorer**.</span></span>
2. <span data-ttu-id="46f61-147">**MyProject/Trunk/Main/Metadata** など、この開発 VM にマップされているメタデータ フォルダーに移動します。</span><span class="sxs-lookup"><span data-stu-id="46f61-147">Navigate to the metadata folder that is mapped on this development VM, such as **MyProject/Trunk/Main/Metadata**.</span></span>
3. <span data-ttu-id="46f61-148">**メタデータ** フォルダーを右クリックし、**フォルダーへの品目の追加** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="46f61-148">Right-click the **Metadata** folder, and then click **Add Items to Folder**.</span></span>
4. <span data-ttu-id="46f61-149">**ソース管理に追加**ダイアログ ボックスで、ソース管理に追加するパッケージ名があるフォルダーをダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="46f61-149">In the **Add to Source Control** dialog box, double-click the folder that has the package name that you want to add to source control.</span></span>
5. <span data-ttu-id="46f61-150">**XppMetadata** および **Descriptor** (存在する場合) を除くすべてのフォルダーを選択し、**次へ** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="46f61-150">Select all the folders except **XppMetadata** and **Descriptor**, if they exist, and then click **Next**.</span></span>
6. <span data-ttu-id="46f61-151">次のページで、**除外した項目**タブで、ファイルのいずれかをクリックし Ctrl + A キーを押してすべてのファイルを選択します。</span><span class="sxs-lookup"><span data-stu-id="46f61-151">On the next page, on the **Excluded items** tab, select all files by clicking one of the files and then pressing Ctrl+A.</span></span> <span data-ttu-id="46f61-152">選択ウィンドウの下部にある**項目を含める**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="46f61-152">At the bottom of the selection window, click **Include item(s)**.</span></span> <span data-ttu-id="46f61-153">準備ができたら、**完了** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="46f61-153">When you're ready, click **Finish**.</span></span>
7. <span data-ttu-id="46f61-154">**保留中の変更**ウィンドウを、**チーム エクスプローラー**ウィンドウから、または**表示** > **その他の Windows** > **保留中の変更**をクリックして開きます。</span><span class="sxs-lookup"><span data-stu-id="46f61-154">Open the **Pending Changes** window from the **Team Explorer** pane or by clicking **View** > **Other Windows** > **Pending Changes**.</span></span>
8. <span data-ttu-id="46f61-155">変更を確認してチェックイン コメントを入力し、**チェック イン** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="46f61-155">Review the changes, enter a check-in comment, and then click **Check In**.</span></span>

## <a name="deploying-third-party-code"></a><span data-ttu-id="46f61-156">サード パーティのコードを展開する</span><span class="sxs-lookup"><span data-stu-id="46f61-156">Deploying third-party code</span></span>
<span data-ttu-id="46f61-157">モデルとランタイム パッケージはソース管理のため、他の開発環境を使用する他の開発者はソース管理の**最新を取得**機能を使用してモデルとパッケージをワークスペースに同期させることができます。</span><span class="sxs-lookup"><span data-stu-id="46f61-157">Because the models and runtime packages are in source control, other developers who use other development environments can just synchronize the models and packages to their workspace by using the **Get latest** feature of source control.</span></span>

<span data-ttu-id="46f61-158">現在のプラットフォーム更新プログラム 4 では、自動ビルド プロセスはランタイム パッケージも取得します。</span><span class="sxs-lookup"><span data-stu-id="46f61-158">As of Platform update 4, the automated build process will also pick up the runtime packages.</span></span> <span data-ttu-id="46f61-159">したがって、ビルドされたパッケージの依存関係は正しく解決されます。</span><span class="sxs-lookup"><span data-stu-id="46f61-159">Therefore, dependencies in packages that are built will be resolved correctly.</span></span> <span data-ttu-id="46f61-160">この機能は、修正プログラムを介してプラットフォーム更新プログラム 3 およびプラットフォーム更新プログラム 2 でも使用できます。</span><span class="sxs-lookup"><span data-stu-id="46f61-160">This feature is also available for Platform update 3 and Platform update 2 through a hotfix.</span></span>

<span data-ttu-id="46f61-161">プラットフォーム更新プログラム 6 では、ビルド プロセスで最終的な配置可能パッケージにこのランタイム パッケージが含まれます。</span><span class="sxs-lookup"><span data-stu-id="46f61-161">In Platform update 6, the build process will include this runtime package in the final deployable package.</span></span> <span data-ttu-id="46f61-162">これにより、お客様は、展開可能なパッケージをビルドから取り出し、1 つのパッケージを環境に展開できます。</span><span class="sxs-lookup"><span data-stu-id="46f61-162">This allows customers to take the deployable package from the build and have one package to deploy to their environments.</span></span> <span data-ttu-id="46f61-163">1 つのパッケージにはカスタム ソリューションとすべてのサード パーティ ソリューションが含まれています。</span><span class="sxs-lookup"><span data-stu-id="46f61-163">The one package includes both custom solutions and all the third party solutions.</span></span>


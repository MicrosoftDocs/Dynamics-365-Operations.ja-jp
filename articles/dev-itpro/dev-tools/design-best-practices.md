---
title: データ エンティティに関する設計原則とベスト プラクティス
description: この記事では、データ エンティティの設計原則について説明します。 また、データ エンティティ、フィールド、関係のロール、ロールの名前、OData EntityType および EntitySet のガイドラインも含まれています。
author: Sunil-Garg
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Developer
ms.reviewer: rhaertle
ms.search.scope: Operations
ms.custom: 26421
ms.assetid: b41f6fc4-7883-4987-8160-374576b11d16
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: ff26301ac0777c07449edeb0f3a3634697954234
ms.sourcegitcommit: 27a98a7a0f1d2623f5236a88066f483def30889c
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/01/2019
ms.locfileid: "1833562"
---
# <a name="design-principles-and-best-practices-for-data-entities"></a>データ エンティティに関する設計原則とベスト プラクティス

[!include [banner](../includes/banner.md)]

この記事では、データ エンティティの設計原則について説明します。 また、データ エンティティ、フィールド、関係のロール、ロールの名前、OData EntityType および EntitySet のガイドラインも含まれています。

<a name="entity-design-principles"></a>エンティティ デザインの原則
------------------------

データ エンティティは、1 つの消耗契約に関連するビジネス ロジックをカプセル化する総合的なオブジェクトを提供する必要があります。 契約は、OData、インポートとエクスポート、統合、プログラミング モデルなどのアプリケーション インターフェイス (API) を通じて公開されます。 各データ エンティティでは、以下の目標を達成するように設計する必要があります。

### <a name="encapsulation"></a>カプセル化

-   各エンティティは、物理データ モデルとエンティティのコンシューマー間の抽象化を提供する必要があります。 エンティティは、ビジネスにおいて特定の目的を持つオブジェクトをまとめて定義できる、基になるテーブルをカプセル化する必要があります。 エンティティの消費者は、クライアント、サービス、および統合を形成する場合があります。
-   各エンティティは、ドメイン オブジェクトを表す複数の関連するテーブルをカプセル化する必要があります。 場合によっては、1 つのテーブルのエンティティが許容されます。

### <a name="a-single-public-contract"></a>1 つのパブリック契約

-   エンティティのパブリック契約は、すべての統合エンドポイントで同じである必要があります。 たとえば、顧客エンティティは、同じフィールドまたは OData およびインポート/エクスポートの両方への API を公開する必要があります。 この原則は、エンティティの公開されたスキーマが、消費者のインタラクションの仕組みにかかわらず一貫していることを保証します。
-   エンティティが使用されるとき、CRUD 操作時にエンティティ内で実行されるビジネス ロジックは消費者のタイプによって変化することはできません。

### <a name="simplicity"></a>シンプルさ

-   エンティティのコンシューマーは、エンティティの受け入れられた業種またはドメイン定義に基づいてエンティティと対話することができる必要があります。 エンティティの動作の詳細は、表示されないままにし、相互作用に影響しないようにする必要があります。
-   エンティティのコンシューマーは、エンティティのナチュラル キーを使用してエンティティと対話できる必要があります。 コンシューマーは、生成する代理キーなど、実装固有のキーを使用する必要はありません。

## <a name="naming-guidelines"></a>名前付けのガイドライン
### <a name="data-entity-names"></a>データ エンティティ名

| 実行                                                                                                                                                                                                                                                                                                | 実行しない                                        |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
| 名前空間がないため、名前の先頭に標準の接頭語を付けます。                                                                                                                                                                                                                        | 名前にアンダースコアを含めないでください。          |
| 名前に接尾語「エンティティ」を追加して、同じ接頭語を持つテーブルとクラスとの競合を避けます。                                                                                                                                                                                      | 概念の名前に省略形を使用しないでください。 |
| エンティティに、en-us UI の名前と合致している概念の名前を付けます。 たとえば、InventTable テーブルからレコードを公開するエンティティ概念の名前は **ReleasedProduct** と呼ばれ、エンティティの正式名称は **EcoResReleasedProductEntity** となります。 |                                              |

**結果:** &lt;接頭語&gt;&lt;ConceptualName&gt;エンティティ

### <a name="data-entity-field-names"></a>データ エンティティ フィールド名

| 実行                                                                                                                                                                                                                                                                                                         | 実行しない                                                                                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------|
| フィールド名に、en-us UI の名前と合致している概念の名前を付けます。 たとえば、**ItemID** の代わりに **ItemNumber** を UI に対応するフィールド名として使用し、ラベルは**品目番号**になります。                                                                                     | フィールド名に接頭語を含めないでください。 たとえば、フィールドには **InventLocationId** という名前を付ける必要がありません。                                |
| 外部キーの一部であるフィールドの名前に接尾語「ID」、「番号」などを追加して、ナビゲーション プロパティとの競合を防ぎます。 たとえば、**倉庫**の代わりに **WarehouseID** をフィールド名として使用します。それは**倉庫**が、**倉庫**エンティティへのナビゲーション メソッドであるからです。 | フィールド名に国または地域固有の接尾語を含めないでください。 たとえば、フィールドには **InventoryProfileID\_RU** という名前を付ける必要がありません。 |
|                                                                                                                                                                                                                                                                                                            | フィールド名にアンダースコアを含めないでください。                                                                                            |
|                                                                                                                                                                                                                                                                                                            | フィールドの名前に省略形を使用しないでください。                                                                                              |

### <a name="data-entity-relation-role-names"></a>データ エンティティ リレーションのロール名

| 実行                                                                                                                                                                                                                                        | 実行しない                                                                                                                                                                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1 より大きいカーディナリティを持つロールに名前を付けるときは、複数形を使用します。 たとえば、関係者への顧客の外部キーには、顧客のロール名が必要で、それは顧客への関係者からの基数が 0...N であるためです。 | リレーション ロール名に接頭語を含めないでください。 たとえば、参照されるエンティティに接頭語「WMS」が含まれていても、**WMSWarehouseLocation** の名前は使用しないでください。                                                                 |
| カーディナリティが 0 (ゼロ) または 1 のロールに名前を付ける場合は、単数形を使用します。 たとえば、個人への作業者の外部キーには、作業者のロール名が必要で、それは作業者への個人からの基数が 0..1 であるためです。          | 関係ロール名に接尾語「エンティティ」を追加しないでください。 たとえば、参照されるエンティティが「エンティティ」の名前を含んでいても、関係でロール名 **WarehouseEntity** を使用しないでください。 代わりに、**倉庫**という名前を使用します。 |
| 関係の役割を接頭語として追加することを検討してください。 たとえば、関係のロールを明確に説明するには、**LegalEntity** の代わりに、関係の **BuyingLegalEntity** に名前を付けます。                                            | 国または地域固有の接尾語を関係ロール名に追加しないでください。 たとえば、RU 国/地域の形式にのみ関係が適用される場合でも、ロール名 **InventoryProfile\_RU** を使用しないでください。                          |
|                                                                                                                                                                                                                                           | リレーション ロール名にアンダースコアを含めないでください。                                                                                                                                                                                     |

### <a name="data-entity-relation-names"></a>データ エンティティのリレーション名

**実行**

-   リレーション名に、単一のフォームで関連するロール名として同じ名前を付けます。 たとえば、顧客から関係者への外部キーを説明する関係は、**関係者**と呼ばれる必要があります。

### <a name="odata-entitytype-names"></a>OData EntityType 名

**実行**

-   EntityType に概念の名前を付けます。 名前は、データ エンティティの概念の名前と同じでなければなりませんが、接頭語はなく、「エンティティ」接尾語はありません。 たとえば、**EcoResReleasedProductEntity** は **ReleasedProduct** になります。
-   単一フォームで EntityType の名前を付けます。

### <a name="odata-entityset-entity-collection-names"></a>OData EntitySet (エンティティ コレクション) 名

**実行**

-   複数フォームで EntitySet の名前を付けます。 たとえば、**ReleasedProduct** EntityType の EntitySet は **ReleasedProducts** です。





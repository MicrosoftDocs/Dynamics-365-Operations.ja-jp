---
title: "エンティティ ストア モデルの差分更新オプション"
description: "差分更新は、モデルによって参照されるオブジェクトの変更に合わせてエンティティ ストア モデルを更新するためのオプションです。"
author: tjvass
manager: AnnBe
ms.date: 04/09/2018
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
audience: IT Pro
ms.reviewer: sericks
ms.search.scope: Operations
ms.search.region: Global
ms.author: tjvass
ms.search.validFrom: 2018-3-31
ms.dyn365.ops.version: Platform update 16
ms.translationtype: HT
ms.sourcegitcommit: 821d8927211d7ac3e479848c7e7bef9f650d4340
ms.openlocfilehash: 02d396fa3f1b305a70d5c53c8eaf92894f964ace
ms.contentlocale: ja-jp
ms.lasthandoff: 08/13/2018

---

# <a name="incremental-refresh-option-for-entity-store-models"></a>エンティティ ストア モデルの差分更新オプション

[!include[banner](../includes/banner.md)]

[!include[banner](../includes/pre-release.md)]

## <a name="what-are-entity-store-models"></a>エンティティ ストア モデルとはなんですか。
エンティティ ストア モデルは、レポートおよび分析ツールの業務データのアクセス可能な表示を提供するために、Microsoft Dynamics 365 for Finance and Operations で使用されます。 エンティティ ストア モデルは、アプリケーション メタデータの一部として提供され、特定の業務プロセスに関連付けられているデータセットとリレーションシップの集合として表すことができます。 モデルには多くの場合、営業活動とパフォーマンスの分析に役立つルート データ ソースおよび一連の関連ビューが含まれます。

たとえば、顧客回収および元帳活動は、報告と分析のためエンティティ格納モデルを必要とする業務プロセスの例です。 これらの表示は、集計の測定を使用してアプリケーション メタデータで定義され、ダッシュボードや電子申告に埋め込まれた視覚エフェクトのような、大量に消費するデータのソースとなるよう設計されています。

エンティティ ストアは、Finance and Operations トランザクション データベースおよび Excel または Power BI.com のような外部レポートや分析ツールによって消費された公開済エンドポイント間の中間のキャッシュとして機能します。 エンティティ ストアは、ソリューションの報告と監視によって消費されるメモリがウェブ アプリケーションのアクティブなユーザー セッションをサポートするリソースを干渉しないようにします。 クラウド ホスト サービスでは、システム管理者による更新スケジュールの管理に基づくエンティティ ストア モデルが自動的に更新されます。

次の図は、レポートと分析ツールのビジネス データの管理を示します。

[![差分更新](./media/Incremental-refresh-data-flow-diagram.png)](./media/Incremental-refresh-data-flow-diagram.png)

顧客回収モデルでは、未払いの顧客債務の追跡を担当するビジネス担当者に関連するビューを提供する、一連のデータセットがあります。 これらのビューは、**分析コード**と呼ばれるカテゴリ フィールドをピボットすることができる、**メジャー**と呼ばれる高度な計算および集計を表示します。 たとえば、アプリケーション スイートには、顧客会衆代行業者用のエンティティ ストア モデルが用意されています。このモデルを使用して、顧客のエイジング バケットを視覚化することができます。 エンティティ店舗からデータが確定されるため、このモデルにバインドされているレポートは、トランザクション データベースで処理されるデータの待ち時間の代わりに、ミリ単位のデータを視覚化できます。 エンティティ格納の詳細については、[エンティティ格納と Power BI の統合の概要](power-bi-integration-entity-store.md)を参照してください。

## <a name="managing-entity-store-models"></a>エンティティ ストア モデルの管理
申告および分析クエリをエンティティ格納にチャネルすることで、システム管理者は、データの時間精度を制御できます。 一部のデータ分析シナリオでは、5-10 分遅延したデータはユーザーに受け入れられます。 ただし、他のタイプのレポート エクスペリエンスには、顧客はほぼリアルタイムの結果を必要とします。 エンティティ ストア モデルの戦略の更新を展開する前に、データに関連付けられている時間要件を理解することが重要です。

システム管理者は組み込まれているツールを使用して、トランザクションのデータベースで使用可能な最新の更新を使用してエンティティ ストア モデルが更新される頻度を管理します。 Finance and Operations は、モデルを最新の状態に維持するために使用される完全な同期および差分同期の両方の戦略をサポートします。

- **完全同期** – エンティティ ストア内の既存データが削除され、バックグラウンド プロセス中にモデル全体を計算し、実現されます。
- **差分更新** – オブジェクトの削除を含む、トランザクション データベースの更新は、エンティティ ストア モデルと同期されます。

### <a name="full-synchronization"></a>完全同期
完全な同期では、エンティティ ストア モデルのすべての側面が更新されることが保証されていますが、大規模なデータ セットの場合、プロセスに数分かかることがあります。 このため、完全更新の操作は、可能な場合は営業時間外にのみ実行することをお勧めします。

### <a name="incremental-refresh"></a>差分更新
差分更新は、プラットフォーム更新プログラム 16 以降で使用できる、モデルによって参照されるオブジェクトの変更に合わせてエンティティ ストア モデルを更新するためのオプションです。 これらは、エンティティ ストアの更新中にデルタ処理エンジンによって検出されるモデル内のルート属性の変更です。 これには、フィールドの参照を使用する一意に識別できるエンティティ店舗モデル コレクションが含まれます。 システム管理者は Finance and Operations に付属のエンティティ ストア管理ツールを使用して、計検出ロジックでサポートされているエンティティ ストア モデルを識別します。

> [!NOTE]
> モデルのすべての詳細が最新であることを保証するために、インクリメンタル リフレッシュ オプションを利用するモデルを含む、すべてのモデルに対して完全な同期を実行することをお勧めします。

## <a name="can-i-have-an-entity-store-model-that-uses-both-incremental-and-full-refresh"></a>差分と完全更新の両方を使用するエンティティ ストア モデルを持つことはできますか？
この時点ではありません。 現在、差分更新プロセスでサポートされているモデリング集計データ パターンのコレクションの拡大に取り組んでいます。 拡張機能は、将来のプラットフォームの更新プログラムの一部として定期的に配信されます。

差分更新オプションを使用したエンティティ格納モデルの管理操作のスクリーン ショットです。

[![増分管理](./media/Entity-Store-model-management.png)](./media/Entity-Store-model-management.png)

システム管理者は、エンティティ ストア モデル管理ページを使用して、Finance and Operations トランザクション データベースと同期データのスケジュールを定義します。 エンティティ格納管理ツールの使用方法の詳細については、[エンティティ格納モデル更新のスケジューリング](aggregate-measurements-refreshed-incrementally.md)を参照してください。


---
title: "電子申告 (ER) フレームワークの構成"
description: "このトピックでは、電子レポート (ER) フレームワークのパラメーターを構成する方法について説明します。"
author: NickSelin
manager: AnnBe
ms.date: 05/11/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
ms.search.form: ERSolutionTable, ERVendorTable, ERWorkspace, ERParameters, ERFormatDestinationTable
audience: Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 27621
ms.assetid: 3c1291de-230c-4e31-96c4-ba69a310690a
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: July 2017 update
ms.translationtype: HT
ms.sourcegitcommit: e782d33f3748524491dace28008cd9148ae70529
ms.openlocfilehash: ce0891dfe6c243b1729d3e5fef94c26835e60d8b
ms.contentlocale: ja-jp
ms.lasthandoff: 08/09/2018

---

# <a name="configure-the-electronic-reporting-er-framework"></a>電子申告 (ER) フレームワークの構成

[!include [banner](../includes/banner.md)]

このトピックでは、電子申告 (ER) の基本機能を設定する方法について説明します。 また、ER を設定する前に完了する必要のある手順も説明します。

## <a name="prerequisites-for-er-setup"></a>ER セットアップの前提条件
ER を設定する前に、ドキュメント管理で必要なドキュメント タイプを設定する必要があります。

- ER レポート テンプレートとして使用される Microsoft Office ドキュメントのドキュメント タイプ。
- ジョブ アーカイブに ER レポートの出力を保存するために使用するドキュメント タイプ。
- 他のプログラムで表示できるように、ER レポートの出力を保存するために使用するドキュメント タイプ。
- その他のすべての目的で、ER フレームワーク内のファイルを処理するために使用されるドキュメント タイプ。

各ドキュメント タイプについては、次の属性値を選択できます。

属性名 | 属性値
---------------|----------------
クラス | **ファイルの添付**
グループ化 | **ファイル**
保管場所 | **Azure ストレージ**または **SharePoint**

## <a name="set-up-er"></a>ER の設定
すべての法人に対して ER の基本機能を設定するには、次の手順を使用します。

1.  **電子申告のパラメーター**ページの、**添付ファイル**タブで、ER フレームワークのファイルの記憶域に使用する必要があるドキュメントのタイプを定義します。
2. **LCS** タブで、Microsoft Dynamics Lifecycle Services (LCS) のリポジトリから ER コンフィギュレーションの読み込みに使用する必要がある並列スレッドの数を定義し、最も効率的な方法でコンフィギュレーションが読み込まれます。 値は、現在のプログラムで使用可能なリソースによって、**1** ～ **15** のいずれかになります。 スレッドの実際の数は、この設定およびおよびその他のタスクの数とその優先度に基づいて自動的に定義されることに注意してください。
3.  **コンフィギュレーション プロバイダー テーブル**ページで、ER プロバイダー レコードを作成します。 各プロバイダーは、**有効**としてマークされます。 有効なプロバイダーの名前およびインターネット アドレスは、構成の所有者の属性として ER 構成に格納されます。

## <a name="optional-setup-for-er"></a>ER のオプションの設定
基本機能に加えて、ER に設定できる他の機能があります。

- **電子申告の送信先**ページで、各 ER 形式コンフィギュレーションの各ファイル出力の ER 出力先を定義します。 前に設定したドキュメント管理フレームワークのドキュメント タイプを使用します。 また、各法人に対して ER のオプション機能を設定するためにこのページを使用することができます。 詳細については、このトピックの「その他のリソース」セクションにリンクされている ER 宛先に関するトピックを参照してください。
- 新しいアプリケーション オブジェクト ツリー (AOT) のコンポーネントを追加するたびに、または ER でデータ ソース (テーブル、ビュー、またはデータ エンティティ) として使用される既存の AOT コンポーネントを更新するたびに、**テーブル参照の再構築**メニュー項目 (**組織管理** > **電子申告** > **テーブル参照の再構築**) 、AOT の変更を ER メタデータに反映します。

## <a name="frequently-asked-questions"></a>よく寄せられる質問
**質問:** LCS から ER コンフィギュレーションを読み込むのに最適な並列スレッド数はどれくらいですか。

**回答:** 最適な並行スレッドの数を計算するには、次の経験式を使用します。コア ÷ 2 + 1(2)。 たとえば、プログラムが 2 つの CPU を持つ仮想マシン (VM) を実行する場合、各 CPU には 4 つのコアが含まれ、最適な数は 5 または 6 の並列スレッドです。

**質問:** AOT にカスタム テーブルを追加しました。 ER データ モデルの新しい ER モデル マッピング コンフィギュレーションを作成しました。 モデルのマッピングの設計中に、個人のテーブルを指す、新しいデータ ソース タイプ**テーブル レコード**を追加しようとします。 テーブル名を**テーブル** ルックアップに手動で追加し、ER モデル マッピングではエラーまたは警告なしで承認されました。 ただし、個人のテーブル名は、このデータ ソースの**テーブル**ルックアップが提供する利用可能な選択肢の一覧に含まれていません。 テーブルの名前をどのように含めますか。

**回答:** カスタムテーブルの名前を **テーブル**ルックアップに含めるには、このトピックの前半の **ER のオプション設定**セクションで説明されているように、**テーブル参照の再構築**メニュー項目を使用してください。

**質問:** 実稼動環境の**電子申告**ワークスペースで、Microsoft プロバイダーを**有効**としてマークできないのはなぜですか。

**回答:** Microsoft プロバイダーは、Microsoft が設計および管理している ER コンフィギュレーションをマークするために使用されます。 Microsoft は、今後、構成の新しいバージョンをリリースすることを考えてています。 Microsoft プロバイダーを **有効** とマークしないことをお勧めします。 それ以外の場合、構成を更新できます。 (たとえば、コンテンツを変更して新しいバージョンを登録することができます。) これらのアップデートにより、Microsoft がコンフィギュレーションの新しいバージョンを提供するときに、今後問題が発生します。これらの新しいバージョンをインポートして採用する必要があります。 代わりに、会社の新しい ER プロバイダーを登録し、ER 構成の管理に使用します。 Microsoft 構成を再利用するには、派生コピーのベースとして選択します。 Microsoftによって提供される変更を組み込むには、構成が新しいバージョンの Microsoft 構成に使用可能になったときに、その構成をリベースします。

## <a name="additional-resources"></a>その他のリソース

- [電子申告の概要](general-electronic-reporting.md)
- [電子申告の送信先](electronic-reporting-destinations.md)


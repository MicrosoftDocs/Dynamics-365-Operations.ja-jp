---
title: データベース ログの構成と管理
description: データベース ログを使用すると、Dynamics 365 Human Resources のテーブルとフィールドに対する変更を追跡できます。
author: andreabichsel
ms.date: 06/10/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: anbichse
ms.search.scope: Human Resources
ms.custom: 7521
ms.assetid: ''
ms.search.region: Global
ms.author: jaredha
ms.search.validFrom: 2020-06-10
ms.dyn365.ops.version: Human Resources
ms.openlocfilehash: d22ff9f3ce68c81f37840342c795d7d162eb027b
ms.sourcegitcommit: 3cdc42346bb653c13ab33a7142dbb7969f1f6dda
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/31/2021
ms.locfileid: "5801338"
---
# <a name="configure-and-manage-database-logging"></a>データベース ログの構成と管理

[!include [Applies to Human Resources](../includes/applies-to-hr.md)]

データベース ログを使用すると、Dynamics 365 Human Resources のテーブルとフィールドに対する変更を追跡できます。 このトピックでは、次の方法について説明します:

- データベース ログのセキュリティとパフォーマンスの管理
- データベース ログの設定
- データベース ログのクリーン アップ

## <a name="overview-of-database-logging"></a>データベース ログの概要

データベース ログは、Microsoft Dynamics 365 Human Resources のテーブルとフィールドに対する特定の変更を追跡します。 これらの変更には、挿入、更新、または削除が含まれます。 データベース ログは、データベース ログ テーブルにテーブルまたはフィールドの変更の記録を保存します。

データベース ログのビジネス用途は次のとおりです:

- 機密情報を含む特定のテーブルへの変更の監査記録を作成します。
- 単一のトランザクションを追跡する。 データベース ログは、バッチ ジョブで実行される自動トランザクションを追跡するためのものではありません。

## <a name="security-for-database-logging"></a>データベース ログのセキュリティ

データベース ログには機密データが含まれている場合があります。 ログ データへのアクセスを必要とするセキュリティ ロールのみを含めるようにアクセスを制限します。

## <a name="database-logging-and-performance"></a>データベース ログとパフォーマンス

業務の観点からは価値がありますが、データベース ログはリソースの使用と管理に費用がかかる場合があります。 データベース ログのパフォーマンスへの影響は次のものがあります:

- データベース ログのテーブルは急速に増大し、データベースのサイズが増加する可能性があります。 増加は、保持すると決めたログ データ量によって異なります。 既定では、データベース ログ テーブルは 30 日分のログ データのみを保持します。 

- データベース ログは、実行時間の長いデータ インポートなど、長時間の自動化プロセスに悪い影響を与える可能性があります。

### <a name="best-practices"></a>ベスト プラクティス

パフォーマンスを向上させるには、テーブル全体ではなく、ログに記録する特定のフィールドを選択してログ エントリを制限します。 全体的なパフォーマンスを維持するために、データベース ログは 20 テーブルに制限されています。

> [!NOTE]
> 個々のフィールドでは、更新処理のログのみを記録できます。

## <a name="set-up-database-logging"></a>データベース ログの設定

**ログ データベースの変更** ウィザードを使用して、データベースのログを設定できます。 ウィザードでは、テーブルやフィールドのログを柔軟に設定できます。

1. **システム管理 > リンク > データベース > データベース ログの設定** に移動します。 **新規** を選択して、**ログ データベースの変更** ウィザードを開始します。
2. **次へ** を選択します。 
3. ウィザードの **テーブルとフィールド** ページで、データベース ログを有効にするテーブルとフィールドを選択して、**次へ** を選択します。

   > [!Note]
   > データベース ログは、Human Resources データベースの全テーブルで使用できません。 一覧の下の **すべてのテーブルを表示** を選択すると、テーブルおよびフィールドの一覧が展開され、データベース ログが使用できるすべてのデータベース テーブルが表示されますが、これはデータベース テーブルの完全リストのサブセットになります。

4. ウィザードの **変更のタイプ** ページで、各テーブルおよびフィールドの変更を追跡するデータ操作を選択し、**次へ** を選択します。 ログできるデータ操作の説明については、下の表を参照してください。
5. **完了** ページで変更を確認し、**完了** を選択します。

| 操作 | 説明 |
| -- | -- |
| 新しいトランザクションの追跡 | テーブルに作成される新しいレコードのログを作成します。 |
| Update | テーブル レコードの更新またはテーブル内で個別に選択されたフィールドに対して、更新のログを作成します。 テーブルの更新のログを選択すると、テーブル上のすべてのレコードのフィールドが更新されるたびにログ レコードが作成されます。 特定のフィールドの更新をログする場合は、テーブル レコードのそれらのフィールドが更新された場合にのみログ レコードが作成されます。 |
| 消去 | テーブルから削除されたレコードのログを作成します。 |
| キーの名前変更 | テーブル キーの名前が変更された場合にログ レコードを作成します。 |


## <a name="clean-up-database-logs"></a>データベース ログのクリーン アップ

次のオプションを使用して、データベース ログの全部または一部を削除できます:

- 特定のテーブルのすべてのログを選択します。
- 特定のタイプのデータベース ログを選択します。
- ログが作成された日付を選択します。

データベース ログのクリーンアップを設定するには、次の手順を実行します: 

1. **システム管理 > リンク > データベース > データベース ログ** に移動します。 **ログのクリーンアップ** を選択します。

2. 次のいずれかのオプションを入力して、削除するログを選択する方法を選択します:

   - テーブル ID
   - ログのタイプ
   - 作成日時

3. **データベース ログのクリーンアップ** タブを使用して、ログのクリーンアップ タスクをいつ実行するかを決定します。 既定では、データベース ログは 30 日間使用できます。


[!INCLUDE[footer-include](../includes/footer-banner.md)]
